var M1=Object.defineProperty;var L1=(n,e,t)=>e in n?M1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $1=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var fn=(n,e,t)=>L1(n,typeof e!="symbol"?e+"":e,t);var XF=$1((nB,nh)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sg={exports:{}},Xc={},ag={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function P1(){if(Gw)return Dt;Gw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),a=Symbol.for("react.lazy"),h=Symbol.iterator;function d(U){return U===null||typeof U!="object"?null:(U=h&&U[h]||U["@@iterator"],typeof U=="function"?U:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,v={};function y(U,re,Z){this.props=U,this.context=re,this.refs=v,this.updater=Z||f}y.prototype.isReactComponent={},y.prototype.setState=function(U,re){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,re,"setState")},y.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=y.prototype;function A(U,re,Z){this.props=U,this.context=re,this.refs=v,this.updater=Z||f}var F=A.prototype=new C;F.constructor=A,p(F,y.prototype),F.isPureReactComponent=!0;var O=Array.isArray,$=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(U,re,Z){var he,ue={},ae=null,pe=null;if(re!=null)for(he in re.ref!==void 0&&(pe=re.ref),re.key!==void 0&&(ae=""+re.key),re)$.call(re,he)&&!E.hasOwnProperty(he)&&(ue[he]=re[he]);var Ee=arguments.length-2;if(Ee===1)ue.children=Z;else if(1<Ee){for(var me=Array(Ee),Ae=0;Ae<Ee;Ae++)me[Ae]=arguments[Ae+2];ue.children=me}if(U&&U.defaultProps)for(he in Ee=U.defaultProps,Ee)ue[he]===void 0&&(ue[he]=Ee[he]);return{$$typeof:n,type:U,key:ae,ref:pe,props:ue,_owner:_.current}}function M(U,re){return{$$typeof:n,type:U.type,key:re,ref:U.ref,props:U.props,_owner:U._owner}}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var re={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Z){return re[Z]})}var S=/\/+/g;function w(U,re){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):re.toString(36)}function L(U,re,Z,he,ue){var ae=typeof U;(ae==="undefined"||ae==="boolean")&&(U=null);var pe=!1;if(U===null)pe=!0;else switch(ae){case"string":case"number":pe=!0;break;case"object":switch(U.$$typeof){case n:case e:pe=!0}}if(pe)return pe=U,ue=ue(pe),U=he===""?"."+w(pe,0):he,O(ue)?(Z="",U!=null&&(Z=U.replace(S,"$&/")+"/"),L(ue,re,Z,"",function(Ae){return Ae})):ue!=null&&(P(ue)&&(ue=M(ue,Z+(!ue.key||pe&&pe.key===ue.key?"":(""+ue.key).replace(S,"$&/")+"/")+U)),re.push(ue)),1;if(pe=0,he=he===""?".":he+":",O(U))for(var Ee=0;Ee<U.length;Ee++){ae=U[Ee];var me=he+w(ae,Ee);pe+=L(ae,re,Z,me,ue)}else if(me=d(U),typeof me=="function")for(U=me.call(U),Ee=0;!(ae=U.next()).done;)ae=ae.value,me=he+w(ae,Ee++),pe+=L(ae,re,Z,me,ue);else if(ae==="object")throw re=String(U),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return pe}function N(U,re,Z){if(U==null)return U;var he=[],ue=0;return L(U,he,"","",function(ae){return re.call(Z,ae,ue++)}),he}function z(U){if(U._status===-1){var re=U._result;re=re(),re.then(function(Z){(U._status===0||U._status===-1)&&(U._status=1,U._result=Z)},function(Z){(U._status===0||U._status===-1)&&(U._status=2,U._result=Z)}),U._status===-1&&(U._status=0,U._result=re)}if(U._status===1)return U._result.default;throw U._result}var q={current:null},K={transition:null},J={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:K,ReactCurrentOwner:_};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Dt.Children={map:N,forEach:function(U,re,Z){N(U,function(){re.apply(this,arguments)},Z)},count:function(U){var re=0;return N(U,function(){re++}),re},toArray:function(U){return N(U,function(re){return re})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Dt.Component=y,Dt.Fragment=t,Dt.Profiler=s,Dt.PureComponent=A,Dt.StrictMode=r,Dt.Suspense=u,Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Dt.act=Q,Dt.cloneElement=function(U,re,Z){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var he=p({},U.props),ue=U.key,ae=U.ref,pe=U._owner;if(re!=null){if(re.ref!==void 0&&(ae=re.ref,pe=_.current),re.key!==void 0&&(ue=""+re.key),U.type&&U.type.defaultProps)var Ee=U.type.defaultProps;for(me in re)$.call(re,me)&&!E.hasOwnProperty(me)&&(he[me]=re[me]===void 0&&Ee!==void 0?Ee[me]:re[me])}var me=arguments.length-2;if(me===1)he.children=Z;else if(1<me){Ee=Array(me);for(var Ae=0;Ae<me;Ae++)Ee[Ae]=arguments[Ae+2];he.children=Ee}return{$$typeof:n,type:U.type,key:ue,ref:ae,props:he,_owner:pe}},Dt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},Dt.createElement=I,Dt.createFactory=function(U){var re=I.bind(null,U);return re.type=U,re},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(U){return{$$typeof:m,render:U}},Dt.isValidElement=P,Dt.lazy=function(U){return{$$typeof:a,_payload:{_status:-1,_result:U},_init:z}},Dt.memo=function(U,re){return{$$typeof:g,type:U,compare:re===void 0?null:re}},Dt.startTransition=function(U){var re=K.transition;K.transition={};try{U()}finally{K.transition=re}},Dt.unstable_act=Q,Dt.useCallback=function(U,re){return q.current.useCallback(U,re)},Dt.useContext=function(U){return q.current.useContext(U)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(U){return q.current.useDeferredValue(U)},Dt.useEffect=function(U,re){return q.current.useEffect(U,re)},Dt.useId=function(){return q.current.useId()},Dt.useImperativeHandle=function(U,re,Z){return q.current.useImperativeHandle(U,re,Z)},Dt.useInsertionEffect=function(U,re){return q.current.useInsertionEffect(U,re)},Dt.useLayoutEffect=function(U,re){return q.current.useLayoutEffect(U,re)},Dt.useMemo=function(U,re){return q.current.useMemo(U,re)},Dt.useReducer=function(U,re,Z){return q.current.useReducer(U,re,Z)},Dt.useRef=function(U){return q.current.useRef(U)},Dt.useState=function(U){return q.current.useState(U)},Dt.useSyncExternalStore=function(U,re,Z){return q.current.useSyncExternalStore(U,re,Z)},Dt.useTransition=function(){return q.current.useTransition()},Dt.version="18.3.1",Dt}var Kw;function mc(){return Kw||(Kw=1,ag.exports=P1()),ag.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function O1(){if(qw)return Xc;qw=1;var n=mc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(m,u,g){var a,h={},d=null,f=null;g!==void 0&&(d=""+g),u.key!==void 0&&(d=""+u.key),u.ref!==void 0&&(f=u.ref);for(a in u)r.call(u,a)&&!o.hasOwnProperty(a)&&(h[a]=u[a]);if(m&&m.defaultProps)for(a in u=m.defaultProps,u)h[a]===void 0&&(h[a]=u[a]);return{$$typeof:e,type:m,key:d,ref:f,props:h,_owner:s.current}}return Xc.Fragment=t,Xc.jsx=c,Xc.jsxs=c,Xc}var Qw;function D1(){return Qw||(Qw=1,sg.exports=O1()),sg.exports}var se=D1(),oe=mc();const el=dl(oe);var Zh={},lg={exports:{}},_i={},cg={exports:{}},ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function N1(){return Yw||(Yw=1,function(n){function e(K,J){var Q=K.length;K.push(J);e:for(;0<Q;){var U=Q-1>>>1,re=K[U];if(0<s(re,J))K[U]=J,K[Q]=re,Q=U;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var J=K[0],Q=K.pop();if(Q!==J){K[0]=Q;e:for(var U=0,re=K.length,Z=re>>>1;U<Z;){var he=2*(U+1)-1,ue=K[he],ae=he+1,pe=K[ae];if(0>s(ue,Q))ae<re&&0>s(pe,ue)?(K[U]=pe,K[ae]=Q,U=ae):(K[U]=ue,K[he]=Q,U=he);else if(ae<re&&0>s(pe,Q))K[U]=pe,K[ae]=Q,U=ae;else break e}}return J}function s(K,J){var Q=K.sortIndex-J.sortIndex;return Q!==0?Q:K.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var u=[],g=[],a=1,h=null,d=3,f=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(K){for(var J=t(g);J!==null;){if(J.callback===null)r(g);else if(J.startTime<=K)r(g),J.sortIndex=J.expirationTime,e(u,J);else break;J=t(g)}}function O(K){if(v=!1,F(K),!p)if(t(u)!==null)p=!0,z($);else{var J=t(g);J!==null&&q(O,J.startTime-K)}}function $(K,J){p=!1,v&&(v=!1,C(I),I=-1),f=!0;var Q=d;try{for(F(J),h=t(u);h!==null&&(!(h.expirationTime>J)||K&&!V());){var U=h.callback;if(typeof U=="function"){h.callback=null,d=h.priorityLevel;var re=U(h.expirationTime<=J);J=n.unstable_now(),typeof re=="function"?h.callback=re:h===t(u)&&r(u),F(J)}else r(u);h=t(u)}if(h!==null)var Z=!0;else{var he=t(g);he!==null&&q(O,he.startTime-J),Z=!1}return Z}finally{h=null,d=Q,f=!1}}var _=!1,E=null,I=-1,M=5,P=-1;function V(){return!(n.unstable_now()-P<M)}function S(){if(E!==null){var K=n.unstable_now();P=K;var J=!0;try{J=E(!0,K)}finally{J?w():(_=!1,E=null)}}else _=!1}var w;if(typeof A=="function")w=function(){A(S)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,N=L.port2;L.port1.onmessage=S,w=function(){N.postMessage(null)}}else w=function(){y(S,0)};function z(K){E=K,_||(_=!0,w())}function q(K,J){I=y(function(){K(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,z($))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(K){switch(d){case 1:case 2:case 3:var J=3;break;default:J=d}var Q=d;d=J;try{return K()}finally{d=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=d;d=K;try{return J()}finally{d=Q}},n.unstable_scheduleCallback=function(K,J,Q){var U=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?U+Q:U):Q=U,K){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Q+re,K={id:a++,callback:J,priorityLevel:K,startTime:Q,expirationTime:re,sortIndex:-1},Q>U?(K.sortIndex=Q,e(g,K),t(u)===null&&K===t(g)&&(v?(C(I),I=-1):v=!0,q(O,Q-U))):(K.sortIndex=re,e(u,K),p||f||(p=!0,z($))),K},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(K){var J=d;return function(){var Q=d;d=J;try{return K.apply(this,arguments)}finally{d=Q}}}}(ug)),ug}var Xw;function F1(){return Xw||(Xw=1,cg.exports=N1()),cg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function B1(){if(Zw)return _i;Zw=1;var n=mc(),e=F1();function t(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,b=1;b<arguments.length;b++)l+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(s[i]=l,i=0;i<l.length;i++)r.add(l[i])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a={},h={};function d(i){return u.call(h,i)?!0:u.call(a,i)?!1:g.test(i)?h[i]=!0:(a[i]=!0,!1)}function f(i,l,b,R){if(b!==null&&b.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return R?!1:b!==null?!b.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function p(i,l,b,R){if(l===null||typeof l>"u"||f(i,l,b,R))return!0;if(R)return!1;if(b!==null)switch(b.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function v(i,l,b,R,B,W,ee){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=R,this.attributeNamespace=B,this.mustUseProperty=b,this.propertyName=i,this.type=l,this.sanitizeURL=W,this.removeEmptyString=ee}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){y[i]=new v(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];y[l]=new v(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){y[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){y[i]=new v(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){y[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){y[i]=new v(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){y[i]=new v(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){y[i]=new v(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){y[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function A(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(C,A);y[l]=new v(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(C,A);y[l]=new v(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(C,A);y[l]=new v(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){y[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){y[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,l,b,R){var B=y.hasOwnProperty(l)?y[l]:null;(B!==null?B.type!==0:R||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(p(l,b,B,R)&&(b=null),R||B===null?d(l)&&(b===null?i.removeAttribute(l):i.setAttribute(l,""+b)):B.mustUseProperty?i[B.propertyName]=b===null?B.type===3?!1:"":b:(l=B.attributeName,R=B.attributeNamespace,b===null?i.removeAttribute(l):(B=B.type,b=B===3||B===4&&b===!0?"":""+b,R?i.setAttributeNS(R,l,b):i.setAttribute(l,b))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),K=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Object.assign,U;function re(i){if(U===void 0)try{throw Error()}catch(b){var l=b.stack.trim().match(/\n( *(at )?)/);U=l&&l[1]||""}return`
`+U+i}var Z=!1;function he(i,l){if(!i||Z)return"";Z=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ke){var R=ke}Reflect.construct(i,[],l)}else{try{l.call()}catch(ke){R=ke}i.call(l.prototype)}else{try{throw Error()}catch(ke){R=ke}i()}}catch(ke){if(ke&&R&&typeof ke.stack=="string"){for(var B=ke.stack.split(`
`),W=R.stack.split(`
`),ee=B.length-1,fe=W.length-1;1<=ee&&0<=fe&&B[ee]!==W[fe];)fe--;for(;1<=ee&&0<=fe;ee--,fe--)if(B[ee]!==W[fe]){if(ee!==1||fe!==1)do if(ee--,fe--,0>fe||B[ee]!==W[fe]){var ve=`
`+B[ee].replace(" at new "," at ");return i.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",i.displayName)),ve}while(1<=ee&&0<=fe);break}}}finally{Z=!1,Error.prepareStackTrace=b}return(i=i?i.displayName||i.name:"")?re(i):""}function ue(i){switch(i.tag){case 5:return re(i.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return i=he(i.type,!1),i;case 11:return i=he(i.type.render,!1),i;case 1:return i=he(i.type,!0),i;default:return""}}function ae(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case _:return"Portal";case M:return"Profiler";case I:return"StrictMode";case w:return"Suspense";case L:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case P:return(i._context.displayName||"Context")+".Provider";case S:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return l=i.displayName||null,l!==null?l:ae(i.type)||"Memo";case z:l=i._payload,i=i._init;try{return ae(i(l))}catch{}}return null}function pe(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function me(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ae(i){var l=me(i)?"checked":"value",b=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),R=""+i[l];if(!i.hasOwnProperty(l)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var B=b.get,W=b.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return B.call(this)},set:function(ee){R=""+ee,W.call(this,ee)}}),Object.defineProperty(i,l,{enumerable:b.enumerable}),{getValue:function(){return R},setValue:function(ee){R=""+ee},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function $e(i){i._valueTracker||(i._valueTracker=Ae(i))}function Qe(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var b=l.getValue(),R="";return i&&(R=me(i)?i.checked?"true":"false":i.value),i=R,i!==b?(l.setValue(i),!0):!1}function ut(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function qe(i,l){var b=l.checked;return Q({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??i._wrapperState.initialChecked})}function Ge(i,l){var b=l.defaultValue==null?"":l.defaultValue,R=l.checked!=null?l.checked:l.defaultChecked;b=Ee(l.value!=null?l.value:b),i._wrapperState={initialChecked:R,initialValue:b,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function yt(i,l){l=l.checked,l!=null&&F(i,"checked",l,!1)}function Ot(i,l){yt(i,l);var b=Ee(l.value),R=l.type;if(b!=null)R==="number"?(b===0&&i.value===""||i.value!=b)&&(i.value=""+b):i.value!==""+b&&(i.value=""+b);else if(R==="submit"||R==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?pn(i,l.type,b):l.hasOwnProperty("defaultValue")&&pn(i,l.type,Ee(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Ht(i,l,b){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var R=l.type;if(!(R!=="submit"&&R!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,b||l===i.value||(i.value=l),i.defaultValue=l}b=i.name,b!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,b!==""&&(i.name=b)}function pn(i,l,b){(l!=="number"||ut(i.ownerDocument)!==i)&&(b==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+b&&(i.defaultValue=""+b))}var Nt=Array.isArray;function wn(i,l,b,R){if(i=i.options,l){l={};for(var B=0;B<b.length;B++)l["$"+b[B]]=!0;for(b=0;b<i.length;b++)B=l.hasOwnProperty("$"+i[b].value),i[b].selected!==B&&(i[b].selected=B),B&&R&&(i[b].defaultSelected=!0)}else{for(b=""+Ee(b),l=null,B=0;B<i.length;B++){if(i[B].value===b){i[B].selected=!0,R&&(i[B].defaultSelected=!0);return}l!==null||i[B].disabled||(l=i[B])}l!==null&&(l.selected=!0)}}function Wn(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Pn(i,l){var b=l.value;if(b==null){if(b=l.children,l=l.defaultValue,b!=null){if(l!=null)throw Error(t(92));if(Nt(b)){if(1<b.length)throw Error(t(93));b=b[0]}l=b}l==null&&(l=""),b=l}i._wrapperState={initialValue:Ee(b)}}function bn(i,l){var b=Ee(l.value),R=Ee(l.defaultValue);b!=null&&(b=""+b,b!==i.value&&(i.value=b),l.defaultValue==null&&i.defaultValue!==b&&(i.defaultValue=b)),R!=null&&(i.defaultValue=""+R)}function ur(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function be(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?be(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ke,ft=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,b,R,B){MSApp.execUnsafeLocalFunction(function(){return i(l,b,R,B)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Ke=Ke||document.createElement("div"),Ke.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ke.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function lt(i,l){if(l){var b=i.firstChild;if(b&&b===i.lastChild&&b.nodeType===3){b.nodeValue=l;return}}i.textContent=l}var kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lt=["Webkit","ms","Moz","O"];Object.keys(kt).forEach(function(i){Lt.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),kt[l]=kt[i]})});function Ft(i,l,b){return l==null||typeof l=="boolean"||l===""?"":b||typeof l!="number"||l===0||kt.hasOwnProperty(i)&&kt[i]?(""+l).trim():l+"px"}function $t(i,l){i=i.style;for(var b in l)if(l.hasOwnProperty(b)){var R=b.indexOf("--")===0,B=Ft(b,l[b],R);b==="float"&&(b="cssFloat"),R?i.setProperty(b,B):i[b]=B}}var _t=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ln(i,l){if(l){if(_t[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Te(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var De=null;function Ze(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rt=null,An=null,On=null;function $r(i){if(i=Dc(i)){if(typeof Rt!="function")throw Error(t(280));var l=i.stateNode;l&&(l=fh(l),Rt(i.stateNode,i.type,l))}}function Gn(i){An?On?On.push(i):On=[i]:An=i}function Ai(){if(An){var i=An,l=On;if(On=An=null,$r(i),l)for(i=0;i<l.length;i++)$r(l[i])}}function ci(i,l){return i(l)}function Bi(){}var Er=!1;function so(i,l,b){if(Er)return i(l,b);Er=!0;try{return ci(i,l,b)}finally{Er=!1,(An!==null||On!==null)&&(Bi(),Ai())}}function hn(i,l){var b=i.stateNode;if(b===null)return null;var R=fh(b);if(R===null)return null;b=R[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(i=i.type,R=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!R;break e;default:i=!1}if(i)return null;if(b&&typeof b!="function")throw Error(t(231,l,typeof b));return b}var Eo=!1;if(m)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Eo=!1}function Vi(i,l,b,R,B,W,ee,fe,ve){var ke=Array.prototype.slice.call(arguments,3);try{l.apply(b,ke)}catch(Ve){this.onError(Ve)}}var Kn=!1,hr=null,sn=!1,Zo=null,Ma={onError:function(i){Kn=!0,hr=i}};function ao(i,l,b,R,B,W,ee,fe,ve){Kn=!1,hr=null,Vi.apply(Ma,arguments)}function Zr(i,l,b,R,B,W,ee,fe,ve){if(ao.apply(this,arguments),Kn){if(Kn){var ke=hr;Kn=!1,hr=null}else throw Error(t(198));sn||(sn=!0,Zo=ke)}}function st(i){var l=i,b=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,l.flags&4098&&(b=l.return),i=l.return;while(i)}return l.tag===3?b:null}function qn(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Pr(i){if(st(i)!==i)throw Error(t(188))}function Rs(i){var l=i.alternate;if(!l){if(l=st(i),l===null)throw Error(t(188));return l!==i?null:i}for(var b=i,R=l;;){var B=b.return;if(B===null)break;var W=B.alternate;if(W===null){if(R=B.return,R!==null){b=R;continue}break}if(B.child===W.child){for(W=B.child;W;){if(W===b)return Pr(B),i;if(W===R)return Pr(B),l;W=W.sibling}throw Error(t(188))}if(b.return!==R.return)b=B,R=W;else{for(var ee=!1,fe=B.child;fe;){if(fe===b){ee=!0,b=B,R=W;break}if(fe===R){ee=!0,R=B,b=W;break}fe=fe.sibling}if(!ee){for(fe=W.child;fe;){if(fe===b){ee=!0,b=W,R=B;break}if(fe===R){ee=!0,R=W,b=B;break}fe=fe.sibling}if(!ee)throw Error(t(189))}}if(b.alternate!==R)throw Error(t(190))}if(b.tag!==3)throw Error(t(188));return b.stateNode.current===b?i:l}function Jo(i){return i=Rs(i),i!==null?ui(i):null}function ui(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=ui(i);if(l!==null)return l;i=i.sibling}return null}var zi=e.unstable_scheduleCallback,Jr=e.unstable_cancelCallback,Ms=e.unstable_shouldYield,La=e.unstable_requestPaint,en=e.unstable_now,Ls=e.unstable_getCurrentPriorityLevel,ji=e.unstable_ImmediatePriority,Or=e.unstable_UserBlockingPriority,er=e.unstable_NormalPriority,So=e.unstable_LowPriority,Sr=e.unstable_IdlePriority,Ui=null,Cr=null;function Co(i){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Ui,i,void 0,(i.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:co,lo=Math.log,$s=Math.LN2;function co(i){return i>>>=0,i===0?32:31-(lo(i)/$s|0)|0}var To=64,hi=4194304;function ki(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ii(i,l){var b=i.pendingLanes;if(b===0)return 0;var R=0,B=i.suspendedLanes,W=i.pingedLanes,ee=b&268435455;if(ee!==0){var fe=ee&~B;fe!==0?R=ki(fe):(W&=ee,W!==0&&(R=ki(W)))}else ee=b&~B,ee!==0?R=ki(ee):W!==0&&(R=ki(W));if(R===0)return 0;if(l!==0&&l!==R&&!(l&B)&&(B=R&-R,W=l&-l,B>=W||B===16&&(W&4194240)!==0))return l;if(R&4&&(R|=b&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=R;0<l;)b=31-tr(l),B=1<<b,R|=i[b],l&=~B;return R}function xo(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dr(i,l){for(var b=i.suspendedLanes,R=i.pingedLanes,B=i.expirationTimes,W=i.pendingLanes;0<W;){var ee=31-tr(W),fe=1<<ee,ve=B[ee];ve===-1?(!(fe&b)||fe&R)&&(B[ee]=xo(fe,l)):ve<=l&&(i.expiredLanes|=fe),W&=~fe}}function nr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function di(){var i=To;return To<<=1,!(To&4194240)&&(To=64),i}function Qn(i){for(var l=[],b=0;31>b;b++)l.push(i);return l}function Dr(i,l,b){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-tr(l),i[l]=b}function tn(i,l){var b=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var R=i.eventTimes;for(i=i.expirationTimes;0<b;){var B=31-tr(b),W=1<<B;l[B]=0,R[B]=-1,i[B]=-1,b&=~W}}function fi(i,l){var b=i.entangledLanes|=l;for(i=i.entanglements;b;){var R=31-tr(b),B=1<<R;B&l|i[R]&l&&(i[R]|=l),b&=~B}}var It=0;function rr(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ps,Ao,Nr,Os,Ds,ko=!1,ei=[],Bn=null,kn=null,Fr=null,Ri=new Map,ir=new Map,Tr=[],es="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ts(i,l){switch(i){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Ri.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(l.pointerId)}}function Yn(i,l,b,R,B,W){return i===null||i.nativeEvent!==W?(i={blockedOn:l,domEventName:b,eventSystemFlags:R,nativeEvent:W,targetContainers:[B]},l!==null&&(l=Dc(l),l!==null&&Ao(l)),i):(i.eventSystemFlags|=R,l=i.targetContainers,B!==null&&l.indexOf(B)===-1&&l.push(B),i)}function Ns(i,l,b,R,B){switch(l){case"focusin":return Bn=Yn(Bn,i,l,b,R,B),!0;case"dragenter":return kn=Yn(kn,i,l,b,R,B),!0;case"mouseover":return Fr=Yn(Fr,i,l,b,R,B),!0;case"pointerover":var W=B.pointerId;return Ri.set(W,Yn(Ri.get(W)||null,i,l,b,R,B)),!0;case"gotpointercapture":return W=B.pointerId,ir.set(W,Yn(ir.get(W)||null,i,l,b,R,B)),!0}return!1}function Io(i){var l=Da(i.target);if(l!==null){var b=st(l);if(b!==null){if(l=b.tag,l===13){if(l=qn(b),l!==null){i.blockedOn=l,Ds(i.priority,function(){Nr(b)});return}}else if(l===3&&b.stateNode.current.memoizedState.isDehydrated){i.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fr(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var b=qt(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(b===null){b=i.nativeEvent;var R=new b.constructor(b.type,b);De=R,b.target.dispatchEvent(R),De=null}else return l=Dc(b),l!==null&&Ao(l),i.blockedOn=b,!1;l.shift()}return!0}function Hi(i,l,b){fr(i)&&b.delete(l)}function Wi(){ko=!1,Bn!==null&&fr(Bn)&&(Bn=null),kn!==null&&fr(kn)&&(kn=null),Fr!==null&&fr(Fr)&&(Fr=null),Ri.forEach(Hi),ir.forEach(Hi)}function pr(i,l){i.blockedOn===l&&(i.blockedOn=null,ko||(ko=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wi)))}function ti(i){function l(B){return pr(B,i)}if(0<ei.length){pr(ei[0],i);for(var b=1;b<ei.length;b++){var R=ei[b];R.blockedOn===i&&(R.blockedOn=null)}}for(Bn!==null&&pr(Bn,i),kn!==null&&pr(kn,i),Fr!==null&&pr(Fr,i),Ri.forEach(l),ir.forEach(l),b=0;b<Tr.length;b++)R=Tr[b],R.blockedOn===i&&(R.blockedOn=null);for(;0<Tr.length&&(b=Tr[0],b.blockedOn===null);)Io(b),b.blockedOn===null&&Tr.shift()}var le=O.ReactCurrentBatchConfig,we=!0;function Le(i,l,b,R){var B=It,W=le.transition;le.transition=null;try{It=1,Wt(i,l,b,R)}finally{It=B,le.transition=W}}function Ye(i,l,b,R){var B=It,W=le.transition;le.transition=null;try{It=4,Wt(i,l,b,R)}finally{It=B,le.transition=W}}function Wt(i,l,b,R){if(we){var B=qt(i,l,b,R);if(B===null)Yf(i,l,R,pt,b),ts(i,R);else if(Ns(B,i,l,b,R))R.stopPropagation();else if(ts(i,R),l&4&&-1<es.indexOf(i)){for(;B!==null;){var W=Dc(B);if(W!==null&&Ps(W),W=qt(i,l,b,R),W===null&&Yf(i,l,R,pt,b),W===B)break;B=W}B!==null&&R.stopPropagation()}else Yf(i,l,R,null,b)}}var pt=null;function qt(i,l,b,R){if(pt=null,i=Ze(R),i=Da(i),i!==null)if(l=st(i),l===null)i=null;else if(b=l.tag,b===13){if(i=qn(l),i!==null)return i;i=null}else if(b===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return pt=i,null}function gn(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ls()){case ji:return 1;case Or:return 4;case er:case So:return 16;case Sr:return 536870912;default:return 16}default:return 16}}var Qt=null,Pt=null,rn=null;function or(){if(rn)return rn;var i,l=Pt,b=l.length,R,B="value"in Qt?Qt.value:Qt.textContent,W=B.length;for(i=0;i<b&&l[i]===B[i];i++);var ee=b-i;for(R=1;R<=ee&&l[b-R]===B[W-R];R++);return rn=B.slice(i,1<R?1-R:void 0)}function _n(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function mn(){return!0}function Vn(){return!1}function Mt(i){function l(b,R,B,W,ee){this._reactName=b,this._targetInst=B,this.type=R,this.nativeEvent=W,this.target=ee,this.currentTarget=null;for(var fe in i)i.hasOwnProperty(fe)&&(b=i[fe],this[fe]=b?b(W):W[fe]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?mn:Vn,this.isPropagationStopped=Vn,this}return Q(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),l}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Br=Mt(In),ni=Q({},In,{view:0,detail:0}),Ro=Mt(ni),Mi,uo,Mo,ns=Q({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pi,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Mo&&(Mo&&i.type==="mousemove"?(Mi=i.screenX-Mo.screenX,uo=i.screenY-Mo.screenY):uo=Mi=0,Mo=i),Mi)},movementY:function(i){return"movementY"in i?i.movementY:uo}}),rs=Mt(ns),Lo=Q({},ns,{dataTransfer:0}),Gi=Mt(Lo),ho=Q({},ni,{relatedTarget:0}),Fs=Mt(ho),$a=Q({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),Ki=Mt($a),Pa=Q({},In,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$o=Mt(Pa),_l=Q({},In,{data:0}),Oa=Mt(_l),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},El={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sl(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=El[i])?!!l[i]:!1}function pi(){return Sl}var T=Q({},ni,{key:function(i){if(i.key){var l=Bs[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=_n(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?xr[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pi,charCode:function(i){return i.type==="keypress"?_n(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_n(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),H=Mt(T),Y=Q({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ie=Mt(Y),Se=Q({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pi}),Ie=Mt(Se),We=Q({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),jt=Mt(We),cn=Q({},ns,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Bt=Mt(cn),Dn=[9,13,27,32],Nn=m&&"CompositionEvent"in window,gi=null;m&&"documentMode"in document&&(gi=document.documentMode);var ri=m&&"TextEvent"in window&&!gi,is=m&&(!Nn||gi&&8<gi&&11>=gi),Vs=" ",ih=!1;function oh(i,l){switch(i){case"keyup":return Dn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zs=!1;function Uf(i,l){switch(i){case"compositionend":return sh(l);case"keypress":return l.which!==32?null:(ih=!0,Vs);case"textInput":return i=l.data,i===Vs&&ih?null:i;default:return null}}function k(i,l){if(zs)return i==="compositionend"||!Nn&&oh(i,l)?(i=or(),rn=Pt=Qt=null,zs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return is&&l.locale!=="ko"?null:l.data;default:return null}}var x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!x[i.type]:l==="textarea"}function j(i,l,b,R){Gn(R),l=uh(l,"onChange"),0<l.length&&(b=new Br("onChange","change",null,b,R),i.push({event:b,listeners:l}))}var G=null,X=null;function te(i){ly(i,0)}function ne(i){var l=kl(i);if(Qe(l))return i}function ce(i,l){if(i==="change")return l}var ge=!1;if(m){var de;if(m){var _e="oninput"in document;if(!_e){var Re=document.createElement("div");Re.setAttribute("oninput","return;"),_e=typeof Re.oninput=="function"}de=_e}else de=!1;ge=de&&(!document.documentMode||9<document.documentMode)}function Be(){G&&(G.detachEvent("onpropertychange",Ne),X=G=null)}function Ne(i){if(i.propertyName==="value"&&ne(X)){var l=[];j(l,X,i,Ze(i)),so(te,l)}}function Ue(i,l,b){i==="focusin"?(Be(),G=l,X=b,G.attachEvent("onpropertychange",Ne)):i==="focusout"&&Be()}function et(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ne(X)}function Xe(i,l){if(i==="click")return ne(l)}function ct(i,l){if(i==="input"||i==="change")return ne(l)}function Tt(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var wt=typeof Object.is=="function"?Object.is:Tt;function ht(i,l){if(wt(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var b=Object.keys(i),R=Object.keys(l);if(b.length!==R.length)return!1;for(R=0;R<b.length;R++){var B=b[R];if(!u.call(l,B)||!wt(i[B],l[B]))return!1}return!0}function xt(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gr(i,l){var b=xt(i);i=0;for(var R;b;){if(b.nodeType===3){if(R=i+b.textContent.length,i<=l&&R>=l)return{node:b,offset:l-i};i=R}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=xt(b)}}function dn(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?dn(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Vr(){for(var i=window,l=ut();l instanceof i.HTMLIFrameElement;){try{var b=typeof l.contentWindow.location.href=="string"}catch{b=!1}if(b)i=l.contentWindow;else break;l=ut(i.document)}return l}function ii(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function fo(i){var l=Vr(),b=i.focusedElem,R=i.selectionRange;if(l!==b&&b&&b.ownerDocument&&dn(b.ownerDocument.documentElement,b)){if(R!==null&&ii(b)){if(l=R.start,i=R.end,i===void 0&&(i=l),"selectionStart"in b)b.selectionStart=l,b.selectionEnd=Math.min(i,b.value.length);else if(i=(l=b.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var B=b.textContent.length,W=Math.min(R.start,B);R=R.end===void 0?W:Math.min(R.end,B),!i.extend&&W>R&&(B=R,R=W,W=B),B=gr(b,W);var ee=gr(b,R);B&&ee&&(i.rangeCount!==1||i.anchorNode!==B.node||i.anchorOffset!==B.offset||i.focusNode!==ee.node||i.focusOffset!==ee.offset)&&(l=l.createRange(),l.setStart(B.node,B.offset),i.removeAllRanges(),W>R?(i.addRange(l),i.extend(ee.node,ee.offset)):(l.setEnd(ee.node,ee.offset),i.addRange(l)))}}for(l=[],i=b;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<l.length;b++)i=l[b],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Cl=m&&"documentMode"in document&&11>=document.documentMode,qi=null,Hf=null,Mc=null,Wf=!1;function Jv(i,l,b){var R=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Wf||qi==null||qi!==ut(R)||(R=qi,"selectionStart"in R&&ii(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Mc&&ht(Mc,R)||(Mc=R,R=uh(Hf,"onSelect"),0<R.length&&(l=new Br("onSelect","select",null,l,b),i.push({event:l,listeners:R}),l.target=qi)))}function ah(i,l){var b={};return b[i.toLowerCase()]=l.toLowerCase(),b["Webkit"+i]="webkit"+l,b["Moz"+i]="moz"+l,b}var Tl={animationend:ah("Animation","AnimationEnd"),animationiteration:ah("Animation","AnimationIteration"),animationstart:ah("Animation","AnimationStart"),transitionend:ah("Transition","TransitionEnd")},Gf={},ey={};m&&(ey=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function lh(i){if(Gf[i])return Gf[i];if(!Tl[i])return i;var l=Tl[i],b;for(b in l)if(l.hasOwnProperty(b)&&b in ey)return Gf[i]=l[b];return i}var ty=lh("animationend"),ny=lh("animationiteration"),ry=lh("animationstart"),iy=lh("transitionend"),oy=new Map,sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(i,l){oy.set(i,l),o(l,[i])}for(var Kf=0;Kf<sy.length;Kf++){var qf=sy[Kf],zT=qf.toLowerCase(),jT=qf[0].toUpperCase()+qf.slice(1);js(zT,"on"+jT)}js(ty,"onAnimationEnd"),js(ny,"onAnimationIteration"),js(ry,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(iy,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lc));function ay(i,l,b){var R=i.type||"unknown-event";i.currentTarget=b,Zr(R,l,void 0,i),i.currentTarget=null}function ly(i,l){l=(l&4)!==0;for(var b=0;b<i.length;b++){var R=i[b],B=R.event;R=R.listeners;e:{var W=void 0;if(l)for(var ee=R.length-1;0<=ee;ee--){var fe=R[ee],ve=fe.instance,ke=fe.currentTarget;if(fe=fe.listener,ve!==W&&B.isPropagationStopped())break e;ay(B,fe,ke),W=ve}else for(ee=0;ee<R.length;ee++){if(fe=R[ee],ve=fe.instance,ke=fe.currentTarget,fe=fe.listener,ve!==W&&B.isPropagationStopped())break e;ay(B,fe,ke),W=ve}}}if(sn)throw i=Zo,sn=!1,Zo=null,i}function En(i,l){var b=l[np];b===void 0&&(b=l[np]=new Set);var R=i+"__bubble";b.has(R)||(cy(l,i,2,!1),b.add(R))}function Qf(i,l,b){var R=0;l&&(R|=4),cy(b,i,R,l)}var ch="_reactListening"+Math.random().toString(36).slice(2);function $c(i){if(!i[ch]){i[ch]=!0,r.forEach(function(b){b!=="selectionchange"&&(UT.has(b)||Qf(b,!1,i),Qf(b,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[ch]||(l[ch]=!0,Qf("selectionchange",!1,l))}}function cy(i,l,b,R){switch(gn(l)){case 1:var B=Le;break;case 4:B=Ye;break;default:B=Wt}b=B.bind(null,l,b,i),B=void 0,!Eo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(B=!0),R?B!==void 0?i.addEventListener(l,b,{capture:!0,passive:B}):i.addEventListener(l,b,!0):B!==void 0?i.addEventListener(l,b,{passive:B}):i.addEventListener(l,b,!1)}function Yf(i,l,b,R,B){var W=R;if(!(l&1)&&!(l&2)&&R!==null)e:for(;;){if(R===null)return;var ee=R.tag;if(ee===3||ee===4){var fe=R.stateNode.containerInfo;if(fe===B||fe.nodeType===8&&fe.parentNode===B)break;if(ee===4)for(ee=R.return;ee!==null;){var ve=ee.tag;if((ve===3||ve===4)&&(ve=ee.stateNode.containerInfo,ve===B||ve.nodeType===8&&ve.parentNode===B))return;ee=ee.return}for(;fe!==null;){if(ee=Da(fe),ee===null)return;if(ve=ee.tag,ve===5||ve===6){R=W=ee;continue e}fe=fe.parentNode}}R=R.return}so(function(){var ke=W,Ve=Ze(b),je=[];e:{var Fe=oy.get(i);if(Fe!==void 0){var Je=Br,it=i;switch(i){case"keypress":if(_n(b)===0)break e;case"keydown":case"keyup":Je=H;break;case"focusin":it="focus",Je=Fs;break;case"focusout":it="blur",Je=Fs;break;case"beforeblur":case"afterblur":Je=Fs;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=Gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=Ie;break;case ty:case ny:case ry:Je=Ki;break;case iy:Je=jt;break;case"scroll":Je=Ro;break;case"wheel":Je=Bt;break;case"copy":case"cut":case"paste":Je=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=ie}var ot=(l&4)!==0,zn=!ot&&i==="scroll",Ce=ot?Fe!==null?Fe+"Capture":null:Fe;ot=[];for(var ye=ke,xe;ye!==null;){xe=ye;var He=xe.stateNode;if(xe.tag===5&&He!==null&&(xe=He,Ce!==null&&(He=hn(ye,Ce),He!=null&&ot.push(Pc(ye,He,xe)))),zn)break;ye=ye.return}0<ot.length&&(Fe=new Je(Fe,it,null,b,Ve),je.push({event:Fe,listeners:ot}))}}if(!(l&7)){e:{if(Fe=i==="mouseover"||i==="pointerover",Je=i==="mouseout"||i==="pointerout",Fe&&b!==De&&(it=b.relatedTarget||b.fromElement)&&(Da(it)||it[os]))break e;if((Je||Fe)&&(Fe=Ve.window===Ve?Ve:(Fe=Ve.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Je?(it=b.relatedTarget||b.toElement,Je=ke,it=it?Da(it):null,it!==null&&(zn=st(it),it!==zn||it.tag!==5&&it.tag!==6)&&(it=null)):(Je=null,it=ke),Je!==it)){if(ot=rs,He="onMouseLeave",Ce="onMouseEnter",ye="mouse",(i==="pointerout"||i==="pointerover")&&(ot=ie,He="onPointerLeave",Ce="onPointerEnter",ye="pointer"),zn=Je==null?Fe:kl(Je),xe=it==null?Fe:kl(it),Fe=new ot(He,ye+"leave",Je,b,Ve),Fe.target=zn,Fe.relatedTarget=xe,He=null,Da(Ve)===ke&&(ot=new ot(Ce,ye+"enter",it,b,Ve),ot.target=xe,ot.relatedTarget=zn,He=ot),zn=He,Je&&it)t:{for(ot=Je,Ce=it,ye=0,xe=ot;xe;xe=xl(xe))ye++;for(xe=0,He=Ce;He;He=xl(He))xe++;for(;0<ye-xe;)ot=xl(ot),ye--;for(;0<xe-ye;)Ce=xl(Ce),xe--;for(;ye--;){if(ot===Ce||Ce!==null&&ot===Ce.alternate)break t;ot=xl(ot),Ce=xl(Ce)}ot=null}else ot=null;Je!==null&&uy(je,Fe,Je,ot,!1),it!==null&&zn!==null&&uy(je,zn,it,ot,!0)}}e:{if(Fe=ke?kl(ke):window,Je=Fe.nodeName&&Fe.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Fe.type==="file")var at=ce;else if(D(Fe))if(ge)at=ct;else{at=et;var gt=Ue}else(Je=Fe.nodeName)&&Je.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(at=Xe);if(at&&(at=at(i,ke))){j(je,at,b,Ve);break e}gt&&gt(i,Fe,ke),i==="focusout"&&(gt=Fe._wrapperState)&&gt.controlled&&Fe.type==="number"&&pn(Fe,"number",Fe.value)}switch(gt=ke?kl(ke):window,i){case"focusin":(D(gt)||gt.contentEditable==="true")&&(qi=gt,Hf=ke,Mc=null);break;case"focusout":Mc=Hf=qi=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,Jv(je,b,Ve);break;case"selectionchange":if(Cl)break;case"keydown":case"keyup":Jv(je,b,Ve)}var mt;if(Nn)e:{switch(i){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else zs?oh(i,b)&&(Et="onCompositionEnd"):i==="keydown"&&b.keyCode===229&&(Et="onCompositionStart");Et&&(is&&b.locale!=="ko"&&(zs||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&zs&&(mt=or()):(Qt=Ve,Pt="value"in Qt?Qt.value:Qt.textContent,zs=!0)),gt=uh(ke,Et),0<gt.length&&(Et=new Oa(Et,i,null,b,Ve),je.push({event:Et,listeners:gt}),mt?Et.data=mt:(mt=sh(b),mt!==null&&(Et.data=mt)))),(mt=ri?Uf(i,b):k(i,b))&&(ke=uh(ke,"onBeforeInput"),0<ke.length&&(Ve=new Oa("onBeforeInput","beforeinput",null,b,Ve),je.push({event:Ve,listeners:ke}),Ve.data=mt))}ly(je,l)})}function Pc(i,l,b){return{instance:i,listener:l,currentTarget:b}}function uh(i,l){for(var b=l+"Capture",R=[];i!==null;){var B=i,W=B.stateNode;B.tag===5&&W!==null&&(B=W,W=hn(i,b),W!=null&&R.unshift(Pc(i,W,B)),W=hn(i,l),W!=null&&R.push(Pc(i,W,B))),i=i.return}return R}function xl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function uy(i,l,b,R,B){for(var W=l._reactName,ee=[];b!==null&&b!==R;){var fe=b,ve=fe.alternate,ke=fe.stateNode;if(ve!==null&&ve===R)break;fe.tag===5&&ke!==null&&(fe=ke,B?(ve=hn(b,W),ve!=null&&ee.unshift(Pc(b,ve,fe))):B||(ve=hn(b,W),ve!=null&&ee.push(Pc(b,ve,fe)))),b=b.return}ee.length!==0&&i.push({event:l,listeners:ee})}var HT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function hy(i){return(typeof i=="string"?i:""+i).replace(HT,`
`).replace(WT,"")}function hh(i,l,b){if(l=hy(l),hy(i)!==l&&b)throw Error(t(425))}function dh(){}var Xf=null,Zf=null;function Jf(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ep=typeof setTimeout=="function"?setTimeout:void 0,GT=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,KT=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(i){return dy.resolve(null).then(i).catch(qT)}:ep;function qT(i){setTimeout(function(){throw i})}function tp(i,l){var b=l,R=0;do{var B=b.nextSibling;if(i.removeChild(b),B&&B.nodeType===8)if(b=B.data,b==="/$"){if(R===0){i.removeChild(B),ti(l);return}R--}else b!=="$"&&b!=="$?"&&b!=="$!"||R++;b=B}while(b);ti(l)}function Us(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function fy(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var b=i.data;if(b==="$"||b==="$!"||b==="$?"){if(l===0)return i;l--}else b==="/$"&&l++}i=i.previousSibling}return null}var Al=Math.random().toString(36).slice(2),Po="__reactFiber$"+Al,Oc="__reactProps$"+Al,os="__reactContainer$"+Al,np="__reactEvents$"+Al,QT="__reactListeners$"+Al,YT="__reactHandles$"+Al;function Da(i){var l=i[Po];if(l)return l;for(var b=i.parentNode;b;){if(l=b[os]||b[Po]){if(b=l.alternate,l.child!==null||b!==null&&b.child!==null)for(i=fy(i);i!==null;){if(b=i[Po])return b;i=fy(i)}return l}i=b,b=i.parentNode}return null}function Dc(i){return i=i[Po]||i[os],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function kl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function fh(i){return i[Oc]||null}var rp=[],Il=-1;function Hs(i){return{current:i}}function Sn(i){0>Il||(i.current=rp[Il],rp[Il]=null,Il--)}function vn(i,l){Il++,rp[Il]=i.current,i.current=l}var Ws={},zr=Hs(Ws),mi=Hs(!1),Na=Ws;function Rl(i,l){var b=i.type.contextTypes;if(!b)return Ws;var R=i.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===l)return R.__reactInternalMemoizedMaskedChildContext;var B={},W;for(W in b)B[W]=l[W];return R&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=B),B}function vi(i){return i=i.childContextTypes,i!=null}function ph(){Sn(mi),Sn(zr)}function py(i,l,b){if(zr.current!==Ws)throw Error(t(168));vn(zr,l),vn(mi,b)}function gy(i,l,b){var R=i.stateNode;if(l=l.childContextTypes,typeof R.getChildContext!="function")return b;R=R.getChildContext();for(var B in R)if(!(B in l))throw Error(t(108,pe(i)||"Unknown",B));return Q({},b,R)}function gh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ws,Na=zr.current,vn(zr,i),vn(mi,mi.current),!0}function my(i,l,b){var R=i.stateNode;if(!R)throw Error(t(169));b?(i=gy(i,l,Na),R.__reactInternalMemoizedMergedChildContext=i,Sn(mi),Sn(zr),vn(zr,i)):Sn(mi),vn(mi,b)}var ss=null,mh=!1,ip=!1;function vy(i){ss===null?ss=[i]:ss.push(i)}function XT(i){mh=!0,vy(i)}function Gs(){if(!ip&&ss!==null){ip=!0;var i=0,l=It;try{var b=ss;for(It=1;i<b.length;i++){var R=b[i];do R=R(!0);while(R!==null)}ss=null,mh=!1}catch(B){throw ss!==null&&(ss=ss.slice(i+1)),zi(ji,Gs),B}finally{It=l,ip=!1}}return null}var Ml=[],Ll=0,vh=null,yh=0,Qi=[],Yi=0,Fa=null,as=1,ls="";function Ba(i,l){Ml[Ll++]=yh,Ml[Ll++]=vh,vh=i,yh=l}function yy(i,l,b){Qi[Yi++]=as,Qi[Yi++]=ls,Qi[Yi++]=Fa,Fa=i;var R=as;i=ls;var B=32-tr(R)-1;R&=~(1<<B),b+=1;var W=32-tr(l)+B;if(30<W){var ee=B-B%5;W=(R&(1<<ee)-1).toString(32),R>>=ee,B-=ee,as=1<<32-tr(l)+B|b<<B|R,ls=W+i}else as=1<<W|b<<B|R,ls=i}function op(i){i.return!==null&&(Ba(i,1),yy(i,1,0))}function sp(i){for(;i===vh;)vh=Ml[--Ll],Ml[Ll]=null,yh=Ml[--Ll],Ml[Ll]=null;for(;i===Fa;)Fa=Qi[--Yi],Qi[Yi]=null,ls=Qi[--Yi],Qi[Yi]=null,as=Qi[--Yi],Qi[Yi]=null}var Li=null,$i=null,Tn=!1,po=null;function wy(i,l){var b=eo(5,null,null,0);b.elementType="DELETED",b.stateNode=l,b.return=i,l=i.deletions,l===null?(i.deletions=[b],i.flags|=16):l.push(b)}function by(i,l){switch(i.tag){case 5:var b=i.type;return l=l.nodeType!==1||b.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,Li=i,$i=Us(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,Li=i,$i=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(b=Fa!==null?{id:as,overflow:ls}:null,i.memoizedState={dehydrated:l,treeContext:b,retryLane:1073741824},b=eo(18,null,null,0),b.stateNode=l,b.return=i,i.child=b,Li=i,$i=null,!0):!1;default:return!1}}function ap(i){return(i.mode&1)!==0&&(i.flags&128)===0}function lp(i){if(Tn){var l=$i;if(l){var b=l;if(!by(i,l)){if(ap(i))throw Error(t(418));l=Us(b.nextSibling);var R=Li;l&&by(i,l)?wy(R,b):(i.flags=i.flags&-4097|2,Tn=!1,Li=i)}}else{if(ap(i))throw Error(t(418));i.flags=i.flags&-4097|2,Tn=!1,Li=i}}}function _y(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Li=i}function wh(i){if(i!==Li)return!1;if(!Tn)return _y(i),Tn=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Jf(i.type,i.memoizedProps)),l&&(l=$i)){if(ap(i))throw Ey(),Error(t(418));for(;l;)wy(i,l),l=Us(l.nextSibling)}if(_y(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var b=i.data;if(b==="/$"){if(l===0){$i=Us(i.nextSibling);break e}l--}else b!=="$"&&b!=="$!"&&b!=="$?"||l++}i=i.nextSibling}$i=null}}else $i=Li?Us(i.stateNode.nextSibling):null;return!0}function Ey(){for(var i=$i;i;)i=Us(i.nextSibling)}function $l(){$i=Li=null,Tn=!1}function cp(i){po===null?po=[i]:po.push(i)}var ZT=O.ReactCurrentBatchConfig;function Nc(i,l,b){if(i=b.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(t(309));var R=b.stateNode}if(!R)throw Error(t(147,i));var B=R,W=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===W?l.ref:(l=function(ee){var fe=B.refs;ee===null?delete fe[W]:fe[W]=ee},l._stringRef=W,l)}if(typeof i!="string")throw Error(t(284));if(!b._owner)throw Error(t(290,i))}return i}function bh(i,l){throw i=Object.prototype.toString.call(l),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Sy(i){var l=i._init;return l(i._payload)}function Cy(i){function l(Ce,ye){if(i){var xe=Ce.deletions;xe===null?(Ce.deletions=[ye],Ce.flags|=16):xe.push(ye)}}function b(Ce,ye){if(!i)return null;for(;ye!==null;)l(Ce,ye),ye=ye.sibling;return null}function R(Ce,ye){for(Ce=new Map;ye!==null;)ye.key!==null?Ce.set(ye.key,ye):Ce.set(ye.index,ye),ye=ye.sibling;return Ce}function B(Ce,ye){return Ce=ea(Ce,ye),Ce.index=0,Ce.sibling=null,Ce}function W(Ce,ye,xe){return Ce.index=xe,i?(xe=Ce.alternate,xe!==null?(xe=xe.index,xe<ye?(Ce.flags|=2,ye):xe):(Ce.flags|=2,ye)):(Ce.flags|=1048576,ye)}function ee(Ce){return i&&Ce.alternate===null&&(Ce.flags|=2),Ce}function fe(Ce,ye,xe,He){return ye===null||ye.tag!==6?(ye=eg(xe,Ce.mode,He),ye.return=Ce,ye):(ye=B(ye,xe),ye.return=Ce,ye)}function ve(Ce,ye,xe,He){var at=xe.type;return at===E?Ve(Ce,ye,xe.props.children,He,xe.key):ye!==null&&(ye.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===z&&Sy(at)===ye.type)?(He=B(ye,xe.props),He.ref=Nc(Ce,ye,xe),He.return=Ce,He):(He=Hh(xe.type,xe.key,xe.props,null,Ce.mode,He),He.ref=Nc(Ce,ye,xe),He.return=Ce,He)}function ke(Ce,ye,xe,He){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==xe.containerInfo||ye.stateNode.implementation!==xe.implementation?(ye=tg(xe,Ce.mode,He),ye.return=Ce,ye):(ye=B(ye,xe.children||[]),ye.return=Ce,ye)}function Ve(Ce,ye,xe,He,at){return ye===null||ye.tag!==7?(ye=Ka(xe,Ce.mode,He,at),ye.return=Ce,ye):(ye=B(ye,xe),ye.return=Ce,ye)}function je(Ce,ye,xe){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=eg(""+ye,Ce.mode,xe),ye.return=Ce,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case $:return xe=Hh(ye.type,ye.key,ye.props,null,Ce.mode,xe),xe.ref=Nc(Ce,null,ye),xe.return=Ce,xe;case _:return ye=tg(ye,Ce.mode,xe),ye.return=Ce,ye;case z:var He=ye._init;return je(Ce,He(ye._payload),xe)}if(Nt(ye)||J(ye))return ye=Ka(ye,Ce.mode,xe,null),ye.return=Ce,ye;bh(Ce,ye)}return null}function Fe(Ce,ye,xe,He){var at=ye!==null?ye.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return at!==null?null:fe(Ce,ye,""+xe,He);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case $:return xe.key===at?ve(Ce,ye,xe,He):null;case _:return xe.key===at?ke(Ce,ye,xe,He):null;case z:return at=xe._init,Fe(Ce,ye,at(xe._payload),He)}if(Nt(xe)||J(xe))return at!==null?null:Ve(Ce,ye,xe,He,null);bh(Ce,xe)}return null}function Je(Ce,ye,xe,He,at){if(typeof He=="string"&&He!==""||typeof He=="number")return Ce=Ce.get(xe)||null,fe(ye,Ce,""+He,at);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case $:return Ce=Ce.get(He.key===null?xe:He.key)||null,ve(ye,Ce,He,at);case _:return Ce=Ce.get(He.key===null?xe:He.key)||null,ke(ye,Ce,He,at);case z:var gt=He._init;return Je(Ce,ye,xe,gt(He._payload),at)}if(Nt(He)||J(He))return Ce=Ce.get(xe)||null,Ve(ye,Ce,He,at,null);bh(ye,He)}return null}function it(Ce,ye,xe,He){for(var at=null,gt=null,mt=ye,Et=ye=0,yr=null;mt!==null&&Et<xe.length;Et++){mt.index>Et?(yr=mt,mt=null):yr=mt.sibling;var Zt=Fe(Ce,mt,xe[Et],He);if(Zt===null){mt===null&&(mt=yr);break}i&&mt&&Zt.alternate===null&&l(Ce,mt),ye=W(Zt,ye,Et),gt===null?at=Zt:gt.sibling=Zt,gt=Zt,mt=yr}if(Et===xe.length)return b(Ce,mt),Tn&&Ba(Ce,Et),at;if(mt===null){for(;Et<xe.length;Et++)mt=je(Ce,xe[Et],He),mt!==null&&(ye=W(mt,ye,Et),gt===null?at=mt:gt.sibling=mt,gt=mt);return Tn&&Ba(Ce,Et),at}for(mt=R(Ce,mt);Et<xe.length;Et++)yr=Je(mt,Ce,Et,xe[Et],He),yr!==null&&(i&&yr.alternate!==null&&mt.delete(yr.key===null?Et:yr.key),ye=W(yr,ye,Et),gt===null?at=yr:gt.sibling=yr,gt=yr);return i&&mt.forEach(function(ta){return l(Ce,ta)}),Tn&&Ba(Ce,Et),at}function ot(Ce,ye,xe,He){var at=J(xe);if(typeof at!="function")throw Error(t(150));if(xe=at.call(xe),xe==null)throw Error(t(151));for(var gt=at=null,mt=ye,Et=ye=0,yr=null,Zt=xe.next();mt!==null&&!Zt.done;Et++,Zt=xe.next()){mt.index>Et?(yr=mt,mt=null):yr=mt.sibling;var ta=Fe(Ce,mt,Zt.value,He);if(ta===null){mt===null&&(mt=yr);break}i&&mt&&ta.alternate===null&&l(Ce,mt),ye=W(ta,ye,Et),gt===null?at=ta:gt.sibling=ta,gt=ta,mt=yr}if(Zt.done)return b(Ce,mt),Tn&&Ba(Ce,Et),at;if(mt===null){for(;!Zt.done;Et++,Zt=xe.next())Zt=je(Ce,Zt.value,He),Zt!==null&&(ye=W(Zt,ye,Et),gt===null?at=Zt:gt.sibling=Zt,gt=Zt);return Tn&&Ba(Ce,Et),at}for(mt=R(Ce,mt);!Zt.done;Et++,Zt=xe.next())Zt=Je(mt,Ce,Et,Zt.value,He),Zt!==null&&(i&&Zt.alternate!==null&&mt.delete(Zt.key===null?Et:Zt.key),ye=W(Zt,ye,Et),gt===null?at=Zt:gt.sibling=Zt,gt=Zt);return i&&mt.forEach(function(R1){return l(Ce,R1)}),Tn&&Ba(Ce,Et),at}function zn(Ce,ye,xe,He){if(typeof xe=="object"&&xe!==null&&xe.type===E&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case $:e:{for(var at=xe.key,gt=ye;gt!==null;){if(gt.key===at){if(at=xe.type,at===E){if(gt.tag===7){b(Ce,gt.sibling),ye=B(gt,xe.props.children),ye.return=Ce,Ce=ye;break e}}else if(gt.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===z&&Sy(at)===gt.type){b(Ce,gt.sibling),ye=B(gt,xe.props),ye.ref=Nc(Ce,gt,xe),ye.return=Ce,Ce=ye;break e}b(Ce,gt);break}else l(Ce,gt);gt=gt.sibling}xe.type===E?(ye=Ka(xe.props.children,Ce.mode,He,xe.key),ye.return=Ce,Ce=ye):(He=Hh(xe.type,xe.key,xe.props,null,Ce.mode,He),He.ref=Nc(Ce,ye,xe),He.return=Ce,Ce=He)}return ee(Ce);case _:e:{for(gt=xe.key;ye!==null;){if(ye.key===gt)if(ye.tag===4&&ye.stateNode.containerInfo===xe.containerInfo&&ye.stateNode.implementation===xe.implementation){b(Ce,ye.sibling),ye=B(ye,xe.children||[]),ye.return=Ce,Ce=ye;break e}else{b(Ce,ye);break}else l(Ce,ye);ye=ye.sibling}ye=tg(xe,Ce.mode,He),ye.return=Ce,Ce=ye}return ee(Ce);case z:return gt=xe._init,zn(Ce,ye,gt(xe._payload),He)}if(Nt(xe))return it(Ce,ye,xe,He);if(J(xe))return ot(Ce,ye,xe,He);bh(Ce,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,ye!==null&&ye.tag===6?(b(Ce,ye.sibling),ye=B(ye,xe),ye.return=Ce,Ce=ye):(b(Ce,ye),ye=eg(xe,Ce.mode,He),ye.return=Ce,Ce=ye),ee(Ce)):b(Ce,ye)}return zn}var Pl=Cy(!0),Ty=Cy(!1),_h=Hs(null),Eh=null,Ol=null,up=null;function hp(){up=Ol=Eh=null}function dp(i){var l=_h.current;Sn(_h),i._currentValue=l}function fp(i,l,b){for(;i!==null;){var R=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,R!==null&&(R.childLanes|=l)):R!==null&&(R.childLanes&l)!==l&&(R.childLanes|=l),i===b)break;i=i.return}}function Dl(i,l){Eh=i,up=Ol=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&l&&(yi=!0),i.firstContext=null)}function Xi(i){var l=i._currentValue;if(up!==i)if(i={context:i,memoizedValue:l,next:null},Ol===null){if(Eh===null)throw Error(t(308));Ol=i,Eh.dependencies={lanes:0,firstContext:i}}else Ol=Ol.next=i;return l}var Va=null;function pp(i){Va===null?Va=[i]:Va.push(i)}function xy(i,l,b,R){var B=l.interleaved;return B===null?(b.next=b,pp(l)):(b.next=B.next,B.next=b),l.interleaved=b,cs(i,R)}function cs(i,l){i.lanes|=l;var b=i.alternate;for(b!==null&&(b.lanes|=l),b=i,i=i.return;i!==null;)i.childLanes|=l,b=i.alternate,b!==null&&(b.childLanes|=l),b=i,i=i.return;return b.tag===3?b.stateNode:null}var Ks=!1;function gp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ay(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function us(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function qs(i,l,b){var R=i.updateQueue;if(R===null)return null;if(R=R.shared,Yt&2){var B=R.pending;return B===null?l.next=l:(l.next=B.next,B.next=l),R.pending=l,cs(i,b)}return B=R.interleaved,B===null?(l.next=l,pp(R)):(l.next=B.next,B.next=l),R.interleaved=l,cs(i,b)}function Sh(i,l,b){if(l=l.updateQueue,l!==null&&(l=l.shared,(b&4194240)!==0)){var R=l.lanes;R&=i.pendingLanes,b|=R,l.lanes=b,fi(i,b)}}function ky(i,l){var b=i.updateQueue,R=i.alternate;if(R!==null&&(R=R.updateQueue,b===R)){var B=null,W=null;if(b=b.firstBaseUpdate,b!==null){do{var ee={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};W===null?B=W=ee:W=W.next=ee,b=b.next}while(b!==null);W===null?B=W=l:W=W.next=l}else B=W=l;b={baseState:R.baseState,firstBaseUpdate:B,lastBaseUpdate:W,shared:R.shared,effects:R.effects},i.updateQueue=b;return}i=b.lastBaseUpdate,i===null?b.firstBaseUpdate=l:i.next=l,b.lastBaseUpdate=l}function Ch(i,l,b,R){var B=i.updateQueue;Ks=!1;var W=B.firstBaseUpdate,ee=B.lastBaseUpdate,fe=B.shared.pending;if(fe!==null){B.shared.pending=null;var ve=fe,ke=ve.next;ve.next=null,ee===null?W=ke:ee.next=ke,ee=ve;var Ve=i.alternate;Ve!==null&&(Ve=Ve.updateQueue,fe=Ve.lastBaseUpdate,fe!==ee&&(fe===null?Ve.firstBaseUpdate=ke:fe.next=ke,Ve.lastBaseUpdate=ve))}if(W!==null){var je=B.baseState;ee=0,Ve=ke=ve=null,fe=W;do{var Fe=fe.lane,Je=fe.eventTime;if((R&Fe)===Fe){Ve!==null&&(Ve=Ve.next={eventTime:Je,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var it=i,ot=fe;switch(Fe=l,Je=b,ot.tag){case 1:if(it=ot.payload,typeof it=="function"){je=it.call(Je,je,Fe);break e}je=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=ot.payload,Fe=typeof it=="function"?it.call(Je,je,Fe):it,Fe==null)break e;je=Q({},je,Fe);break e;case 2:Ks=!0}}fe.callback!==null&&fe.lane!==0&&(i.flags|=64,Fe=B.effects,Fe===null?B.effects=[fe]:Fe.push(fe))}else Je={eventTime:Je,lane:Fe,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},Ve===null?(ke=Ve=Je,ve=je):Ve=Ve.next=Je,ee|=Fe;if(fe=fe.next,fe===null){if(fe=B.shared.pending,fe===null)break;Fe=fe,fe=Fe.next,Fe.next=null,B.lastBaseUpdate=Fe,B.shared.pending=null}}while(!0);if(Ve===null&&(ve=je),B.baseState=ve,B.firstBaseUpdate=ke,B.lastBaseUpdate=Ve,l=B.shared.interleaved,l!==null){B=l;do ee|=B.lane,B=B.next;while(B!==l)}else W===null&&(B.shared.lanes=0);Ua|=ee,i.lanes=ee,i.memoizedState=je}}function Iy(i,l,b){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var R=i[l],B=R.callback;if(B!==null){if(R.callback=null,R=b,typeof B!="function")throw Error(t(191,B));B.call(R)}}}var Fc={},Oo=Hs(Fc),Bc=Hs(Fc),Vc=Hs(Fc);function za(i){if(i===Fc)throw Error(t(174));return i}function mp(i,l){switch(vn(Vc,l),vn(Bc,i),vn(Oo,Fc),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ze(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=ze(l,i)}Sn(Oo),vn(Oo,l)}function Nl(){Sn(Oo),Sn(Bc),Sn(Vc)}function Ry(i){za(Vc.current);var l=za(Oo.current),b=ze(l,i.type);l!==b&&(vn(Bc,i),vn(Oo,b))}function vp(i){Bc.current===i&&(Sn(Oo),Sn(Bc))}var Rn=Hs(0);function Th(i){for(var l=i;l!==null;){if(l.tag===13){var b=l.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var yp=[];function wp(){for(var i=0;i<yp.length;i++)yp[i]._workInProgressVersionPrimary=null;yp.length=0}var xh=O.ReactCurrentDispatcher,bp=O.ReactCurrentBatchConfig,ja=0,Mn=null,sr=null,mr=null,Ah=!1,zc=!1,jc=0,JT=0;function jr(){throw Error(t(321))}function _p(i,l){if(l===null)return!1;for(var b=0;b<l.length&&b<i.length;b++)if(!wt(i[b],l[b]))return!1;return!0}function Ep(i,l,b,R,B,W){if(ja=W,Mn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,xh.current=i===null||i.memoizedState===null?r1:i1,i=b(R,B),zc){W=0;do{if(zc=!1,jc=0,25<=W)throw Error(t(301));W+=1,mr=sr=null,l.updateQueue=null,xh.current=o1,i=b(R,B)}while(zc)}if(xh.current=Rh,l=sr!==null&&sr.next!==null,ja=0,mr=sr=Mn=null,Ah=!1,l)throw Error(t(300));return i}function Sp(){var i=jc!==0;return jc=0,i}function Do(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Mn.memoizedState=mr=i:mr=mr.next=i,mr}function Zi(){if(sr===null){var i=Mn.alternate;i=i!==null?i.memoizedState:null}else i=sr.next;var l=mr===null?Mn.memoizedState:mr.next;if(l!==null)mr=l,sr=i;else{if(i===null)throw Error(t(310));sr=i,i={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},mr===null?Mn.memoizedState=mr=i:mr=mr.next=i}return mr}function Uc(i,l){return typeof l=="function"?l(i):l}function Cp(i){var l=Zi(),b=l.queue;if(b===null)throw Error(t(311));b.lastRenderedReducer=i;var R=sr,B=R.baseQueue,W=b.pending;if(W!==null){if(B!==null){var ee=B.next;B.next=W.next,W.next=ee}R.baseQueue=B=W,b.pending=null}if(B!==null){W=B.next,R=R.baseState;var fe=ee=null,ve=null,ke=W;do{var Ve=ke.lane;if((ja&Ve)===Ve)ve!==null&&(ve=ve.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),R=ke.hasEagerState?ke.eagerState:i(R,ke.action);else{var je={lane:Ve,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};ve===null?(fe=ve=je,ee=R):ve=ve.next=je,Mn.lanes|=Ve,Ua|=Ve}ke=ke.next}while(ke!==null&&ke!==W);ve===null?ee=R:ve.next=fe,wt(R,l.memoizedState)||(yi=!0),l.memoizedState=R,l.baseState=ee,l.baseQueue=ve,b.lastRenderedState=R}if(i=b.interleaved,i!==null){B=i;do W=B.lane,Mn.lanes|=W,Ua|=W,B=B.next;while(B!==i)}else B===null&&(b.lanes=0);return[l.memoizedState,b.dispatch]}function Tp(i){var l=Zi(),b=l.queue;if(b===null)throw Error(t(311));b.lastRenderedReducer=i;var R=b.dispatch,B=b.pending,W=l.memoizedState;if(B!==null){b.pending=null;var ee=B=B.next;do W=i(W,ee.action),ee=ee.next;while(ee!==B);wt(W,l.memoizedState)||(yi=!0),l.memoizedState=W,l.baseQueue===null&&(l.baseState=W),b.lastRenderedState=W}return[W,R]}function My(){}function Ly(i,l){var b=Mn,R=Zi(),B=l(),W=!wt(R.memoizedState,B);if(W&&(R.memoizedState=B,yi=!0),R=R.queue,xp(Oy.bind(null,b,R,i),[i]),R.getSnapshot!==l||W||mr!==null&&mr.memoizedState.tag&1){if(b.flags|=2048,Hc(9,Py.bind(null,b,R,B,l),void 0,null),vr===null)throw Error(t(349));ja&30||$y(b,l,B)}return B}function $y(i,l,b){i.flags|=16384,i={getSnapshot:l,value:b},l=Mn.updateQueue,l===null?(l={lastEffect:null,stores:null},Mn.updateQueue=l,l.stores=[i]):(b=l.stores,b===null?l.stores=[i]:b.push(i))}function Py(i,l,b,R){l.value=b,l.getSnapshot=R,Dy(l)&&Ny(i)}function Oy(i,l,b){return b(function(){Dy(l)&&Ny(i)})}function Dy(i){var l=i.getSnapshot;i=i.value;try{var b=l();return!wt(i,b)}catch{return!0}}function Ny(i){var l=cs(i,1);l!==null&&yo(l,i,1,-1)}function Fy(i){var l=Do();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:i},l.queue=i,i=i.dispatch=n1.bind(null,Mn,i),[l.memoizedState,i]}function Hc(i,l,b,R){return i={tag:i,create:l,destroy:b,deps:R,next:null},l=Mn.updateQueue,l===null?(l={lastEffect:null,stores:null},Mn.updateQueue=l,l.lastEffect=i.next=i):(b=l.lastEffect,b===null?l.lastEffect=i.next=i:(R=b.next,b.next=i,i.next=R,l.lastEffect=i)),i}function By(){return Zi().memoizedState}function kh(i,l,b,R){var B=Do();Mn.flags|=i,B.memoizedState=Hc(1|l,b,void 0,R===void 0?null:R)}function Ih(i,l,b,R){var B=Zi();R=R===void 0?null:R;var W=void 0;if(sr!==null){var ee=sr.memoizedState;if(W=ee.destroy,R!==null&&_p(R,ee.deps)){B.memoizedState=Hc(l,b,W,R);return}}Mn.flags|=i,B.memoizedState=Hc(1|l,b,W,R)}function Vy(i,l){return kh(8390656,8,i,l)}function xp(i,l){return Ih(2048,8,i,l)}function zy(i,l){return Ih(4,2,i,l)}function jy(i,l){return Ih(4,4,i,l)}function Uy(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Hy(i,l,b){return b=b!=null?b.concat([i]):null,Ih(4,4,Uy.bind(null,l,i),b)}function Ap(){}function Wy(i,l){var b=Zi();l=l===void 0?null:l;var R=b.memoizedState;return R!==null&&l!==null&&_p(l,R[1])?R[0]:(b.memoizedState=[i,l],i)}function Gy(i,l){var b=Zi();l=l===void 0?null:l;var R=b.memoizedState;return R!==null&&l!==null&&_p(l,R[1])?R[0]:(i=i(),b.memoizedState=[i,l],i)}function Ky(i,l,b){return ja&21?(wt(b,l)||(b=di(),Mn.lanes|=b,Ua|=b,i.baseState=!0),l):(i.baseState&&(i.baseState=!1,yi=!0),i.memoizedState=b)}function e1(i,l){var b=It;It=b!==0&&4>b?b:4,i(!0);var R=bp.transition;bp.transition={};try{i(!1),l()}finally{It=b,bp.transition=R}}function qy(){return Zi().memoizedState}function t1(i,l,b){var R=Zs(i);if(b={lane:R,action:b,hasEagerState:!1,eagerState:null,next:null},Qy(i))Yy(l,b);else if(b=xy(i,l,b,R),b!==null){var B=si();yo(b,i,R,B),Xy(b,l,R)}}function n1(i,l,b){var R=Zs(i),B={lane:R,action:b,hasEagerState:!1,eagerState:null,next:null};if(Qy(i))Yy(l,B);else{var W=i.alternate;if(i.lanes===0&&(W===null||W.lanes===0)&&(W=l.lastRenderedReducer,W!==null))try{var ee=l.lastRenderedState,fe=W(ee,b);if(B.hasEagerState=!0,B.eagerState=fe,wt(fe,ee)){var ve=l.interleaved;ve===null?(B.next=B,pp(l)):(B.next=ve.next,ve.next=B),l.interleaved=B;return}}catch{}finally{}b=xy(i,l,B,R),b!==null&&(B=si(),yo(b,i,R,B),Xy(b,l,R))}}function Qy(i){var l=i.alternate;return i===Mn||l!==null&&l===Mn}function Yy(i,l){zc=Ah=!0;var b=i.pending;b===null?l.next=l:(l.next=b.next,b.next=l),i.pending=l}function Xy(i,l,b){if(b&4194240){var R=l.lanes;R&=i.pendingLanes,b|=R,l.lanes=b,fi(i,b)}}var Rh={readContext:Xi,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},r1={readContext:Xi,useCallback:function(i,l){return Do().memoizedState=[i,l===void 0?null:l],i},useContext:Xi,useEffect:Vy,useImperativeHandle:function(i,l,b){return b=b!=null?b.concat([i]):null,kh(4194308,4,Uy.bind(null,l,i),b)},useLayoutEffect:function(i,l){return kh(4194308,4,i,l)},useInsertionEffect:function(i,l){return kh(4,2,i,l)},useMemo:function(i,l){var b=Do();return l=l===void 0?null:l,i=i(),b.memoizedState=[i,l],i},useReducer:function(i,l,b){var R=Do();return l=b!==void 0?b(l):l,R.memoizedState=R.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},R.queue=i,i=i.dispatch=t1.bind(null,Mn,i),[R.memoizedState,i]},useRef:function(i){var l=Do();return i={current:i},l.memoizedState=i},useState:Fy,useDebugValue:Ap,useDeferredValue:function(i){return Do().memoizedState=i},useTransition:function(){var i=Fy(!1),l=i[0];return i=e1.bind(null,i[1]),Do().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,b){var R=Mn,B=Do();if(Tn){if(b===void 0)throw Error(t(407));b=b()}else{if(b=l(),vr===null)throw Error(t(349));ja&30||$y(R,l,b)}B.memoizedState=b;var W={value:b,getSnapshot:l};return B.queue=W,Vy(Oy.bind(null,R,W,i),[i]),R.flags|=2048,Hc(9,Py.bind(null,R,W,b,l),void 0,null),b},useId:function(){var i=Do(),l=vr.identifierPrefix;if(Tn){var b=ls,R=as;b=(R&~(1<<32-tr(R)-1)).toString(32)+b,l=":"+l+"R"+b,b=jc++,0<b&&(l+="H"+b.toString(32)),l+=":"}else b=JT++,l=":"+l+"r"+b.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},i1={readContext:Xi,useCallback:Wy,useContext:Xi,useEffect:xp,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Gy,useReducer:Cp,useRef:By,useState:function(){return Cp(Uc)},useDebugValue:Ap,useDeferredValue:function(i){var l=Zi();return Ky(l,sr.memoizedState,i)},useTransition:function(){var i=Cp(Uc)[0],l=Zi().memoizedState;return[i,l]},useMutableSource:My,useSyncExternalStore:Ly,useId:qy,unstable_isNewReconciler:!1},o1={readContext:Xi,useCallback:Wy,useContext:Xi,useEffect:xp,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Gy,useReducer:Tp,useRef:By,useState:function(){return Tp(Uc)},useDebugValue:Ap,useDeferredValue:function(i){var l=Zi();return sr===null?l.memoizedState=i:Ky(l,sr.memoizedState,i)},useTransition:function(){var i=Tp(Uc)[0],l=Zi().memoizedState;return[i,l]},useMutableSource:My,useSyncExternalStore:Ly,useId:qy,unstable_isNewReconciler:!1};function go(i,l){if(i&&i.defaultProps){l=Q({},l),i=i.defaultProps;for(var b in i)l[b]===void 0&&(l[b]=i[b]);return l}return l}function kp(i,l,b,R){l=i.memoizedState,b=b(R,l),b=b==null?l:Q({},l,b),i.memoizedState=b,i.lanes===0&&(i.updateQueue.baseState=b)}var Mh={isMounted:function(i){return(i=i._reactInternals)?st(i)===i:!1},enqueueSetState:function(i,l,b){i=i._reactInternals;var R=si(),B=Zs(i),W=us(R,B);W.payload=l,b!=null&&(W.callback=b),l=qs(i,W,B),l!==null&&(yo(l,i,B,R),Sh(l,i,B))},enqueueReplaceState:function(i,l,b){i=i._reactInternals;var R=si(),B=Zs(i),W=us(R,B);W.tag=1,W.payload=l,b!=null&&(W.callback=b),l=qs(i,W,B),l!==null&&(yo(l,i,B,R),Sh(l,i,B))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var b=si(),R=Zs(i),B=us(b,R);B.tag=2,l!=null&&(B.callback=l),l=qs(i,B,R),l!==null&&(yo(l,i,R,b),Sh(l,i,R))}};function Zy(i,l,b,R,B,W,ee){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(R,W,ee):l.prototype&&l.prototype.isPureReactComponent?!ht(b,R)||!ht(B,W):!0}function Jy(i,l,b){var R=!1,B=Ws,W=l.contextType;return typeof W=="object"&&W!==null?W=Xi(W):(B=vi(l)?Na:zr.current,R=l.contextTypes,W=(R=R!=null)?Rl(i,B):Ws),l=new l(b,W),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Mh,i.stateNode=l,l._reactInternals=i,R&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=B,i.__reactInternalMemoizedMaskedChildContext=W),l}function ew(i,l,b,R){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(b,R),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(b,R),l.state!==i&&Mh.enqueueReplaceState(l,l.state,null)}function Ip(i,l,b,R){var B=i.stateNode;B.props=b,B.state=i.memoizedState,B.refs={},gp(i);var W=l.contextType;typeof W=="object"&&W!==null?B.context=Xi(W):(W=vi(l)?Na:zr.current,B.context=Rl(i,W)),B.state=i.memoizedState,W=l.getDerivedStateFromProps,typeof W=="function"&&(kp(i,l,W,b),B.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(l=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),l!==B.state&&Mh.enqueueReplaceState(B,B.state,null),Ch(i,b,B,R),B.state=i.memoizedState),typeof B.componentDidMount=="function"&&(i.flags|=4194308)}function Fl(i,l){try{var b="",R=l;do b+=ue(R),R=R.return;while(R);var B=b}catch(W){B=`
Error generating stack: `+W.message+`
`+W.stack}return{value:i,source:l,stack:B,digest:null}}function Rp(i,l,b){return{value:i,source:null,stack:b??null,digest:l??null}}function Mp(i,l){try{console.error(l.value)}catch(b){setTimeout(function(){throw b})}}var s1=typeof WeakMap=="function"?WeakMap:Map;function tw(i,l,b){b=us(-1,b),b.tag=3,b.payload={element:null};var R=l.value;return b.callback=function(){Fh||(Fh=!0,Gp=R),Mp(i,l)},b}function nw(i,l,b){b=us(-1,b),b.tag=3;var R=i.type.getDerivedStateFromError;if(typeof R=="function"){var B=l.value;b.payload=function(){return R(B)},b.callback=function(){Mp(i,l)}}var W=i.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(b.callback=function(){Mp(i,l),typeof R!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var ee=l.stack;this.componentDidCatch(l.value,{componentStack:ee!==null?ee:""})}),b}function rw(i,l,b){var R=i.pingCache;if(R===null){R=i.pingCache=new s1;var B=new Set;R.set(l,B)}else B=R.get(l),B===void 0&&(B=new Set,R.set(l,B));B.has(b)||(B.add(b),i=b1.bind(null,i,l,b),l.then(i,i))}function iw(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function ow(i,l,b,R,B){return i.mode&1?(i.flags|=65536,i.lanes=B,i):(i===l?i.flags|=65536:(i.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(l=us(-1,1),l.tag=2,qs(b,l,1))),b.lanes|=1),i)}var a1=O.ReactCurrentOwner,yi=!1;function oi(i,l,b,R){l.child=i===null?Ty(l,null,b,R):Pl(l,i.child,b,R)}function sw(i,l,b,R,B){b=b.render;var W=l.ref;return Dl(l,B),R=Ep(i,l,b,R,W,B),b=Sp(),i!==null&&!yi?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~B,hs(i,l,B)):(Tn&&b&&op(l),l.flags|=1,oi(i,l,R,B),l.child)}function aw(i,l,b,R,B){if(i===null){var W=b.type;return typeof W=="function"&&!Jp(W)&&W.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(l.tag=15,l.type=W,lw(i,l,W,R,B)):(i=Hh(b.type,null,R,l,l.mode,B),i.ref=l.ref,i.return=l,l.child=i)}if(W=i.child,!(i.lanes&B)){var ee=W.memoizedProps;if(b=b.compare,b=b!==null?b:ht,b(ee,R)&&i.ref===l.ref)return hs(i,l,B)}return l.flags|=1,i=ea(W,R),i.ref=l.ref,i.return=l,l.child=i}function lw(i,l,b,R,B){if(i!==null){var W=i.memoizedProps;if(ht(W,R)&&i.ref===l.ref)if(yi=!1,l.pendingProps=R=W,(i.lanes&B)!==0)i.flags&131072&&(yi=!0);else return l.lanes=i.lanes,hs(i,l,B)}return Lp(i,l,b,R,B)}function cw(i,l,b){var R=l.pendingProps,B=R.children,W=i!==null?i.memoizedState:null;if(R.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(Vl,Pi),Pi|=b;else{if(!(b&1073741824))return i=W!==null?W.baseLanes|b:b,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,vn(Vl,Pi),Pi|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=W!==null?W.baseLanes:b,vn(Vl,Pi),Pi|=R}else W!==null?(R=W.baseLanes|b,l.memoizedState=null):R=b,vn(Vl,Pi),Pi|=R;return oi(i,l,B,b),l.child}function uw(i,l){var b=l.ref;(i===null&&b!==null||i!==null&&i.ref!==b)&&(l.flags|=512,l.flags|=2097152)}function Lp(i,l,b,R,B){var W=vi(b)?Na:zr.current;return W=Rl(l,W),Dl(l,B),b=Ep(i,l,b,R,W,B),R=Sp(),i!==null&&!yi?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~B,hs(i,l,B)):(Tn&&R&&op(l),l.flags|=1,oi(i,l,b,B),l.child)}function hw(i,l,b,R,B){if(vi(b)){var W=!0;gh(l)}else W=!1;if(Dl(l,B),l.stateNode===null)$h(i,l),Jy(l,b,R),Ip(l,b,R,B),R=!0;else if(i===null){var ee=l.stateNode,fe=l.memoizedProps;ee.props=fe;var ve=ee.context,ke=b.contextType;typeof ke=="object"&&ke!==null?ke=Xi(ke):(ke=vi(b)?Na:zr.current,ke=Rl(l,ke));var Ve=b.getDerivedStateFromProps,je=typeof Ve=="function"||typeof ee.getSnapshotBeforeUpdate=="function";je||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(fe!==R||ve!==ke)&&ew(l,ee,R,ke),Ks=!1;var Fe=l.memoizedState;ee.state=Fe,Ch(l,R,ee,B),ve=l.memoizedState,fe!==R||Fe!==ve||mi.current||Ks?(typeof Ve=="function"&&(kp(l,b,Ve,R),ve=l.memoizedState),(fe=Ks||Zy(l,b,fe,R,Fe,ve,ke))?(je||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(l.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=R,l.memoizedState=ve),ee.props=R,ee.state=ve,ee.context=ke,R=fe):(typeof ee.componentDidMount=="function"&&(l.flags|=4194308),R=!1)}else{ee=l.stateNode,Ay(i,l),fe=l.memoizedProps,ke=l.type===l.elementType?fe:go(l.type,fe),ee.props=ke,je=l.pendingProps,Fe=ee.context,ve=b.contextType,typeof ve=="object"&&ve!==null?ve=Xi(ve):(ve=vi(b)?Na:zr.current,ve=Rl(l,ve));var Je=b.getDerivedStateFromProps;(Ve=typeof Je=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(fe!==je||Fe!==ve)&&ew(l,ee,R,ve),Ks=!1,Fe=l.memoizedState,ee.state=Fe,Ch(l,R,ee,B);var it=l.memoizedState;fe!==je||Fe!==it||mi.current||Ks?(typeof Je=="function"&&(kp(l,b,Je,R),it=l.memoizedState),(ke=Ks||Zy(l,b,ke,R,Fe,it,ve)||!1)?(Ve||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(R,it,ve),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(R,it,ve)),typeof ee.componentDidUpdate=="function"&&(l.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof ee.componentDidUpdate!="function"||fe===i.memoizedProps&&Fe===i.memoizedState||(l.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||fe===i.memoizedProps&&Fe===i.memoizedState||(l.flags|=1024),l.memoizedProps=R,l.memoizedState=it),ee.props=R,ee.state=it,ee.context=ve,R=ke):(typeof ee.componentDidUpdate!="function"||fe===i.memoizedProps&&Fe===i.memoizedState||(l.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||fe===i.memoizedProps&&Fe===i.memoizedState||(l.flags|=1024),R=!1)}return $p(i,l,b,R,W,B)}function $p(i,l,b,R,B,W){uw(i,l);var ee=(l.flags&128)!==0;if(!R&&!ee)return B&&my(l,b,!1),hs(i,l,W);R=l.stateNode,a1.current=l;var fe=ee&&typeof b.getDerivedStateFromError!="function"?null:R.render();return l.flags|=1,i!==null&&ee?(l.child=Pl(l,i.child,null,W),l.child=Pl(l,null,fe,W)):oi(i,l,fe,W),l.memoizedState=R.state,B&&my(l,b,!0),l.child}function dw(i){var l=i.stateNode;l.pendingContext?py(i,l.pendingContext,l.pendingContext!==l.context):l.context&&py(i,l.context,!1),mp(i,l.containerInfo)}function fw(i,l,b,R,B){return $l(),cp(B),l.flags|=256,oi(i,l,b,R),l.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function Op(i){return{baseLanes:i,cachePool:null,transitions:null}}function pw(i,l,b){var R=l.pendingProps,B=Rn.current,W=!1,ee=(l.flags&128)!==0,fe;if((fe=ee)||(fe=i!==null&&i.memoizedState===null?!1:(B&2)!==0),fe?(W=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(B|=1),vn(Rn,B&1),i===null)return lp(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(l.mode&1?i.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(ee=R.children,i=R.fallback,W?(R=l.mode,W=l.child,ee={mode:"hidden",children:ee},!(R&1)&&W!==null?(W.childLanes=0,W.pendingProps=ee):W=Wh(ee,R,0,null),i=Ka(i,R,b,null),W.return=l,i.return=l,W.sibling=i,l.child=W,l.child.memoizedState=Op(b),l.memoizedState=Pp,i):Dp(l,ee));if(B=i.memoizedState,B!==null&&(fe=B.dehydrated,fe!==null))return l1(i,l,ee,R,fe,B,b);if(W){W=R.fallback,ee=l.mode,B=i.child,fe=B.sibling;var ve={mode:"hidden",children:R.children};return!(ee&1)&&l.child!==B?(R=l.child,R.childLanes=0,R.pendingProps=ve,l.deletions=null):(R=ea(B,ve),R.subtreeFlags=B.subtreeFlags&14680064),fe!==null?W=ea(fe,W):(W=Ka(W,ee,b,null),W.flags|=2),W.return=l,R.return=l,R.sibling=W,l.child=R,R=W,W=l.child,ee=i.child.memoizedState,ee=ee===null?Op(b):{baseLanes:ee.baseLanes|b,cachePool:null,transitions:ee.transitions},W.memoizedState=ee,W.childLanes=i.childLanes&~b,l.memoizedState=Pp,R}return W=i.child,i=W.sibling,R=ea(W,{mode:"visible",children:R.children}),!(l.mode&1)&&(R.lanes=b),R.return=l,R.sibling=null,i!==null&&(b=l.deletions,b===null?(l.deletions=[i],l.flags|=16):b.push(i)),l.child=R,l.memoizedState=null,R}function Dp(i,l){return l=Wh({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Lh(i,l,b,R){return R!==null&&cp(R),Pl(l,i.child,null,b),i=Dp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function l1(i,l,b,R,B,W,ee){if(b)return l.flags&256?(l.flags&=-257,R=Rp(Error(t(422))),Lh(i,l,ee,R)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(W=R.fallback,B=l.mode,R=Wh({mode:"visible",children:R.children},B,0,null),W=Ka(W,B,ee,null),W.flags|=2,R.return=l,W.return=l,R.sibling=W,l.child=R,l.mode&1&&Pl(l,i.child,null,ee),l.child.memoizedState=Op(ee),l.memoizedState=Pp,W);if(!(l.mode&1))return Lh(i,l,ee,null);if(B.data==="$!"){if(R=B.nextSibling&&B.nextSibling.dataset,R)var fe=R.dgst;return R=fe,W=Error(t(419)),R=Rp(W,R,void 0),Lh(i,l,ee,R)}if(fe=(ee&i.childLanes)!==0,yi||fe){if(R=vr,R!==null){switch(ee&-ee){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}B=B&(R.suspendedLanes|ee)?0:B,B!==0&&B!==W.retryLane&&(W.retryLane=B,cs(i,B),yo(R,i,B,-1))}return Zp(),R=Rp(Error(t(421))),Lh(i,l,ee,R)}return B.data==="$?"?(l.flags|=128,l.child=i.child,l=_1.bind(null,i),B._reactRetry=l,null):(i=W.treeContext,$i=Us(B.nextSibling),Li=l,Tn=!0,po=null,i!==null&&(Qi[Yi++]=as,Qi[Yi++]=ls,Qi[Yi++]=Fa,as=i.id,ls=i.overflow,Fa=l),l=Dp(l,R.children),l.flags|=4096,l)}function gw(i,l,b){i.lanes|=l;var R=i.alternate;R!==null&&(R.lanes|=l),fp(i.return,l,b)}function Np(i,l,b,R,B){var W=i.memoizedState;W===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:R,tail:b,tailMode:B}:(W.isBackwards=l,W.rendering=null,W.renderingStartTime=0,W.last=R,W.tail=b,W.tailMode=B)}function mw(i,l,b){var R=l.pendingProps,B=R.revealOrder,W=R.tail;if(oi(i,l,R.children,b),R=Rn.current,R&2)R=R&1|2,l.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gw(i,b,l);else if(i.tag===19)gw(i,b,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}R&=1}if(vn(Rn,R),!(l.mode&1))l.memoizedState=null;else switch(B){case"forwards":for(b=l.child,B=null;b!==null;)i=b.alternate,i!==null&&Th(i)===null&&(B=b),b=b.sibling;b=B,b===null?(B=l.child,l.child=null):(B=b.sibling,b.sibling=null),Np(l,!1,B,b,W);break;case"backwards":for(b=null,B=l.child,l.child=null;B!==null;){if(i=B.alternate,i!==null&&Th(i)===null){l.child=B;break}i=B.sibling,B.sibling=b,b=B,B=i}Np(l,!0,b,null,W);break;case"together":Np(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function $h(i,l){!(l.mode&1)&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function hs(i,l,b){if(i!==null&&(l.dependencies=i.dependencies),Ua|=l.lanes,!(b&l.childLanes))return null;if(i!==null&&l.child!==i.child)throw Error(t(153));if(l.child!==null){for(i=l.child,b=ea(i,i.pendingProps),l.child=b,b.return=l;i.sibling!==null;)i=i.sibling,b=b.sibling=ea(i,i.pendingProps),b.return=l;b.sibling=null}return l.child}function c1(i,l,b){switch(l.tag){case 3:dw(l),$l();break;case 5:Ry(l);break;case 1:vi(l.type)&&gh(l);break;case 4:mp(l,l.stateNode.containerInfo);break;case 10:var R=l.type._context,B=l.memoizedProps.value;vn(_h,R._currentValue),R._currentValue=B;break;case 13:if(R=l.memoizedState,R!==null)return R.dehydrated!==null?(vn(Rn,Rn.current&1),l.flags|=128,null):b&l.child.childLanes?pw(i,l,b):(vn(Rn,Rn.current&1),i=hs(i,l,b),i!==null?i.sibling:null);vn(Rn,Rn.current&1);break;case 19:if(R=(b&l.childLanes)!==0,i.flags&128){if(R)return mw(i,l,b);l.flags|=128}if(B=l.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),vn(Rn,Rn.current),R)break;return null;case 22:case 23:return l.lanes=0,cw(i,l,b)}return hs(i,l,b)}var vw,Fp,yw,ww;vw=function(i,l){for(var b=l.child;b!==null;){if(b.tag===5||b.tag===6)i.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break;for(;b.sibling===null;){if(b.return===null||b.return===l)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Fp=function(){},yw=function(i,l,b,R){var B=i.memoizedProps;if(B!==R){i=l.stateNode,za(Oo.current);var W=null;switch(b){case"input":B=qe(i,B),R=qe(i,R),W=[];break;case"select":B=Q({},B,{value:void 0}),R=Q({},R,{value:void 0}),W=[];break;case"textarea":B=Wn(i,B),R=Wn(i,R),W=[];break;default:typeof B.onClick!="function"&&typeof R.onClick=="function"&&(i.onclick=dh)}ln(b,R);var ee;b=null;for(ke in B)if(!R.hasOwnProperty(ke)&&B.hasOwnProperty(ke)&&B[ke]!=null)if(ke==="style"){var fe=B[ke];for(ee in fe)fe.hasOwnProperty(ee)&&(b||(b={}),b[ee]="")}else ke!=="dangerouslySetInnerHTML"&&ke!=="children"&&ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&ke!=="autoFocus"&&(s.hasOwnProperty(ke)?W||(W=[]):(W=W||[]).push(ke,null));for(ke in R){var ve=R[ke];if(fe=B!=null?B[ke]:void 0,R.hasOwnProperty(ke)&&ve!==fe&&(ve!=null||fe!=null))if(ke==="style")if(fe){for(ee in fe)!fe.hasOwnProperty(ee)||ve&&ve.hasOwnProperty(ee)||(b||(b={}),b[ee]="");for(ee in ve)ve.hasOwnProperty(ee)&&fe[ee]!==ve[ee]&&(b||(b={}),b[ee]=ve[ee])}else b||(W||(W=[]),W.push(ke,b)),b=ve;else ke==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,fe=fe?fe.__html:void 0,ve!=null&&fe!==ve&&(W=W||[]).push(ke,ve)):ke==="children"?typeof ve!="string"&&typeof ve!="number"||(W=W||[]).push(ke,""+ve):ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&(s.hasOwnProperty(ke)?(ve!=null&&ke==="onScroll"&&En("scroll",i),W||fe===ve||(W=[])):(W=W||[]).push(ke,ve))}b&&(W=W||[]).push("style",b);var ke=W;(l.updateQueue=ke)&&(l.flags|=4)}},ww=function(i,l,b,R){b!==R&&(l.flags|=4)};function Wc(i,l){if(!Tn)switch(i.tailMode){case"hidden":l=i.tail;for(var b=null;l!==null;)l.alternate!==null&&(b=l),l=l.sibling;b===null?i.tail=null:b.sibling=null;break;case"collapsed":b=i.tail;for(var R=null;b!==null;)b.alternate!==null&&(R=b),b=b.sibling;R===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:R.sibling=null}}function Ur(i){var l=i.alternate!==null&&i.alternate.child===i.child,b=0,R=0;if(l)for(var B=i.child;B!==null;)b|=B.lanes|B.childLanes,R|=B.subtreeFlags&14680064,R|=B.flags&14680064,B.return=i,B=B.sibling;else for(B=i.child;B!==null;)b|=B.lanes|B.childLanes,R|=B.subtreeFlags,R|=B.flags,B.return=i,B=B.sibling;return i.subtreeFlags|=R,i.childLanes=b,l}function u1(i,l,b){var R=l.pendingProps;switch(sp(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(l),null;case 1:return vi(l.type)&&ph(),Ur(l),null;case 3:return R=l.stateNode,Nl(),Sn(mi),Sn(zr),wp(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(i===null||i.child===null)&&(wh(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,po!==null&&(Qp(po),po=null))),Fp(i,l),Ur(l),null;case 5:vp(l);var B=za(Vc.current);if(b=l.type,i!==null&&l.stateNode!=null)yw(i,l,b,R,B),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!R){if(l.stateNode===null)throw Error(t(166));return Ur(l),null}if(i=za(Oo.current),wh(l)){R=l.stateNode,b=l.type;var W=l.memoizedProps;switch(R[Po]=l,R[Oc]=W,i=(l.mode&1)!==0,b){case"dialog":En("cancel",R),En("close",R);break;case"iframe":case"object":case"embed":En("load",R);break;case"video":case"audio":for(B=0;B<Lc.length;B++)En(Lc[B],R);break;case"source":En("error",R);break;case"img":case"image":case"link":En("error",R),En("load",R);break;case"details":En("toggle",R);break;case"input":Ge(R,W),En("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!W.multiple},En("invalid",R);break;case"textarea":Pn(R,W),En("invalid",R)}ln(b,W),B=null;for(var ee in W)if(W.hasOwnProperty(ee)){var fe=W[ee];ee==="children"?typeof fe=="string"?R.textContent!==fe&&(W.suppressHydrationWarning!==!0&&hh(R.textContent,fe,i),B=["children",fe]):typeof fe=="number"&&R.textContent!==""+fe&&(W.suppressHydrationWarning!==!0&&hh(R.textContent,fe,i),B=["children",""+fe]):s.hasOwnProperty(ee)&&fe!=null&&ee==="onScroll"&&En("scroll",R)}switch(b){case"input":$e(R),Ht(R,W,!0);break;case"textarea":$e(R),ur(R);break;case"select":case"option":break;default:typeof W.onClick=="function"&&(R.onclick=dh)}R=B,l.updateQueue=R,R!==null&&(l.flags|=4)}else{ee=B.nodeType===9?B:B.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=be(b)),i==="http://www.w3.org/1999/xhtml"?b==="script"?(i=ee.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof R.is=="string"?i=ee.createElement(b,{is:R.is}):(i=ee.createElement(b),b==="select"&&(ee=i,R.multiple?ee.multiple=!0:R.size&&(ee.size=R.size))):i=ee.createElementNS(i,b),i[Po]=l,i[Oc]=R,vw(i,l,!1,!1),l.stateNode=i;e:{switch(ee=Te(b,R),b){case"dialog":En("cancel",i),En("close",i),B=R;break;case"iframe":case"object":case"embed":En("load",i),B=R;break;case"video":case"audio":for(B=0;B<Lc.length;B++)En(Lc[B],i);B=R;break;case"source":En("error",i),B=R;break;case"img":case"image":case"link":En("error",i),En("load",i),B=R;break;case"details":En("toggle",i),B=R;break;case"input":Ge(i,R),B=qe(i,R),En("invalid",i);break;case"option":B=R;break;case"select":i._wrapperState={wasMultiple:!!R.multiple},B=Q({},R,{value:void 0}),En("invalid",i);break;case"textarea":Pn(i,R),B=Wn(i,R),En("invalid",i);break;default:B=R}ln(b,B),fe=B;for(W in fe)if(fe.hasOwnProperty(W)){var ve=fe[W];W==="style"?$t(i,ve):W==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&ft(i,ve)):W==="children"?typeof ve=="string"?(b!=="textarea"||ve!=="")&&lt(i,ve):typeof ve=="number"&&lt(i,""+ve):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(s.hasOwnProperty(W)?ve!=null&&W==="onScroll"&&En("scroll",i):ve!=null&&F(i,W,ve,ee))}switch(b){case"input":$e(i),Ht(i,R,!1);break;case"textarea":$e(i),ur(i);break;case"option":R.value!=null&&i.setAttribute("value",""+Ee(R.value));break;case"select":i.multiple=!!R.multiple,W=R.value,W!=null?wn(i,!!R.multiple,W,!1):R.defaultValue!=null&&wn(i,!!R.multiple,R.defaultValue,!0);break;default:typeof B.onClick=="function"&&(i.onclick=dh)}switch(b){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ur(l),null;case 6:if(i&&l.stateNode!=null)ww(i,l,i.memoizedProps,R);else{if(typeof R!="string"&&l.stateNode===null)throw Error(t(166));if(b=za(Vc.current),za(Oo.current),wh(l)){if(R=l.stateNode,b=l.memoizedProps,R[Po]=l,(W=R.nodeValue!==b)&&(i=Li,i!==null))switch(i.tag){case 3:hh(R.nodeValue,b,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&hh(R.nodeValue,b,(i.mode&1)!==0)}W&&(l.flags|=4)}else R=(b.nodeType===9?b:b.ownerDocument).createTextNode(R),R[Po]=l,l.stateNode=R}return Ur(l),null;case 13:if(Sn(Rn),R=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Tn&&$i!==null&&l.mode&1&&!(l.flags&128))Ey(),$l(),l.flags|=98560,W=!1;else if(W=wh(l),R!==null&&R.dehydrated!==null){if(i===null){if(!W)throw Error(t(318));if(W=l.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(t(317));W[Po]=l}else $l(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Ur(l),W=!1}else po!==null&&(Qp(po),po=null),W=!0;if(!W)return l.flags&65536?l:null}return l.flags&128?(l.lanes=b,l):(R=R!==null,R!==(i!==null&&i.memoizedState!==null)&&R&&(l.child.flags|=8192,l.mode&1&&(i===null||Rn.current&1?ar===0&&(ar=3):Zp())),l.updateQueue!==null&&(l.flags|=4),Ur(l),null);case 4:return Nl(),Fp(i,l),i===null&&$c(l.stateNode.containerInfo),Ur(l),null;case 10:return dp(l.type._context),Ur(l),null;case 17:return vi(l.type)&&ph(),Ur(l),null;case 19:if(Sn(Rn),W=l.memoizedState,W===null)return Ur(l),null;if(R=(l.flags&128)!==0,ee=W.rendering,ee===null)if(R)Wc(W,!1);else{if(ar!==0||i!==null&&i.flags&128)for(i=l.child;i!==null;){if(ee=Th(i),ee!==null){for(l.flags|=128,Wc(W,!1),R=ee.updateQueue,R!==null&&(l.updateQueue=R,l.flags|=4),l.subtreeFlags=0,R=b,b=l.child;b!==null;)W=b,i=R,W.flags&=14680066,ee=W.alternate,ee===null?(W.childLanes=0,W.lanes=i,W.child=null,W.subtreeFlags=0,W.memoizedProps=null,W.memoizedState=null,W.updateQueue=null,W.dependencies=null,W.stateNode=null):(W.childLanes=ee.childLanes,W.lanes=ee.lanes,W.child=ee.child,W.subtreeFlags=0,W.deletions=null,W.memoizedProps=ee.memoizedProps,W.memoizedState=ee.memoizedState,W.updateQueue=ee.updateQueue,W.type=ee.type,i=ee.dependencies,W.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),b=b.sibling;return vn(Rn,Rn.current&1|2),l.child}i=i.sibling}W.tail!==null&&en()>zl&&(l.flags|=128,R=!0,Wc(W,!1),l.lanes=4194304)}else{if(!R)if(i=Th(ee),i!==null){if(l.flags|=128,R=!0,b=i.updateQueue,b!==null&&(l.updateQueue=b,l.flags|=4),Wc(W,!0),W.tail===null&&W.tailMode==="hidden"&&!ee.alternate&&!Tn)return Ur(l),null}else 2*en()-W.renderingStartTime>zl&&b!==1073741824&&(l.flags|=128,R=!0,Wc(W,!1),l.lanes=4194304);W.isBackwards?(ee.sibling=l.child,l.child=ee):(b=W.last,b!==null?b.sibling=ee:l.child=ee,W.last=ee)}return W.tail!==null?(l=W.tail,W.rendering=l,W.tail=l.sibling,W.renderingStartTime=en(),l.sibling=null,b=Rn.current,vn(Rn,R?b&1|2:b&1),l):(Ur(l),null);case 22:case 23:return Xp(),R=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==R&&(l.flags|=8192),R&&l.mode&1?Pi&1073741824&&(Ur(l),l.subtreeFlags&6&&(l.flags|=8192)):Ur(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function h1(i,l){switch(sp(l),l.tag){case 1:return vi(l.type)&&ph(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Nl(),Sn(mi),Sn(zr),wp(),i=l.flags,i&65536&&!(i&128)?(l.flags=i&-65537|128,l):null;case 5:return vp(l),null;case 13:if(Sn(Rn),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(t(340));$l()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Sn(Rn),null;case 4:return Nl(),null;case 10:return dp(l.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var Ph=!1,Hr=!1,d1=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Bl(i,l){var b=i.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(R){Fn(i,l,R)}else b.current=null}function Bp(i,l,b){try{b()}catch(R){Fn(i,l,R)}}var bw=!1;function f1(i,l){if(Xf=we,i=Vr(),ii(i)){if("selectionStart"in i)var b={start:i.selectionStart,end:i.selectionEnd};else e:{b=(b=i.ownerDocument)&&b.defaultView||window;var R=b.getSelection&&b.getSelection();if(R&&R.rangeCount!==0){b=R.anchorNode;var B=R.anchorOffset,W=R.focusNode;R=R.focusOffset;try{b.nodeType,W.nodeType}catch{b=null;break e}var ee=0,fe=-1,ve=-1,ke=0,Ve=0,je=i,Fe=null;t:for(;;){for(var Je;je!==b||B!==0&&je.nodeType!==3||(fe=ee+B),je!==W||R!==0&&je.nodeType!==3||(ve=ee+R),je.nodeType===3&&(ee+=je.nodeValue.length),(Je=je.firstChild)!==null;)Fe=je,je=Je;for(;;){if(je===i)break t;if(Fe===b&&++ke===B&&(fe=ee),Fe===W&&++Ve===R&&(ve=ee),(Je=je.nextSibling)!==null)break;je=Fe,Fe=je.parentNode}je=Je}b=fe===-1||ve===-1?null:{start:fe,end:ve}}else b=null}b=b||{start:0,end:0}}else b=null;for(Zf={focusedElem:i,selectionRange:b},we=!1,rt=l;rt!==null;)if(l=rt,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,rt=i;else for(;rt!==null;){l=rt;try{var it=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var ot=it.memoizedProps,zn=it.memoizedState,Ce=l.stateNode,ye=Ce.getSnapshotBeforeUpdate(l.elementType===l.type?ot:go(l.type,ot),zn);Ce.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var xe=l.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(He){Fn(l,l.return,He)}if(i=l.sibling,i!==null){i.return=l.return,rt=i;break}rt=l.return}return it=bw,bw=!1,it}function Gc(i,l,b){var R=l.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var B=R=R.next;do{if((B.tag&i)===i){var W=B.destroy;B.destroy=void 0,W!==void 0&&Bp(l,b,W)}B=B.next}while(B!==R)}}function Oh(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var b=l=l.next;do{if((b.tag&i)===i){var R=b.create;b.destroy=R()}b=b.next}while(b!==l)}}function Vp(i){var l=i.ref;if(l!==null){var b=i.stateNode;switch(i.tag){case 5:i=b;break;default:i=b}typeof l=="function"?l(i):l.current=i}}function _w(i){var l=i.alternate;l!==null&&(i.alternate=null,_w(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[Po],delete l[Oc],delete l[np],delete l[QT],delete l[YT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ew(i){return i.tag===5||i.tag===3||i.tag===4}function Sw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ew(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zp(i,l,b){var R=i.tag;if(R===5||R===6)i=i.stateNode,l?b.nodeType===8?b.parentNode.insertBefore(i,l):b.insertBefore(i,l):(b.nodeType===8?(l=b.parentNode,l.insertBefore(i,b)):(l=b,l.appendChild(i)),b=b._reactRootContainer,b!=null||l.onclick!==null||(l.onclick=dh));else if(R!==4&&(i=i.child,i!==null))for(zp(i,l,b),i=i.sibling;i!==null;)zp(i,l,b),i=i.sibling}function jp(i,l,b){var R=i.tag;if(R===5||R===6)i=i.stateNode,l?b.insertBefore(i,l):b.appendChild(i);else if(R!==4&&(i=i.child,i!==null))for(jp(i,l,b),i=i.sibling;i!==null;)jp(i,l,b),i=i.sibling}var Ar=null,mo=!1;function Qs(i,l,b){for(b=b.child;b!==null;)Cw(i,l,b),b=b.sibling}function Cw(i,l,b){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Ui,b)}catch{}switch(b.tag){case 5:Hr||Bl(b,l);case 6:var R=Ar,B=mo;Ar=null,Qs(i,l,b),Ar=R,mo=B,Ar!==null&&(mo?(i=Ar,b=b.stateNode,i.nodeType===8?i.parentNode.removeChild(b):i.removeChild(b)):Ar.removeChild(b.stateNode));break;case 18:Ar!==null&&(mo?(i=Ar,b=b.stateNode,i.nodeType===8?tp(i.parentNode,b):i.nodeType===1&&tp(i,b),ti(i)):tp(Ar,b.stateNode));break;case 4:R=Ar,B=mo,Ar=b.stateNode.containerInfo,mo=!0,Qs(i,l,b),Ar=R,mo=B;break;case 0:case 11:case 14:case 15:if(!Hr&&(R=b.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){B=R=R.next;do{var W=B,ee=W.destroy;W=W.tag,ee!==void 0&&(W&2||W&4)&&Bp(b,l,ee),B=B.next}while(B!==R)}Qs(i,l,b);break;case 1:if(!Hr&&(Bl(b,l),R=b.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=b.memoizedProps,R.state=b.memoizedState,R.componentWillUnmount()}catch(fe){Fn(b,l,fe)}Qs(i,l,b);break;case 21:Qs(i,l,b);break;case 22:b.mode&1?(Hr=(R=Hr)||b.memoizedState!==null,Qs(i,l,b),Hr=R):Qs(i,l,b);break;default:Qs(i,l,b)}}function Tw(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var b=i.stateNode;b===null&&(b=i.stateNode=new d1),l.forEach(function(R){var B=E1.bind(null,i,R);b.has(R)||(b.add(R),R.then(B,B))})}}function vo(i,l){var b=l.deletions;if(b!==null)for(var R=0;R<b.length;R++){var B=b[R];try{var W=i,ee=l,fe=ee;e:for(;fe!==null;){switch(fe.tag){case 5:Ar=fe.stateNode,mo=!1;break e;case 3:Ar=fe.stateNode.containerInfo,mo=!0;break e;case 4:Ar=fe.stateNode.containerInfo,mo=!0;break e}fe=fe.return}if(Ar===null)throw Error(t(160));Cw(W,ee,B),Ar=null,mo=!1;var ve=B.alternate;ve!==null&&(ve.return=null),B.return=null}catch(ke){Fn(B,l,ke)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)xw(l,i),l=l.sibling}function xw(i,l){var b=i.alternate,R=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(vo(l,i),No(i),R&4){try{Gc(3,i,i.return),Oh(3,i)}catch(ot){Fn(i,i.return,ot)}try{Gc(5,i,i.return)}catch(ot){Fn(i,i.return,ot)}}break;case 1:vo(l,i),No(i),R&512&&b!==null&&Bl(b,b.return);break;case 5:if(vo(l,i),No(i),R&512&&b!==null&&Bl(b,b.return),i.flags&32){var B=i.stateNode;try{lt(B,"")}catch(ot){Fn(i,i.return,ot)}}if(R&4&&(B=i.stateNode,B!=null)){var W=i.memoizedProps,ee=b!==null?b.memoizedProps:W,fe=i.type,ve=i.updateQueue;if(i.updateQueue=null,ve!==null)try{fe==="input"&&W.type==="radio"&&W.name!=null&&yt(B,W),Te(fe,ee);var ke=Te(fe,W);for(ee=0;ee<ve.length;ee+=2){var Ve=ve[ee],je=ve[ee+1];Ve==="style"?$t(B,je):Ve==="dangerouslySetInnerHTML"?ft(B,je):Ve==="children"?lt(B,je):F(B,Ve,je,ke)}switch(fe){case"input":Ot(B,W);break;case"textarea":bn(B,W);break;case"select":var Fe=B._wrapperState.wasMultiple;B._wrapperState.wasMultiple=!!W.multiple;var Je=W.value;Je!=null?wn(B,!!W.multiple,Je,!1):Fe!==!!W.multiple&&(W.defaultValue!=null?wn(B,!!W.multiple,W.defaultValue,!0):wn(B,!!W.multiple,W.multiple?[]:"",!1))}B[Oc]=W}catch(ot){Fn(i,i.return,ot)}}break;case 6:if(vo(l,i),No(i),R&4){if(i.stateNode===null)throw Error(t(162));B=i.stateNode,W=i.memoizedProps;try{B.nodeValue=W}catch(ot){Fn(i,i.return,ot)}}break;case 3:if(vo(l,i),No(i),R&4&&b!==null&&b.memoizedState.isDehydrated)try{ti(l.containerInfo)}catch(ot){Fn(i,i.return,ot)}break;case 4:vo(l,i),No(i);break;case 13:vo(l,i),No(i),B=i.child,B.flags&8192&&(W=B.memoizedState!==null,B.stateNode.isHidden=W,!W||B.alternate!==null&&B.alternate.memoizedState!==null||(Wp=en())),R&4&&Tw(i);break;case 22:if(Ve=b!==null&&b.memoizedState!==null,i.mode&1?(Hr=(ke=Hr)||Ve,vo(l,i),Hr=ke):vo(l,i),No(i),R&8192){if(ke=i.memoizedState!==null,(i.stateNode.isHidden=ke)&&!Ve&&i.mode&1)for(rt=i,Ve=i.child;Ve!==null;){for(je=rt=Ve;rt!==null;){switch(Fe=rt,Je=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:Gc(4,Fe,Fe.return);break;case 1:Bl(Fe,Fe.return);var it=Fe.stateNode;if(typeof it.componentWillUnmount=="function"){R=Fe,b=Fe.return;try{l=R,it.props=l.memoizedProps,it.state=l.memoizedState,it.componentWillUnmount()}catch(ot){Fn(R,b,ot)}}break;case 5:Bl(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){Iw(je);continue}}Je!==null?(Je.return=Fe,rt=Je):Iw(je)}Ve=Ve.sibling}e:for(Ve=null,je=i;;){if(je.tag===5){if(Ve===null){Ve=je;try{B=je.stateNode,ke?(W=B.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none"):(fe=je.stateNode,ve=je.memoizedProps.style,ee=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,fe.style.display=Ft("display",ee))}catch(ot){Fn(i,i.return,ot)}}}else if(je.tag===6){if(Ve===null)try{je.stateNode.nodeValue=ke?"":je.memoizedProps}catch(ot){Fn(i,i.return,ot)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===i)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===i)break e;for(;je.sibling===null;){if(je.return===null||je.return===i)break e;Ve===je&&(Ve=null),je=je.return}Ve===je&&(Ve=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:vo(l,i),No(i),R&4&&Tw(i);break;case 21:break;default:vo(l,i),No(i)}}function No(i){var l=i.flags;if(l&2){try{e:{for(var b=i.return;b!==null;){if(Ew(b)){var R=b;break e}b=b.return}throw Error(t(160))}switch(R.tag){case 5:var B=R.stateNode;R.flags&32&&(lt(B,""),R.flags&=-33);var W=Sw(i);jp(i,W,B);break;case 3:case 4:var ee=R.stateNode.containerInfo,fe=Sw(i);zp(i,fe,ee);break;default:throw Error(t(161))}}catch(ve){Fn(i,i.return,ve)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function p1(i,l,b){rt=i,Aw(i)}function Aw(i,l,b){for(var R=(i.mode&1)!==0;rt!==null;){var B=rt,W=B.child;if(B.tag===22&&R){var ee=B.memoizedState!==null||Ph;if(!ee){var fe=B.alternate,ve=fe!==null&&fe.memoizedState!==null||Hr;fe=Ph;var ke=Hr;if(Ph=ee,(Hr=ve)&&!ke)for(rt=B;rt!==null;)ee=rt,ve=ee.child,ee.tag===22&&ee.memoizedState!==null?Rw(B):ve!==null?(ve.return=ee,rt=ve):Rw(B);for(;W!==null;)rt=W,Aw(W),W=W.sibling;rt=B,Ph=fe,Hr=ke}kw(i)}else B.subtreeFlags&8772&&W!==null?(W.return=B,rt=W):kw(i)}}function kw(i){for(;rt!==null;){var l=rt;if(l.flags&8772){var b=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:Hr||Oh(5,l);break;case 1:var R=l.stateNode;if(l.flags&4&&!Hr)if(b===null)R.componentDidMount();else{var B=l.elementType===l.type?b.memoizedProps:go(l.type,b.memoizedProps);R.componentDidUpdate(B,b.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var W=l.updateQueue;W!==null&&Iy(l,W,R);break;case 3:var ee=l.updateQueue;if(ee!==null){if(b=null,l.child!==null)switch(l.child.tag){case 5:b=l.child.stateNode;break;case 1:b=l.child.stateNode}Iy(l,ee,b)}break;case 5:var fe=l.stateNode;if(b===null&&l.flags&4){b=fe;var ve=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&b.focus();break;case"img":ve.src&&(b.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ke=l.alternate;if(ke!==null){var Ve=ke.memoizedState;if(Ve!==null){var je=Ve.dehydrated;je!==null&&ti(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Hr||l.flags&512&&Vp(l)}catch(Fe){Fn(l,l.return,Fe)}}if(l===i){rt=null;break}if(b=l.sibling,b!==null){b.return=l.return,rt=b;break}rt=l.return}}function Iw(i){for(;rt!==null;){var l=rt;if(l===i){rt=null;break}var b=l.sibling;if(b!==null){b.return=l.return,rt=b;break}rt=l.return}}function Rw(i){for(;rt!==null;){var l=rt;try{switch(l.tag){case 0:case 11:case 15:var b=l.return;try{Oh(4,l)}catch(ve){Fn(l,b,ve)}break;case 1:var R=l.stateNode;if(typeof R.componentDidMount=="function"){var B=l.return;try{R.componentDidMount()}catch(ve){Fn(l,B,ve)}}var W=l.return;try{Vp(l)}catch(ve){Fn(l,W,ve)}break;case 5:var ee=l.return;try{Vp(l)}catch(ve){Fn(l,ee,ve)}}}catch(ve){Fn(l,l.return,ve)}if(l===i){rt=null;break}var fe=l.sibling;if(fe!==null){fe.return=l.return,rt=fe;break}rt=l.return}}var g1=Math.ceil,Dh=O.ReactCurrentDispatcher,Up=O.ReactCurrentOwner,Ji=O.ReactCurrentBatchConfig,Yt=0,vr=null,Xn=null,kr=0,Pi=0,Vl=Hs(0),ar=0,Kc=null,Ua=0,Nh=0,Hp=0,qc=null,wi=null,Wp=0,zl=1/0,ds=null,Fh=!1,Gp=null,Ys=null,Bh=!1,Xs=null,Vh=0,Qc=0,Kp=null,zh=-1,jh=0;function si(){return Yt&6?en():zh!==-1?zh:zh=en()}function Zs(i){return i.mode&1?Yt&2&&kr!==0?kr&-kr:ZT.transition!==null?(jh===0&&(jh=di()),jh):(i=It,i!==0||(i=window.event,i=i===void 0?16:gn(i.type)),i):1}function yo(i,l,b,R){if(50<Qc)throw Qc=0,Kp=null,Error(t(185));Dr(i,b,R),(!(Yt&2)||i!==vr)&&(i===vr&&(!(Yt&2)&&(Nh|=b),ar===4&&Js(i,kr)),bi(i,R),b===1&&Yt===0&&!(l.mode&1)&&(zl=en()+500,mh&&Gs()))}function bi(i,l){var b=i.callbackNode;dr(i,l);var R=Ii(i,i===vr?kr:0);if(R===0)b!==null&&Jr(b),i.callbackNode=null,i.callbackPriority=0;else if(l=R&-R,i.callbackPriority!==l){if(b!=null&&Jr(b),l===1)i.tag===0?XT(Lw.bind(null,i)):vy(Lw.bind(null,i)),KT(function(){!(Yt&6)&&Gs()}),b=null;else{switch(rr(R)){case 1:b=ji;break;case 4:b=Or;break;case 16:b=er;break;case 536870912:b=Sr;break;default:b=er}b=Vw(b,Mw.bind(null,i))}i.callbackPriority=l,i.callbackNode=b}}function Mw(i,l){if(zh=-1,jh=0,Yt&6)throw Error(t(327));var b=i.callbackNode;if(jl()&&i.callbackNode!==b)return null;var R=Ii(i,i===vr?kr:0);if(R===0)return null;if(R&30||R&i.expiredLanes||l)l=Uh(i,R);else{l=R;var B=Yt;Yt|=2;var W=Pw();(vr!==i||kr!==l)&&(ds=null,zl=en()+500,Wa(i,l));do try{y1();break}catch(fe){$w(i,fe)}while(!0);hp(),Dh.current=W,Yt=B,Xn!==null?l=0:(vr=null,kr=0,l=ar)}if(l!==0){if(l===2&&(B=nr(i),B!==0&&(R=B,l=qp(i,B))),l===1)throw b=Kc,Wa(i,0),Js(i,R),bi(i,en()),b;if(l===6)Js(i,R);else{if(B=i.current.alternate,!(R&30)&&!m1(B)&&(l=Uh(i,R),l===2&&(W=nr(i),W!==0&&(R=W,l=qp(i,W))),l===1))throw b=Kc,Wa(i,0),Js(i,R),bi(i,en()),b;switch(i.finishedWork=B,i.finishedLanes=R,l){case 0:case 1:throw Error(t(345));case 2:Ga(i,wi,ds);break;case 3:if(Js(i,R),(R&130023424)===R&&(l=Wp+500-en(),10<l)){if(Ii(i,0)!==0)break;if(B=i.suspendedLanes,(B&R)!==R){si(),i.pingedLanes|=i.suspendedLanes&B;break}i.timeoutHandle=ep(Ga.bind(null,i,wi,ds),l);break}Ga(i,wi,ds);break;case 4:if(Js(i,R),(R&4194240)===R)break;for(l=i.eventTimes,B=-1;0<R;){var ee=31-tr(R);W=1<<ee,ee=l[ee],ee>B&&(B=ee),R&=~W}if(R=B,R=en()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*g1(R/1960))-R,10<R){i.timeoutHandle=ep(Ga.bind(null,i,wi,ds),R);break}Ga(i,wi,ds);break;case 5:Ga(i,wi,ds);break;default:throw Error(t(329))}}}return bi(i,en()),i.callbackNode===b?Mw.bind(null,i):null}function qp(i,l){var b=qc;return i.current.memoizedState.isDehydrated&&(Wa(i,l).flags|=256),i=Uh(i,l),i!==2&&(l=wi,wi=b,l!==null&&Qp(l)),i}function Qp(i){wi===null?wi=i:wi.push.apply(wi,i)}function m1(i){for(var l=i;;){if(l.flags&16384){var b=l.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var R=0;R<b.length;R++){var B=b[R],W=B.getSnapshot;B=B.value;try{if(!wt(W(),B))return!1}catch{return!1}}}if(b=l.child,l.subtreeFlags&16384&&b!==null)b.return=l,l=b;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Js(i,l){for(l&=~Hp,l&=~Nh,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var b=31-tr(l),R=1<<b;i[b]=-1,l&=~R}}function Lw(i){if(Yt&6)throw Error(t(327));jl();var l=Ii(i,0);if(!(l&1))return bi(i,en()),null;var b=Uh(i,l);if(i.tag!==0&&b===2){var R=nr(i);R!==0&&(l=R,b=qp(i,R))}if(b===1)throw b=Kc,Wa(i,0),Js(i,l),bi(i,en()),b;if(b===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Ga(i,wi,ds),bi(i,en()),null}function Yp(i,l){var b=Yt;Yt|=1;try{return i(l)}finally{Yt=b,Yt===0&&(zl=en()+500,mh&&Gs())}}function Ha(i){Xs!==null&&Xs.tag===0&&!(Yt&6)&&jl();var l=Yt;Yt|=1;var b=Ji.transition,R=It;try{if(Ji.transition=null,It=1,i)return i()}finally{It=R,Ji.transition=b,Yt=l,!(Yt&6)&&Gs()}}function Xp(){Pi=Vl.current,Sn(Vl)}function Wa(i,l){i.finishedWork=null,i.finishedLanes=0;var b=i.timeoutHandle;if(b!==-1&&(i.timeoutHandle=-1,GT(b)),Xn!==null)for(b=Xn.return;b!==null;){var R=b;switch(sp(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&ph();break;case 3:Nl(),Sn(mi),Sn(zr),wp();break;case 5:vp(R);break;case 4:Nl();break;case 13:Sn(Rn);break;case 19:Sn(Rn);break;case 10:dp(R.type._context);break;case 22:case 23:Xp()}b=b.return}if(vr=i,Xn=i=ea(i.current,null),kr=Pi=l,ar=0,Kc=null,Hp=Nh=Ua=0,wi=qc=null,Va!==null){for(l=0;l<Va.length;l++)if(b=Va[l],R=b.interleaved,R!==null){b.interleaved=null;var B=R.next,W=b.pending;if(W!==null){var ee=W.next;W.next=B,R.next=ee}b.pending=R}Va=null}return i}function $w(i,l){do{var b=Xn;try{if(hp(),xh.current=Rh,Ah){for(var R=Mn.memoizedState;R!==null;){var B=R.queue;B!==null&&(B.pending=null),R=R.next}Ah=!1}if(ja=0,mr=sr=Mn=null,zc=!1,jc=0,Up.current=null,b===null||b.return===null){ar=1,Kc=l,Xn=null;break}e:{var W=i,ee=b.return,fe=b,ve=l;if(l=kr,fe.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var ke=ve,Ve=fe,je=Ve.tag;if(!(Ve.mode&1)&&(je===0||je===11||je===15)){var Fe=Ve.alternate;Fe?(Ve.updateQueue=Fe.updateQueue,Ve.memoizedState=Fe.memoizedState,Ve.lanes=Fe.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var Je=iw(ee);if(Je!==null){Je.flags&=-257,ow(Je,ee,fe,W,l),Je.mode&1&&rw(W,ke,l),l=Je,ve=ke;var it=l.updateQueue;if(it===null){var ot=new Set;ot.add(ve),l.updateQueue=ot}else it.add(ve);break e}else{if(!(l&1)){rw(W,ke,l),Zp();break e}ve=Error(t(426))}}else if(Tn&&fe.mode&1){var zn=iw(ee);if(zn!==null){!(zn.flags&65536)&&(zn.flags|=256),ow(zn,ee,fe,W,l),cp(Fl(ve,fe));break e}}W=ve=Fl(ve,fe),ar!==4&&(ar=2),qc===null?qc=[W]:qc.push(W),W=ee;do{switch(W.tag){case 3:W.flags|=65536,l&=-l,W.lanes|=l;var Ce=tw(W,ve,l);ky(W,Ce);break e;case 1:fe=ve;var ye=W.type,xe=W.stateNode;if(!(W.flags&128)&&(typeof ye.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Ys===null||!Ys.has(xe)))){W.flags|=65536,l&=-l,W.lanes|=l;var He=nw(W,fe,l);ky(W,He);break e}}W=W.return}while(W!==null)}Dw(b)}catch(at){l=at,Xn===b&&b!==null&&(Xn=b=b.return);continue}break}while(!0)}function Pw(){var i=Dh.current;return Dh.current=Rh,i===null?Rh:i}function Zp(){(ar===0||ar===3||ar===2)&&(ar=4),vr===null||!(Ua&268435455)&&!(Nh&268435455)||Js(vr,kr)}function Uh(i,l){var b=Yt;Yt|=2;var R=Pw();(vr!==i||kr!==l)&&(ds=null,Wa(i,l));do try{v1();break}catch(B){$w(i,B)}while(!0);if(hp(),Yt=b,Dh.current=R,Xn!==null)throw Error(t(261));return vr=null,kr=0,ar}function v1(){for(;Xn!==null;)Ow(Xn)}function y1(){for(;Xn!==null&&!Ms();)Ow(Xn)}function Ow(i){var l=Bw(i.alternate,i,Pi);i.memoizedProps=i.pendingProps,l===null?Dw(i):Xn=l,Up.current=null}function Dw(i){var l=i;do{var b=l.alternate;if(i=l.return,l.flags&32768){if(b=h1(b,l),b!==null){b.flags&=32767,Xn=b;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ar=6,Xn=null;return}}else if(b=u1(b,l,Pi),b!==null){Xn=b;return}if(l=l.sibling,l!==null){Xn=l;return}Xn=l=i}while(l!==null);ar===0&&(ar=5)}function Ga(i,l,b){var R=It,B=Ji.transition;try{Ji.transition=null,It=1,w1(i,l,b,R)}finally{Ji.transition=B,It=R}return null}function w1(i,l,b,R){do jl();while(Xs!==null);if(Yt&6)throw Error(t(327));b=i.finishedWork;var B=i.finishedLanes;if(b===null)return null;if(i.finishedWork=null,i.finishedLanes=0,b===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var W=b.lanes|b.childLanes;if(tn(i,W),i===vr&&(Xn=vr=null,kr=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||Bh||(Bh=!0,Vw(er,function(){return jl(),null})),W=(b.flags&15990)!==0,b.subtreeFlags&15990||W){W=Ji.transition,Ji.transition=null;var ee=It;It=1;var fe=Yt;Yt|=4,Up.current=null,f1(i,b),xw(b,i),fo(Zf),we=!!Xf,Zf=Xf=null,i.current=b,p1(b),La(),Yt=fe,It=ee,Ji.transition=W}else i.current=b;if(Bh&&(Bh=!1,Xs=i,Vh=B),W=i.pendingLanes,W===0&&(Ys=null),Co(b.stateNode),bi(i,en()),l!==null)for(R=i.onRecoverableError,b=0;b<l.length;b++)B=l[b],R(B.value,{componentStack:B.stack,digest:B.digest});if(Fh)throw Fh=!1,i=Gp,Gp=null,i;return Vh&1&&i.tag!==0&&jl(),W=i.pendingLanes,W&1?i===Kp?Qc++:(Qc=0,Kp=i):Qc=0,Gs(),null}function jl(){if(Xs!==null){var i=rr(Vh),l=Ji.transition,b=It;try{if(Ji.transition=null,It=16>i?16:i,Xs===null)var R=!1;else{if(i=Xs,Xs=null,Vh=0,Yt&6)throw Error(t(331));var B=Yt;for(Yt|=4,rt=i.current;rt!==null;){var W=rt,ee=W.child;if(rt.flags&16){var fe=W.deletions;if(fe!==null){for(var ve=0;ve<fe.length;ve++){var ke=fe[ve];for(rt=ke;rt!==null;){var Ve=rt;switch(Ve.tag){case 0:case 11:case 15:Gc(8,Ve,W)}var je=Ve.child;if(je!==null)je.return=Ve,rt=je;else for(;rt!==null;){Ve=rt;var Fe=Ve.sibling,Je=Ve.return;if(_w(Ve),Ve===ke){rt=null;break}if(Fe!==null){Fe.return=Je,rt=Fe;break}rt=Je}}}var it=W.alternate;if(it!==null){var ot=it.child;if(ot!==null){it.child=null;do{var zn=ot.sibling;ot.sibling=null,ot=zn}while(ot!==null)}}rt=W}}if(W.subtreeFlags&2064&&ee!==null)ee.return=W,rt=ee;else e:for(;rt!==null;){if(W=rt,W.flags&2048)switch(W.tag){case 0:case 11:case 15:Gc(9,W,W.return)}var Ce=W.sibling;if(Ce!==null){Ce.return=W.return,rt=Ce;break e}rt=W.return}}var ye=i.current;for(rt=ye;rt!==null;){ee=rt;var xe=ee.child;if(ee.subtreeFlags&2064&&xe!==null)xe.return=ee,rt=xe;else e:for(ee=ye;rt!==null;){if(fe=rt,fe.flags&2048)try{switch(fe.tag){case 0:case 11:case 15:Oh(9,fe)}}catch(at){Fn(fe,fe.return,at)}if(fe===ee){rt=null;break e}var He=fe.sibling;if(He!==null){He.return=fe.return,rt=He;break e}rt=fe.return}}if(Yt=B,Gs(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Ui,i)}catch{}R=!0}return R}finally{It=b,Ji.transition=l}}return!1}function Nw(i,l,b){l=Fl(b,l),l=tw(i,l,1),i=qs(i,l,1),l=si(),i!==null&&(Dr(i,1,l),bi(i,l))}function Fn(i,l,b){if(i.tag===3)Nw(i,i,b);else for(;l!==null;){if(l.tag===3){Nw(l,i,b);break}else if(l.tag===1){var R=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Ys===null||!Ys.has(R))){i=Fl(b,i),i=nw(l,i,1),l=qs(l,i,1),i=si(),l!==null&&(Dr(l,1,i),bi(l,i));break}}l=l.return}}function b1(i,l,b){var R=i.pingCache;R!==null&&R.delete(l),l=si(),i.pingedLanes|=i.suspendedLanes&b,vr===i&&(kr&b)===b&&(ar===4||ar===3&&(kr&130023424)===kr&&500>en()-Wp?Wa(i,0):Hp|=b),bi(i,l)}function Fw(i,l){l===0&&(i.mode&1?(l=hi,hi<<=1,!(hi&130023424)&&(hi=4194304)):l=1);var b=si();i=cs(i,l),i!==null&&(Dr(i,l,b),bi(i,b))}function _1(i){var l=i.memoizedState,b=0;l!==null&&(b=l.retryLane),Fw(i,b)}function E1(i,l){var b=0;switch(i.tag){case 13:var R=i.stateNode,B=i.memoizedState;B!==null&&(b=B.retryLane);break;case 19:R=i.stateNode;break;default:throw Error(t(314))}R!==null&&R.delete(l),Fw(i,b)}var Bw;Bw=function(i,l,b){if(i!==null)if(i.memoizedProps!==l.pendingProps||mi.current)yi=!0;else{if(!(i.lanes&b)&&!(l.flags&128))return yi=!1,c1(i,l,b);yi=!!(i.flags&131072)}else yi=!1,Tn&&l.flags&1048576&&yy(l,yh,l.index);switch(l.lanes=0,l.tag){case 2:var R=l.type;$h(i,l),i=l.pendingProps;var B=Rl(l,zr.current);Dl(l,b),B=Ep(null,l,R,i,B,b);var W=Sp();return l.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,vi(R)?(W=!0,gh(l)):W=!1,l.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,gp(l),B.updater=Mh,l.stateNode=B,B._reactInternals=l,Ip(l,R,i,b),l=$p(null,l,R,!0,W,b)):(l.tag=0,Tn&&W&&op(l),oi(null,l,B,b),l=l.child),l;case 16:R=l.elementType;e:{switch($h(i,l),i=l.pendingProps,B=R._init,R=B(R._payload),l.type=R,B=l.tag=C1(R),i=go(R,i),B){case 0:l=Lp(null,l,R,i,b);break e;case 1:l=hw(null,l,R,i,b);break e;case 11:l=sw(null,l,R,i,b);break e;case 14:l=aw(null,l,R,go(R.type,i),b);break e}throw Error(t(306,R,""))}return l;case 0:return R=l.type,B=l.pendingProps,B=l.elementType===R?B:go(R,B),Lp(i,l,R,B,b);case 1:return R=l.type,B=l.pendingProps,B=l.elementType===R?B:go(R,B),hw(i,l,R,B,b);case 3:e:{if(dw(l),i===null)throw Error(t(387));R=l.pendingProps,W=l.memoizedState,B=W.element,Ay(i,l),Ch(l,R,null,b);var ee=l.memoizedState;if(R=ee.element,W.isDehydrated)if(W={element:R,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},l.updateQueue.baseState=W,l.memoizedState=W,l.flags&256){B=Fl(Error(t(423)),l),l=fw(i,l,R,b,B);break e}else if(R!==B){B=Fl(Error(t(424)),l),l=fw(i,l,R,b,B);break e}else for($i=Us(l.stateNode.containerInfo.firstChild),Li=l,Tn=!0,po=null,b=Ty(l,null,R,b),l.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if($l(),R===B){l=hs(i,l,b);break e}oi(i,l,R,b)}l=l.child}return l;case 5:return Ry(l),i===null&&lp(l),R=l.type,B=l.pendingProps,W=i!==null?i.memoizedProps:null,ee=B.children,Jf(R,B)?ee=null:W!==null&&Jf(R,W)&&(l.flags|=32),uw(i,l),oi(i,l,ee,b),l.child;case 6:return i===null&&lp(l),null;case 13:return pw(i,l,b);case 4:return mp(l,l.stateNode.containerInfo),R=l.pendingProps,i===null?l.child=Pl(l,null,R,b):oi(i,l,R,b),l.child;case 11:return R=l.type,B=l.pendingProps,B=l.elementType===R?B:go(R,B),sw(i,l,R,B,b);case 7:return oi(i,l,l.pendingProps,b),l.child;case 8:return oi(i,l,l.pendingProps.children,b),l.child;case 12:return oi(i,l,l.pendingProps.children,b),l.child;case 10:e:{if(R=l.type._context,B=l.pendingProps,W=l.memoizedProps,ee=B.value,vn(_h,R._currentValue),R._currentValue=ee,W!==null)if(wt(W.value,ee)){if(W.children===B.children&&!mi.current){l=hs(i,l,b);break e}}else for(W=l.child,W!==null&&(W.return=l);W!==null;){var fe=W.dependencies;if(fe!==null){ee=W.child;for(var ve=fe.firstContext;ve!==null;){if(ve.context===R){if(W.tag===1){ve=us(-1,b&-b),ve.tag=2;var ke=W.updateQueue;if(ke!==null){ke=ke.shared;var Ve=ke.pending;Ve===null?ve.next=ve:(ve.next=Ve.next,Ve.next=ve),ke.pending=ve}}W.lanes|=b,ve=W.alternate,ve!==null&&(ve.lanes|=b),fp(W.return,b,l),fe.lanes|=b;break}ve=ve.next}}else if(W.tag===10)ee=W.type===l.type?null:W.child;else if(W.tag===18){if(ee=W.return,ee===null)throw Error(t(341));ee.lanes|=b,fe=ee.alternate,fe!==null&&(fe.lanes|=b),fp(ee,b,l),ee=W.sibling}else ee=W.child;if(ee!==null)ee.return=W;else for(ee=W;ee!==null;){if(ee===l){ee=null;break}if(W=ee.sibling,W!==null){W.return=ee.return,ee=W;break}ee=ee.return}W=ee}oi(i,l,B.children,b),l=l.child}return l;case 9:return B=l.type,R=l.pendingProps.children,Dl(l,b),B=Xi(B),R=R(B),l.flags|=1,oi(i,l,R,b),l.child;case 14:return R=l.type,B=go(R,l.pendingProps),B=go(R.type,B),aw(i,l,R,B,b);case 15:return lw(i,l,l.type,l.pendingProps,b);case 17:return R=l.type,B=l.pendingProps,B=l.elementType===R?B:go(R,B),$h(i,l),l.tag=1,vi(R)?(i=!0,gh(l)):i=!1,Dl(l,b),Jy(l,R,B),Ip(l,R,B,b),$p(null,l,R,!0,i,b);case 19:return mw(i,l,b);case 22:return cw(i,l,b)}throw Error(t(156,l.tag))};function Vw(i,l){return zi(i,l)}function S1(i,l,b,R){this.tag=i,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(i,l,b,R){return new S1(i,l,b,R)}function Jp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function C1(i){if(typeof i=="function")return Jp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===S)return 11;if(i===N)return 14}return 2}function ea(i,l){var b=i.alternate;return b===null?(b=eo(i.tag,l,i.key,i.mode),b.elementType=i.elementType,b.type=i.type,b.stateNode=i.stateNode,b.alternate=i,i.alternate=b):(b.pendingProps=l,b.type=i.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=i.flags&14680064,b.childLanes=i.childLanes,b.lanes=i.lanes,b.child=i.child,b.memoizedProps=i.memoizedProps,b.memoizedState=i.memoizedState,b.updateQueue=i.updateQueue,l=i.dependencies,b.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},b.sibling=i.sibling,b.index=i.index,b.ref=i.ref,b}function Hh(i,l,b,R,B,W){var ee=2;if(R=i,typeof i=="function")Jp(i)&&(ee=1);else if(typeof i=="string")ee=5;else e:switch(i){case E:return Ka(b.children,B,W,l);case I:ee=8,B|=8;break;case M:return i=eo(12,b,l,B|2),i.elementType=M,i.lanes=W,i;case w:return i=eo(13,b,l,B),i.elementType=w,i.lanes=W,i;case L:return i=eo(19,b,l,B),i.elementType=L,i.lanes=W,i;case q:return Wh(b,B,W,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:ee=10;break e;case V:ee=9;break e;case S:ee=11;break e;case N:ee=14;break e;case z:ee=16,R=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return l=eo(ee,b,l,B),l.elementType=i,l.type=R,l.lanes=W,l}function Ka(i,l,b,R){return i=eo(7,i,R,l),i.lanes=b,i}function Wh(i,l,b,R){return i=eo(22,i,R,l),i.elementType=q,i.lanes=b,i.stateNode={isHidden:!1},i}function eg(i,l,b){return i=eo(6,i,null,l),i.lanes=b,i}function tg(i,l,b){return l=eo(4,i.children!==null?i.children:[],i.key,l),l.lanes=b,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function T1(i,l,b,R,B){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qn(0),this.expirationTimes=Qn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.identifierPrefix=R,this.onRecoverableError=B,this.mutableSourceEagerHydrationData=null}function ng(i,l,b,R,B,W,ee,fe,ve){return i=new T1(i,l,b,fe,ve),l===1?(l=1,W===!0&&(l|=8)):l=0,W=eo(3,null,null,l),i.current=W,W.stateNode=i,W.memoizedState={element:R,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},gp(W),i}function x1(i,l,b){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:R==null?null:""+R,children:i,containerInfo:l,implementation:b}}function zw(i){if(!i)return Ws;i=i._reactInternals;e:{if(st(i)!==i||i.tag!==1)throw Error(t(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(vi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(i.tag===1){var b=i.type;if(vi(b))return gy(i,b,l)}return l}function jw(i,l,b,R,B,W,ee,fe,ve){return i=ng(b,R,!0,i,B,W,ee,fe,ve),i.context=zw(null),b=i.current,R=si(),B=Zs(b),W=us(R,B),W.callback=l??null,qs(b,W,B),i.current.lanes=B,Dr(i,B,R),bi(i,R),i}function Gh(i,l,b,R){var B=l.current,W=si(),ee=Zs(B);return b=zw(b),l.context===null?l.context=b:l.pendingContext=b,l=us(W,ee),l.payload={element:i},R=R===void 0?null:R,R!==null&&(l.callback=R),i=qs(B,l,ee),i!==null&&(yo(i,B,ee,W),Sh(i,B,ee)),ee}function Kh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Uw(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var b=i.retryLane;i.retryLane=b!==0&&b<l?b:l}}function rg(i,l){Uw(i,l),(i=i.alternate)&&Uw(i,l)}var Hw=typeof reportError=="function"?reportError:function(i){console.error(i)};function ig(i){this._internalRoot=i}qh.prototype.render=ig.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(t(409));Gh(i,l,null,null)},qh.prototype.unmount=ig.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Ha(function(){Gh(null,i,null,null)}),l[os]=null}};function qh(i){this._internalRoot=i}qh.prototype.unstable_scheduleHydration=function(i){if(i){var l=Os();i={blockedOn:null,target:i,priority:l};for(var b=0;b<Tr.length&&l!==0&&l<Tr[b].priority;b++);Tr.splice(b,0,i),b===0&&Io(i)}};function og(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Qh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function A1(i,l,b,R,B){if(B){if(typeof R=="function"){var W=R;R=function(){var ke=Kh(ee);W.call(ke)}}var ee=jw(l,R,i,0,null,!1,!1,"",Ww);return i._reactRootContainer=ee,i[os]=ee.current,$c(i.nodeType===8?i.parentNode:i),Ha(),ee}for(;B=i.lastChild;)i.removeChild(B);if(typeof R=="function"){var fe=R;R=function(){var ke=Kh(ve);fe.call(ke)}}var ve=ng(i,0,!1,null,null,!1,!1,"",Ww);return i._reactRootContainer=ve,i[os]=ve.current,$c(i.nodeType===8?i.parentNode:i),Ha(function(){Gh(l,ve,b,R)}),ve}function Yh(i,l,b,R,B){var W=b._reactRootContainer;if(W){var ee=W;if(typeof B=="function"){var fe=B;B=function(){var ve=Kh(ee);fe.call(ve)}}Gh(l,ee,i,B)}else ee=A1(b,l,i,B,R);return Kh(ee)}Ps=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var b=ki(l.pendingLanes);b!==0&&(fi(l,b|1),bi(l,en()),!(Yt&6)&&(zl=en()+500,Gs()))}break;case 13:Ha(function(){var R=cs(i,1);if(R!==null){var B=si();yo(R,i,1,B)}}),rg(i,1)}},Ao=function(i){if(i.tag===13){var l=cs(i,134217728);if(l!==null){var b=si();yo(l,i,134217728,b)}rg(i,134217728)}},Nr=function(i){if(i.tag===13){var l=Zs(i),b=cs(i,l);if(b!==null){var R=si();yo(b,i,l,R)}rg(i,l)}},Os=function(){return It},Ds=function(i,l){var b=It;try{return It=i,l()}finally{It=b}},Rt=function(i,l,b){switch(l){case"input":if(Ot(i,b),l=b.name,b.type==="radio"&&l!=null){for(b=i;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<b.length;l++){var R=b[l];if(R!==i&&R.form===i.form){var B=fh(R);if(!B)throw Error(t(90));Qe(R),Ot(R,B)}}}break;case"textarea":bn(i,b);break;case"select":l=b.value,l!=null&&wn(i,!!b.multiple,l,!1)}},ci=Yp,Bi=Ha;var k1={usingClientEntryPoint:!1,Events:[Dc,kl,fh,Gn,Ai,Yp]},Yc={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I1={bundleType:Yc.bundleType,version:Yc.version,rendererPackageName:Yc.rendererPackageName,rendererConfig:Yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Jo(i),i===null?null:i.stateNode},findFiberByHostInstance:Yc.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{Ui=Xh.inject(I1),Cr=Xh}catch{}}return _i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k1,_i.createPortal=function(i,l){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!og(l))throw Error(t(200));return x1(i,l,null,b)},_i.createRoot=function(i,l){if(!og(i))throw Error(t(299));var b=!1,R="",B=Hw;return l!=null&&(l.unstable_strictMode===!0&&(b=!0),l.identifierPrefix!==void 0&&(R=l.identifierPrefix),l.onRecoverableError!==void 0&&(B=l.onRecoverableError)),l=ng(i,1,!1,null,null,b,!1,R,B),i[os]=l.current,$c(i.nodeType===8?i.parentNode:i),new ig(l)},_i.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Jo(l),i=i===null?null:i.stateNode,i},_i.flushSync=function(i){return Ha(i)},_i.hydrate=function(i,l,b){if(!Qh(l))throw Error(t(200));return Yh(null,i,l,!0,b)},_i.hydrateRoot=function(i,l,b){if(!og(i))throw Error(t(405));var R=b!=null&&b.hydratedSources||null,B=!1,W="",ee=Hw;if(b!=null&&(b.unstable_strictMode===!0&&(B=!0),b.identifierPrefix!==void 0&&(W=b.identifierPrefix),b.onRecoverableError!==void 0&&(ee=b.onRecoverableError)),l=jw(l,null,i,1,b??null,B,!1,W,ee),i[os]=l.current,$c(i),R)for(i=0;i<R.length;i++)b=R[i],B=b._getVersion,B=B(b._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[b,B]:l.mutableSourceEagerHydrationData.push(b,B);return new qh(l)},_i.render=function(i,l,b){if(!Qh(l))throw Error(t(200));return Yh(null,i,l,!1,b)},_i.unmountComponentAtNode=function(i){if(!Qh(i))throw Error(t(40));return i._reactRootContainer?(Ha(function(){Yh(null,null,i,!1,function(){i._reactRootContainer=null,i[os]=null})}),!0):!1},_i.unstable_batchedUpdates=Yp,_i.unstable_renderSubtreeIntoContainer=function(i,l,b,R){if(!Qh(b))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Yh(i,l,b,!1,R)},_i.version="18.3.1-next-f1338f8080-20240426",_i}var Jw;function y_(){if(Jw)return lg.exports;Jw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lg.exports=B1(),lg.exports}var e0;function V1(){if(e0)return Zh;e0=1;var n=y_();return Zh.createRoot=n.createRoot,Zh.hydrateRoot=n.hydrateRoot,Zh}var z1=V1(),t0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},j1=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],m=n[t++],u=((s&7)<<18|(o&63)<<12|(c&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},b_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,m=c?n[s+1]:0,u=s+2<n.length,g=u?n[s+2]:0,a=o>>2,h=(o&3)<<4|m>>4;let d=(m&15)<<2|g>>6,f=g&63;u||(f=64,c||(d=64)),r.push(t[a],t[h],t[d],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(w_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):j1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],m=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const h=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||m==null||g==null||h==null)throw new U1;const d=o<<2|m>>4;if(r.push(d),g!==64){const f=m<<4&240|g>>2;if(r.push(f),h!==64){const p=g<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class U1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H1=function(n){const e=w_(n);return b_.encodeByteArray(e,!0)},Sd=function(n){return H1(n).replace(/\./g,"")},__=function(n){try{return b_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=()=>W1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof t0>"u")return;const n=t0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},q1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&__(n[1]);return e&&JSON.parse(e)},of=()=>{try{return G1()||K1()||q1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},E_=n=>{var e,t;return(t=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Q1=n=>{const e=E_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},S_=()=>{var n;return(n=of())===null||n===void 0?void 0:n.config},C_=n=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Sd(JSON.stringify(t)),Sd(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}function J1(){var n;const e=(n=of())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ex(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rx(){const n=Qr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ix(){return!J1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ox(){try{return typeof indexedDB=="object"}catch{return!1}}function sx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="FirebaseError";class As extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ax,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?lx(o,r):"Error",m=`${this.serviceName}: ${c} (${s}).`;return new As(s,m,r)}}function lx(n,e){return n.replace(cx,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const cx=/\{\$([^}]+)}/g;function ux(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],c=e[s];if(n0(o)&&n0(c)){if(!Cd(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function n0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ru(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function iu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function hx(n,e){const t=new dx(n,e);return t.subscribe.bind(t)}class dx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");fx(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=hg),s.error===void 0&&(s.error=hg),s.complete===void 0&&(s.complete=hg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(n){return n&&n._delegate?n._delegate:n}class sl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Y1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mx(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(o);r===m&&c.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gx(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gx(n){return n===Qa?void 0:n}function mx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new px(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vt||(Vt={}));const yx={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},wx=Vt.INFO,bx={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},_x=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=bx[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=wx,this._logHandler=_x,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...e),this._logHandler(this,Vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...e),this._logHandler(this,Vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...e),this._logHandler(this,Vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...e),this._logHandler(this,Vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...e),this._logHandler(this,Vt.ERROR,...e)}}const Ex=(n,e)=>e.some(t=>n instanceof t);let r0,i0;function Sx(){return r0||(r0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cx(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T_=new WeakMap,jg=new WeakMap,x_=new WeakMap,dg=new WeakMap,xm=new WeakMap;function Tx(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(pa(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&T_.set(t,n)}).catch(()=>{}),xm.set(e,n),e}function xx(n){if(jg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});jg.set(n,e)}let Ug={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||x_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ax(n){Ug=n(Ug)}function kx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(fg(this),e,...t);return x_.set(r,e.sort?e.sort():[e]),pa(r)}:Cx().includes(n)?function(...e){return n.apply(fg(this),e),pa(T_.get(this))}:function(...e){return pa(n.apply(fg(this),e))}}function Ix(n){return typeof n=="function"?kx(n):(n instanceof IDBTransaction&&xx(n),Ex(n,Sx())?new Proxy(n,Ug):n)}function pa(n){if(n instanceof IDBRequest)return Tx(n);if(dg.has(n))return dg.get(n);const e=Ix(n);return e!==n&&(dg.set(n,e),xm.set(e,n)),e}const fg=n=>xm.get(n);function Rx(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),m=pa(c);return r&&c.addEventListener("upgradeneeded",u=>{r(pa(c.result),u.oldVersion,u.newVersion,pa(c.transaction),u)}),t&&c.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),m.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Mx=["get","getKey","getAll","getAllKeys","count"],Lx=["put","add","delete","clear"],pg=new Map;function o0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pg.get(e))return pg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Lx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Mx.includes(t)))return;const o=async function(c,...m){const u=this.transaction(c,s?"readwrite":"readonly");let g=u.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),s&&u.done]))[0]};return pg.set(e,o),o}Ax(n=>({...n,get:(e,t,r)=>o0(e,t)||n.get(e,t,r),has:(e,t)=>!!o0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Px(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Px(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hg="@firebase/app",s0="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Tm("@firebase/app"),Ox="@firebase/app-compat",Dx="@firebase/analytics-compat",Nx="@firebase/analytics",Fx="@firebase/app-check-compat",Bx="@firebase/app-check",Vx="@firebase/auth",zx="@firebase/auth-compat",jx="@firebase/database",Ux="@firebase/data-connect",Hx="@firebase/database-compat",Wx="@firebase/functions",Gx="@firebase/functions-compat",Kx="@firebase/installations",qx="@firebase/installations-compat",Qx="@firebase/messaging",Yx="@firebase/messaging-compat",Xx="@firebase/performance",Zx="@firebase/performance-compat",Jx="@firebase/remote-config",eA="@firebase/remote-config-compat",tA="@firebase/storage",nA="@firebase/storage-compat",rA="@firebase/firestore",iA="@firebase/vertexai",oA="@firebase/firestore-compat",sA="firebase",aA="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="[DEFAULT]",lA={[Hg]:"fire-core",[Ox]:"fire-core-compat",[Nx]:"fire-analytics",[Dx]:"fire-analytics-compat",[Bx]:"fire-app-check",[Fx]:"fire-app-check-compat",[Vx]:"fire-auth",[zx]:"fire-auth-compat",[jx]:"fire-rtdb",[Ux]:"fire-data-connect",[Hx]:"fire-rtdb-compat",[Wx]:"fire-fn",[Gx]:"fire-fn-compat",[Kx]:"fire-iid",[qx]:"fire-iid-compat",[Qx]:"fire-fcm",[Yx]:"fire-fcm-compat",[Xx]:"fire-perf",[Zx]:"fire-perf-compat",[Jx]:"fire-rc",[eA]:"fire-rc-compat",[tA]:"fire-gcs",[nA]:"fire-gcs-compat",[rA]:"fire-fst",[oA]:"fire-fst-compat",[iA]:"fire-vertex","fire-js":"fire-js",[sA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=new Map,cA=new Map,Gg=new Map;function a0(n,e){try{n.container.addComponent(e)}catch(t){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function sc(n){const e=n.name;if(Gg.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,n);for(const t of Td.values())a0(t,n);for(const t of cA.values())a0(t,n);return!0}function Am(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zo(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ga=new Pu("app","Firebase",uA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=aA;function A_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ga.create("bad-app-name",{appName:String(s)});if(t||(t=S_()),!t)throw ga.create("no-options");const o=Td.get(s);if(o){if(Cd(t,o.options)&&Cd(r,o.config))return o;throw ga.create("duplicate-app",{appName:s})}const c=new vx(s);for(const u of Gg.values())c.addComponent(u);const m=new hA(t,r,c);return Td.set(s,m),m}function k_(n=Wg){const e=Td.get(n);if(!e&&n===Wg&&S_())return A_();if(!e)throw ga.create("no-app",{appName:n});return e}function ma(n,e,t){var r;let s=(r=lA[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const m=[`Unable to register library "${s}" with version "${e}":`];o&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(m.join(" "));return}sc(new sl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firebase-heartbeat-database",fA=1,bu="firebase-heartbeat-store";let gg=null;function I_(){return gg||(gg=Rx(dA,fA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ga.create("idb-open",{originalErrorMessage:n.message})})),gg}async function pA(n){try{const t=(await I_()).transaction(bu),r=await t.objectStore(bu).get(R_(n));return await t.done,r}catch(e){if(e instanceof As)_s.warn(e.message);else{const t=ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(t.message)}}}async function l0(n,e){try{const r=(await I_()).transaction(bu,"readwrite");await r.objectStore(bu).put(e,R_(n)),await r.done}catch(t){if(t instanceof As)_s.warn(t.message);else{const r=ga.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_s.warn(r.message)}}}function R_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=1024,mA=30*24*60*60*1e3;class vA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=c0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const m=new Date(c.date).valueOf();return Date.now()-m<=mA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=c0(),{heartbeatsToSend:r,unsentEntries:s}=yA(this._heartbeatsCache.heartbeats),o=Sd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _s.warn(t),""}}}function c0(){return new Date().toISOString().substring(0,10)}function yA(n,e=gA){const t=[];let r=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),u0(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),u0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class wA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ox()?sx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return l0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return l0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function u0(n){return Sd(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n){sc(new sl("platform-logger",e=>new $x(e),"PRIVATE")),sc(new sl("heartbeat",e=>new vA(e),"PRIVATE")),ma(Hg,s0,n),ma(Hg,s0,"esm2017"),ma("fire-js","")}bA("");var _A="firebase",EA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ma(_A,EA,"app");var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nl,M_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,I){function M(){}M.prototype=I.prototype,E.D=I.prototype,E.prototype=new M,E.prototype.constructor=E,E.C=function(P,V,S){for(var w=Array(arguments.length-2),L=2;L<arguments.length;L++)w[L-2]=arguments[L];return I.prototype[V].apply(P,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,I,M){M||(M=0);var P=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)P[V]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(V=0;16>V;++V)P[V]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=E.g[0],M=E.g[1],V=E.g[2];var S=E.g[3],w=I+(S^M&(V^S))+P[0]+3614090360&4294967295;I=M+(w<<7&4294967295|w>>>25),w=S+(V^I&(M^V))+P[1]+3905402710&4294967295,S=I+(w<<12&4294967295|w>>>20),w=V+(M^S&(I^M))+P[2]+606105819&4294967295,V=S+(w<<17&4294967295|w>>>15),w=M+(I^V&(S^I))+P[3]+3250441966&4294967295,M=V+(w<<22&4294967295|w>>>10),w=I+(S^M&(V^S))+P[4]+4118548399&4294967295,I=M+(w<<7&4294967295|w>>>25),w=S+(V^I&(M^V))+P[5]+1200080426&4294967295,S=I+(w<<12&4294967295|w>>>20),w=V+(M^S&(I^M))+P[6]+2821735955&4294967295,V=S+(w<<17&4294967295|w>>>15),w=M+(I^V&(S^I))+P[7]+4249261313&4294967295,M=V+(w<<22&4294967295|w>>>10),w=I+(S^M&(V^S))+P[8]+1770035416&4294967295,I=M+(w<<7&4294967295|w>>>25),w=S+(V^I&(M^V))+P[9]+2336552879&4294967295,S=I+(w<<12&4294967295|w>>>20),w=V+(M^S&(I^M))+P[10]+4294925233&4294967295,V=S+(w<<17&4294967295|w>>>15),w=M+(I^V&(S^I))+P[11]+2304563134&4294967295,M=V+(w<<22&4294967295|w>>>10),w=I+(S^M&(V^S))+P[12]+1804603682&4294967295,I=M+(w<<7&4294967295|w>>>25),w=S+(V^I&(M^V))+P[13]+4254626195&4294967295,S=I+(w<<12&4294967295|w>>>20),w=V+(M^S&(I^M))+P[14]+2792965006&4294967295,V=S+(w<<17&4294967295|w>>>15),w=M+(I^V&(S^I))+P[15]+1236535329&4294967295,M=V+(w<<22&4294967295|w>>>10),w=I+(V^S&(M^V))+P[1]+4129170786&4294967295,I=M+(w<<5&4294967295|w>>>27),w=S+(M^V&(I^M))+P[6]+3225465664&4294967295,S=I+(w<<9&4294967295|w>>>23),w=V+(I^M&(S^I))+P[11]+643717713&4294967295,V=S+(w<<14&4294967295|w>>>18),w=M+(S^I&(V^S))+P[0]+3921069994&4294967295,M=V+(w<<20&4294967295|w>>>12),w=I+(V^S&(M^V))+P[5]+3593408605&4294967295,I=M+(w<<5&4294967295|w>>>27),w=S+(M^V&(I^M))+P[10]+38016083&4294967295,S=I+(w<<9&4294967295|w>>>23),w=V+(I^M&(S^I))+P[15]+3634488961&4294967295,V=S+(w<<14&4294967295|w>>>18),w=M+(S^I&(V^S))+P[4]+3889429448&4294967295,M=V+(w<<20&4294967295|w>>>12),w=I+(V^S&(M^V))+P[9]+568446438&4294967295,I=M+(w<<5&4294967295|w>>>27),w=S+(M^V&(I^M))+P[14]+3275163606&4294967295,S=I+(w<<9&4294967295|w>>>23),w=V+(I^M&(S^I))+P[3]+4107603335&4294967295,V=S+(w<<14&4294967295|w>>>18),w=M+(S^I&(V^S))+P[8]+1163531501&4294967295,M=V+(w<<20&4294967295|w>>>12),w=I+(V^S&(M^V))+P[13]+2850285829&4294967295,I=M+(w<<5&4294967295|w>>>27),w=S+(M^V&(I^M))+P[2]+4243563512&4294967295,S=I+(w<<9&4294967295|w>>>23),w=V+(I^M&(S^I))+P[7]+1735328473&4294967295,V=S+(w<<14&4294967295|w>>>18),w=M+(S^I&(V^S))+P[12]+2368359562&4294967295,M=V+(w<<20&4294967295|w>>>12),w=I+(M^V^S)+P[5]+4294588738&4294967295,I=M+(w<<4&4294967295|w>>>28),w=S+(I^M^V)+P[8]+2272392833&4294967295,S=I+(w<<11&4294967295|w>>>21),w=V+(S^I^M)+P[11]+1839030562&4294967295,V=S+(w<<16&4294967295|w>>>16),w=M+(V^S^I)+P[14]+4259657740&4294967295,M=V+(w<<23&4294967295|w>>>9),w=I+(M^V^S)+P[1]+2763975236&4294967295,I=M+(w<<4&4294967295|w>>>28),w=S+(I^M^V)+P[4]+1272893353&4294967295,S=I+(w<<11&4294967295|w>>>21),w=V+(S^I^M)+P[7]+4139469664&4294967295,V=S+(w<<16&4294967295|w>>>16),w=M+(V^S^I)+P[10]+3200236656&4294967295,M=V+(w<<23&4294967295|w>>>9),w=I+(M^V^S)+P[13]+681279174&4294967295,I=M+(w<<4&4294967295|w>>>28),w=S+(I^M^V)+P[0]+3936430074&4294967295,S=I+(w<<11&4294967295|w>>>21),w=V+(S^I^M)+P[3]+3572445317&4294967295,V=S+(w<<16&4294967295|w>>>16),w=M+(V^S^I)+P[6]+76029189&4294967295,M=V+(w<<23&4294967295|w>>>9),w=I+(M^V^S)+P[9]+3654602809&4294967295,I=M+(w<<4&4294967295|w>>>28),w=S+(I^M^V)+P[12]+3873151461&4294967295,S=I+(w<<11&4294967295|w>>>21),w=V+(S^I^M)+P[15]+530742520&4294967295,V=S+(w<<16&4294967295|w>>>16),w=M+(V^S^I)+P[2]+3299628645&4294967295,M=V+(w<<23&4294967295|w>>>9),w=I+(V^(M|~S))+P[0]+4096336452&4294967295,I=M+(w<<6&4294967295|w>>>26),w=S+(M^(I|~V))+P[7]+1126891415&4294967295,S=I+(w<<10&4294967295|w>>>22),w=V+(I^(S|~M))+P[14]+2878612391&4294967295,V=S+(w<<15&4294967295|w>>>17),w=M+(S^(V|~I))+P[5]+4237533241&4294967295,M=V+(w<<21&4294967295|w>>>11),w=I+(V^(M|~S))+P[12]+1700485571&4294967295,I=M+(w<<6&4294967295|w>>>26),w=S+(M^(I|~V))+P[3]+2399980690&4294967295,S=I+(w<<10&4294967295|w>>>22),w=V+(I^(S|~M))+P[10]+4293915773&4294967295,V=S+(w<<15&4294967295|w>>>17),w=M+(S^(V|~I))+P[1]+2240044497&4294967295,M=V+(w<<21&4294967295|w>>>11),w=I+(V^(M|~S))+P[8]+1873313359&4294967295,I=M+(w<<6&4294967295|w>>>26),w=S+(M^(I|~V))+P[15]+4264355552&4294967295,S=I+(w<<10&4294967295|w>>>22),w=V+(I^(S|~M))+P[6]+2734768916&4294967295,V=S+(w<<15&4294967295|w>>>17),w=M+(S^(V|~I))+P[13]+1309151649&4294967295,M=V+(w<<21&4294967295|w>>>11),w=I+(V^(M|~S))+P[4]+4149444226&4294967295,I=M+(w<<6&4294967295|w>>>26),w=S+(M^(I|~V))+P[11]+3174756917&4294967295,S=I+(w<<10&4294967295|w>>>22),w=V+(I^(S|~M))+P[2]+718787259&4294967295,V=S+(w<<15&4294967295|w>>>17),w=M+(S^(V|~I))+P[9]+3951481745&4294967295,E.g[0]=E.g[0]+I&4294967295,E.g[1]=E.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+V&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,I){I===void 0&&(I=E.length);for(var M=I-this.blockSize,P=this.B,V=this.h,S=0;S<I;){if(V==0)for(;S<=M;)s(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<I;)if(P[V++]=E.charCodeAt(S++),V==this.blockSize){s(this,P),V=0;break}}else for(;S<I;)if(P[V++]=E[S++],V==this.blockSize){s(this,P),V=0;break}}this.h=V,this.o+=I},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var I=1;I<E.length-8;++I)E[I]=0;var M=8*this.o;for(I=E.length-8;I<E.length;++I)E[I]=M&255,M/=256;for(this.u(E),E=Array(16),I=M=0;4>I;++I)for(var P=0;32>P;P+=8)E[M++]=this.g[I]>>>P&255;return E};function o(E,I){var M=m;return Object.prototype.hasOwnProperty.call(M,E)?M[E]:M[E]=I(E)}function c(E,I){this.h=I;for(var M=[],P=!0,V=E.length-1;0<=V;V--){var S=E[V]|0;P&&S==I||(M[V]=S,P=!1)}this.g=M}var m={};function u(E){return-128<=E&&128>E?o(E,function(I){return new c([I|0],0>I?-1:0)}):new c([E|0],0>E?-1:0)}function g(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return y(g(-E));for(var I=[],M=1,P=0;E>=M;P++)I[P]=E/M|0,M*=4294967296;return new c(I,0)}function a(E,I){if(E.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E.charAt(0)=="-")return y(a(E.substring(1),I));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=g(Math.pow(I,8)),P=h,V=0;V<E.length;V+=8){var S=Math.min(8,E.length-V),w=parseInt(E.substring(V,V+S),I);8>S?(S=g(Math.pow(I,S)),P=P.j(S).add(g(w))):(P=P.j(M),P=P.add(g(w)))}return P}var h=u(0),d=u(1),f=u(16777216);n=c.prototype,n.m=function(){if(v(this))return-y(this).m();for(var E=0,I=1,M=0;M<this.g.length;M++){var P=this.i(M);E+=(0<=P?P:4294967296+P)*I,I*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(p(this))return"0";if(v(this))return"-"+y(this).toString(E);for(var I=g(Math.pow(E,6)),M=this,P="";;){var V=O(M,I).g;M=C(M,V.j(I));var S=((0<M.g.length?M.g[0]:M.h)>>>0).toString(E);if(M=V,p(M))return S+P;for(;6>S.length;)S="0"+S;P=S+P}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function p(E){if(E.h!=0)return!1;for(var I=0;I<E.g.length;I++)if(E.g[I]!=0)return!1;return!0}function v(E){return E.h==-1}n.l=function(E){return E=C(this,E),v(E)?-1:p(E)?0:1};function y(E){for(var I=E.g.length,M=[],P=0;P<I;P++)M[P]=~E.g[P];return new c(M,~E.h).add(d)}n.abs=function(){return v(this)?y(this):this},n.add=function(E){for(var I=Math.max(this.g.length,E.g.length),M=[],P=0,V=0;V<=I;V++){var S=P+(this.i(V)&65535)+(E.i(V)&65535),w=(S>>>16)+(this.i(V)>>>16)+(E.i(V)>>>16);P=w>>>16,S&=65535,w&=65535,M[V]=w<<16|S}return new c(M,M[M.length-1]&-2147483648?-1:0)};function C(E,I){return E.add(y(I))}n.j=function(E){if(p(this)||p(E))return h;if(v(this))return v(E)?y(this).j(y(E)):y(y(this).j(E));if(v(E))return y(this.j(y(E)));if(0>this.l(f)&&0>E.l(f))return g(this.m()*E.m());for(var I=this.g.length+E.g.length,M=[],P=0;P<2*I;P++)M[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<E.g.length;V++){var S=this.i(P)>>>16,w=this.i(P)&65535,L=E.i(V)>>>16,N=E.i(V)&65535;M[2*P+2*V]+=w*N,A(M,2*P+2*V),M[2*P+2*V+1]+=S*N,A(M,2*P+2*V+1),M[2*P+2*V+1]+=w*L,A(M,2*P+2*V+1),M[2*P+2*V+2]+=S*L,A(M,2*P+2*V+2)}for(P=0;P<I;P++)M[P]=M[2*P+1]<<16|M[2*P];for(P=I;P<2*I;P++)M[P]=0;return new c(M,0)};function A(E,I){for(;(E[I]&65535)!=E[I];)E[I+1]+=E[I]>>>16,E[I]&=65535,I++}function F(E,I){this.g=E,this.h=I}function O(E,I){if(p(I))throw Error("division by zero");if(p(E))return new F(h,h);if(v(E))return I=O(y(E),I),new F(y(I.g),y(I.h));if(v(I))return I=O(E,y(I)),new F(y(I.g),I.h);if(30<E.g.length){if(v(E)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var M=d,P=I;0>=P.l(E);)M=$(M),P=$(P);var V=_(M,1),S=_(P,1);for(P=_(P,2),M=_(M,2);!p(P);){var w=S.add(P);0>=w.l(E)&&(V=V.add(M),S=w),P=_(P,1),M=_(M,1)}return I=C(E,V.j(I)),new F(V,I)}for(V=h;0<=E.l(I);){for(M=Math.max(1,Math.floor(E.m()/I.m())),P=Math.ceil(Math.log(M)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),S=g(M),w=S.j(I);v(w)||0<w.l(E);)M-=P,S=g(M),w=S.j(I);p(S)&&(S=d),V=V.add(S),E=C(E,w)}return new F(V,E)}n.A=function(E){return O(this,E).h},n.and=function(E){for(var I=Math.max(this.g.length,E.g.length),M=[],P=0;P<I;P++)M[P]=this.i(P)&E.i(P);return new c(M,this.h&E.h)},n.or=function(E){for(var I=Math.max(this.g.length,E.g.length),M=[],P=0;P<I;P++)M[P]=this.i(P)|E.i(P);return new c(M,this.h|E.h)},n.xor=function(E){for(var I=Math.max(this.g.length,E.g.length),M=[],P=0;P<I;P++)M[P]=this.i(P)^E.i(P);return new c(M,this.h^E.h)};function $(E){for(var I=E.g.length+1,M=[],P=0;P<I;P++)M[P]=E.i(P)<<1|E.i(P-1)>>>31;return new c(M,E.h)}function _(E,I){var M=I>>5;I%=32;for(var P=E.g.length-M,V=[],S=0;S<P;S++)V[S]=0<I?E.i(S+M)>>>I|E.i(S+M+1)<<32-I:E.i(S+M);return new c(V,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,M_=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=a,nl=c}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L_,ou,$_,ud,Kg,P_,O_,D_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(T,H,Y){return T==Array.prototype||T==Object.prototype||(T[H]=Y.value),T};function t(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jh=="object"&&Jh];for(var H=0;H<T.length;++H){var Y=T[H];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=t(this);function s(T,H){if(H)e:{var Y=r;T=T.split(".");for(var ie=0;ie<T.length-1;ie++){var Se=T[ie];if(!(Se in Y))break e;Y=Y[Se]}T=T[T.length-1],ie=Y[T],H=H(ie),H!=ie&&H!=null&&e(Y,T,{configurable:!0,writable:!0,value:H})}}function o(T,H){T instanceof String&&(T+="");var Y=0,ie=!1,Se={next:function(){if(!ie&&Y<T.length){var Ie=Y++;return{value:H(Ie,T[Ie]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}s("Array.prototype.values",function(T){return T||function(){return o(this,function(H,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function u(T){var H=typeof T;return H=H!="object"?H:T?Array.isArray(T)?"array":H:"null",H=="array"||H=="object"&&typeof T.length=="number"}function g(T){var H=typeof T;return H=="object"&&T!=null||H=="function"}function a(T,H,Y){return T.call.apply(T.bind,arguments)}function h(T,H,Y){if(!T)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,ie),T.apply(H,Se)}}return function(){return T.apply(H,arguments)}}function d(T,H,Y){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?a:h,d.apply(null,arguments)}function f(T,H){var Y=Array.prototype.slice.call(arguments,1);return function(){var ie=Y.slice();return ie.push.apply(ie,arguments),T.apply(this,ie)}}function p(T,H){function Y(){}Y.prototype=H.prototype,T.aa=H.prototype,T.prototype=new Y,T.prototype.constructor=T,T.Qb=function(ie,Se,Ie){for(var We=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)We[jt-2]=arguments[jt];return H.prototype[Se].apply(ie,We)}}function v(T){const H=T.length;if(0<H){const Y=Array(H);for(let ie=0;ie<H;ie++)Y[ie]=T[ie];return Y}return[]}function y(T,H){for(let Y=1;Y<arguments.length;Y++){const ie=arguments[Y];if(u(ie)){const Se=T.length||0,Ie=ie.length||0;T.length=Se+Ie;for(let We=0;We<Ie;We++)T[Se+We]=ie[We]}else T.push(ie)}}class C{constructor(H,Y){this.i=H,this.j=Y,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}function A(T){return/^[\s\xa0]*$/.test(T)}function F(){var T=m.navigator;return T&&(T=T.userAgent)?T:""}function O(T){return O[" "](T),T}O[" "]=function(){};var $=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function _(T,H,Y){for(const ie in T)H.call(Y,T[ie],ie,T)}function E(T,H){for(const Y in T)H.call(void 0,T[Y],Y,T)}function I(T){const H={};for(const Y in T)H[Y]=T[Y];return H}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(T,H){let Y,ie;for(let Se=1;Se<arguments.length;Se++){ie=arguments[Se];for(Y in ie)T[Y]=ie[Y];for(let Ie=0;Ie<M.length;Ie++)Y=M[Ie],Object.prototype.hasOwnProperty.call(ie,Y)&&(T[Y]=ie[Y])}}function V(T){var H=1;T=T.split(":");const Y=[];for(;0<H&&T.length;)Y.push(T.shift()),H--;return T.length&&Y.push(T.join(":")),Y}function S(T){m.setTimeout(()=>{throw T},0)}function w(){var T=J;let H=null;return T.g&&(H=T.g,T.g=T.g.next,T.g||(T.h=null),H.next=null),H}class L{constructor(){this.h=this.g=null}add(H,Y){const ie=N.get();ie.set(H,Y),this.h?this.h.next=ie:this.g=ie,this.h=ie}}var N=new C(()=>new z,T=>T.reset());class z{constructor(){this.next=this.g=this.h=null}set(H,Y){this.h=H,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let q,K=!1,J=new L,Q=()=>{const T=m.Promise.resolve(void 0);q=()=>{T.then(U)}};var U=()=>{for(var T;T=w();){try{T.h.call(T.g)}catch(Y){S(Y)}var H=N;H.j(T),100>H.h&&(H.h++,T.next=H.g,H.g=T)}K=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(T,H){this.type=T,this.g=this.target=H,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var T=!1,H=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const Y=()=>{};m.addEventListener("test",Y,H),m.removeEventListener("test",Y,H)}catch{}return T}();function ue(T,H){if(Z.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T){var Y=this.type=T.type,ie=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;if(this.target=T.target||T.srcElement,this.g=H,H=T.relatedTarget){if($){e:{try{O(H.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(H=null)}}else Y=="mouseover"?H=T.fromElement:Y=="mouseout"&&(H=T.toElement);this.relatedTarget=H,ie?(this.clientX=ie.clientX!==void 0?ie.clientX:ie.pageX,this.clientY=ie.clientY!==void 0?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=typeof T.pointerType=="string"?T.pointerType:ae[T.pointerType]||"",this.state=T.state,this.i=T,T.defaultPrevented&&ue.aa.h.call(this)}}p(ue,Z);var ae={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function me(T,H,Y,ie,Se){this.listener=T,this.proxy=null,this.src=H,this.type=Y,this.capture=!!ie,this.ha=Se,this.key=++Ee,this.da=this.fa=!1}function Ae(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function $e(T){this.src=T,this.g={},this.h=0}$e.prototype.add=function(T,H,Y,ie,Se){var Ie=T.toString();T=this.g[Ie],T||(T=this.g[Ie]=[],this.h++);var We=ut(T,H,ie,Se);return-1<We?(H=T[We],Y||(H.fa=!1)):(H=new me(H,this.src,Ie,!!ie,Se),H.fa=Y,T.push(H)),H};function Qe(T,H){var Y=H.type;if(Y in T.g){var ie=T.g[Y],Se=Array.prototype.indexOf.call(ie,H,void 0),Ie;(Ie=0<=Se)&&Array.prototype.splice.call(ie,Se,1),Ie&&(Ae(H),T.g[Y].length==0&&(delete T.g[Y],T.h--))}}function ut(T,H,Y,ie){for(var Se=0;Se<T.length;++Se){var Ie=T[Se];if(!Ie.da&&Ie.listener==H&&Ie.capture==!!Y&&Ie.ha==ie)return Se}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),Ge={};function yt(T,H,Y,ie,Se){if(Array.isArray(H)){for(var Ie=0;Ie<H.length;Ie++)yt(T,H[Ie],Y,ie,Se);return null}return Y=ur(Y),T&&T[pe]?T.K(H,Y,g(ie)?!!ie.capture:!!ie,Se):Ot(T,H,Y,!1,ie,Se)}function Ot(T,H,Y,ie,Se,Ie){if(!H)throw Error("Invalid event type");var We=g(Se)?!!Se.capture:!!Se,jt=Pn(T);if(jt||(T[qe]=jt=new $e(T)),Y=jt.add(H,Y,ie,We,Ie),Y.proxy)return Y;if(ie=Ht(),Y.proxy=ie,ie.src=T,ie.listener=Y,T.addEventListener)he||(Se=We),Se===void 0&&(Se=!1),T.addEventListener(H.toString(),ie,Se);else if(T.attachEvent)T.attachEvent(wn(H.toString()),ie);else if(T.addListener&&T.removeListener)T.addListener(ie);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function Ht(){function T(Y){return H.call(T.src,T.listener,Y)}const H=Wn;return T}function pn(T,H,Y,ie,Se){if(Array.isArray(H))for(var Ie=0;Ie<H.length;Ie++)pn(T,H[Ie],Y,ie,Se);else ie=g(ie)?!!ie.capture:!!ie,Y=ur(Y),T&&T[pe]?(T=T.i,H=String(H).toString(),H in T.g&&(Ie=T.g[H],Y=ut(Ie,Y,ie,Se),-1<Y&&(Ae(Ie[Y]),Array.prototype.splice.call(Ie,Y,1),Ie.length==0&&(delete T.g[H],T.h--)))):T&&(T=Pn(T))&&(H=T.g[H.toString()],T=-1,H&&(T=ut(H,Y,ie,Se)),(Y=-1<T?H[T]:null)&&Nt(Y))}function Nt(T){if(typeof T!="number"&&T&&!T.da){var H=T.src;if(H&&H[pe])Qe(H.i,T);else{var Y=T.type,ie=T.proxy;H.removeEventListener?H.removeEventListener(Y,ie,T.capture):H.detachEvent?H.detachEvent(wn(Y),ie):H.addListener&&H.removeListener&&H.removeListener(ie),(Y=Pn(H))?(Qe(Y,T),Y.h==0&&(Y.src=null,H[qe]=null)):Ae(T)}}}function wn(T){return T in Ge?Ge[T]:Ge[T]="on"+T}function Wn(T,H){if(T.da)T=!0;else{H=new ue(H,this);var Y=T.listener,ie=T.ha||T.src;T.fa&&Nt(T),T=Y.call(ie,H)}return T}function Pn(T){return T=T[qe],T instanceof $e?T:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ur(T){return typeof T=="function"?T:(T[bn]||(T[bn]=function(H){return T.handleEvent(H)}),T[bn])}function be(){re.call(this),this.i=new $e(this),this.M=this,this.F=null}p(be,re),be.prototype[pe]=!0,be.prototype.removeEventListener=function(T,H,Y,ie){pn(this,T,H,Y,ie)};function ze(T,H){var Y,ie=T.F;if(ie)for(Y=[];ie;ie=ie.F)Y.push(ie);if(T=T.M,ie=H.type||H,typeof H=="string")H=new Z(H,T);else if(H instanceof Z)H.target=H.target||T;else{var Se=H;H=new Z(ie,T),P(H,Se)}if(Se=!0,Y)for(var Ie=Y.length-1;0<=Ie;Ie--){var We=H.g=Y[Ie];Se=Ke(We,ie,!0,H)&&Se}if(We=H.g=T,Se=Ke(We,ie,!0,H)&&Se,Se=Ke(We,ie,!1,H)&&Se,Y)for(Ie=0;Ie<Y.length;Ie++)We=H.g=Y[Ie],Se=Ke(We,ie,!1,H)&&Se}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var T=this.i,H;for(H in T.g){for(var Y=T.g[H],ie=0;ie<Y.length;ie++)Ae(Y[ie]);delete T.g[H],T.h--}}this.F=null},be.prototype.K=function(T,H,Y,ie){return this.i.add(String(T),H,!1,Y,ie)},be.prototype.L=function(T,H,Y,ie){return this.i.add(String(T),H,!0,Y,ie)};function Ke(T,H,Y,ie){if(H=T.i.g[String(H)],!H)return!0;H=H.concat();for(var Se=!0,Ie=0;Ie<H.length;++Ie){var We=H[Ie];if(We&&!We.da&&We.capture==Y){var jt=We.listener,cn=We.ha||We.src;We.fa&&Qe(T.i,We),Se=jt.call(cn,ie)!==!1&&Se}}return Se&&!ie.defaultPrevented}function ft(T,H,Y){if(typeof T=="function")Y&&(T=d(T,Y));else if(T&&typeof T.handleEvent=="function")T=d(T.handleEvent,T);else throw Error("Invalid listener argument");return 2147483647<Number(H)?-1:m.setTimeout(T,H||0)}function lt(T){T.g=ft(()=>{T.g=null,T.i&&(T.i=!1,lt(T))},T.l);const H=T.h;T.h=null,T.m.apply(null,H)}class kt extends re{constructor(H,Y){super(),this.m=H,this.l=Y,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lt(T){re.call(this),this.h=T,this.g={}}p(Lt,re);var Ft=[];function $t(T){_(T.g,function(H,Y){this.g.hasOwnProperty(Y)&&Nt(H)},T),T.g={}}Lt.prototype.N=function(){Lt.aa.N.call(this),$t(this)},Lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=m.JSON.stringify,ln=m.JSON.parse,Te=class{stringify(T){return m.JSON.stringify(T,void 0)}parse(T){return m.JSON.parse(T,void 0)}};function De(){}De.prototype.h=null;function Ze(T){return T.h||(T.h=T.i())}function Rt(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function On(){Z.call(this,"d")}p(On,Z);function $r(){Z.call(this,"c")}p($r,Z);var Gn={},Ai=null;function ci(){return Ai=Ai||new be}Gn.La="serverreachability";function Bi(T){Z.call(this,Gn.La,T)}p(Bi,Z);function Er(T){const H=ci();ze(H,new Bi(H))}Gn.STAT_EVENT="statevent";function so(T,H){Z.call(this,Gn.STAT_EVENT,T),this.stat=H}p(so,Z);function hn(T){const H=ci();ze(H,new so(H,T))}Gn.Ma="timingevent";function Eo(T,H){Z.call(this,Gn.Ma,T),this.size=H}p(Eo,Z);function Xr(T,H){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){T()},H)}function Vi(){this.g=!0}Vi.prototype.xa=function(){this.g=!1};function Kn(T,H,Y,ie,Se,Ie){T.info(function(){if(T.g)if(Ie)for(var We="",jt=Ie.split("&"),cn=0;cn<jt.length;cn++){var Bt=jt[cn].split("=");if(1<Bt.length){var Dn=Bt[0];Bt=Bt[1];var Nn=Dn.split("_");We=2<=Nn.length&&Nn[1]=="type"?We+(Dn+"="+Bt+"&"):We+(Dn+"=redacted&")}}else We=null;else We=Ie;return"XMLHTTP REQ ("+ie+") [attempt "+Se+"]: "+H+`
`+Y+`
`+We})}function hr(T,H,Y,ie,Se,Ie,We){T.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+Se+"]: "+H+`
`+Y+`
`+Ie+" "+We})}function sn(T,H,Y,ie){T.info(function(){return"XMLHTTP TEXT ("+H+"): "+Ma(T,Y)+(ie?" "+ie:"")})}function Zo(T,H){T.info(function(){return"TIMEOUT: "+H})}Vi.prototype.info=function(){};function Ma(T,H){if(!T.g)return H;if(!H)return null;try{var Y=JSON.parse(H);if(Y){for(T=0;T<Y.length;T++)if(Array.isArray(Y[T])){var ie=Y[T];if(!(2>ie.length)){var Se=ie[1];if(Array.isArray(Se)&&!(1>Se.length)){var Ie=Se[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(var We=1;We<Se.length;We++)Se[We]=""}}}}return _t(Y)}catch{return H}}var ao={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},st;function qn(){}p(qn,De),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},st=new qn;function Pr(T,H,Y,ie){this.j=T,this.i=H,this.l=Y,this.R=ie||1,this.U=new Lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rs}function Rs(){this.i=null,this.g="",this.h=!1}var Jo={},ui={};function zi(T,H,Y){T.L=1,T.v=fi(nr(H)),T.m=Y,T.P=!0,Jr(T,null)}function Jr(T,H){T.F=Date.now(),en(T),T.A=nr(T.v);var Y=T.A,ie=T.R;Array.isArray(ie)||(ie=[String(ie)]),Ri(Y.i,"t",ie),T.C=0,Y=T.j.J,T.h=new Rs,T.g=_l(T.j,Y?H:null,!T.m),0<T.O&&(T.M=new kt(d(T.Y,T,T.g),T.O)),H=T.U,Y=T.g,ie=T.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(Ft[0]=Se.toString()),Se=Ft);for(var Ie=0;Ie<Se.length;Ie++){var We=yt(Y,Se[Ie],ie||H.handleEvent,!1,H.h||H);if(!We)break;H.g[We.key]=We}H=T.H?I(T.H):{},T.m?(T.u||(T.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.A,T.u,T.m,H)):(T.u="GET",T.g.ea(T.A,T.u,null,H)),Er(),Kn(T.i,T.u,T.A,T.l,T.R,T.m)}Pr.prototype.ca=function(T){T=T.target;const H=this.M;H&&rn(T)==3?H.j():this.Y(T)},Pr.prototype.Y=function(T){try{if(T==this.g)e:{const Nn=rn(this.g);var H=this.g.Ba();const gi=this.g.Z();if(!(3>Nn)&&(Nn!=3||this.g&&(this.h.h||this.g.oa()||or(this.g)))){this.J||Nn!=4||H==7||(H==8||0>=gi?Er(3):Er(2)),ji(this);var Y=this.g.Z();this.X=Y;t:if(Ms(this)){var ie=or(this.g);T="";var Se=ie.length,Ie=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),Or(this);var We="";break t}this.h.i=new m.TextDecoder}for(H=0;H<Se;H++)this.h.h=!0,T+=this.h.i.decode(ie[H],{stream:!(Ie&&H==Se-1)});ie.length=0,this.h.g+=T,this.C=0,We=this.h.g}else We=this.g.oa();if(this.o=Y==200,hr(this.i,this.u,this.A,this.l,this.R,Nn,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,cn=this.g;if((jt=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(jt)){var Bt=jt;break t}}Bt=null}if(Y=Bt)sn(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,So(this,Y);else{this.o=!1,this.s=3,hn(12),er(this),Or(this);break e}}if(this.P){Y=!0;let ri;for(;!this.J&&this.C<We.length;)if(ri=La(this,We),ri==ui){Nn==4&&(this.s=4,hn(14),Y=!1),sn(this.i,this.l,null,"[Incomplete Response]");break}else if(ri==Jo){this.s=4,hn(15),sn(this.i,this.l,We,"[Invalid Chunk]"),Y=!1;break}else sn(this.i,this.l,ri,null),So(this,ri);if(Ms(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||We.length!=0||this.h.h||(this.s=1,hn(16),Y=!1),this.o=this.o&&Y,!Y)sn(this.i,this.l,We,"[Invalid Chunked Response]"),er(this),Or(this);else if(0<We.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+We.length),Lo(Dn),Dn.M=!0,hn(11))}}else sn(this.i,this.l,We,null),So(this,We);Nn==4&&er(this),this.o&&!this.J&&(Nn==4?Fs(this.j,this):(this.o=!1,en(this)))}else _n(this.g),Y==400&&0<We.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),er(this),Or(this)}}}catch{}finally{}};function Ms(T){return T.g?T.u=="GET"&&T.L!=2&&T.j.Ca:!1}function La(T,H){var Y=T.C,ie=H.indexOf(`
`,Y);return ie==-1?ui:(Y=Number(H.substring(Y,ie)),isNaN(Y)?Jo:(ie+=1,ie+Y>H.length?ui:(H=H.slice(ie,ie+Y),T.C=ie+Y,H)))}Pr.prototype.cancel=function(){this.J=!0,er(this)};function en(T){T.S=Date.now()+T.I,Ls(T,T.I)}function Ls(T,H){if(T.B!=null)throw Error("WatchDog timer not null");T.B=Xr(d(T.ba,T),H)}function ji(T){T.B&&(m.clearTimeout(T.B),T.B=null)}Pr.prototype.ba=function(){this.B=null;const T=Date.now();0<=T-this.S?(Zo(this.i,this.A),this.L!=2&&(Er(),hn(17)),er(this),this.s=2,Or(this)):Ls(this,this.S-T)};function Or(T){T.j.G==0||T.J||Fs(T.j,T)}function er(T){ji(T);var H=T.M;H&&typeof H.ma=="function"&&H.ma(),T.M=null,$t(T.U),T.g&&(H=T.g,T.g=null,H.abort(),H.ma())}function So(T,H){try{var Y=T.j;if(Y.G!=0&&(Y.g==T||tr(Y.h,T))){if(!T.K&&tr(Y.h,T)&&Y.G==3){try{var ie=Y.Da.g.parse(H)}catch{ie=null}if(Array.isArray(ie)&&ie.length==3){var Se=ie;if(Se[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<T.F)ho(Y),In(Y);else break e;rs(Y),hn(18)}}else Y.za=Se[1],0<Y.za-Y.T&&37500>Se[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=Xr(d(Y.Za,Y),6e3));if(1>=Co(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else Ki(Y,11)}else if((T.K||Y.g==T)&&ho(Y),!A(H))for(Se=Y.Da.g.parse(H),H=0;H<Se.length;H++){let Bt=Se[H];if(Y.T=Bt[0],Bt=Bt[1],Y.G==2)if(Bt[0]=="c"){Y.K=Bt[1],Y.ia=Bt[2];const Dn=Bt[3];Dn!=null&&(Y.la=Dn,Y.j.info("VER="+Y.la));const Nn=Bt[4];Nn!=null&&(Y.Aa=Nn,Y.j.info("SVER="+Y.Aa));const gi=Bt[5];gi!=null&&typeof gi=="number"&&0<gi&&(ie=1.5*gi,Y.L=ie,Y.j.info("backChannelRequestTimeoutMs_="+ie)),ie=Y;const ri=T.g;if(ri){const is=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var Ie=ie.h;Ie.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(lo(Ie,Ie.h),Ie.h=null))}if(ie.D){const Vs=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Vs&&(ie.ya=Vs,tn(ie.I,ie.D,Vs))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-T.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ie=Y;var We=T;if(ie.qa=$o(ie,ie.J?ie.ia:null,ie.W),We.K){$s(ie.h,We);var jt=We,cn=ie.L;cn&&(jt.I=cn),jt.B&&(ji(jt),en(jt)),ie.g=We}else ns(ie);0<Y.i.length&&ni(Y)}else Bt[0]!="stop"&&Bt[0]!="close"||Ki(Y,7);else Y.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Ki(Y,7):Mt(Y):Bt[0]!="noop"&&Y.l&&Y.l.ta(Bt),Y.v=0)}}Er(4)}catch{}}var Sr=class{constructor(T,H){this.g=T,this.map=H}};function Ui(T){this.l=T||10,m.PerformanceNavigationTiming?(T=m.performance.getEntriesByType("navigation"),T=0<T.length&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cr(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function Co(T){return T.h?1:T.g?T.g.size:0}function tr(T,H){return T.h?T.h==H:T.g?T.g.has(H):!1}function lo(T,H){T.g?T.g.add(H):T.h=H}function $s(T,H){T.h&&T.h==H?T.h=null:T.g&&T.g.has(H)&&T.g.delete(H)}Ui.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function co(T){if(T.h!=null)return T.i.concat(T.h.D);if(T.g!=null&&T.g.size!==0){let H=T.i;for(const Y of T.g.values())H=H.concat(Y.D);return H}return v(T.i)}function To(T){if(T.V&&typeof T.V=="function")return T.V();if(typeof Map<"u"&&T instanceof Map||typeof Set<"u"&&T instanceof Set)return Array.from(T.values());if(typeof T=="string")return T.split("");if(u(T)){for(var H=[],Y=T.length,ie=0;ie<Y;ie++)H.push(T[ie]);return H}H=[],Y=0;for(ie in T)H[Y++]=T[ie];return H}function hi(T){if(T.na&&typeof T.na=="function")return T.na();if(!T.V||typeof T.V!="function"){if(typeof Map<"u"&&T instanceof Map)return Array.from(T.keys());if(!(typeof Set<"u"&&T instanceof Set)){if(u(T)||typeof T=="string"){var H=[];T=T.length;for(var Y=0;Y<T;Y++)H.push(Y);return H}H=[],Y=0;for(const ie in T)H[Y++]=ie;return H}}}function ki(T,H){if(T.forEach&&typeof T.forEach=="function")T.forEach(H,void 0);else if(u(T)||typeof T=="string")Array.prototype.forEach.call(T,H,void 0);else for(var Y=hi(T),ie=To(T),Se=ie.length,Ie=0;Ie<Se;Ie++)H.call(void 0,ie[Ie],Y&&Y[Ie],T)}var Ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xo(T,H){if(T){T=T.split("&");for(var Y=0;Y<T.length;Y++){var ie=T[Y].indexOf("="),Se=null;if(0<=ie){var Ie=T[Y].substring(0,ie);Se=T[Y].substring(ie+1)}else Ie=T[Y];H(Ie,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function dr(T){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,T instanceof dr){this.h=T.h,di(this,T.j),this.o=T.o,this.g=T.g,Qn(this,T.s),this.l=T.l;var H=T.i,Y=new ei;Y.i=H.i,H.g&&(Y.g=new Map(H.g),Y.h=H.h),Dr(this,Y),this.m=T.m}else T&&(H=String(T).match(Ii))?(this.h=!1,di(this,H[1]||"",!0),this.o=It(H[2]||""),this.g=It(H[3]||"",!0),Qn(this,H[4]),this.l=It(H[5]||"",!0),Dr(this,H[6]||"",!0),this.m=It(H[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}dr.prototype.toString=function(){var T=[],H=this.j;H&&T.push(rr(H,Ao,!0),":");var Y=this.g;return(Y||H=="file")&&(T.push("//"),(H=this.o)&&T.push(rr(H,Ao,!0),"@"),T.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&T.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&T.push("/"),T.push(rr(Y,Y.charAt(0)=="/"?Os:Nr,!0))),(Y=this.i.toString())&&T.push("?",Y),(Y=this.m)&&T.push("#",rr(Y,ko)),T.join("")};function nr(T){return new dr(T)}function di(T,H,Y){T.j=Y?It(H,!0):H,T.j&&(T.j=T.j.replace(/:$/,""))}function Qn(T,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);T.s=H}else T.s=null}function Dr(T,H,Y){H instanceof ei?(T.i=H,Tr(T.i,T.h)):(Y||(H=rr(H,Ds)),T.i=new ei(H,T.h))}function tn(T,H,Y){T.i.set(H,Y)}function fi(T){return tn(T,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),T}function It(T,H){return T?H?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function rr(T,H,Y){return typeof T=="string"?(T=encodeURI(T).replace(H,Ps),Y&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function Ps(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var Ao=/[#\/\?@]/g,Nr=/[#\?:]/g,Os=/[#\?]/g,Ds=/[#\?@]/g,ko=/#/g;function ei(T,H){this.h=this.g=null,this.i=T||null,this.j=!!H}function Bn(T){T.g||(T.g=new Map,T.h=0,T.i&&xo(T.i,function(H,Y){T.add(decodeURIComponent(H.replace(/\+/g," ")),Y)}))}n=ei.prototype,n.add=function(T,H){Bn(this),this.i=null,T=ir(this,T);var Y=this.g.get(T);return Y||this.g.set(T,Y=[]),Y.push(H),this.h+=1,this};function kn(T,H){Bn(T),H=ir(T,H),T.g.has(H)&&(T.i=null,T.h-=T.g.get(H).length,T.g.delete(H))}function Fr(T,H){return Bn(T),H=ir(T,H),T.g.has(H)}n.forEach=function(T,H){Bn(this),this.g.forEach(function(Y,ie){Y.forEach(function(Se){T.call(H,Se,ie,this)},this)},this)},n.na=function(){Bn(this);const T=Array.from(this.g.values()),H=Array.from(this.g.keys()),Y=[];for(let ie=0;ie<H.length;ie++){const Se=T[ie];for(let Ie=0;Ie<Se.length;Ie++)Y.push(H[ie])}return Y},n.V=function(T){Bn(this);let H=[];if(typeof T=="string")Fr(this,T)&&(H=H.concat(this.g.get(ir(this,T))));else{T=Array.from(this.g.values());for(let Y=0;Y<T.length;Y++)H=H.concat(T[Y])}return H},n.set=function(T,H){return Bn(this),this.i=null,T=ir(this,T),Fr(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[H]),this.h+=1,this},n.get=function(T,H){return T?(T=this.V(T),0<T.length?String(T[0]):H):H};function Ri(T,H,Y){kn(T,H),0<Y.length&&(T.i=null,T.g.set(ir(T,H),v(Y)),T.h+=Y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],H=Array.from(this.g.keys());for(var Y=0;Y<H.length;Y++){var ie=H[Y];const Ie=encodeURIComponent(String(ie)),We=this.V(ie);for(ie=0;ie<We.length;ie++){var Se=Ie;We[ie]!==""&&(Se+="="+encodeURIComponent(String(We[ie]))),T.push(Se)}}return this.i=T.join("&")};function ir(T,H){return H=String(H),T.j&&(H=H.toLowerCase()),H}function Tr(T,H){H&&!T.j&&(Bn(T),T.i=null,T.g.forEach(function(Y,ie){var Se=ie.toLowerCase();ie!=Se&&(kn(this,ie),Ri(this,Se,Y))},T)),T.j=H}function es(T,H){const Y=new Vi;if(m.Image){const ie=new Image;ie.onload=f(Yn,Y,"TestLoadImage: loaded",!0,H,ie),ie.onerror=f(Yn,Y,"TestLoadImage: error",!1,H,ie),ie.onabort=f(Yn,Y,"TestLoadImage: abort",!1,H,ie),ie.ontimeout=f(Yn,Y,"TestLoadImage: timeout",!1,H,ie),m.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=T}else H(!1)}function ts(T,H){const Y=new Vi,ie=new AbortController,Se=setTimeout(()=>{ie.abort(),Yn(Y,"TestPingServer: timeout",!1,H)},1e4);fetch(T,{signal:ie.signal}).then(Ie=>{clearTimeout(Se),Ie.ok?Yn(Y,"TestPingServer: ok",!0,H):Yn(Y,"TestPingServer: server error",!1,H)}).catch(()=>{clearTimeout(Se),Yn(Y,"TestPingServer: error",!1,H)})}function Yn(T,H,Y,ie,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),ie(Y)}catch{}}function Ns(){this.g=new Te}function Io(T,H,Y){const ie=Y||"";try{ki(T,function(Se,Ie){let We=Se;g(Se)&&(We=_t(Se)),H.push(ie+Ie+"="+encodeURIComponent(We))})}catch(Se){throw H.push(ie+"type="+encodeURIComponent("_badmap")),Se}}function fr(T){this.l=T.Ub||null,this.j=T.eb||!1}p(fr,De),fr.prototype.g=function(){return new Hi(this.l,this.j)},fr.prototype.i=function(T){return function(){return T}}({});function Hi(T,H){be.call(this),this.D=T,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Hi,be),n=Hi.prototype,n.open=function(T,H){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=T,this.A=H,this.readyState=1,ti(this)},n.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};T&&(H.body=T),(this.D||m).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},n.Sa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wi(this)}else T.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wi(T){T.j.read().then(T.Pa.bind(T)).catch(T.ga.bind(T))}n.Pa=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var H=T.value?T.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!T.done}))&&(this.response=this.responseText+=H)}T.done?pr(this):ti(this),this.readyState==3&&Wi(this)}},n.Ra=function(T){this.g&&(this.response=this.responseText=T,pr(this))},n.Qa=function(T){this.g&&(this.response=T,pr(this))},n.ga=function(){this.g&&pr(this)};function pr(T){T.readyState=4,T.l=null,T.j=null,T.v=null,ti(T)}n.setRequestHeader=function(T,H){this.u.append(T,H)},n.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],H=this.h.entries();for(var Y=H.next();!Y.done;)Y=Y.value,T.push(Y[0]+": "+Y[1]),Y=H.next();return T.join(`\r
`)};function ti(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function le(T){let H="";return _(T,function(Y,ie){H+=ie,H+=":",H+=Y,H+=`\r
`}),H}function we(T,H,Y){e:{for(ie in Y){var ie=!1;break e}ie=!0}ie||(Y=le(Y),typeof T=="string"?Y!=null&&encodeURIComponent(String(Y)):tn(T,H,Y))}function Le(T){be.call(this),this.headers=new Map,this.o=T||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Le,be);var Ye=/^https?$/i,Wt=["POST","PUT"];n=Le.prototype,n.Ha=function(T){this.J=T},n.ea=function(T,H,Y,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);H=H?H.toUpperCase():"GET",this.D=T,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():st.g(),this.v=this.o?Ze(this.o):Ze(st),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(H,String(T),!0),this.B=!1}catch(Ie){pt(this,Ie);return}if(T=Y||"",Y=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var Se in ie)Y.set(Se,ie[Se]);else if(typeof ie.keys=="function"&&typeof ie.get=="function")for(const Ie of ie.keys())Y.set(Ie,ie.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(ie));ie=Array.from(Y.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),Se=m.FormData&&T instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Wt,H,void 0))||ie||Se||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,We]of Y)this.g.setRequestHeader(Ie,We);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pt(this),this.u=!0,this.g.send(T),this.u=!1}catch(Ie){pt(this,Ie)}};function pt(T,H){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=H,T.m=5,qt(T),Qt(T)}function qt(T){T.A||(T.A=!0,ze(T,"complete"),ze(T,"error"))}n.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=T||7,ze(this,"complete"),ze(this,"abort"),Qt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qt(this,!0)),Le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?gn(this):this.bb())},n.bb=function(){gn(this)};function gn(T){if(T.h&&typeof c<"u"&&(!T.v[1]||rn(T)!=4||T.Z()!=2)){if(T.u&&rn(T)==4)ft(T.Ea,0,T);else if(ze(T,"readystatechange"),rn(T)==4){T.h=!1;try{const We=T.Z();e:switch(We){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var Y;if(!(Y=H)){var ie;if(ie=We===0){var Se=String(T.D).match(Ii)[1]||null;!Se&&m.self&&m.self.location&&(Se=m.self.location.protocol.slice(0,-1)),ie=!Ye.test(Se?Se.toLowerCase():"")}Y=ie}if(Y)ze(T,"complete"),ze(T,"success");else{T.m=6;try{var Ie=2<rn(T)?T.g.statusText:""}catch{Ie=""}T.l=Ie+" ["+T.Z()+"]",qt(T)}}finally{Qt(T)}}}}function Qt(T,H){if(T.g){Pt(T);const Y=T.g,ie=T.v[0]?()=>{}:null;T.g=null,T.v=null,H||ze(T,"ready");try{Y.onreadystatechange=ie}catch{}}}function Pt(T){T.I&&(m.clearTimeout(T.I),T.I=null)}n.isActive=function(){return!!this.g};function rn(T){return T.g?T.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(T){if(this.g){var H=this.g.responseText;return T&&H.indexOf(T)==0&&(H=H.substring(T.length)),ln(H)}};function or(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.H){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function _n(T){const H={};T=(T.g&&2<=rn(T)&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let ie=0;ie<T.length;ie++){if(A(T[ie]))continue;var Y=V(T[ie]);const Se=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Ie=H[Se]||[];H[Se]=Ie,Ie.push(Y)}E(H,function(ie){return ie.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mn(T,H,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[T]||H}function Vn(T){this.Aa=0,this.i=[],this.j=new Vi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mn("failFast",!1,T),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mn("baseRetryDelayMs",5e3,T),this.cb=mn("retryDelaySeedMs",1e4,T),this.Wa=mn("forwardChannelMaxRetries",2,T),this.wa=mn("forwardChannelRequestTimeoutMs",2e4,T),this.pa=T&&T.xmlHttpFactory||void 0,this.Xa=T&&T.Tb||void 0,this.Ca=T&&T.useFetchStreams||!1,this.L=void 0,this.J=T&&T.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(T&&T.concurrentRequestLimit),this.Da=new Ns,this.P=T&&T.fastHandshake||!1,this.O=T&&T.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=T&&T.Rb||!1,T&&T.xa&&this.j.xa(),T&&T.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&T&&T.detectBufferingProxy||!1,this.ja=void 0,T&&T.longPollingTimeout&&0<T.longPollingTimeout&&(this.ja=T.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Vn.prototype,n.la=8,n.G=1,n.connect=function(T,H,Y,ie){hn(0),this.W=T,this.H=H||{},Y&&ie!==void 0&&(this.H.OSID=Y,this.H.OAID=ie),this.F=this.X,this.I=$o(this,null,this.W),ni(this)};function Mt(T){if(Br(T),T.G==3){var H=T.U++,Y=nr(T.I);if(tn(Y,"SID",T.K),tn(Y,"RID",H),tn(Y,"TYPE","terminate"),uo(T,Y),H=new Pr(T,T.j,H),H.L=2,H.v=fi(nr(Y)),Y=!1,m.navigator&&m.navigator.sendBeacon)try{Y=m.navigator.sendBeacon(H.v.toString(),"")}catch{}!Y&&m.Image&&(new Image().src=H.v,Y=!0),Y||(H.g=_l(H.j,null),H.g.ea(H.v)),H.F=Date.now(),en(H)}Pa(T)}function In(T){T.g&&(Lo(T),T.g.cancel(),T.g=null)}function Br(T){In(T),T.u&&(m.clearTimeout(T.u),T.u=null),ho(T),T.h.cancel(),T.s&&(typeof T.s=="number"&&m.clearTimeout(T.s),T.s=null)}function ni(T){if(!Cr(T.h)&&!T.s){T.s=!0;var H=T.Ga;q||Q(),K||(q(),K=!0),J.add(H,T),T.B=0}}function Ro(T,H){return Co(T.h)>=T.h.j-(T.s?1:0)?!1:T.s?(T.i=H.D.concat(T.i),!0):T.G==1||T.G==2||T.B>=(T.Va?0:T.Wa)?!1:(T.s=Xr(d(T.Ga,T,H),$a(T,T.B)),T.B++,!0)}n.Ga=function(T){if(this.s)if(this.s=null,this.G==1){if(!T){this.U=Math.floor(1e5*Math.random()),T=this.U++;const Se=new Pr(this,this.j,T);let Ie=this.o;if(this.S&&(Ie?(Ie=I(Ie),P(Ie,this.S)):Ie=this.S),this.m!==null||this.O||(Se.H=Ie,Ie=null),this.P)e:{for(var H=0,Y=0;Y<this.i.length;Y++){t:{var ie=this.i[Y];if("__data__"in ie.map&&(ie=ie.map.__data__,typeof ie=="string")){ie=ie.length;break t}ie=void 0}if(ie===void 0)break;if(H+=ie,4096<H){H=Y;break e}if(H===4096||Y===this.i.length-1){H=Y+1;break e}}H=1e3}else H=1e3;H=Mo(this,Se,H),Y=nr(this.I),tn(Y,"RID",T),tn(Y,"CVER",22),this.D&&tn(Y,"X-HTTP-Session-Id",this.D),uo(this,Y),Ie&&(this.O?H="headers="+encodeURIComponent(String(le(Ie)))+"&"+H:this.m&&we(Y,this.m,Ie)),lo(this.h,Se),this.Ua&&tn(Y,"TYPE","init"),this.P?(tn(Y,"$req",H),tn(Y,"SID","null"),Se.T=!0,zi(Se,Y,null)):zi(Se,Y,H),this.G=2}}else this.G==3&&(T?Mi(this,T):this.i.length==0||Cr(this.h)||Mi(this))};function Mi(T,H){var Y;H?Y=H.l:Y=T.U++;const ie=nr(T.I);tn(ie,"SID",T.K),tn(ie,"RID",Y),tn(ie,"AID",T.T),uo(T,ie),T.m&&T.o&&we(ie,T.m,T.o),Y=new Pr(T,T.j,Y,T.B+1),T.m===null&&(Y.H=T.o),H&&(T.i=H.D.concat(T.i)),H=Mo(T,Y,1e3),Y.I=Math.round(.5*T.wa)+Math.round(.5*T.wa*Math.random()),lo(T.h,Y),zi(Y,ie,H)}function uo(T,H){T.H&&_(T.H,function(Y,ie){tn(H,ie,Y)}),T.l&&ki({},function(Y,ie){tn(H,ie,Y)})}function Mo(T,H,Y){Y=Math.min(T.i.length,Y);var ie=T.l?d(T.l.Na,T.l,T):null;e:{var Se=T.i;let Ie=-1;for(;;){const We=["count="+Y];Ie==-1?0<Y?(Ie=Se[0].g,We.push("ofs="+Ie)):Ie=0:We.push("ofs="+Ie);let jt=!0;for(let cn=0;cn<Y;cn++){let Bt=Se[cn].g;const Dn=Se[cn].map;if(Bt-=Ie,0>Bt)Ie=Math.max(0,Se[cn].g-100),jt=!1;else try{Io(Dn,We,"req"+Bt+"_")}catch{ie&&ie(Dn)}}if(jt){ie=We.join("&");break e}}}return T=T.i.splice(0,Y),H.D=T,ie}function ns(T){if(!T.g&&!T.u){T.Y=1;var H=T.Fa;q||Q(),K||(q(),K=!0),J.add(H,T),T.v=0}}function rs(T){return T.g||T.u||3<=T.v?!1:(T.Y++,T.u=Xr(d(T.Fa,T),$a(T,T.v)),T.v++,!0)}n.Fa=function(){if(this.u=null,Gi(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var T=2*this.R;this.j.info("BP detection timer enabled: "+T),this.A=Xr(d(this.ab,this),T)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),In(this),Gi(this))};function Lo(T){T.A!=null&&(m.clearTimeout(T.A),T.A=null)}function Gi(T){T.g=new Pr(T,T.j,"rpc",T.Y),T.m===null&&(T.g.H=T.o),T.g.O=0;var H=nr(T.qa);tn(H,"RID","rpc"),tn(H,"SID",T.K),tn(H,"AID",T.T),tn(H,"CI",T.F?"0":"1"),!T.F&&T.ja&&tn(H,"TO",T.ja),tn(H,"TYPE","xmlhttp"),uo(T,H),T.m&&T.o&&we(H,T.m,T.o),T.L&&(T.g.I=T.L);var Y=T.g;T=T.ia,Y.L=1,Y.v=fi(nr(H)),Y.m=null,Y.P=!0,Jr(Y,T)}n.Za=function(){this.C!=null&&(this.C=null,In(this),rs(this),hn(19))};function ho(T){T.C!=null&&(m.clearTimeout(T.C),T.C=null)}function Fs(T,H){var Y=null;if(T.g==H){ho(T),Lo(T),T.g=null;var ie=2}else if(tr(T.h,H))Y=H.D,$s(T.h,H),ie=1;else return;if(T.G!=0){if(H.o)if(ie==1){Y=H.m?H.m.length:0,H=Date.now()-H.F;var Se=T.B;ie=ci(),ze(ie,new Eo(ie,Y)),ni(T)}else ns(T);else if(Se=H.s,Se==3||Se==0&&0<H.X||!(ie==1&&Ro(T,H)||ie==2&&rs(T)))switch(Y&&0<Y.length&&(H=T.h,H.i=H.i.concat(Y)),Se){case 1:Ki(T,5);break;case 4:Ki(T,10);break;case 3:Ki(T,6);break;default:Ki(T,2)}}}function $a(T,H){let Y=T.Ta+Math.floor(Math.random()*T.cb);return T.isActive()||(Y*=2),Y*H}function Ki(T,H){if(T.j.info("Error code "+H),H==2){var Y=d(T.fb,T),ie=T.Xa;const Se=!ie;ie=new dr(ie||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||di(ie,"https"),fi(ie),Se?es(ie.toString(),Y):ts(ie.toString(),Y)}else hn(2);T.G=0,T.l&&T.l.sa(H),Pa(T),Br(T)}n.fb=function(T){T?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function Pa(T){if(T.G=0,T.ka=[],T.l){const H=co(T.h);(H.length!=0||T.i.length!=0)&&(y(T.ka,H),y(T.ka,T.i),T.h.i.length=0,v(T.i),T.i.length=0),T.l.ra()}}function $o(T,H,Y){var ie=Y instanceof dr?nr(Y):new dr(Y);if(ie.g!="")H&&(ie.g=H+"."+ie.g),Qn(ie,ie.s);else{var Se=m.location;ie=Se.protocol,H=H?H+"."+Se.hostname:Se.hostname,Se=+Se.port;var Ie=new dr(null);ie&&di(Ie,ie),H&&(Ie.g=H),Se&&Qn(Ie,Se),Y&&(Ie.l=Y),ie=Ie}return Y=T.D,H=T.ya,Y&&H&&tn(ie,Y,H),tn(ie,"VER",T.la),uo(T,ie),ie}function _l(T,H,Y){if(H&&!T.J)throw Error("Can't create secondary domain capable XhrIo object.");return H=T.Ca&&!T.pa?new Le(new fr({eb:Y})):new Le(T.pa),H.Ha(T.J),H}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oa(){}n=Oa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Bs(){}Bs.prototype.g=function(T,H){return new xr(T,H)};function xr(T,H){be.call(this),this.g=new Vn(H),this.l=T,this.h=H&&H.messageUrlParams||null,T=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(T?T["X-WebChannel-Content-Type"]=H.messageContentType:T={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&(T?T["X-WebChannel-Client-Profile"]=H.va:T={"X-WebChannel-Client-Profile":H.va}),this.g.S=T,(T=H&&H.Sb)&&!A(T)&&(this.g.m=T),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!A(H)&&(this.g.D=H,T=this.h,T!==null&&H in T&&(T=this.h,H in T&&delete T[H])),this.j=new pi(this)}p(xr,be),xr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xr.prototype.close=function(){Mt(this.g)},xr.prototype.o=function(T){var H=this.g;if(typeof T=="string"){var Y={};Y.__data__=T,T=Y}else this.u&&(Y={},Y.__data__=_t(T),T=Y);H.i.push(new Sr(H.Ya++,T)),H.G==3&&ni(H)},xr.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,xr.aa.N.call(this)};function El(T){On.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var H=T.__sm__;if(H){e:{for(const Y in H){T=Y;break e}T=void 0}(this.i=T)&&(T=this.i,H=H!==null&&T in H?H[T]:void 0),this.data=H}else this.data=T}p(El,On);function Sl(){$r.call(this),this.status=1}p(Sl,$r);function pi(T){this.g=T}p(pi,Oa),pi.prototype.ua=function(){ze(this.g,"a")},pi.prototype.ta=function(T){ze(this.g,new El(T))},pi.prototype.sa=function(T){ze(this.g,new Sl)},pi.prototype.ra=function(){ze(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,xr.prototype.send=xr.prototype.o,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,D_=function(){return new Bs},O_=function(){return ci()},P_=Gn,Kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,ud=ao,Zr.COMPLETE="complete",$_=Zr,Rt.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",be.prototype.listen=be.prototype.K,ou=Rt,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,L_=Le}).apply(typeof Jh<"u"?Jh:typeof self<"u"?self:typeof window<"u"?window:{});const d0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new Tm("@firebase/firestore");function ql(){return al.logLevel}function tt(n,...e){if(al.logLevel<=Vt.DEBUG){const t=e.map(km);al.debug(`Firestore (${yc}): ${n}`,...t)}}function Es(n,...e){if(al.logLevel<=Vt.ERROR){const t=e.map(km);al.error(`Firestore (${yc}): ${n}`,...t)}}function ac(n,...e){if(al.logLevel<=Vt.WARN){const t=e.map(km);al.warn(`Firestore (${yc}): ${n}`,...t)}}function km(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+n;throw Es(e),new Error(e)}function on(n,e){n||St()}function At(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends As{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gr.UNAUTHENTICATED))}shutdown(){}}class CA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class TA{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){on(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let o=new va;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new va,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},m=u=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(u=>m(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?m(u):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new va)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(on(typeof r.accessToken=="string"),new N_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return on(e===null||typeof e=="string"),new Gr(e)}}class xA{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class AA{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new xA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){on(this.o===void 0);const r=o=>{o.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(on(typeof t.token=="string"),this.R=t.token,new kA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=RA(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function lc(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new lr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new lr(0,0))}static max(){return new Ct(new lr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t,r){t===void 0?t=0:t>e.length&&St(),r===void 0?r=e.length-t:r>e.length-t&&St(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return _u.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _u?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=e.get(s),c=t.get(s);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cn extends _u{construct(e,t,r){return new Cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new nt(Oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Cn(t)}static emptyPath(){return new Cn([])}}const MA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends _u{construct(e,t,r){return new Rr(e,t,r)}static isValidIdentifier(e){return MA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new nt(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new nt(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new nt(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else m==="`"?(c=!c,s++):m!=="."||c?(r+=m,s++):(o(),s++)}if(o(),c)throw new nt(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rr(t)}static emptyPath(){return new Rr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Cn.fromString(e))}static fromName(e){return new dt(Cn.fromString(e).popFirst(5))}static empty(){return new dt(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Cn(e.slice()))}}function LA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ct.fromTimestamp(r===1e9?new lr(t+1,0):new lr(t,r));return new wa(s,dt.empty(),e)}function $A(n){return new wa(n.readTime,n.key,-1)}class wa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wa(Ct.min(),dt.empty(),-1)}static max(){return new wa(Ct.max(),dt.empty(),-1)}}function PA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=dt.comparator(n.documentKey,e.documentKey),t!==0?t:Ut(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n){if(n.code!==Oe.FAILED_PRECONDITION||n.message!==OA)throw n;tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pe((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pe?t:Pe.resolve(t)}catch(t){return Pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.reject(t)}static resolve(e){return new Pe((t,r)=>{t(e)})}static reject(e){return new Pe((t,r)=>{r(e)})}static waitFor(e){return new Pe((t,r)=>{let s=0,o=0,c=!1;e.forEach(m=>{++s,m.next(()=>{++o,c&&o===s&&t()},u=>r(u))}),c=!0,o===s&&t()})}static or(e){let t=Pe.resolve(!1);for(const r of e)t=t.next(s=>s?Pe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new Pe((r,s)=>{const o=e.length,c=new Array(o);let m=0;for(let u=0;u<o;u++){const g=u;t(e[g]).next(a=>{c[g]=a,++m,m===o&&r(c)},a=>s(a))}})}static doWhile(e,t){return new Pe((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function NA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sf.oe=-1;function af(n){return n==null}function xd(n){return n===0&&1/n==-1/0}function FA(n){return typeof n=="number"&&Number.isInteger(n)&&!xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=f0(e)),e=VA(n.get(t),e);return f0(e)}function VA(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function f0(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function B_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t){this.comparator=e,this.root=t||Ir.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ed(this.root,e,this.comparator,!0)}}class ed{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ir{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Ir.RED,this.left=s??Ir.EMPTY,this.right=o??Ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Ir(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ir.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(e,t,r,s,o){return this}insert(e,t,r){return new Ir(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cr(this.comparator);return t.data=e,t}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.fields=e,e.sort(Rr.comparator)}static empty(){return new Oi([])}unionWith(e){let t=new cr(Rr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Oi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new V_("Invalid base64 string: "+o):o}}(e);return new Lr(t)}static fromUint8Array(e){const t=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new Lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lr.EMPTY_BYTE_STRING=new Lr("");const zA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(n){if(on(!!n),typeof n=="string"){let e=0;const t=zA.exec(n);if(on(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Un(n.seconds),nanos:Un(n.nanos)}}function Un(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _a(n){return typeof n=="string"?Lr.fromBase64String(n):Lr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function lf(n){const e=n.mapValue.fields.__previous_value__;return Im(e)?lf(e):e}function Eu(n){const e=ba(n.mapValue.fields.__local_write_time__.timestampValue);return new lr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t,r,s,o,c,m,u,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=u,this.useFetchStreams=g}}class Su{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Im(n)?4:HA(n)?9007199254740991:UA(n)?10:11:St()}function Ko(n,e){if(n===e)return!0;const t=Ea(n);if(t!==Ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Eu(n).isEqual(Eu(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=ba(s.timestampValue),m=ba(o.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return _a(s.bytesValue).isEqual(_a(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Un(s.geoPointValue.latitude)===Un(o.geoPointValue.latitude)&&Un(s.geoPointValue.longitude)===Un(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Un(s.integerValue)===Un(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Un(s.doubleValue),m=Un(o.doubleValue);return c===m?xd(c)===xd(m):isNaN(c)&&isNaN(m)}return!1}(n,e);case 9:return lc(n.arrayValue.values||[],e.arrayValue.values||[],Ko);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},m=o.mapValue.fields||{};if(p0(c)!==p0(m))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(m[u]===void 0||!Ko(c[u],m[u])))return!1;return!0}(n,e);default:return St()}}function Cu(n,e){return(n.values||[]).find(t=>Ko(t,e))!==void 0}function cc(n,e){if(n===e)return 0;const t=Ea(n),r=Ea(e);if(t!==r)return Ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(o,c){const m=Un(o.integerValue||o.doubleValue),u=Un(c.integerValue||c.doubleValue);return m<u?-1:m>u?1:m===u?0:isNaN(m)?isNaN(u)?0:-1:1}(n,e);case 3:return m0(n.timestampValue,e.timestampValue);case 4:return m0(Eu(n),Eu(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(o,c){const m=_a(o),u=_a(c);return m.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const m=o.split("/"),u=c.split("/");for(let g=0;g<m.length&&g<u.length;g++){const a=Ut(m[g],u[g]);if(a!==0)return a}return Ut(m.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const m=Ut(Un(o.latitude),Un(c.latitude));return m!==0?m:Ut(Un(o.longitude),Un(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return v0(n.arrayValue,e.arrayValue);case 10:return function(o,c){var m,u,g,a;const h=o.fields||{},d=c.fields||{},f=(m=h.value)===null||m===void 0?void 0:m.arrayValue,p=(u=d.value)===null||u===void 0?void 0:u.arrayValue,v=Ut(((g=f==null?void 0:f.values)===null||g===void 0?void 0:g.length)||0,((a=p==null?void 0:p.values)===null||a===void 0?void 0:a.length)||0);return v!==0?v:v0(f,p)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===td.mapValue&&c===td.mapValue)return 0;if(o===td.mapValue)return 1;if(c===td.mapValue)return-1;const m=o.fields||{},u=Object.keys(m),g=c.fields||{},a=Object.keys(g);u.sort(),a.sort();for(let h=0;h<u.length&&h<a.length;++h){const d=Ut(u[h],a[h]);if(d!==0)return d;const f=cc(m[u[h]],g[a[h]]);if(f!==0)return f}return Ut(u.length,a.length)}(n.mapValue,e.mapValue);default:throw St()}}function m0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ut(n,e);const t=ba(n),r=ba(e),s=Ut(t.seconds,r.seconds);return s!==0?s:Ut(t.nanos,r.nanos)}function v0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=cc(t[s],r[s]);if(o)return o}return Ut(t.length,r.length)}function uc(n){return qg(n)}function qg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ba(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _a(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return dt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=qg(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${qg(t.fields[c])}`;return s+"}"}(n.mapValue):St()}function hd(n){switch(Ea(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(n);return e?16+hd(e):16;case 5:return 2*n.stringValue.length;case 6:return _a(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+hd(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return xa(r.fields,(o,c)=>{s+=o.length+hd(c)}),s}(n.mapValue);default:throw St()}}function y0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Qg(n){return!!n&&"integerValue"in n}function Rm(n){return!!n&&"arrayValue"in n}function w0(n){return!!n&&"nullValue"in n}function b0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dd(n){return!!n&&"mapValue"in n}function UA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function du(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=du(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(n.arrayValue.values[t]);return e}return Object.assign({},n)}function HA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.value=e}static empty(){return new Si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=Rr.emptyPath(),r={},s=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const u=this.getFieldsMap(t);this.applyChanges(u,r,s),r={},s=[],t=m.popLast()}c?r[m.lastSegment()]=du(c):s.push(m.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());dd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ko(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];dd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){xa(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Si(du(this.value))}}function z_(n){const e=[];return xa(n.fields,(t,r)=>{const s=new Rr([t]);if(dd(r)){const o=z_(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new Oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,t,r,s,o,c,m){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Kr(e,0,Ct.min(),Ct.min(),Ct.min(),Si.empty(),0)}static newFoundDocument(e,t,r,s){return new Kr(e,1,t,Ct.min(),r,s,0)}static newNoDocument(e,t){return new Kr(e,2,t,Ct.min(),Ct.min(),Si.empty(),0)}static newUnknownDocument(e,t){return new Kr(e,3,t,Ct.min(),Ct.min(),Si.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.position=e,this.inclusive=t}}function _0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],c=n.position[s];if(o.field.isKeyField()?r=dt.comparator(dt.fromName(c.referenceValue),t.key):r=cc(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function E0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ko(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t="asc"){this.field=e,this.dir=t}}function WA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{}class Jn extends j_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new KA(e,t,r):t==="array-contains"?new YA(e,r):t==="in"?new XA(e,r):t==="not-in"?new ZA(e,r):t==="array-contains-any"?new JA(e,r):new Jn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new qA(e,r):new QA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(cc(t,this.value)):t!==null&&Ea(this.value)===Ea(t)&&this.matchesComparison(cc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bo extends j_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new bo(e,t)}matches(e){return U_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function U_(n){return n.op==="and"}function H_(n){return GA(n)&&U_(n)}function GA(n){for(const e of n.filters)if(e instanceof bo)return!1;return!0}function Yg(n){if(n instanceof Jn)return n.field.canonicalString()+n.op.toString()+uc(n.value);if(H_(n))return n.filters.map(e=>Yg(e)).join(",");{const e=n.filters.map(t=>Yg(t)).join(",");return`${n.op}(${e})`}}function W_(n,e){return n instanceof Jn?function(r,s){return s instanceof Jn&&r.op===s.op&&r.field.isEqual(s.field)&&Ko(r.value,s.value)}(n,e):n instanceof bo?function(r,s){return s instanceof bo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,c,m)=>o&&W_(c,s.filters[m]),!0):!1}(n,e):void St()}function G_(n){return n instanceof Jn?function(t){return`${t.field.canonicalString()} ${t.op} ${uc(t.value)}`}(n):n instanceof bo?function(t){return t.op.toString()+" {"+t.getFilters().map(G_).join(" ,")+"}"}(n):"Filter"}class KA extends Jn{constructor(e,t,r){super(e,t,r),this.key=dt.fromName(r.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.matchesComparison(t)}}class qA extends Jn{constructor(e,t){super(e,"in",t),this.keys=K_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QA extends Jn{constructor(e,t){super(e,"not-in",t),this.keys=K_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function K_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>dt.fromName(r.referenceValue))}class YA extends Jn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rm(t)&&Cu(t.arrayValue,this.value)}}class XA extends Jn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cu(this.value.arrayValue,t)}}class ZA extends Jn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Cu(this.value.arrayValue,t)}}class JA extends Jn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Cu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t=null,r=[],s=[],o=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=m,this.ue=null}}function S0(n,e=null,t=[],r=[],s=null,o=null,c=null){return new ek(n,e,t,r,s,o,c)}function Mm(n){const e=At(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Yg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uc(r)).join(",")),e.ue=t}return e.ue}function Lm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!WA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!W_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!E0(n.startAt,e.startAt)&&E0(n.endAt,e.endAt)}function Xg(n){return dt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t=null,r=[],s=[],o=null,c="F",m=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=m,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tk(n,e,t,r,s,o,c,m){return new _c(n,e,t,r,s,o,c,m)}function cf(n){return new _c(n)}function C0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function q_(n){return n.collectionGroup!==null}function fu(n){const e=At(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new cr(Rr.comparator);return c.filters.forEach(u=>{u.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Tu(o,r))}),t.has(Rr.keyField().canonicalString())||e.ce.push(new Tu(Rr.keyField(),r))}return e.ce}function jo(n){const e=At(n);return e.le||(e.le=nk(e,fu(n))),e.le}function nk(n,e){if(n.limitType==="F")return S0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Tu(s.field,o)});const t=n.endAt?new Ad(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ad(n.startAt.position,n.startAt.inclusive):null;return S0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Zg(n,e){const t=n.filters.concat([e]);return new _c(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Jg(n,e,t){return new _c(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uf(n,e){return Lm(jo(n),jo(e))&&n.limitType===e.limitType}function Q_(n){return`${Mm(jo(n))}|lt:${n.limitType}`}function Ql(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>G_(s)).join(", ")}]`),af(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>uc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>uc(s)).join(",")),`Target(${r})`}(jo(n))}; limitType=${n.limitType})`}function hf(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):dt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of fu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(c,m,u){const g=_0(c,m,u);return c.inclusive?g<=0:g<0}(r.startAt,fu(r),s)||r.endAt&&!function(c,m,u){const g=_0(c,m,u);return c.inclusive?g>=0:g>0}(r.endAt,fu(r),s))}(n,e)}function rk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Y_(n){return(e,t)=>{let r=!1;for(const s of fu(n)){const o=ik(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function ik(n,e,t){const r=n.field.isKeyField()?dt.comparator(e.key,t.key):function(o,c,m){const u=c.data.field(o),g=m.data.field(o);return u!==null&&g!==null?cc(u,g):St()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return B_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new $n(dt.comparator);function Ss(){return ok}const X_=new $n(dt.comparator);function su(...n){let e=X_;for(const t of n)e=e.insert(t.key,t);return e}function Z_(n){let e=X_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function tl(){return pu()}function J_(){return pu()}function pu(){return new fl(n=>n.toString(),(n,e)=>n.isEqual(e))}const sk=new $n(dt.comparator),ak=new cr(dt.comparator);function zt(...n){let e=ak;for(const t of n)e=e.add(t);return e}const lk=new cr(Ut);function ck(){return lk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function eE(n){return{integerValue:""+n}}function uk(n,e){return FA(e)?eE(e):$m(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function hk(n,e,t){return n instanceof xu?function(s,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Im(o)&&(o=lf(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof Au?nE(n,e):n instanceof ku?rE(n,e):function(s,o){const c=tE(s,o),m=T0(c)+T0(s.Pe);return Qg(c)&&Qg(s.Pe)?eE(m):$m(s.serializer,m)}(n,e)}function dk(n,e,t){return n instanceof Au?nE(n,e):n instanceof ku?rE(n,e):t}function tE(n,e){return n instanceof kd?function(r){return Qg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class xu extends df{}class Au extends df{constructor(e){super(),this.elements=e}}function nE(n,e){const t=iE(e);for(const r of n.elements)t.some(s=>Ko(s,r))||t.push(r);return{arrayValue:{values:t}}}class ku extends df{constructor(e){super(),this.elements=e}}function rE(n,e){let t=iE(e);for(const r of n.elements)t=t.filter(s=>!Ko(s,r));return{arrayValue:{values:t}}}class kd extends df{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function T0(n){return Un(n.integerValue||n.doubleValue)}function iE(n){return Rm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t){this.field=e,this.transform=t}}function pk(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Au&&s instanceof Au||r instanceof ku&&s instanceof ku?lc(r.elements,s.elements,Ko):r instanceof kd&&s instanceof kd?Ko(r.Pe,s.Pe):r instanceof xu&&s instanceof xu}(n.transform,e.transform)}class gk{constructor(e,t){this.version=e,this.transformResults=t}}class ro{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ro}static exists(e){return new ro(void 0,e)}static updateTime(e){return new ro(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ff{}function oE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pm(n.key,ro.none()):new Du(n.key,n.data,ro.none());{const t=n.data,r=Si.empty();let s=new cr(Rr.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Aa(n.key,r,new Oi(s.toArray()),ro.none())}}function mk(n,e,t){n instanceof Du?function(s,o,c){const m=s.value.clone(),u=A0(s.fieldTransforms,o,c.transformResults);m.setAll(u),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Aa?function(s,o,c){if(!fd(s.precondition,o))return void o.convertToUnknownDocument(c.version);const m=A0(s.fieldTransforms,o,c.transformResults),u=o.data;u.setAll(sE(s)),u.setAll(m),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(n,e,t):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function gu(n,e,t,r){return n instanceof Du?function(o,c,m,u){if(!fd(o.precondition,c))return m;const g=o.value.clone(),a=k0(o.fieldTransforms,u,c);return g.setAll(a),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof Aa?function(o,c,m,u){if(!fd(o.precondition,c))return m;const g=k0(o.fieldTransforms,u,c),a=c.data;return a.setAll(sE(o)),a.setAll(g),c.convertToFoundDocument(c.version,a).setHasLocalMutations(),m===null?null:m.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(o,c,m){return fd(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(n,e,t)}function vk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=tE(r.transform,s||null);o!=null&&(t===null&&(t=Si.empty()),t.set(r.field,o))}return t||null}function x0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&lc(r,s,(o,c)=>pk(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Du extends ff{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Aa extends ff{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function A0(n,e,t){const r=new Map;on(n.length===t.length);for(let s=0;s<t.length;s++){const o=n[s],c=o.transform,m=e.data.field(o.field);r.set(o.field,dk(c,m,t[s]))}return r}function k0(n,e,t){const r=new Map;for(const s of n){const o=s.transform,c=t.data.field(s.field);r.set(s.field,hk(o,c,e))}return r}class Pm extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yk extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&mk(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=J_();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let m=this.applyToLocalView(c,o.mutatedFields);m=t.has(s.key)?null:m;const u=oE(c,m);u!==null&&r.set(s.key,u),c.isValidDocument()||c.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zt())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(t,r)=>x0(t,r))&&lc(this.baseMutations,e.baseMutations,(t,r)=>x0(t,r))}}class Om{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){on(e.mutations.length===r.length);let s=function(){return sk}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new Om(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn,Gt;function Ek(n){switch(n){default:return St();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function aE(n){if(n===void 0)return Es("GRPC error has no .code"),Oe.UNKNOWN;switch(n){case Zn.OK:return Oe.OK;case Zn.CANCELLED:return Oe.CANCELLED;case Zn.UNKNOWN:return Oe.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return Oe.INTERNAL;case Zn.UNAVAILABLE:return Oe.UNAVAILABLE;case Zn.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Zn.NOT_FOUND:return Oe.NOT_FOUND;case Zn.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Zn.ABORTED:return Oe.ABORTED;case Zn.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Zn.DATA_LOSS:return Oe.DATA_LOSS;default:return St()}}(Gt=Zn||(Zn={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new nl([4294967295,4294967295],0);function I0(n){const e=Sk().encode(n),t=new M_;return t.update(e),new Uint8Array(t.digest())}function R0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new nl([t,r],0),new nl([s,o],0)]}class Dm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new au(`Invalid padding: ${t}`);if(r<0)throw new au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new au(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=nl.fromNumber(this.Te)}Ee(e,t,r){let s=e.add(t.multiply(nl.fromNumber(r)));return s.compare(Ck)===1&&(s=new nl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=I0(e),[r,s]=R0(t);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);if(!this.de(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Dm(o,s,t);return r.forEach(m=>c.insert(m)),c}insert(e){if(this.Te===0)return;const t=I0(e),[r,s]=R0(t);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new pf(Ct.min(),s,new $n(Ut),Ss(),zt())}}class Nu{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nu(r,t,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class lE{constructor(e,t){this.targetId=e,this.me=t}}class cE{constructor(e,t,r=Lr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class M0{constructor(){this.fe=0,this.ge=L0(),this.pe=Lr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=zt(),t=zt(),r=zt();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:St()}}),new Nu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=L0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,on(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Tk{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ss(),this.qe=nd(),this.Qe=nd(),this.Ke=new $n(Ut)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:St()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const o=s.target;if(Xg(o))if(r===0){const c=new dt(o.path);this.We(t,c,Kr.newNoDocument(c,Ct.min()))}else on(r===1);else{const c=this.Ze(t);if(c!==r){const m=this.Xe(e),u=m?this.et(m,e,c):1;if(u!==0){this.He(t);const g=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let c,m;try{c=_a(r).toUint8Array()}catch(u){if(u instanceof V_)return ac("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{m=new Dm(c,s,o)}catch(u){return ac(u instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return m.Te===0?null:m}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const c=this.Le.nt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(m)||(this.We(t,o,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((o,c)=>{const m=this.Ye(c);if(m){if(o.current&&Xg(m.target)){const u=new dt(m.target.path);this.st(u).has(c)||this.ot(c,u)||this.We(c,u,Kr.newNoDocument(u,e))}o.be&&(t.set(c,o.ve()),o.Ce())}});let r=zt();this.Qe.forEach((o,c)=>{let m=!0;c.forEachWhile(u=>{const g=this.Ye(u);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(o))}),this.ke.forEach((o,c)=>c.setReadTime(e));const s=new pf(e,t,this.Ke,this.ke,r);return this.ke=Ss(),this.qe=nd(),this.Qe=nd(),this.Ke=new $n(Ut),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new M0,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new cr(Ut),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new cr(Ut),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||tt("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new M0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function nd(){return new $n(dt.comparator)}function L0(){return new $n(dt.comparator)}const xk={asc:"ASCENDING",desc:"DESCENDING"},Ak={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kk={and:"AND",or:"OR"};class Ik{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function em(n,e){return n.useProto3Json||af(e)?e:{value:e}}function Id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Rk(n,e){return Id(n,e.toTimestamp())}function Uo(n){return on(!!n),Ct.fromTimestamp(function(t){const r=ba(t);return new lr(r.seconds,r.nanos)}(n))}function Nm(n,e){return tm(n,e).canonicalString()}function tm(n,e){const t=function(s){return new Cn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function hE(n){const e=Cn.fromString(n);return on(mE(e)),e}function nm(n,e){return Nm(n.databaseId,e.path)}function mg(n,e){const t=hE(e);if(t.get(1)!==n.databaseId.projectId)throw new nt(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new nt(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new dt(fE(t))}function dE(n,e){return Nm(n.databaseId,e)}function Mk(n){const e=hE(n);return e.length===4?Cn.emptyPath():fE(e)}function rm(n){return new Cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fE(n){return on(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function $0(n,e,t){return{name:nm(n,e),fields:t.value.mapValue.fields}}function Lk(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(g,a){return g.useProto3Json?(on(a===void 0||typeof a=="string"),Lr.fromBase64String(a||"")):(on(a===void 0||a instanceof Buffer||a instanceof Uint8Array),Lr.fromUint8Array(a||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(g){const a=g.code===void 0?Oe.UNKNOWN:aE(g.code);return new nt(a,g.message||"")}(c);t=new cE(r,s,o,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mg(n,r.document.name),o=Uo(r.document.updateTime),c=r.document.createTime?Uo(r.document.createTime):Ct.min(),m=new Si({mapValue:{fields:r.document.fields}}),u=Kr.newFoundDocument(s,o,c,m),g=r.targetIds||[],a=r.removedTargetIds||[];t=new pd(g,a,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mg(n,r.document),o=r.readTime?Uo(r.readTime):Ct.min(),c=Kr.newNoDocument(s,o),m=r.removedTargetIds||[];t=new pd([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mg(n,r.document),o=r.removedTargetIds||[];t=new pd([],o,s,null)}else{if(!("filter"in e))return St();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new _k(s,o),m=r.targetId;t=new lE(m,c)}}return t}function $k(n,e){let t;if(e instanceof Du)t={update:$0(n,e.key,e.value)};else if(e instanceof Pm)t={delete:nm(n,e.key)};else if(e instanceof Aa)t={update:$0(n,e.key,e.data),updateMask:jk(e.fieldMask)};else{if(!(e instanceof yk))return St();t={verify:nm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const m=c.transform;if(m instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Au)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kd)return{fieldPath:c.field.canonicalString(),increment:m.Pe};throw St()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Rk(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St()}(n,e.precondition)),t}function Pk(n,e){return n&&n.length>0?(on(e!==void 0),n.map(t=>function(s,o){let c=s.updateTime?Uo(s.updateTime):Uo(o);return c.isEqual(Ct.min())&&(c=Uo(o)),new gk(c,s.transformResults||[])}(t,e))):[]}function Ok(n,e){return{documents:[dE(n,e.path)]}}function Dk(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=dE(n,s);const o=function(g){if(g.length!==0)return gE(bo.create(g,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(g){if(g.length!==0)return g.map(a=>function(d){return{field:Yl(d.field),direction:Bk(d.dir)}}(a))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=em(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:t,parent:s}}function Nk(n){let e=Mk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){on(r===1);const a=t.from[0];a.allDescendants?s=a.collectionId:e=e.child(a.collectionId)}let o=[];t.where&&(o=function(h){const d=pE(h);return d instanceof bo&&H_(d)?d.getFilters():[d]}(t.where));let c=[];t.orderBy&&(c=function(h){return h.map(d=>function(p){return new Tu(Xl(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(t.orderBy));let m=null;t.limit&&(m=function(h){let d;return d=typeof h=="object"?h.value:h,af(d)?null:d}(t.limit));let u=null;t.startAt&&(u=function(h){const d=!!h.before,f=h.values||[];return new Ad(f,d)}(t.startAt));let g=null;return t.endAt&&(g=function(h){const d=!h.before,f=h.values||[];return new Ad(f,d)}(t.endAt)),tk(e,s,c,o,m,"F",u,g)}function Fk(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xl(t.unaryFilter.field);return Jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xl(t.unaryFilter.field);return Jn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xl(t.unaryFilter.field);return Jn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xl(t.unaryFilter.field);return Jn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(n):n.fieldFilter!==void 0?function(t){return Jn.create(Xl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return bo.create(t.compositeFilter.filters.map(r=>pE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return St()}}(t.compositeFilter.op))}(n):St()}function Bk(n){return xk[n]}function Vk(n){return Ak[n]}function zk(n){return kk[n]}function Yl(n){return{fieldPath:n.canonicalString()}}function Xl(n){return Rr.fromServerFormat(n.fieldPath)}function gE(n){return n instanceof Jn?function(t){if(t.op==="=="){if(b0(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NAN"}};if(w0(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(b0(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NOT_NAN"}};if(w0(t.value))return{unaryFilter:{field:Yl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yl(t.field),op:Vk(t.op),value:t.value}}}(n):n instanceof bo?function(t){const r=t.getFilters().map(s=>gE(s));return r.length===1?r[0]:{compositeFilter:{op:zk(t.op),filters:r}}}(n):St()}function jk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t,r,s,o=Ct.min(),c=Ct.min(),m=Lr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=u}withSequenceNumber(e){return new ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.ht=e}}function Hk(n){const e=Nk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.ln=new Gk}addToCollectionParentIndex(e,t){return this.ln.add(t),Pe.resolve()}getCollectionParents(e,t){return Pe.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Pe.resolve()}deleteFieldIndex(e,t){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,t){return Pe.resolve()}getDocumentsMatchingTarget(e,t){return Pe.resolve(null)}getIndexType(e,t){return Pe.resolve(0)}getFieldIndexes(e,t){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,t){return Pe.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,t){return Pe.resolve(wa.min())}updateCollectionGroup(e,t,r){return Pe.resolve()}updateIndexEntries(e,t){return Pe.resolve()}}class Gk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new cr(Cn.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new cr(Cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ei{static withCacheSize(e){return new Ei(e,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei.DEFAULT_COLLECTION_PERCENTILE=10,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ei.DEFAULT=new Ei(41943040,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ei.DISABLED=new Ei(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new hc(0)}static Qn(){return new hc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0([n,e],[t,r]){const s=Ut(n,t);return s===0?Ut(e,r):s}class Kk{constructor(e){this.Gn=e,this.buffer=new cr(O0),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();O0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){tt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bc(t)?tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await wc(t)}await this.Yn(3e5)})}}class Qk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Pe.resolve(sf.oe);const r=new Kk(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(P0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P0):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,o,c,m,u,g;const a=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,c=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,m=Date.now(),this.removeTargets(e,r,t))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(g=Date.now(),ql()<=Vt.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-a}ms
	Determined least recently used ${s} in `+(m-c)+`ms
	Removed ${o} targets in `+(u-m)+`ms
	Removed ${h} documents in `+(g-u)+`ms
Total Duration: ${g-a}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:h})))}}function Yk(n,e){return new Qk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.changes=new fl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&gu(r.mutation,s,Oi.empty(),lr.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=zt()){const s=tl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let c=su();return o.forEach((m,u)=>{c=c.insert(m,u.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=tl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,zt()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,r,s){let o=Ss();const c=pu(),m=function(){return pu()}();return t.forEach((u,g)=>{const a=r.get(g.key);s.has(g.key)&&(a===void 0||a.mutation instanceof Aa)?o=o.insert(g.key,g):a!==void 0?(c.set(g.key,a.mutation.getFieldMask()),gu(a.mutation,g,a.mutation.getFieldMask(),lr.now())):c.set(g.key,Oi.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((g,a)=>c.set(g,a)),t.forEach((g,a)=>{var h;return m.set(g,new Zk(a,(h=c.get(g))!==null&&h!==void 0?h:null))}),m))}recalculateAndSaveOverlays(e,t){const r=pu();let s=new $n((c,m)=>c-m),o=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(u=>{const g=t.get(u);if(g===null)return;let a=r.get(u)||Oi.empty();a=m.applyToLocalView(g,a),r.set(u,a);const h=(s.get(m.batchId)||zt()).add(u);s=s.insert(m.batchId,h)})}).next(()=>{const c=[],m=s.getReverseIterator();for(;m.hasNext();){const u=m.getNext(),g=u.key,a=u.value,h=J_();a.forEach(d=>{if(!o.has(d)){const f=oE(t.get(d),r.get(d));f!==null&&h.set(d,f),o=o.add(d)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,h))}return Pe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(c){return dt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):q_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Pe.resolve(tl());let m=-1,u=o;return c.next(g=>Pe.forEach(g,(a,h)=>(m<h.largestBatchId&&(m=h.largestBatchId),o.get(a)?Pe.resolve():this.remoteDocumentCache.getEntry(e,a).next(d=>{u=u.insert(a,d)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,u,g,zt())).next(a=>({batchId:m,changes:Z_(a)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dt(t)).next(r=>{let s=su();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let c=su();return this.indexManager.getCollectionParents(e,o).next(m=>Pe.forEach(m,u=>{const g=function(h,d){return new _c(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,s).next(a=>{a.forEach((h,d)=>{c=c.insert(h,d)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(c=>{o.forEach((u,g)=>{const a=g.getKey();c.get(a)===null&&(c=c.insert(a,Kr.newInvalidDocument(a)))});let m=su();return c.forEach((u,g)=>{const a=o.get(u);a!==void 0&&gu(a.mutation,g,Oi.empty(),lr.now()),hf(t,g)&&(m=m.insert(u,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Pe.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Uo(s.createTime)}}(t)),Pe.resolve()}getNamedQuery(e,t){return Pe.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:Hk(s.bundledQuery),readTime:Uo(s.readTime)}}(t)),Pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.overlays=new $n(dt.comparator),this.Er=new Map}getOverlay(e,t){return Pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=tl();return Pe.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.Tt(e,t,o)}),Pe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),Pe.resolve()}getOverlaysForCollection(e,t,r){const s=tl(),o=t.length+1,c=new dt(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const u=m.getNext().value,g=u.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&u.largestBatchId>r&&s.set(u.getKey(),u)}return Pe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new $n((g,a)=>g-a);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let a=o.get(g.largestBatchId);a===null&&(a=tl(),o=o.insert(g.largestBatchId,a)),a.set(g.getKey(),g)}}const m=tl(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((g,a)=>m.set(g,a)),!(m.size()>=s)););return Pe.resolve(m)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new bk(t,r));let o=this.Er.get(t);o===void 0&&(o=zt(),this.Er.set(t,o)),this.Er.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.sessionToken=Lr.EMPTY_BYTE_STRING}getSessionToken(e){return Pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.dr=new cr(wr.Ar),this.Rr=new cr(wr.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new wr(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new wr(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new dt(new Cn([])),r=new wr(t,e),s=new wr(t,e+1),o=[];return this.Rr.forEachInRange([r,s],c=>{this.gr(c),o.push(c.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new dt(new Cn([])),r=new wr(t,e),s=new wr(t,e+1);let o=zt();return this.Rr.forEachInRange([r,s],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new wr(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class wr{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return dt.comparator(e.key,t.key)||Ut(e.br,t.br)}static Vr(e,t){return Ut(e.br,t.br)||dt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new cr(wr.Ar)}checkEmpty(e){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wk(o,t,r,s);this.mutationQueue.push(c);for(const m of s)this.vr=this.vr.add(new wr(m.key,o)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Pe.resolve(c)}lookupMutationBatch(e,t){return Pe.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),o=s<0?0:s;return Pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wr(t,0),s=new wr(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,s],c=>{const m=this.Cr(c.br);o.push(m)}),Pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cr(Ut);return t.forEach(s=>{const o=new wr(s,0),c=new wr(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,c],m=>{r=r.add(m.br)})}),Pe.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;dt.isDocumentKey(o)||(o=o.child(""));const c=new wr(new dt(o),0);let m=new cr(Ut);return this.vr.forEachWhile(u=>{const g=u.key.path;return!!r.isPrefixOf(g)&&(g.length===s&&(m=m.add(u.br)),!0)},c),Pe.resolve(this.Mr(m))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){on(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Pe.forEach(t.mutations,s=>{const o=new wr(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new wr(t,0),s=this.vr.firstAfterOrEqual(r);return Pe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pe.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.Nr=e,this.docs=function(){return new $n(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,c=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Pe.resolve(r?r.document.mutableCopy():Kr.newInvalidDocument(t))}getEntries(e,t){let r=Ss();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Kr.newInvalidDocument(s))}),Pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Ss();const c=t.path,m=new dt(c.child("")),u=this.docs.getIteratorFrom(m);for(;u.hasNext();){const{key:g,value:{document:a}}=u.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||PA($A(a),r)<=0||(s.has(a.key)||hf(t,a))&&(o=o.insert(a.key,a.mutableCopy()))}return Pe.resolve(o)}getAllFromCollectionGroup(e,t,r,s){St()}Lr(e,t){return Pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new oI(this)}getSize(e){return Pe.resolve(this.size)}}class oI extends Xk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),Pe.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.persistence=e,this.Br=new fl(t=>Mm(t),Lm),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.kr=0,this.qr=new Fm,this.targetCount=0,this.Qr=hc.qn()}forEachTarget(e,t){return this.Br.forEach((r,s)=>t(s)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Pe.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new hc(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Pe.resolve()}updateTargetData(e,t){return this.Un(t),Pe.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.Br.forEach((c,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.Br.delete(c),o.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),Pe.waitFor(o).next(()=>s)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return Pe.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Pe.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),Pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Pe.resolve(r)}containsKey(e,t){return Pe.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new sf(0),this.Ur=!1,this.Ur=!0,this.Wr=new nI,this.referenceDelegate=e(this),this.Gr=new sI(this),this.indexManager=new Wk,this.remoteDocumentCache=function(s){return new iI(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Uk(t),this.jr=new eI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new rI(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){tt("MemoryPersistence","Starting transaction:",e);const s=new aI(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(o=>this.referenceDelegate.Jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Yr(e,t){return Pe.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class aI extends DA{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Zr=new Fm,this.Xr=null}static ei(e){return new Bm(e)}get ti(){if(this.Xr)return this.Xr;throw St()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Pe.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Pe.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.ti,r=>{const s=dt.fromPath(r);return this.ni(e,s).next(o=>{o||t.removeEntry(s,Ct.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Pe.or([()=>Pe.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Rd{constructor(e,t){this.persistence=e,this.ri=new fl(r=>BA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Yk(this,t)}static ei(e,t){return new Rd(e,t)}Hr(){}Jr(e){return Pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Pe.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(o=>o?Pe.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.Lr(e,c=>this.ir(e,c,t).next(m=>{m||(r++,o.removeEntry(c,Ct.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Pe.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Pe.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Pe.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hd(e.data.value)),t}ir(e,t,r){return Pe.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return Pe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=zt(),s=zt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Vm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return ix()?8:NA(Qr())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.Xi(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.es(e,t,s,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new lI;return this.ts(e,t,c).next(m=>{if(o.result=m,this.Hi)return this.ns(e,t,c,m.size)})}).next(()=>o.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(ql()<=Vt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",Ql(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Pe.resolve()):(ql()<=Vt.DEBUG&&tt("QueryEngine","Query:",Ql(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(ql()<=Vt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",Ql(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jo(t))):Pe.resolve())}Xi(e,t){if(C0(t))return Pe.resolve(null);let r=jo(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Jg(t,null,"F"),r=jo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=zt(...o);return this.Zi.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,r).next(u=>{const g=this.rs(t,m);return this.ss(t,g,c,u.readTime)?this.Xi(e,Jg(t,null,"F")):this.os(e,g,t,u)}))})))}es(e,t,r,s){return C0(t)||s.isEqual(Ct.min())?Pe.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const c=this.rs(t,o);return this.ss(t,c,r,s)?Pe.resolve(null):(ql()<=Vt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ql(t)),this.os(e,c,t,LA(s,-1)).next(m=>m))})}rs(e,t){let r=new cr(Y_(e));return t.forEach((s,o)=>{hf(e,o)&&(r=r.add(o))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ts(e,t,r){return ql()<=Vt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",Ql(t)),this.Zi.getDocumentsMatchingQuery(e,t,wa.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new $n(Ut),this.cs=new fl(o=>Mm(o),Lm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function hI(n,e,t,r){return new uI(n,e,t,r)}async function yE(n,e){const t=At(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],m=[];let u=zt();for(const g of s){c.push(g.batchId);for(const a of g.mutations)u=u.add(a.key)}for(const g of o){m.push(g.batchId);for(const a of g.mutations)u=u.add(a.key)}return t.localDocuments.getDocuments(r,u).next(g=>({Ts:g,removedBatchIds:c,addedBatchIds:m}))})})}function dI(n,e){const t=At(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(m,u,g,a){const h=g.batch,d=h.keys();let f=Pe.resolve();return d.forEach(p=>{f=f.next(()=>a.getEntry(u,p)).next(v=>{const y=g.docVersions.get(p);on(y!==null),v.version.compareTo(y)<0&&(h.applyToRemoteDocument(v,g),v.isValidDocument()&&(v.setReadTime(g.commitVersion),a.addEntry(v)))})}),f.next(()=>m.mutationQueue.removeMutationBatch(u,h))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let u=zt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(u=u.add(m.batch.mutations[g].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function wE(n){const e=At(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function fI(n,e){const t=At(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const m=[];e.targetChanges.forEach((a,h)=>{const d=s.get(h);if(!d)return;m.push(t.Gr.removeMatchingKeys(o,a.removedDocuments,h).next(()=>t.Gr.addMatchingKeys(o,a.addedDocuments,h)));let f=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Lr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):a.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(a.resumeToken,r)),s=s.insert(h,f),function(v,y,C){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(d,f,a)&&m.push(t.Gr.updateTargetData(o,f))});let u=Ss(),g=zt();if(e.documentUpdates.forEach(a=>{e.resolvedLimboDocuments.has(a)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(o,a))}),m.push(pI(o,c,e.documentUpdates).next(a=>{u=a.Is,g=a.Es})),!r.isEqual(Ct.min())){const a=t.Gr.getLastRemoteSnapshotVersion(o).next(h=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));m.push(a)}return Pe.waitFor(m).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,g)).next(()=>u)}).then(o=>(t.us=s,o))}function pI(n,e,t){let r=zt(),s=zt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=Ss();return t.forEach((m,u)=>{const g=o.get(m);u.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(m)),u.isNoDocument()&&u.version.isEqual(Ct.min())?(e.removeEntry(m,u.readTime),c=c.insert(m,u)):!g.isValidDocument()||u.version.compareTo(g.version)>0||u.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(u),c=c.insert(m,u)):tt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",u.version)}),{Is:c,Es:s}})}function gI(n,e){const t=At(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mI(n,e){const t=At(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(o=>o?(s=o,Pe.resolve(s)):t.Gr.allocateTargetId(r).next(c=>(s=new ua(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function im(n,e,t){const r=At(n),s=r.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!bc(c))throw c;tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function D0(n,e,t){const r=At(n);let s=Ct.min(),o=zt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(u,g,a){const h=At(u),d=h.cs.get(a);return d!==void 0?Pe.resolve(h.us.get(d)):h.Gr.getTargetData(g,a)}(r,c,jo(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(c,m.targetId).next(u=>{o=u})}).next(()=>r._s.getDocumentsMatchingQuery(c,e,t?s:Ct.min(),t?o:zt())).next(m=>(vI(r,rk(e),m),{documents:m,ds:o})))}function vI(n,e,t){let r=n.ls.get(e)||Ct.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ls.set(e,r)}class N0{constructor(){this.activeTargetIds=ck()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yI{constructor(){this._o=new N0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new N0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function vg(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="WebChannelConnection";class EI extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Oo(t,r,s,o,c){const m=vg(),u=this.No(t,r.toUriEncodedString());tt("RestConnection",`Sending RPC '${t}' ${m}:`,u,s);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(g,o,c),this.Bo(t,u,g,s).then(a=>(tt("RestConnection",`Received RPC '${t}' ${m}: `,a),a),a=>{throw ac("RestConnection",`RPC '${t}' ${m} failed with error: `,a,"url: ",u,"request:",s),a})}ko(t,r,s,o,c,m){return this.Oo(t,r,s,o,c)}Lo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}No(t,r){const s=bI[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,s){const o=vg();return new Promise((c,m)=>{const u=new L_;u.setWithCredentials(!0),u.listenOnce($_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ud.NO_ERROR:const a=u.getResponseJson();tt(Wr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(a)),c(a);break;case ud.TIMEOUT:tt(Wr,`RPC '${e}' ${o} timed out`),m(new nt(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case ud.HTTP_ERROR:const h=u.getStatus();if(tt(Wr,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(y){const C=y.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(C)>=0?C:Oe.UNKNOWN}(f.status);m(new nt(p,f.message))}else m(new nt(Oe.UNKNOWN,"Server responded with status "+u.getStatus()))}else m(new nt(Oe.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{tt(Wr,`RPC '${e}' ${o} completed.`)}});const g=JSON.stringify(s);tt(Wr,`RPC '${e}' ${o} sending request:`,s),u.send(t,"POST",g,r,15)})}qo(e,t,r){const s=vg(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=D_(),m=O_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(u.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const a=o.join("");tt(Wr,`Creating RPC '${e}' stream ${s}: ${a}`,u);const h=c.createWebChannel(a,u);let d=!1,f=!1;const p=new _I({Eo:y=>{f?tt(Wr,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(d||(tt(Wr,`Opening RPC '${e}' stream ${s} transport.`),h.open(),d=!0),tt(Wr,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},Ao:()=>h.close()}),v=(y,C,A)=>{y.listen(C,F=>{try{A(F)}catch(O){setTimeout(()=>{throw O},0)}})};return v(h,ou.EventType.OPEN,()=>{f||(tt(Wr,`RPC '${e}' stream ${s} transport opened.`),p.So())}),v(h,ou.EventType.CLOSE,()=>{f||(f=!0,tt(Wr,`RPC '${e}' stream ${s} transport closed`),p.Do())}),v(h,ou.EventType.ERROR,y=>{f||(f=!0,ac(Wr,`RPC '${e}' stream ${s} transport errored:`,y),p.Do(new nt(Oe.UNAVAILABLE,"The operation could not be completed")))}),v(h,ou.EventType.MESSAGE,y=>{var C;if(!f){const A=y.data[0];on(!!A);const F=A,O=(F==null?void 0:F.error)||((C=F[0])===null||C===void 0?void 0:C.error);if(O){tt(Wr,`RPC '${e}' stream ${s} received error:`,O);const $=O.status;let _=function(M){const P=Zn[M];if(P!==void 0)return aE(P)}($),E=O.message;_===void 0&&(_=Oe.INTERNAL,E="Unknown error status: "+$+" with message "+O.message),f=!0,p.Do(new nt(_,E)),h.close()}else tt(Wr,`RPC '${e}' stream ${s} received:`,A),p.vo(A)}}),v(m,P_.STAT_EVENT,y=>{y.stat===Kg.PROXY?tt(Wr,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===Kg.NOPROXY&&tt(Wr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.bo()},0),p}}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(n){return new Ik(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t,r=1e3,s=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&tt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t,r,s,o,c,m,u){this.li=e,this.Yo=r,this.Zo=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new bE(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Oe.RESOURCE_EXHAUSTED?(Es(t.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new nt(Oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SI extends _E{constructor(e,t,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Lk(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ct.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ct.min():c.readTime?Uo(c.readTime):Ct.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=rm(this.serializer),t.addTarget=function(o,c){let m;const u=c.target;if(m=Xg(u)?{documents:Ok(o,u)}:{query:Dk(o,u).ct},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=uE(o,c.resumeToken);const g=em(o,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ct.min())>0){m.readTime=Id(o,c.snapshotVersion.toTimestamp());const g=em(o,c.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const r=Fk(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=rm(this.serializer),t.removeTarget=e,this.c_(t)}}class CI extends _E{constructor(e,t,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return on(!!e.streamToken),this.lastStreamToken=e.streamToken,on(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Pk(e.writeResults,e.commitTime),r=Uo(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=rm(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>$k(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new nt(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Oo(e,tm(t,r),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new nt(Oe.UNKNOWN,o.toString())})}ko(e,t,r,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.ko(e,tm(t,r),s,c,m,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(Oe.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class xI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Es(t),this.C_=!1):tt("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(c=>{r.enqueueAndForget(async()=>{pl(this)&&(tt("RemoteStore","Restarting streams for network reachability change."),await async function(u){const g=At(u);g.k_.add(4),await Fu(g),g.K_.set("Unknown"),g.k_.delete(4),await mf(g)}(this))})}),this.K_=new xI(r,s)}}async function mf(n){if(pl(n))for(const e of n.q_)await e(!0)}async function Fu(n){for(const e of n.q_)await e(!1)}function EE(n,e){const t=At(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Hm(t)?Um(t):Ec(t).s_()&&jm(t,e))}function zm(n,e){const t=At(n),r=Ec(t);t.B_.delete(e),r.s_()&&SE(t,e),t.B_.size===0&&(r.s_()?r.a_():pl(t)&&t.K_.set("Unknown"))}function jm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ec(n).V_(e)}function SE(n,e){n.U_.xe(e),Ec(n).m_(e)}function Um(n){n.U_=new Tk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ec(n).start(),n.K_.F_()}function Hm(n){return pl(n)&&!Ec(n).i_()&&n.B_.size>0}function pl(n){return At(n).k_.size===0}function CE(n){n.U_=void 0}async function kI(n){n.K_.set("Online")}async function II(n){n.B_.forEach((e,t)=>{jm(n,e)})}async function RI(n,e){CE(n),Hm(n)?(n.K_.O_(e),Um(n)):n.K_.set("Unknown")}async function MI(n,e,t){if(n.K_.set("Online"),e instanceof cE&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const m of o.targetIds)s.B_.has(m)&&(await s.remoteSyncer.rejectListen(m,c),s.B_.delete(m),s.U_.removeTarget(m))}(n,e)}catch(r){tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Md(n,r)}else if(e instanceof pd?n.U_.$e(e):e instanceof lE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ct.min()))try{const r=await wE(n.localStore);t.compareTo(r)>=0&&await function(o,c){const m=o.U_.it(c);return m.targetChanges.forEach((u,g)=>{if(u.resumeToken.approximateByteSize()>0){const a=o.B_.get(g);a&&o.B_.set(g,a.withResumeToken(u.resumeToken,c))}}),m.targetMismatches.forEach((u,g)=>{const a=o.B_.get(u);if(!a)return;o.B_.set(u,a.withResumeToken(Lr.EMPTY_BYTE_STRING,a.snapshotVersion)),SE(o,u);const h=new ua(a.target,u,g,a.sequenceNumber);jm(o,h)}),o.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(r){tt("RemoteStore","Failed to raise snapshot:",r),await Md(n,r)}}async function Md(n,e,t){if(!bc(e))throw e;n.k_.add(1),await Fu(n),n.K_.set("Offline"),t||(t=()=>wE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{tt("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await mf(n)})}function TE(n,e){return e().catch(t=>Md(n,t,e))}async function vf(n){const e=At(n),t=Sa(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;LI(e);)try{const s=await gI(e.localStore,r);if(s===null){e.L_.length===0&&t.a_();break}r=s.batchId,$I(e,s)}catch(s){await Md(e,s)}xE(e)&&AE(e)}function LI(n){return pl(n)&&n.L_.length<10}function $I(n,e){n.L_.push(e);const t=Sa(n);t.s_()&&t.f_&&t.g_(e.mutations)}function xE(n){return pl(n)&&!Sa(n).i_()&&n.L_.length>0}function AE(n){Sa(n).start()}async function PI(n){Sa(n).w_()}async function OI(n){const e=Sa(n);for(const t of n.L_)e.g_(t.mutations)}async function DI(n,e,t){const r=n.L_.shift(),s=Om.from(r,e,t);await TE(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await vf(n)}async function NI(n,e){e&&Sa(n).f_&&await async function(r,s){if(function(c){return Ek(c)&&c!==Oe.ABORTED}(s.code)){const o=r.L_.shift();Sa(r).__(),await TE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await vf(r)}}(n,e),xE(n)&&AE(n)}async function B0(n,e){const t=At(n);t.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const r=pl(t);t.k_.add(3),await Fu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await mf(t)}async function FI(n,e){const t=At(n);e?(t.k_.delete(2),await mf(t)):e||(t.k_.add(2),await Fu(t),t.K_.set("Unknown"))}function Ec(n){return n.W_||(n.W_=function(t,r,s){const o=At(t);return o.b_(),new SI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Ro:kI.bind(null,n),mo:II.bind(null,n),po:RI.bind(null,n),R_:MI.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Hm(n)?Um(n):n.K_.set("Unknown")):(await n.W_.stop(),CE(n))})),n.W_}function Sa(n){return n.G_||(n.G_=function(t,r,s){const o=At(t);return o.b_(),new CI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:PI.bind(null,n),po:NI.bind(null,n),p_:OI.bind(null,n),y_:DI.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await vf(n)):(await n.G_.stop(),n.L_.length>0&&(tt("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const c=Date.now()+r,m=new Wm(e,t,c,s,o);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(n,e){if(Es("AsyncQueue",`${e}: ${n}`),bc(n))return new nt(Oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{static emptySet(e){return new ec(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||dt.comparator(t.key,r.key):(t,r)=>dt.comparator(t.key,r.key),this.keyedMap=su(),this.sortedSet=new $n(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ec)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.z_=new $n(dt.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):St():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class dc{constructor(e,t,r,s,o,c,m,u,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=u,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,s,o){const c=[];return t.forEach(m=>{c.push({type:0,doc:m})}),new dc(e,t,ec.emptySet(t),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class VI{constructor(){this.queries=z0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=At(t),o=s.queries;s.queries=z0(),o.forEach((c,m)=>{for(const u of m.J_)u.onError(r)})})(this,new nt(Oe.ABORTED,"Firestore shutting down"))}}function z0(){return new fl(n=>Q_(n),uf)}async function kE(n,e){const t=At(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Y_()&&e.Z_()&&(r=2):(o=new BI,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await t.onListen(s,!0);break;case 1:o.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const m=Gm(c,`Initialization of query '${Ql(e.query)}' failed`);return void e.onError(m)}t.queries.set(s,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&Km(t)}async function IE(n,e){const t=At(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const c=o.J_.indexOf(e);c>=0&&(o.J_.splice(c,1),o.J_.length===0?s=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function zI(n,e){const t=At(n);let r=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const m of c.J_)m.ta(s)&&(r=!0);c.H_=s}}r&&Km(t)}function jI(n,e,t){const r=At(n),s=r.queries.get(e);if(s)for(const o of s.J_)o.onError(t);r.queries.delete(e)}function Km(n){n.X_.forEach(e=>{e.next()})}var om,j0;(j0=om||(om={})).na="default",j0.Cache="cache";class RE{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.key=e}}class LE{constructor(e){this.key=e}}class UI{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=zt(),this.mutatedKeys=zt(),this.Va=Y_(e),this.ma=new ec(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new V0,s=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,m=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((a,h)=>{const d=s.get(a),f=hf(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;d&&f?d.data.isEqual(f.data)?p!==v&&(r.track({type:3,doc:f}),y=!0):this.ya(d,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Va(f,u)>0||g&&this.Va(f,g)<0)&&(m=!0)):!d&&f?(r.track({type:0,doc:f}),y=!0):d&&!f&&(r.track({type:1,doc:d}),y=!0,(u||g)&&(m=!0)),y&&(f?(c=c.add(f),o=v?o.add(a):o.delete(a)):(c=c.delete(a),o=o.delete(a)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const a=this.query.limitType==="F"?c.last():c.first();c=c.delete(a.key),o=o.delete(a.key),r.track({type:1,doc:a})}return{ma:c,pa:r,ss:m,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((a,h)=>function(f,p){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return v(f)-v(p)}(a.type,h.type)||this.Va(a.doc,h.doc)),this.wa(r),s=s!=null&&s;const m=t&&!s?this.Sa():[],u=this.Ra.size===0&&this.current&&!s?1:0,g=u!==this.Aa;return this.Aa=u,c.length!==0||g?{snapshot:new dc(this.query,e.ma,o,c,e.mutatedKeys,u===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new V0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=zt(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new LE(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new ME(r))}),t}va(e){this.da=e.ds,this.Ra=zt();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return dc.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class HI{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class WI{constructor(e){this.key=e,this.Fa=!1}}class GI{constructor(e,t,r,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new fl(m=>Q_(m),uf),this.Oa=new Map,this.Na=new Set,this.La=new $n(dt.comparator),this.Ba=new Map,this.ka=new Fm,this.qa={},this.Qa=new Map,this.Ka=hc.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function KI(n,e,t=!0){const r=FE(n);let s;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Ca()):s=await $E(r,e,t,!0),s}async function qI(n,e){const t=FE(n);await $E(t,e,!0,!1)}async function $E(n,e,t,r){const s=await mI(n.localStore,jo(e)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let m;return r&&(m=await QI(n,e,o,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&EE(n.remoteStore,s),m}async function QI(n,e,t,r,s){n.Ua=(h,d,f)=>async function(v,y,C,A){let F=y.view.ga(C);F.ss&&(F=await D0(v.localStore,y.query,!1).then(({documents:E})=>y.view.ga(E,F)));const O=A&&A.targetChanges.get(y.targetId),$=A&&A.targetMismatches.get(y.targetId)!=null,_=y.view.applyChanges(F,v.isPrimaryClient,O,$);return H0(v,y.targetId,_.ba),_.snapshot}(n,h,d,f);const o=await D0(n.localStore,e,!0),c=new UI(e,o.ds),m=c.ga(o.documents),u=Nu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),g=c.applyChanges(m,n.isPrimaryClient,u);H0(n,t,g.ba);const a=new HI(e,t,c);return n.xa.set(e,a),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),g.snapshot}async function YI(n,e,t){const r=At(n),s=r.xa.get(e),o=r.Oa.get(s.targetId);if(o.length>1)return r.Oa.set(s.targetId,o.filter(c=>!uf(c,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await im(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&zm(r.remoteStore,s.targetId),sm(r,s.targetId)}).catch(wc)):(sm(r,s.targetId),await im(r.localStore,s.targetId,!0))}async function XI(n,e){const t=At(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zm(t.remoteStore,r.targetId))}async function ZI(n,e,t){const r=oR(n);try{const s=await function(c,m){const u=At(c),g=lr.now(),a=m.reduce((f,p)=>f.add(p.key),zt());let h,d;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Ss(),v=zt();return u.hs.getEntries(f,a).next(y=>{p=y,p.forEach((C,A)=>{A.isValidDocument()||(v=v.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(y=>{h=y;const C=[];for(const A of m){const F=vk(A,h.get(A.key).overlayedDocument);F!=null&&C.push(new Aa(A.key,F,z_(F.value.mapValue),ro.exists(!0)))}return u.mutationQueue.addMutationBatch(f,g,C,m)}).next(y=>{d=y;const C=y.applyToLocalDocumentSet(h,v);return u.documentOverlayCache.saveOverlays(f,y.batchId,C)})}).then(()=>({batchId:d.batchId,changes:Z_(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,m,u){let g=c.qa[c.currentUser.toKey()];g||(g=new $n(Ut)),g=g.insert(m,u),c.qa[c.currentUser.toKey()]=g}(r,s.batchId,t),await Bu(r,s.changes),await vf(r.remoteStore)}catch(s){const o=Gm(s,"Failed to persist write");t.reject(o)}}async function PE(n,e){const t=At(n);try{const r=await fI(t.localStore,e);e.targetChanges.forEach((s,o)=>{const c=t.Ba.get(o);c&&(on(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Fa=!0:s.modifiedDocuments.size>0?on(c.Fa):s.removedDocuments.size>0&&(on(c.Fa),c.Fa=!1))}),await Bu(t,r,e)}catch(r){await wc(r)}}function U0(n,e,t){const r=At(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((o,c)=>{const m=c.view.ea(e);m.snapshot&&s.push(m.snapshot)}),function(c,m){const u=At(c);u.onlineState=m;let g=!1;u.queries.forEach((a,h)=>{for(const d of h.J_)d.ea(m)&&(g=!0)}),g&&Km(u)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JI(n,e,t){const r=At(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ba.get(e),o=s&&s.key;if(o){let c=new $n(dt.comparator);c=c.insert(o,Kr.newNoDocument(o,Ct.min()));const m=zt().add(o),u=new pf(Ct.min(),new Map,new $n(Ut),c,m);await PE(r,u),r.La=r.La.remove(o),r.Ba.delete(e),qm(r)}else await im(r.localStore,e,!1).then(()=>sm(r,e,t)).catch(wc)}async function eR(n,e){const t=At(n),r=e.batch.batchId;try{const s=await dI(t.localStore,e);DE(t,r,null),OE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Bu(t,s)}catch(s){await wc(s)}}async function tR(n,e,t){const r=At(n);try{const s=await function(c,m){const u=At(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let a;return u.mutationQueue.lookupMutationBatch(g,m).next(h=>(on(h!==null),a=h.keys(),u.mutationQueue.removeMutationBatch(g,h))).next(()=>u.mutationQueue.performConsistencyCheck(g)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(g,a,m)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,a)).next(()=>u.localDocuments.getDocuments(g,a))})}(r.localStore,e);DE(r,e,t),OE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Bu(r,s)}catch(s){await wc(s)}}function OE(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function DE(n,e,t){const r=At(n);let s=r.qa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function sm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||NE(n,r)})}function NE(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(zm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),qm(n))}function H0(n,e,t){for(const r of t)r instanceof ME?(n.ka.addReference(r.key,e),nR(n,r)):r instanceof LE?(tt("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||NE(n,r.key)):St()}function nR(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(tt("SyncEngine","New document in limbo: "+t),n.Na.add(r),qm(n))}function qm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new dt(Cn.fromString(e)),r=n.Ka.next();n.Ba.set(r,new WI(t)),n.La=n.La.insert(t,r),EE(n.remoteStore,new ua(jo(cf(t.path)),r,"TargetPurposeLimboResolution",sf.oe))}}async function Bu(n,e,t){const r=At(n),s=[],o=[],c=[];r.xa.isEmpty()||(r.xa.forEach((m,u)=>{c.push(r.Ua(u,e,t).then(g=>{var a;if((g||t)&&r.isPrimaryClient){const h=g?!g.fromCache:(a=t==null?void 0:t.targetChanges.get(u.targetId))===null||a===void 0?void 0:a.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(g){s.push(g);const h=Vm.zi(u.targetId,g);o.push(h)}}))}),await Promise.all(c),r.Ma.R_(s),await async function(u,g){const a=At(u);try{await a.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Pe.forEach(g,d=>Pe.forEach(d.Wi,f=>a.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>Pe.forEach(d.Gi,f=>a.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!bc(h))throw h;tt("LocalStore","Failed to update sequence numbers: "+h)}for(const h of g){const d=h.targetId;if(!h.fromCache){const f=a.us.get(d),p=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(p);a.us=a.us.insert(d,v)}}}(r.localStore,o))}async function rR(n,e){const t=At(n);if(!t.currentUser.isEqual(e)){tt("SyncEngine","User change. New user:",e.toKey());const r=await yE(t.localStore,e);t.currentUser=e,function(o,c){o.Qa.forEach(m=>{m.forEach(u=>{u.reject(new nt(Oe.CANCELLED,c))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bu(t,r.Ts)}}function iR(n,e){const t=At(n),r=t.Ba.get(e);if(r&&r.Fa)return zt().add(r.key);{let s=zt();const o=t.Oa.get(e);if(!o)return s;for(const c of o){const m=t.xa.get(c);s=s.unionWith(m.view.fa)}return s}}function FE(n){const e=At(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JI.bind(null,e),e.Ma.R_=zI.bind(null,e.eventManager),e.Ma.Wa=jI.bind(null,e.eventManager),e}function oR(n){const e=At(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tR.bind(null,e),e}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return hI(this.persistence,new cI,e.initialUser,this.serializer)}ja(e){return new vE(Bm.ei,this.serializer)}za(e){return new yI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class sR extends Ld{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){on(this.persistence.referenceDelegate instanceof Rd);const r=this.persistence.referenceDelegate.garbageCollector;return new qk(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Ei.withCacheSize(this.cacheSizeBytes):Ei.DEFAULT;return new vE(r=>Rd.ei(r,t),this.serializer)}}class am{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rR.bind(null,this.syncEngine),await FI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VI}()}createDatastore(e){const t=gf(e.databaseInfo.databaseId),r=function(o){return new EI(o)}(e.databaseInfo);return function(o,c,m,u){return new TI(o,c,m,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,c,m){return new AI(r,s,o,c,m)}(this.localStore,this.datastore,e.asyncQueue,t=>U0(this.syncEngine,t,0),function(){return F0.p()?new F0:new wI}())}createSyncEngine(e,t){return function(s,o,c,m,u,g,a){const h=new GI(s,o,c,m,u,g);return a&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=At(s);tt("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Fu(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Gr.UNAUTHENTICATED,this.clientId=F_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{tt("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(tt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wg(n,e){n.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function W0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lR(n);tt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>B0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>B0(e.remoteStore,s)),n._onlineComponents=e}async function lR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){tt("FirestoreClient","Using user provided OfflineComponentProvider");try{await wg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Oe.FAILED_PRECONDITION||s.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ac("Error using user provided cache. Falling back to memory cache: "+t),await wg(n,new Ld)}}else tt("FirestoreClient","Using default OfflineComponentProvider"),await wg(n,new sR(void 0));return n._offlineComponents}async function VE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(tt("FirestoreClient","Using user provided OnlineComponentProvider"),await W0(n,n._uninitializedComponentsProvider._online)):(tt("FirestoreClient","Using default OnlineComponentProvider"),await W0(n,new am))),n._onlineComponents}function cR(n){return VE(n).then(e=>e.syncEngine)}async function lm(n){const e=await VE(n),t=e.eventManager;return t.onListen=KI.bind(null,e.syncEngine),t.onUnlisten=YI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XI.bind(null,e.syncEngine),t}function uR(n,e,t={}){const r=new va;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,m,u,g){const a=new BE({next:d=>{a.eu(),c.enqueueAndForget(()=>IE(o,h));const f=d.docs.has(m);!f&&d.fromCache?g.reject(new nt(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&u&&u.source==="server"?g.reject(new nt(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(d)},error:d=>g.reject(d)}),h=new RE(cf(m.path),a,{includeMetadataChanges:!0,ua:!0});return kE(o,h)}(await lm(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n,e,t){if(!t)throw new nt(Oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hR(n,e,t,r){if(e===!0&&r===!0)throw new nt(Oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function K0(n){if(!dt.isDocumentKey(n))throw new nt(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function q0(n){if(dt.isDocumentKey(n))throw new nt(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":St()}function io(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new nt(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yf(n);throw new nt(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new nt(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new nt(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new nt(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new nt(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new nt(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SA;switch(r.type){case"firstParty":return new AA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nt(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=G0.get(t);r&&(tt("ComponentProvider","Removing Datastore"),G0.delete(t),r.terminate())}(this),Promise.resolve()}}function dR(n,e,t,r={}){var s;const o=(n=io(n,wf))._getSettings(),c=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let m,u;if(typeof r.mockUserToken=="string")m=r.mockUserToken,u=Gr.MOCK_USER;else{m=X1(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new nt(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Gr(g)}n._authCredentials=new CA(new N_(m,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gl(this.firestore,e,this._query)}}class qr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qr(this.firestore,e,this._key)}}class ya extends gl{constructor(e,t,r){super(e,t,cf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qr(this.firestore,null,new dt(e))}withConverter(e){return new ya(this.firestore,e,this._path)}}function $d(n,e,...t){if(n=Mr(n),jE("collection","path",e),n instanceof wf){const r=Cn.fromString(e,...t);return q0(r),new ya(n,null,r)}{if(!(n instanceof qr||n instanceof ya))throw new nt(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Cn.fromString(e,...t));return q0(r),new ya(n.firestore,null,r)}}function Ho(n,e,...t){if(n=Mr(n),arguments.length===1&&(e=F_.newId()),jE("doc","path",e),n instanceof wf){const r=Cn.fromString(e,...t);return K0(r),new qr(n,null,new dt(r))}{if(!(n instanceof qr||n instanceof ya))throw new nt(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Cn.fromString(e,...t));return K0(r),new qr(n.firestore,n instanceof ya?n.converter:null,new dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new bE(this,"async_queue_retry"),this.fu=()=>{const r=yg();r&&tt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=yg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=yg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new va;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!bc(e))throw e;tt("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(c){let m=c.message||"";return c.stack&&(m=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),m}(r);throw Es("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Wm.createAndSchedule(this,e,t,r,o=>this.Su(o));return this.du.push(s),s}pu(){this.Au&&St()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function X0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Ca extends wf{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Y0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y0(e),this._firestoreClient=void 0,await e}}}function UE(n,e){const t=typeof n=="object"?n:k_(),r=typeof n=="string"?n:"(default)",s=Am(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=Q1("firestore");o&&dR(s,...o)}return s}function Qm(n){if(n._terminated)throw new nt(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fR(n),n._firestoreClient}function fR(n){var e,t,r;const s=n._freezeSettings(),o=function(m,u,g,a){return new jA(m,u,g,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,zE(a.experimentalLongPollingOptions),a.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new aR(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(m){const u=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fc(Lr.fromBase64String(e))}catch(t){throw new nt(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fc(Lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new nt(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nt(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nt(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=/^__.*__$/;class gR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Du(e,this.data,t,this.fieldTransforms)}}class HE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class Zm{constructor(e,t,r,s,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Zm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Pd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(WE(this.Mu)&&pR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class mR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||gf(e)}$u(e,t,r,s=!1){return new Zm({Mu:e,methodName:t,Ku:r,path:Rr.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ef(n){const e=n._freezeSettings(),t=gf(n._databaseId);return new mR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function GE(n,e,t,r,s,o={}){const c=n.$u(o.merge||o.mergeFields?2:0,e,t,s);ev("Data must be an object, but it was:",c,r);const m=KE(r,c);let u,g;if(o.merge)u=new Oi(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const a=[];for(const h of o.mergeFields){const d=cm(e,h,t);if(!c.contains(d))throw new nt(Oe.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);QE(a,d)||a.push(d)}u=new Oi(a),g=c.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,g=c.fieldTransforms;return new gR(new Si(m),u,g)}class Sf extends _f{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sf}}class Jm extends _f{_toFieldTransform(e){return new fk(e.path,new xu)}isEqual(e){return e instanceof Jm}}function vR(n,e,t,r){const s=n.$u(1,e,t);ev("Data must be an object, but it was:",s,r);const o=[],c=Si.empty();xa(r,(u,g)=>{const a=tv(e,u,t);g=Mr(g);const h=s.Bu(a);if(g instanceof Sf)o.push(a);else{const d=Vu(g,h);d!=null&&(o.push(a),c.set(a,d))}});const m=new Oi(o);return new HE(c,m,s.fieldTransforms)}function yR(n,e,t,r,s,o){const c=n.$u(1,e,t),m=[cm(e,r,t)],u=[s];if(o.length%2!=0)throw new nt(Oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)m.push(cm(e,o[d])),u.push(o[d+1]);const g=[],a=Si.empty();for(let d=m.length-1;d>=0;--d)if(!QE(g,m[d])){const f=m[d];let p=u[d];p=Mr(p);const v=c.Bu(f);if(p instanceof Sf)g.push(f);else{const y=Vu(p,v);y!=null&&(g.push(f),a.set(f,y))}}const h=new Oi(g);return new HE(a,h,c.fieldTransforms)}function wR(n,e,t,r=!1){return Vu(t,n.$u(r?4:3,e))}function Vu(n,e){if(qE(n=Mr(n)))return ev("Unsupported field value:",e,n),KE(n,e);if(n instanceof _f)return function(r,s){if(!WE(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const o=[];let c=0;for(const m of r){let u=Vu(m,s.ku(c));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),c++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=Mr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=lr.fromDate(r);return{timestampValue:Id(s.serializer,o)}}if(r instanceof lr){const o=new lr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(s.serializer,o)}}if(r instanceof Ym)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fc)return{bytesValue:uE(s.serializer,r._byteString)};if(r instanceof qr){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Nm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Xm)return function(c,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(u=>{if(typeof u!="number")throw m.qu("VectorValues must only contain numeric values.");return $m(m.serializer,u)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${yf(r)}`)}(n,e)}function KE(n,e){const t={};return B_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(n,(r,s)=>{const o=Vu(s,e.Ou(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function qE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof lr||n instanceof Ym||n instanceof fc||n instanceof qr||n instanceof _f||n instanceof Xm)}function ev(n,e,t){if(!qE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=yf(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function cm(n,e,t){if((e=Mr(e))instanceof bf)return e._internalPath;if(typeof e=="string")return tv(n,e);throw Pd("Field path arguments must be of type string or ",n,!1,void 0,t)}const bR=new RegExp("[~\\*/\\[\\]]");function tv(n,e,t){if(e.search(bR)>=0)throw Pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bf(...e.split("."))._internalPath}catch{throw Pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pd(n,e,t,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let u="";return(o||c)&&(u+=" (found",o&&(u+=` in field ${r}`),c&&(u+=` in document ${s}`),u+=")"),new nt(Oe.INVALID_ARGUMENT,m+n+u)}function QE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _R(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _R extends YE{data(){return super.data()}}function nv(n,e){return typeof e=="string"?tv(n,e):e instanceof bf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new nt(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rv{}class XE extends rv{}function SR(n,e,...t){let r=[];e instanceof rv&&r.push(e),r=r.concat(t),function(o){const c=o.filter(u=>u instanceof ov).length,m=o.filter(u=>u instanceof iv).length;if(c>1||c>0&&m>0)throw new nt(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class iv extends XE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new iv(e,t,r)}_apply(e){const t=this._parse(e);return ZE(e._query,t),new gl(e.firestore,e.converter,Zg(e._query,t))}_parse(e){const t=Ef(e.firestore);return function(o,c,m,u,g,a,h){let d;if(g.isKeyField()){if(a==="array-contains"||a==="array-contains-any")throw new nt(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if(a==="in"||a==="not-in"){J0(h,a);const f=[];for(const p of h)f.push(Z0(u,o,p));d={arrayValue:{values:f}}}else d=Z0(u,o,h)}else a!=="in"&&a!=="not-in"&&a!=="array-contains-any"||J0(h,a),d=wR(m,c,h,a==="in"||a==="not-in");return Jn.create(g,a,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class ov extends rv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ov(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:bo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let c=s;const m=o.getFlattenedFilters();for(const u of m)ZE(c,u),c=Zg(c,u)}(e._query,t),new gl(e.firestore,e.converter,Zg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sv extends XE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sv(e,t)}_apply(e){const t=function(s,o,c){if(s.startAt!==null)throw new nt(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new nt(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tu(o,c)}(e._query,this._field,this._direction);return new gl(e.firestore,e.converter,function(s,o){const c=s.explicitOrderBy.concat([o]);return new _c(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function CR(n,e="asc"){const t=e,r=nv("orderBy",n);return sv._create(r,t)}function Z0(n,e,t){if(typeof(t=Mr(t))=="string"){if(t==="")throw new nt(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q_(e)&&t.indexOf("/")!==-1)throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Cn.fromString(t));if(!dt.isDocumentKey(r))throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return y0(n,new dt(r))}if(t instanceof qr)return y0(n,t._key);throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(t)}.`)}function J0(n,e){if(!Array.isArray(n)||n.length===0)throw new nt(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZE(n,e){const t=function(s,o){for(const c of s)for(const m of c.getFlattenedFilters())if(o.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new nt(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class TR{convertValue(e,t="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw St()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xa(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(c=>Un(c.doubleValue));return new Xm(o)}convertGeoPoint(e){return new Ym(Un(e.latitude),Un(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const t=ba(e);return new lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Cn.fromString(e);on(mE(r));const s=new Su(r.get(1),r.get(3)),o=new dt(r.popFirst(5));return s.isEqual(t)||Es(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eS extends YE{constructor(e,t,r,s,o,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class gd extends eS{data(e={}){return super.data(e)}}class xR{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new lu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gd(this._firestore,this._userDataWriter,r.key,r,new lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nt(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(m=>{const u=new gd(s._firestore,s._userDataWriter,m.doc.key,m.doc,new lu(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>o||m.type!==3).map(m=>{const u=new gd(s._firestore,s._userDataWriter,m.doc.key,m.doc,new lu(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,a=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),a=c.indexOf(m.doc.key)),{type:AR(m.type),doc:u,oldIndex:g,newIndex:a}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){n=io(n,qr);const e=io(n.firestore,Ca);return uR(Qm(e),n._key).then(t=>rS(e,n,t))}class tS extends TR{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qr(this.firestore,null,t)}}function mu(n,e,t){n=io(n,qr);const r=io(n.firestore,Ca),s=JE(n.converter,e,t);return Cf(r,[GE(Ef(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ro.none())])}function kR(n,e,t,...r){n=io(n,qr);const s=io(n.firestore,Ca),o=Ef(s);let c;return c=typeof(e=Mr(e))=="string"||e instanceof bf?yR(o,"updateDoc",n._key,e,t,r):vR(o,"updateDoc",n._key,e),Cf(s,[c.toMutation(n._key,ro.exists(!0))])}function IR(n){return Cf(io(n.firestore,Ca),[new Pm(n._key,ro.none())])}function nS(n,e){const t=io(n.firestore,Ca),r=Ho(n),s=JE(n.converter,e);return Cf(t,[GE(Ef(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ro.exists(!1))]).then(()=>r)}function eb(n,...e){var t,r,s;n=Mr(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||X0(e[c])||(o=e[c],c++);const m={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(X0(e[c])){const h=e[c];e[c]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[c+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[c+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let u,g,a;if(n instanceof qr)g=io(n.firestore,Ca),a=cf(n._key.path),u={next:h=>{e[c]&&e[c](rS(g,n,h))},error:e[c+1],complete:e[c+2]};else{const h=io(n,gl);g=io(h.firestore,Ca),a=h._query;const d=new tS(g);u={next:f=>{e[c]&&e[c](new xR(g,d,h,f))},error:e[c+1],complete:e[c+2]},ER(n._query)}return function(d,f,p,v){const y=new BE(v),C=new RE(f,y,p);return d.asyncQueue.enqueueAndForget(async()=>kE(await lm(d),C)),()=>{y.eu(),d.asyncQueue.enqueueAndForget(async()=>IE(await lm(d),C))}}(Qm(g),a,m,u)}function Cf(n,e){return function(r,s){const o=new va;return r.asyncQueue.enqueueAndForget(async()=>ZI(await cR(r),s,o)),o.promise}(Qm(n),e)}function rS(n,e,t){const r=t.docs.get(e._key),s=new tS(n);return new eS(n,s,e._key,r,new lu(t.hasPendingWrites,t.fromCache),e.converter)}function rl(){return new Jm("serverTimestamp")}(function(e,t=!0){(function(s){yc=s})(vc),sc(new sl("firestore",(r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),m=new Ca(new TA(r.getProvider("auth-internal")),new IA(r.getProvider("app-check-internal")),function(g,a){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new nt(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(g.options.projectId,a)}(c,s),c);return o=Object.assign({useFetchStreams:t},o),m._setSettings(o),m},"PUBLIC").setMultipleInstances(!0)),ma(d0,"4.7.5",e),ma(d0,"4.7.5","esm2017")})();const RR={apiKey:"AIzaSyDTzogyvt9OxwHYGjuTAbBtilg8rBn_YoY",authDomain:"test-45e2a.firebaseapp.com",projectId:"test-45e2a",storageBucket:"test-45e2a.appspot.com",messagingSenderId:"498846669559",appId:"1:498846669559:web:efe3d17bd226fd6d1d51f2",measurementId:"G-8ZQGTJ2SJV"},MR=A_(RR),Cs=UE(MR),ml=oe.createContext(),LR=({children:n})=>{const[e,t]=oe.useState([]),[r,s]=oe.useState([]);return oe.useEffect(()=>{const o=eb($d(Cs,"quiz"),c=>{const m=c.docs.map(u=>({id:u.id,...u.data()}));t(m)},c=>{console.error("Error fetching quizs: ",c)});return()=>o()},[]),oe.useEffect(()=>{const o=SR($d(Cs,"lessons"),CR("createdAt","asc")),c=eb(o,m=>{const u=m.docs.map(g=>({id:g.id,...g.data()}));s(u)},m=>{console.error("Error fetching lessons: ",m)});return()=>c()},[]),se.jsx(ml.Provider,{value:{quizs:e,lessons:r},children:n})},iS=oe.createContext(null),$R=30*60*1e3,PR=({children:n})=>{const[e,t]=oe.useState(()=>{const a=localStorage.getItem("userInfo");return a?JSON.parse(a):null}),[r,s]=oe.useState(Date.now()),[o,c]=oe.useState(!1);oe.useEffect(()=>{if(!e)return;const a=()=>{s(Date.now()),localStorage.setItem("lastActivity",Date.now().toString())};window.addEventListener("mousemove",a),window.addEventListener("keypress",a),window.addEventListener("click",a),window.addEventListener("scroll",a);const h=setInterval(()=>{const d=Date.now(),f=parseInt(localStorage.getItem("lastActivity")||Date.now());d-f>$R&&(u(),alert("因閒置過久，已自動登出"))},1e3);return()=>{window.removeEventListener("mousemove",a),window.removeEventListener("keypress",a),window.removeEventListener("click",a),window.removeEventListener("scroll",a),clearInterval(h)}},[e]);const m=a=>{t(a),c(!1),localStorage.setItem("userInfo",JSON.stringify(a)),localStorage.setItem("lastActivity",Date.now().toString())},u=()=>{t(null),c(!0),localStorage.removeItem("userInfo"),localStorage.removeItem("lastActivity")},g=oe.useMemo(()=>({userInfo:e,isLoggedOut:o,login:m,logout:u}),[e]);return se.jsx(iS.Provider,{value:g,children:n})},ka=()=>{const n=oe.useContext(iS);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n};var bg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var tb;function OR(){return tb||(tb=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",c=0;c<arguments.length;c++){var m=arguments[c];m&&(o=s(o,r(m)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var m in o)e.call(o,m)&&o[m]&&(c=s(c,m));return c}function s(o,c){return c?o?o+" "+c:o+c:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(bg)),bg.exports}var DR=OR();const nn=dl(DR);function um(){return um=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},um.apply(null,arguments)}function oS(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function nb(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function NR(n){var e=FR(n,"string");return typeof e=="symbol"?e:String(e)}function FR(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function BR(n,e,t){var r=oe.useRef(n!==void 0),s=oe.useState(e),o=s[0],c=s[1],m=n!==void 0,u=r.current;return r.current=m,!m&&u&&o!==e&&c(e),[m?n:o,oe.useCallback(function(g){for(var a=arguments.length,h=new Array(a>1?a-1:0),d=1;d<a;d++)h[d-1]=arguments[d];t&&t.apply(void 0,[g].concat(h)),c(g)},[t])]}function VR(n,e){return Object.keys(e).reduce(function(t,r){var s,o=t,c=o[nb(r)],m=o[r],u=oS(o,[nb(r),r].map(NR)),g=e[r],a=BR(m,c,n[g]),h=a[0],d=a[1];return um({},u,(s={},s[r]=h,s[g]=d,s))},n)}function hm(n,e){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},hm(n,e)}function zR(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,hm(n,e)}const jR=["xxl","xl","lg","md","sm","xs"],UR="xs",Tf=oe.createContext({prefixes:{},breakpoints:jR,minBreakpoint:UR});function xn(n,e){const{prefixes:t}=oe.useContext(Tf);return n||t[e]||e}function sS(){const{breakpoints:n}=oe.useContext(Tf);return n}function aS(){const{minBreakpoint:n}=oe.useContext(Tf);return n}function HR(){const{dir:n}=oe.useContext(Tf);return n==="rtl"}function xf(n){return n&&n.ownerDocument||document}function WR(n){var e=xf(n);return e&&e.defaultView||window}function GR(n,e){return WR(n).getComputedStyle(n,e)}var KR=/([A-Z])/g;function qR(n){return n.replace(KR,"-$1").toLowerCase()}var QR=/^ms-/;function id(n){return qR(n).replace(QR,"-ms-")}var YR=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function XR(n){return!!(n&&YR.test(n))}function il(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(id(e))||GR(n).getPropertyValue(id(e));Object.keys(e).forEach(function(s){var o=e[s];!o&&o!==0?n.style.removeProperty(id(s)):XR(s)?r+=s+"("+o+") ":t+=id(s)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var _g={exports:{}},Eg,rb;function ZR(){if(rb)return Eg;rb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Eg=n,Eg}var Sg,ib;function JR(){if(ib)return Sg;ib=1;var n=ZR();function e(){}function t(){}return t.resetWarningCache=e,Sg=function(){function r(c,m,u,g,a,h){if(h!==n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Sg}var ob;function Af(){return ob||(ob=1,_g.exports=JR()()),_g.exports}var eM=Af();const ms=dl(eM);var tM=y_();const Zl=dl(tM),sb={disabled:!1},lS=el.createContext(null);var nM=function(e){return e.scrollTop},cu="unmounted",Ya="exited",ia="entering",Za="entered",dm="exiting",ks=function(n){zR(e,n);function e(r,s){var o;o=n.call(this,r,s)||this;var c=s,m=c&&!c.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?m?(u=Ya,o.appearStatus=ia):u=Za:r.unmountOnExit||r.mountOnEnter?u=cu:u=Ya,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(s,o){var c=s.in;return c&&o.status===cu?{status:Ya}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var o=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==ia&&c!==Za&&(o=ia):(c===ia||c===Za)&&(o=dm)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,o,c,m;return o=c=m=s,s!=null&&typeof s!="number"&&(o=s.exit,c=s.enter,m=s.appear!==void 0?s.appear:c),{exit:o,enter:c,appear:m}},t.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===ia){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Zl.findDOMNode(this);c&&nM(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ya&&this.setState({status:cu})},t.performEnter=function(s){var o=this,c=this.props.enter,m=this.context?this.context.isMounting:s,u=this.props.nodeRef?[m]:[Zl.findDOMNode(this),m],g=u[0],a=u[1],h=this.getTimeouts(),d=m?h.appear:h.enter;if(!s&&!c||sb.disabled){this.safeSetState({status:Za},function(){o.props.onEntered(g)});return}this.props.onEnter(g,a),this.safeSetState({status:ia},function(){o.props.onEntering(g,a),o.onTransitionEnd(d,function(){o.safeSetState({status:Za},function(){o.props.onEntered(g,a)})})})},t.performExit=function(){var s=this,o=this.props.exit,c=this.getTimeouts(),m=this.props.nodeRef?void 0:Zl.findDOMNode(this);if(!o||sb.disabled){this.safeSetState({status:Ya},function(){s.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:dm},function(){s.props.onExiting(m),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:Ya},function(){s.props.onExited(m)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},t.setNextCallback=function(s){var o=this,c=!0;return this.nextCallback=function(m){c&&(c=!1,o.nextCallback=null,s(m))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(s,o){this.setNextCallback(o);var c=this.props.nodeRef?this.props.nodeRef.current:Zl.findDOMNode(this),m=s==null&&!this.props.addEndListener;if(!c||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=u[0],a=u[1];this.props.addEndListener(g,a)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===cu)return null;var o=this.props,c=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var m=oS(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return el.createElement(lS.Provider,{value:null},typeof c=="function"?c(s,m):el.cloneElement(el.Children.only(c),m))},e}(el.Component);ks.contextType=lS;ks.propTypes={};function Ul(){}ks.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ul,onEntering:Ul,onEntered:Ul,onExit:Ul,onExiting:Ul,onExited:Ul};ks.UNMOUNTED=cu;ks.EXITED=Ya;ks.ENTERING=ia;ks.ENTERED=Za;ks.EXITING=dm;function rM(n){return n.code==="Escape"||n.keyCode===27}function iM(){const n=oe.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function kf(n){if(!n||typeof n=="function")return null;const{major:e}=iM();return e>=19?n.props.ref:n.ref}const Sc=!!(typeof window<"u"&&window.document&&window.document.createElement);var fm=!1,pm=!1;try{var Cg={get passive(){return fm=!0},get once(){return pm=fm=!0}};Sc&&(window.addEventListener("test",Cg,Cg),window.removeEventListener("test",Cg,!0))}catch{}function cS(n,e,t,r){if(r&&typeof r!="boolean"&&!pm){var s=r.once,o=r.capture,c=t;!pm&&s&&(c=t.__once||function m(u){this.removeEventListener(e,m,o),t.call(this,u)},t.__once=c),n.addEventListener(e,c,fm?r:o)}n.addEventListener(e,t,r)}function gm(n,e,t,r){var s=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function Od(n,e,t,r){return cS(n,e,t,r),function(){gm(n,e,t,r)}}function oM(n,e,t,r){if(r===void 0&&(r=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,r),n.dispatchEvent(s)}}function sM(n){var e=il(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function aM(n,e,t){t===void 0&&(t=5);var r=!1,s=setTimeout(function(){r||oM(n,"transitionend",!0)},e+t),o=Od(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),o()}}function uS(n,e,t,r){t==null&&(t=sM(n)||0);var s=aM(n,t,r),o=Od(n,"transitionend",e);return function(){s(),o()}}function ab(n,e){const t=il(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function lM(n,e){const t=ab(n,"transitionDuration"),r=ab(n,"transitionDelay"),s=uS(n,o=>{o.target===n&&(s(),e(o))},t+r)}function cM(n){n.offsetHeight}const lb=n=>!n||typeof n=="function"?n:e=>{n.current=e};function uM(n,e){const t=lb(n),r=lb(e);return s=>{t&&t(s),r&&r(s)}}function hS(n,e){return oe.useMemo(()=>uM(n,e),[n,e])}function hM(n){return n&&"setState"in n?Zl.findDOMNode(n):n??null}const dM=el.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,onExited:o,addEndListener:c,children:m,childRef:u,...g},a)=>{const h=oe.useRef(null),d=hS(h,u),f=_=>{d(hM(_))},p=_=>E=>{_&&h.current&&_(h.current,E)},v=oe.useCallback(p(n),[n]),y=oe.useCallback(p(e),[e]),C=oe.useCallback(p(t),[t]),A=oe.useCallback(p(r),[r]),F=oe.useCallback(p(s),[s]),O=oe.useCallback(p(o),[o]),$=oe.useCallback(p(c),[c]);return se.jsx(ks,{ref:a,...g,onEnter:v,onEntered:C,onEntering:y,onExit:A,onExited:O,onExiting:F,addEndListener:$,nodeRef:h,children:typeof m=="function"?(_,E)=>m(_,{...E,ref:f}):el.cloneElement(m,{ref:f})})});function fM(n){const e=oe.useRef(n);return oe.useEffect(()=>{e.current=n},[n]),e}function Dd(n){const e=fM(n);return oe.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const dS=n=>oe.forwardRef((e,t)=>se.jsx("div",{...e,ref:t,className:nn(e.className,n)})),fS=dS("h4");fS.displayName="DivStyledAsH4";const pS=oe.forwardRef(({className:n,bsPrefix:e,as:t=fS,...r},s)=>(e=xn(e,"alert-heading"),se.jsx(t,{ref:s,className:nn(n,e),...r})));pS.displayName="AlertHeading";function pM(n){const e=oe.useRef(n);return oe.useEffect(()=>{e.current=n},[n]),e}function oa(n){const e=pM(n);return oe.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function gM(){const n=oe.useRef(!0),e=oe.useRef(()=>n.current);return oe.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function mM(n){const e=oe.useRef(null);return oe.useEffect(()=>{e.current=n}),e.current}const vM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",yM=typeof document<"u",cb=yM||vM?oe.useLayoutEffect:oe.useEffect,wM=["as","disabled"];function bM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function _M(n){return!n||n.trim()==="#"}function av({tagName:n,disabled:e,href:t,target:r,rel:s,role:o,onClick:c,tabIndex:m=0,type:u}){n||(t!=null||r!=null||s!=null?n="a":n="button");const g={tagName:n};if(n==="button")return[{type:u||"button",disabled:e},g];const a=d=>{if((e||n==="a"&&_M(t))&&d.preventDefault(),e){d.stopPropagation();return}c==null||c(d)},h=d=>{d.key===" "&&(d.preventDefault(),a(d))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:m,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:a,onKeyDown:h},g]}const EM=oe.forwardRef((n,e)=>{let{as:t,disabled:r}=n,s=bM(n,wM);const[o,{tagName:c}]=av(Object.assign({tagName:t,disabled:r},s));return se.jsx(c,Object.assign({},s,o,{ref:e}))});EM.displayName="Button";const SM=["onKeyDown"];function CM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function TM(n){return!n||n.trim()==="#"}const gS=oe.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=CM(n,SM);const[s]=av(Object.assign({tagName:"a"},r)),o=oa(c=>{s.onKeyDown(c),t==null||t(c)});return TM(r.href)||r.role==="button"?se.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:o})):se.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});gS.displayName="Anchor";const mS=oe.forwardRef(({className:n,bsPrefix:e,as:t=gS,...r},s)=>(e=xn(e,"alert-link"),se.jsx(t,{ref:s,className:nn(n,e),...r})));mS.displayName="AlertLink";const xM={[ia]:"show",[Za]:"show"},Iu=oe.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...s},o)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},m=oe.useCallback((u,g)=>{cM(u),r==null||r(u,g)},[r]);return se.jsx(dM,{ref:o,addEndListener:lM,...c,onEnter:m,childRef:kf(e),children:(u,g)=>oe.cloneElement(e,{...g,className:nn("fade",n,e.props.className,xM[u],t[u])})})});Iu.displayName="Fade";const AM={"aria-label":ms.string,onClick:ms.func,variant:ms.oneOf(["white"])},If=oe.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},s)=>se.jsx("button",{ref:s,type:"button",className:nn("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));If.displayName="CloseButton";If.propTypes=AM;const vS=oe.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:s="Close alert",closeVariant:o,className:c,children:m,variant:u="primary",onClose:g,dismissible:a,transition:h=Iu,...d}=VR(n,{show:"onClose"}),f=xn(t,"alert"),p=Dd(C=>{g&&g(!1,C)}),v=h===!0?Iu:h,y=se.jsxs("div",{role:"alert",...v?void 0:d,ref:e,className:nn(c,f,u&&`${f}-${u}`,a&&`${f}-dismissible`),children:[a&&se.jsx(If,{onClick:p,"aria-label":s,variant:o}),m]});return v?se.jsx(v,{unmountOnExit:!0,...d,ref:void 0,in:r,children:y}):r?y:null});vS.displayName="Alert";const kM=Object.assign(vS,{Link:mS,Heading:pS}),br=oe.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:s=!1,disabled:o=!1,className:c,...m},u)=>{const g=xn(e,"btn"),[a,{tagName:h}]=av({tagName:n,disabled:o,...m}),d=h;return se.jsx(d,{...a,...m,ref:u,disabled:o,className:nn(c,g,s&&"active",t&&`${g}-${t}`,r&&`${g}-${r}`,m.href&&o&&"disabled")})});br.displayName="Button";function IM(n){const e=oe.useRef(n);return e.current=n,e}function RM(n){const e=IM(n);oe.useEffect(()=>()=>e.current(),[])}function MM(n,e){return oe.Children.toArray(n).some(t=>oe.isValidElement(t)&&t.type===e)}function LM({as:n,bsPrefix:e,className:t,...r}){e=xn(e,"col");const s=sS(),o=aS(),c=[],m=[];return s.forEach(u=>{const g=r[u];delete r[u];let a,h,d;typeof g=="object"&&g!=null?{span:a,offset:h,order:d}=g:a=g;const f=u!==o?`-${u}`:"";a&&c.push(a===!0?`${e}${f}`:`${e}${f}-${a}`),d!=null&&m.push(`order${f}-${d}`),h!=null&&m.push(`offset${f}-${h}`)}),[{...r,className:nn(t,...c,...m)},{as:n,bsPrefix:e,spans:c}]}const Nd=oe.forwardRef((n,e)=>{const[{className:t,...r},{as:s="div",bsPrefix:o,spans:c}]=LM(n);return se.jsx(s,{...r,ref:e,className:nn(t,!c.length&&o)})});Nd.displayName="Col";var $M=Function.prototype.bind.call(Function.prototype.call,[].slice);function Hl(n,e){return $M(n.querySelectorAll(e))}function ub(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const PM="data-rr-ui-";function OM(n){return`${PM}${n}`}const yS=oe.createContext(Sc?window:void 0);yS.Provider;function lv(){return oe.useContext(yS)}const DM={type:ms.string,tooltip:ms.bool,as:ms.elementType},Rf=oe.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...s},o)=>se.jsx(n,{...s,ref:o,className:nn(e,`${t}-${r?"tooltip":"feedback"}`)}));Rf.displayName="Feedback";Rf.propTypes=DM;const Ts=oe.createContext({}),cv=oe.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:s=!1,isInvalid:o=!1,as:c="input",...m},u)=>{const{controlId:g}=oe.useContext(Ts);return e=xn(e,"form-check-input"),se.jsx(c,{...m,ref:u,type:r,id:n||g,className:nn(t,e,s&&"is-valid",o&&"is-invalid")})});cv.displayName="FormCheckInput";const Fd=oe.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},s)=>{const{controlId:o}=oe.useContext(Ts);return n=xn(n,"form-check-label"),se.jsx("label",{...r,ref:s,htmlFor:t||o,className:nn(e,n)})});Fd.displayName="FormCheckLabel";const wS=oe.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:s=!1,disabled:o=!1,isValid:c=!1,isInvalid:m=!1,feedbackTooltip:u=!1,feedback:g,feedbackType:a,className:h,style:d,title:f="",type:p="checkbox",label:v,children:y,as:C="input",...A},F)=>{e=xn(e,"form-check"),t=xn(t,"form-switch");const{controlId:O}=oe.useContext(Ts),$=oe.useMemo(()=>({controlId:n||O}),[O,n]),_=!y&&v!=null&&v!==!1||MM(y,Fd),E=se.jsx(cv,{...A,type:p==="switch"?"checkbox":p,ref:F,isValid:c,isInvalid:m,disabled:o,as:C});return se.jsx(Ts.Provider,{value:$,children:se.jsx("div",{style:d,className:nn(h,_&&e,r&&`${e}-inline`,s&&`${e}-reverse`,p==="switch"&&t),children:y||se.jsxs(se.Fragment,{children:[E,_&&se.jsx(Fd,{title:f,children:v}),g&&se.jsx(Rf,{type:a,tooltip:u,children:g})]})})})});wS.displayName="FormCheck";const Bd=Object.assign(wS,{Input:cv,Label:Fd}),bS=oe.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:s,className:o,isValid:c=!1,isInvalid:m=!1,plaintext:u,readOnly:g,as:a="input",...h},d)=>{const{controlId:f}=oe.useContext(Ts);return n=xn(n,"form-control"),se.jsx(a,{...h,type:e,size:r,ref:d,readOnly:g,id:s||f,className:nn(o,u?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",m&&"is-invalid")})});bS.displayName="FormControl";const NM=Object.assign(bS,{Feedback:Rf}),_S=oe.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=xn(e,"form-floating"),se.jsx(t,{ref:s,className:nn(n,e),...r})));_S.displayName="FormFloating";const uv=oe.forwardRef(({controlId:n,as:e="div",...t},r)=>{const s=oe.useMemo(()=>({controlId:n}),[n]);return se.jsx(Ts.Provider,{value:s,children:se.jsx(e,{...t,ref:r})})});uv.displayName="FormGroup";const ES=oe.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:s,htmlFor:o,...c},m)=>{const{controlId:u}=oe.useContext(Ts);e=xn(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const a=nn(s,e,r&&"visually-hidden",t&&g);return o=o||u,t?se.jsx(Nd,{ref:m,as:"label",className:a,htmlFor:o,...c}):se.jsx(n,{ref:m,className:a,htmlFor:o,...c})});ES.displayName="FormLabel";const SS=oe.forwardRef(({bsPrefix:n,className:e,id:t,...r},s)=>{const{controlId:o}=oe.useContext(Ts);return n=xn(n,"form-range"),se.jsx("input",{...r,type:"range",ref:s,className:nn(e,n),id:t||o})});SS.displayName="FormRange";const CS=oe.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:s=!1,isInvalid:o=!1,id:c,...m},u)=>{const{controlId:g}=oe.useContext(Ts);return n=xn(n,"form-select"),se.jsx("select",{...m,size:t,ref:u,className:nn(r,n,e&&`${n}-${e}`,s&&"is-valid",o&&"is-invalid"),id:c||g})});CS.displayName="FormSelect";const TS=oe.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...s},o)=>(n=xn(n,"form-text"),se.jsx(t,{...s,ref:o,className:nn(e,n,r&&"text-muted")})));TS.displayName="FormText";const xS=oe.forwardRef((n,e)=>se.jsx(Bd,{...n,ref:e,type:"switch"}));xS.displayName="Switch";const FM=Object.assign(xS,{Input:Bd.Input,Label:Bd.Label}),AS=oe.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:s,...o},c)=>(n=xn(n,"form-floating"),se.jsxs(uv,{ref:c,className:nn(e,n),controlId:r,...o,children:[t,se.jsx("label",{htmlFor:r,children:s})]})));AS.displayName="FloatingLabel";const BM={_ref:ms.any,validated:ms.bool,as:ms.elementType},hv=oe.forwardRef(({className:n,validated:e,as:t="form",...r},s)=>se.jsx(t,{...r,ref:s,className:nn(n,e&&"was-validated")}));hv.displayName="Form";hv.propTypes=BM;const Xt=Object.assign(hv,{Group:uv,Control:NM,Floating:_S,Check:Bd,Switch:FM,Label:ES,Text:TS,Range:SS,Select:CS,FloatingLabel:AS}),hb=n=>!n||typeof n=="function"?n:e=>{n.current=e};function VM(n,e){const t=hb(n),r=hb(e);return s=>{t&&t(s),r&&r(s)}}function dv(n,e){return oe.useMemo(()=>VM(n,e),[n,e])}var od;function db(n){if((!od&&od!==0||n)&&Sc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),od=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return od}function zM(){return oe.useState(null)}function Tg(n){n===void 0&&(n=xf());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function jM(n){const e=oe.useRef(n);return e.current=n,e}function UM(n){const e=jM(n);oe.useEffect(()=>()=>e.current(),[])}function HM(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const fb=OM("modal-open");class fv{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return HM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(il(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(fb,""),il(s,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(fb),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const xg=(n,e)=>Sc?n==null?(e||xf()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function WM(n,e){const t=lv(),[r,s]=oe.useState(()=>xg(n,t==null?void 0:t.document));if(!r){const o=xg(n);o&&s(o)}return oe.useEffect(()=>{},[e,r]),oe.useEffect(()=>{const o=xg(n);o!==r&&s(o)},[n,r]),r}function GM({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:s}){const o=oe.useRef(null),c=oe.useRef(e),m=oa(t);oe.useEffect(()=>{e?c.current=!0:m(o.current)},[e,m]);const u=dv(o,kf(n)),g=oe.cloneElement(n,{ref:u});return e?g:s||!c.current&&r?null:g}const KM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function qM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function QM(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:s,onExiting:o,onExited:c,addEndListener:m,children:u}=n,g=qM(n,KM);const a=oe.useRef(null),h=dv(a,kf(u)),d=O=>$=>{O&&a.current&&O(a.current,$)},f=oe.useCallback(d(e),[e]),p=oe.useCallback(d(t),[t]),v=oe.useCallback(d(r),[r]),y=oe.useCallback(d(s),[s]),C=oe.useCallback(d(o),[o]),A=oe.useCallback(d(c),[c]),F=oe.useCallback(d(m),[m]);return Object.assign({},g,{nodeRef:a},e&&{onEnter:f},t&&{onEntering:p},r&&{onEntered:v},s&&{onExit:y},o&&{onExiting:C},c&&{onExited:A},m&&{addEndListener:F},{children:typeof u=="function"?(O,$)=>u(O,Object.assign({},$,{ref:h})):oe.cloneElement(u,{ref:h})})}const YM=["component"];function XM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const ZM=oe.forwardRef((n,e)=>{let{component:t}=n,r=XM(n,YM);const s=QM(r);return se.jsx(t,Object.assign({ref:e},s))});function JM({in:n,onTransition:e}){const t=oe.useRef(null),r=oe.useRef(!0),s=oa(e);return cb(()=>{if(!t.current)return;let o=!1;return s({in:n,element:t.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[n,s]),cb(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function eL({children:n,in:e,onExited:t,onEntered:r,transition:s}){const[o,c]=oe.useState(!e);e&&o&&c(!1);const m=JM({in:!!e,onTransition:g=>{const a=()=>{g.isStale()||(g.in?r==null||r(g.element,g.initial):(c(!0),t==null||t(g.element)))};Promise.resolve(s(g)).then(a,h=>{throw g.in||c(!0),h})}}),u=dv(m,kf(n));return o&&!e?null:oe.cloneElement(n,{ref:u})}function pb(n,e,t){return n?se.jsx(ZM,Object.assign({},t,{component:n})):e?se.jsx(eL,Object.assign({},t,{transition:e})):se.jsx(GM,Object.assign({},t))}const tL=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function nL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let Ag;function rL(n){return Ag||(Ag=new fv({ownerDocument:n==null?void 0:n.document})),Ag}function iL(n){const e=lv(),t=n||rL(e),r=oe.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:oe.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:oe.useCallback(s=>{r.current.backdrop=s},[])})}const kS=oe.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:s,style:o,children:c,backdrop:m=!0,keyboard:u=!0,onBackdropClick:g,onEscapeKeyDown:a,transition:h,runTransition:d,backdropTransition:f,runBackdropTransition:p,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:C=!0,restoreFocusOptions:A,renderDialog:F,renderBackdrop:O=Ge=>se.jsx("div",Object.assign({},Ge)),manager:$,container:_,onShow:E,onHide:I=()=>{},onExit:M,onExited:P,onExiting:V,onEnter:S,onEntering:w,onEntered:L}=n,N=nL(n,tL);const z=lv(),q=WM(_),K=iL($),J=gM(),Q=mM(t),[U,re]=oe.useState(!t),Z=oe.useRef(null);oe.useImperativeHandle(e,()=>K,[K]),Sc&&!Q&&t&&(Z.current=Tg(z==null?void 0:z.document)),t&&U&&re(!1);const he=oa(()=>{if(K.add(),Ae.current=Od(document,"keydown",Ee),me.current=Od(document,"focus",()=>setTimeout(ae),!0),E&&E(),v){var Ge,yt;const Ot=Tg((Ge=(yt=K.dialog)==null?void 0:yt.ownerDocument)!=null?Ge:z==null?void 0:z.document);K.dialog&&Ot&&!ub(K.dialog,Ot)&&(Z.current=Ot,K.dialog.focus())}}),ue=oa(()=>{if(K.remove(),Ae.current==null||Ae.current(),me.current==null||me.current(),C){var Ge;(Ge=Z.current)==null||Ge.focus==null||Ge.focus(A),Z.current=null}});oe.useEffect(()=>{!t||!q||he()},[t,q,he]),oe.useEffect(()=>{U&&ue()},[U,ue]),UM(()=>{ue()});const ae=oa(()=>{if(!y||!J()||!K.isTopModal())return;const Ge=Tg(z==null?void 0:z.document);K.dialog&&Ge&&!ub(K.dialog,Ge)&&K.dialog.focus()}),pe=oa(Ge=>{Ge.target===Ge.currentTarget&&(g==null||g(Ge),m===!0&&I())}),Ee=oa(Ge=>{u&&rM(Ge)&&K.isTopModal()&&(a==null||a(Ge),Ge.defaultPrevented||I())}),me=oe.useRef(),Ae=oe.useRef(),$e=(...Ge)=>{re(!0),P==null||P(...Ge)};if(!q)return null;const Qe=Object.assign({role:r,ref:K.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},N,{style:o,className:s,tabIndex:-1});let ut=F?F(Qe):se.jsx("div",Object.assign({},Qe,{children:oe.cloneElement(c,{role:"document"})}));ut=pb(h,d,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:M,onExiting:V,onExited:$e,onEnter:S,onEntering:w,onEntered:L,children:ut});let qe=null;return m&&(qe=O({ref:K.setBackdropRef,onClick:pe}),qe=pb(f,p,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:qe})),se.jsx(se.Fragment,{children:Zl.createPortal(se.jsxs(se.Fragment,{children:[qe,ut]}),q)})});kS.displayName="Modal";const oL=Object.assign(kS,{Manager:fv});function sL(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function aL(n,e){n.classList?n.classList.add(e):sL(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function gb(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function lL(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=gb(n.className,e):n.setAttribute("class",gb(n.className&&n.className.baseVal||"",e))}const Wl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class cL extends fv{adjustAndStore(e,t,r){const s=t.style[e];t.dataset[e]=s,il(t,{[e]:`${parseFloat(il(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],il(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(aL(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Hl(t,Wl.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),Hl(t,Wl.STICKY_CONTENT).forEach(o=>this.adjustAndStore(s,o,-e.scrollBarWidth)),Hl(t,Wl.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(s,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();lL(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Hl(t,Wl.FIXED_CONTENT).forEach(o=>this.restore(r,o)),Hl(t,Wl.STICKY_CONTENT).forEach(o=>this.restore(s,o)),Hl(t,Wl.NAVBAR_TOGGLER).forEach(o=>this.restore(s,o))}}let kg;function uL(n){return kg||(kg=new cL(n)),kg}const IS=oe.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=xn(e,"modal-body"),se.jsx(t,{ref:s,className:nn(n,e),...r})));IS.displayName="ModalBody";const RS=oe.createContext({onHide(){}}),pv=oe.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:s,fullscreen:o,children:c,scrollable:m,...u},g)=>{n=xn(n,"modal");const a=`${n}-dialog`,h=typeof o=="string"?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return se.jsx("div",{...u,ref:g,className:nn(a,e,s&&`${n}-${s}`,r&&`${a}-centered`,m&&`${a}-scrollable`,o&&h),children:se.jsx("div",{className:nn(`${n}-content`,t),children:c})})});pv.displayName="ModalDialog";const MS=oe.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=xn(e,"modal-footer"),se.jsx(t,{ref:s,className:nn(n,e),...r})));MS.displayName="ModalFooter";const hL=oe.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:s,...o},c)=>{const m=oe.useContext(RS),u=Dd(()=>{m==null||m.onHide(),r==null||r()});return se.jsxs("div",{ref:c,...o,children:[s,t&&se.jsx(If,{"aria-label":n,variant:e,onClick:u})]})}),LS=oe.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},o)=>(n=xn(n,"modal-header"),se.jsx(hL,{ref:o,...s,className:nn(e,n),closeLabel:t,closeButton:r})));LS.displayName="ModalHeader";const dL=dS("h4"),$S=oe.forwardRef(({className:n,bsPrefix:e,as:t=dL,...r},s)=>(e=xn(e,"modal-title"),se.jsx(t,{ref:s,className:nn(n,e),...r})));$S.displayName="ModalTitle";function fL(n){return se.jsx(Iu,{...n,timeout:null})}function pL(n){return se.jsx(Iu,{...n,timeout:null})}const PS=oe.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:s,children:o,dialogAs:c=pv,"data-bs-theme":m,"aria-labelledby":u,"aria-describedby":g,"aria-label":a,show:h=!1,animation:d=!0,backdrop:f=!0,keyboard:p=!0,onEscapeKeyDown:v,onShow:y,onHide:C,container:A,autoFocus:F=!0,enforceFocus:O=!0,restoreFocus:$=!0,restoreFocusOptions:_,onEntered:E,onExit:I,onExiting:M,onEnter:P,onEntering:V,onExited:S,backdropClassName:w,manager:L,...N},z)=>{const[q,K]=oe.useState({}),[J,Q]=oe.useState(!1),U=oe.useRef(!1),re=oe.useRef(!1),Z=oe.useRef(null),[he,ue]=zM(),ae=hS(z,ue),pe=Dd(C),Ee=HR();n=xn(n,"modal");const me=oe.useMemo(()=>({onHide:pe}),[pe]);function Ae(){return L||uL({isRTL:Ee})}function $e(be){if(!Sc)return;const ze=Ae().getScrollbarWidth()>0,Ke=be.scrollHeight>xf(be).documentElement.clientHeight;K({paddingRight:ze&&!Ke?db():void 0,paddingLeft:!ze&&Ke?db():void 0})}const Qe=Dd(()=>{he&&$e(he.dialog)});RM(()=>{gm(window,"resize",Qe),Z.current==null||Z.current()});const ut=()=>{U.current=!0},qe=be=>{U.current&&he&&be.target===he.dialog&&(re.current=!0),U.current=!1},Ge=()=>{Q(!0),Z.current=uS(he.dialog,()=>{Q(!1)})},yt=be=>{be.target===be.currentTarget&&Ge()},Ot=be=>{if(f==="static"){yt(be);return}if(re.current||be.target!==be.currentTarget){re.current=!1;return}C==null||C()},Ht=be=>{p?v==null||v(be):(be.preventDefault(),f==="static"&&Ge())},pn=(be,ze)=>{be&&$e(be),P==null||P(be,ze)},Nt=be=>{Z.current==null||Z.current(),I==null||I(be)},wn=(be,ze)=>{V==null||V(be,ze),cS(window,"resize",Qe)},Wn=be=>{be&&(be.style.display=""),S==null||S(be),gm(window,"resize",Qe)},Pn=oe.useCallback(be=>se.jsx("div",{...be,className:nn(`${n}-backdrop`,w,!d&&"show")}),[d,w,n]),bn={...t,...q};bn.display="block";const ur=be=>se.jsx("div",{role:"dialog",...be,style:bn,className:nn(e,n,J&&`${n}-static`,!d&&"show"),onClick:f?Ot:void 0,onMouseUp:qe,"data-bs-theme":m,"aria-label":a,"aria-labelledby":u,"aria-describedby":g,children:se.jsx(c,{...N,onMouseDown:ut,className:r,contentClassName:s,children:o})});return se.jsx(RS.Provider,{value:me,children:se.jsx(oL,{show:h,ref:ae,backdrop:f,container:A,keyboard:!0,autoFocus:F,enforceFocus:O,restoreFocus:$,restoreFocusOptions:_,onEscapeKeyDown:Ht,onShow:y,onHide:C,onEnter:pn,onEntering:wn,onEntered:E,onExit:Nt,onExiting:M,onExited:Wn,manager:Ae(),transition:d?fL:void 0,backdropTransition:d?pL:void 0,renderBackdrop:Pn,renderDialog:ur})})});PS.displayName="Modal";const ai=Object.assign(PS,{Body:IS,Header:LS,Title:$S,Footer:MS,Dialog:pv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),OS=oe.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const o=xn(n,"row"),c=sS(),m=aS(),u=`${o}-cols`,g=[];return c.forEach(a=>{const h=r[a];delete r[a];let d;h!=null&&typeof h=="object"?{cols:d}=h:d=h;const f=a!==m?`-${a}`:"";d!=null&&g.push(`${u}${f}-${d}`)}),se.jsx(t,{ref:s,...r,className:nn(e,o,...g)})});OS.displayName="Row";const DS=oe.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:s="div",className:o,...c},m)=>{n=xn(n,"spinner");const u=`${n}-${t}`;return se.jsx(s,{ref:m,...c,className:nn(o,u,r&&`${u}-${r}`,e&&`text-${e}`)})});DS.displayName="Spinner";function gv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function NS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gL=NS,FS=new Pu("auth","Firebase",NS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Tm("@firebase/auth");function mL(n,...e){Vd.logLevel<=Vt.WARN&&Vd.warn(`Auth (${vc}): ${n}`,...e)}function md(n,...e){Vd.logLevel<=Vt.ERROR&&Vd.error(`Auth (${vc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(n,...e){throw mv(n,...e)}function Wo(n,...e){return mv(n,...e)}function BS(n,e,t){const r=Object.assign(Object.assign({},gL()),{[e]:t});return new Pu("auth","Firebase",r).create(e,{appName:n.name})}function vs(n){return BS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return FS.create(n,...e)}function bt(n,e,...t){if(!n)throw mv(e,...t)}function fs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw md(e),new Error(e)}function xs(n,e){n||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function vL(){return mb()==="http:"||mb()==="https:"}function mb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vL()||tx()||"connection"in navigator)?navigator.onLine:!0}function wL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t){this.shortDelay=e,this.longDelay=t,xs(t>e,"Short delay should be less than long delay!"),this.isMobile=Z1()||nx()}get(){return yL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(n,e){xs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new ju(3e4,6e4);function Ia(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ra(n,e,t,r,s={}){return zS(n,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const m=Ou(Object.assign({key:n.config.apiKey},c)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:u},o);return ex()||(g.referrerPolicy="no-referrer"),VS.fetch()(jS(n,n.config.apiHost,t,m),g)})}async function zS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},bL),e);try{const s=new SL(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw sd(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const m=o.ok?c.errorMessage:c.error.message,[u,g]=m.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(n,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw sd(n,"email-already-in-use",c);if(u==="USER_DISABLED")throw sd(n,"user-disabled",c);const a=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw BS(n,a,g);_o(n,a)}}catch(s){if(s instanceof As)throw s;_o(n,"network-request-failed",{message:String(s)})}}async function Uu(n,e,t,r,s={}){const o=await Ra(n,e,t,r,s);return"mfaPendingCredential"in o&&_o(n,"multi-factor-auth-required",{_serverResponse:o}),o}function jS(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?vv(n.config,s):`${n.config.apiScheme}://${s}`}function EL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wo(this.auth,"network-request-failed")),_L.get())})}}function sd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Wo(n,e,r);return s.customData._tokenResponse=t,s}function vb(n){return n!==void 0&&n.enterprise!==void 0}class CL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TL(n,e){return Ra(n,"GET","/v2/recaptchaConfig",Ia(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(n,e){return Ra(n,"POST","/v1/accounts:delete",e)}async function US(n,e){return Ra(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AL(n,e=!1){const t=Mr(n),r=await t.getIdToken(e),s=yv(r);bt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:vu(Ig(s.auth_time)),issuedAtTime:vu(Ig(s.iat)),expirationTime:vu(Ig(s.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ig(n){return Number(n)*1e3}function yv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const s=__(t);return s?JSON.parse(s):(md("Failed to decode base64 JWT payload"),null)}catch(s){return md("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function yb(n){const e=yv(n);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof As&&kL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function kL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Ru(n,US(t,{idToken:r}));bt(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?HS(o.providerUserInfo):[],m=ML(n.providerData,c),u=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(m!=null&&m.length),a=u?g:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:m,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:a};Object.assign(n,h)}async function RL(n){const e=Mr(n);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ML(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function HS(n){return n.map(e=>{var{providerId:t}=e,r=gv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(n,e){const t=await zS(n,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,c=jS(n,s,"/v1/token",`key=${o}`),m=await n._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",VS.fetch()(c,{method:"POST",headers:m,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $L(n,e){return Ra(n,"POST","/v2/accounts:revokeToken",Ia(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const t=yb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await LL(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,c=new tc;return r&&(bt(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(bt(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(bt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tc,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(n,e){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ps{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=gv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return bt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AL(this,e)}reload(){return RL(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zo(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Ru(this,xL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,c,m,u,g,a;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(s=t.email)!==null&&s!==void 0?s:void 0,f=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,p=(c=t.photoURL)!==null&&c!==void 0?c:void 0,v=(m=t.tenantId)!==null&&m!==void 0?m:void 0,y=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,C=(g=t.createdAt)!==null&&g!==void 0?g:void 0,A=(a=t.lastLoginAt)!==null&&a!==void 0?a:void 0,{uid:F,emailVerified:O,isAnonymous:$,providerData:_,stsTokenManager:E}=t;bt(F&&E,e,"internal-error");const I=tc.fromJSON(this.name,E);bt(typeof F=="string",e,"internal-error"),na(h,e.name),na(d,e.name),bt(typeof O=="boolean",e,"internal-error"),bt(typeof $=="boolean",e,"internal-error"),na(f,e.name),na(p,e.name),na(v,e.name),na(y,e.name),na(C,e.name),na(A,e.name);const M=new ps({uid:F,auth:e,email:d,emailVerified:O,displayName:h,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:v,stsTokenManager:I,createdAt:C,lastLoginAt:A});return _&&Array.isArray(_)&&(M.providerData=_.map(P=>Object.assign({},P))),y&&(M._redirectEventId=y),M}static async _fromIdTokenResponse(e,t,r=!1){const s=new tc;s.updateFromServerResponse(t);const o=new ps({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];bt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?HS(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),m=new tc;m.updateFromIdToken(r);const u=new ps({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new vm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,g),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new Map;function gs(n){xs(n instanceof Function,"Expected a class definition");let e=wb.get(n);return e?(xs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WS.type="NONE";const bb=WS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(n,e,t){return`firebase:${n}:${e}:${t}`}class nc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=vd(this.userKey,s.apiKey,o),this.fullPersistenceKey=vd("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new nc(gs(bb),e,r);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=s[0]||gs(bb);const c=vd(r,e.config.apiKey,e.name);let m=null;for(const g of t)try{const a=await g._get(c);if(a){const h=ps._fromJSON(e,a);g!==o&&(m=h),o=g;break}}catch{}const u=s.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new nc(o,e,r):(o=u[0],m&&await o._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new nc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XS(e))return"Blackberry";if(ZS(e))return"Webos";if(KS(e))return"Safari";if((e.includes("chrome/")||qS(e))&&!e.includes("edge/"))return"Chrome";if(YS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GS(n=Qr()){return/firefox\//i.test(n)}function KS(n=Qr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qS(n=Qr()){return/crios\//i.test(n)}function QS(n=Qr()){return/iemobile/i.test(n)}function YS(n=Qr()){return/android/i.test(n)}function XS(n=Qr()){return/blackberry/i.test(n)}function ZS(n=Qr()){return/webos/i.test(n)}function wv(n=Qr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PL(n=Qr()){var e;return wv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OL(){return rx()&&document.documentMode===10}function JS(n=Qr()){return wv(n)||YS(n)||ZS(n)||XS(n)||/windows phone/i.test(n)||QS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n,e=[]){let t;switch(n){case"Browser":t=_b(Qr());break;case"Worker":t=`${_b(Qr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,m)=>{try{const u=e(o);c(u)}catch(u){m(u)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(n,e={}){return Ra(n,"GET","/v2/passwordPolicy",Ia(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=6;class BL{constructor(e){var t,r,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:FL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,c,m;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNumericCharacter)!==null&&c!==void 0?c:!0),u.isValid&&(u.isValid=(m=u.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eb(this),this.idTokenSubscription=new Eb(this),this.beforeStateQueue=new DL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await nc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await US(this,{idToken:e}),r=await ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zo(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!c||c===m)&&(u!=null&&u.user)&&(s=u.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zo(this.app))return Promise.reject(vs(this));const t=e?Mr(e):null;return t&&bt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zo(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zo(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NL(this),t=new BL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await $L(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gs(e)||this._popupRedirectResolver;bt(t,this,"argument-error"),this.redirectPersistenceManager=await nc.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,s);return()=>{c=!0,u()}}else{const u=e.addObserver(t);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&mL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function vl(n){return Mr(n)}class Eb{constructor(e){this.auth=e,this.observer=null,this.addObserver=hx(t=>this.observer=t)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zL(n){Mf=n}function tC(n){return Mf.loadJS(n)}function jL(){return Mf.recaptchaEnterpriseScript}function UL(){return Mf.gapiScript}function HL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class WL{constructor(){this.enterprise=new GL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class GL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const KL="recaptcha-enterprise",nC="NO_RECAPTCHA";class qL{constructor(e){this.type=KL,this.auth=vl(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,m)=>{TL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new CL(u);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(u=>{m(u)})})}function s(o,c,m){const u=window.grecaptcha;vb(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(g=>{c(g)}).catch(()=>{c(nC)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WL().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(m=>{if(!t&&vb(window.grecaptcha))s(m,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=jL();u.length!==0&&(u+=m),tC(u).then(()=>{s(m,o,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function Sb(n,e,t,r=!1,s=!1){const o=new qL(n);let c;if(s)c=nC;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const u=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const u=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ym(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Sb(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Sb(n,e,t,t==="getOobCode");return r(n,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(n,e){const t=Am(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Cd(o,e??{}))return s;_o(s,"already-initialized")}return t.initialize({options:e})}function YL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(gs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XL(n,e,t){const r=vl(n);bt(r._canInitEmulator,r,"emulator-config-failed"),bt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=rC(e),{host:c,port:m}=ZL(e),u=m===null?"":`:${m}`;r.config.emulator={url:`${o}//${c}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:m,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),JL()}function rC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ZL(n){const e=rC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Cb(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:Cb(c)}}}function Cb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function JL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,t){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function e$(n,e){return Ra(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t$(n,e){return Uu(n,"POST","/v1/accounts:signInWithPassword",Ia(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n$(n,e){return Uu(n,"POST","/v1/accounts:signInWithEmailLink",Ia(n,e))}async function r$(n,e){return Uu(n,"POST","/v1/accounts:signInWithEmailLink",Ia(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends bv{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Mu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Mu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,t,"signInWithPassword",t$);case"emailLink":return n$(e,{email:this._email,oobCode:this._password});default:_o(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ym(e,r,"signUpPassword",e$);case"emailLink":return r$(e,{idToken:t,email:this._email,oobCode:this._password});default:_o(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(n,e){return Uu(n,"POST","/v1/accounts:signInWithIdp",Ia(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$="http://localhost";class ll extends bv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_o("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=gv(t,["providerId","signInMethod"]);if(!r||!s)return null;const c=new ll(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return rc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,rc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rc(e,t)}buildRequest(){const e={requestUri:i$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s$(n){const e=ru(iu(n)).link,t=e?ru(iu(e)).deep_link_id:null,r=ru(iu(n)).deep_link_id;return(r?ru(iu(r)).link:null)||r||t||e||n}class _v{constructor(e){var t,r,s,o,c,m;const u=ru(iu(e)),g=(t=u.apiKey)!==null&&t!==void 0?t:null,a=(r=u.oobCode)!==null&&r!==void 0?r:null,h=o$((s=u.mode)!==null&&s!==void 0?s:null);bt(g&&a&&h,"argument-error"),this.apiKey=g,this.operation=h,this.code=a,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=u.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(m=u.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=s$(e);try{return new _v(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.providerId=Cc.PROVIDER_ID}static credential(e,t){return Mu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=_v.parseLink(t);return bt(r,"argument-error"),Mu._fromEmailAndCode(e,r.code,r.tenantId)}}Cc.PROVIDER_ID="password";Cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends iC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Hu{constructor(){super("facebook.com")}static credential(e){return ll._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ll._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return aa.credential(t,r)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends Hu{constructor(){super("github.com")}static credential(e){return ll._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.GITHUB_SIGN_IN_METHOD="github.com";la.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Hu{constructor(){super("twitter.com")}static credential(e,t){return ll._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ca.credential(t,r)}catch{return null}}}ca.TWITTER_SIGN_IN_METHOD="twitter.com";ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a$(n,e){return Uu(n,"POST","/v1/accounts:signUp",Ia(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await ps._fromIdTokenResponse(e,r,s),c=Tb(r);return new cl({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Tb(r);return new cl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Tb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends As{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new jd(e,t,r,s)}}function oC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(n,o,e,r):o})}async function l$(n,e,t=!1){const r=await Ru(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return cl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(n,e,t=!1){const{auth:r}=n;if(zo(r.app))return Promise.reject(vs(r));const s="reauthenticate";try{const o=await Ru(n,oC(r,s,e,n),t);bt(o.idToken,r,"internal-error");const c=yv(o.idToken);bt(c,r,"internal-error");const{sub:m}=c;return bt(n.uid===m,r,"user-mismatch"),cl._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&_o(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(n,e,t=!1){if(zo(n.app))return Promise.reject(vs(n));const r="signIn",s=await oC(n,r,e),o=await cl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function u$(n,e){return sC(vl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(n){const e=vl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function h$(n,e,t){if(zo(n.app))return Promise.reject(vs(n));const r=vl(n),c=await ym(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a$).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&aC(n),u}),m=await cl._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(m.user),m}function d$(n,e,t){return zo(n.app)?Promise.reject(vs(n)):u$(Mr(n),Cc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aC(n),r})}function f$(n,e,t,r){return Mr(n).onIdTokenChanged(e,t,r)}function p$(n,e,t){return Mr(n).beforeAuthStateChanged(e,t)}const Ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ud,"1"),this.storage.removeItem(Ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=1e3,m$=10;class cC extends lC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,u)=>{this.notifyListeners(c,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);OL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,m$):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},g$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cC.type="LOCAL";const v$=cC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC extends lC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}uC.type="SESSION";const hC=uC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Lf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const m=Array.from(c).map(async g=>g(t.origin,o)),u=await y$(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((m,u)=>{const g=Ev("",20);s.port1.start();const a=setTimeout(()=>{u(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===g)switch(d.data.status){case"ack":clearTimeout(a),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),m(d.data.response);break;default:clearTimeout(a),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return window}function b$(n){Go().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof Go().WorkerGlobalScope<"u"&&typeof Go().importScripts=="function"}async function _$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E$(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function S$(){return dC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebaseLocalStorageDb",C$=1,Hd="firebaseLocalStorage",pC="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $f(n,e){return n.transaction([Hd],e?"readwrite":"readonly").objectStore(Hd)}function T$(){const n=indexedDB.deleteDatabase(fC);return new Wu(n).toPromise()}function wm(){const n=indexedDB.open(fC,C$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Hd,{keyPath:pC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Hd)?e(r):(r.close(),await T$(),e(await wm()))})})}async function xb(n,e,t){const r=$f(n,!0).put({[pC]:e,value:t});return new Wu(r).toPromise()}async function x$(n,e){const t=$f(n,!1).get(e),r=await new Wu(t).toPromise();return r===void 0?null:r.value}function Ab(n,e){const t=$f(n,!0).delete(e);return new Wu(t).toPromise()}const A$=800,k$=3;class gC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>k$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(S$()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await _$(),!this.activeServiceWorker)return;this.sender=new w$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await xb(e,Ud,"1"),await Ab(e,Ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>xb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>x$(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ab(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=$f(s,!1).getAll();return new Wu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gC.type="LOCAL";const I$=gC;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(n,e){return e?gs(e):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends bv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function M$(n){return sC(n.auth,new Sv(n),n.bypassAuthState)}function L$(n){const{auth:e,user:t}=n;return bt(t,e,"internal-error"),c$(t,new Sv(n),n.bypassAuthState)}async function $$(n){const{auth:e,user:t}=n;return bt(t,e,"internal-error"),l$(t,new Sv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:c,type:m}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(u))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M$;case"linkViaPopup":case"linkViaRedirect":return $$;case"reauthViaPopup":case"reauthViaRedirect":return L$;default:_o(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=new ju(2e3,1e4);class Jl extends mC{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Jl.currentPopupAction&&Jl.currentPopupAction.cancel(),Jl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=Ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P$.get())};e()}}Jl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$="pendingRedirect",yd=new Map;class D$ extends mC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=yd.get(this.auth._key());if(!e){try{const r=await N$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}yd.set(this.auth._key(),e)}return this.bypassAuthState||yd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N$(n,e){const t=V$(e),r=B$(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function F$(n,e){yd.set(n._key(),e)}function B$(n){return gs(n._redirectPersistence)}function V$(n){return vd(O$,n.config.apiKey,n.name)}async function z$(n,e,t=!1){if(zo(n.app))return Promise.reject(vs(n));const r=vl(n),s=R$(r,e),c=await new D$(r,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=10*60*1e3;class U${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Wo(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j$&&this.cachedEventUids.clear(),this.cachedEventUids.has(kb(e))}saveEventToCache(e){this.cachedEventUids.add(kb(e)),this.lastProcessedEventTime=Date.now()}}function kb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function H$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$(n,e={}){return Ra(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K$=/^https?/;async function q$(n){if(n.config.emulator)return;const{authorizedDomains:e}=await W$(n);for(const t of e)try{if(Q$(t))return}catch{}_o(n,"unauthorized-domain")}function Q$(n){const e=mm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!K$.test(t))return!1;if(G$.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=new ju(3e4,6e4);function Ib(){const n=Go().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function X$(n){return new Promise((e,t)=>{var r,s,o;function c(){Ib(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ib(),t(Wo(n,"network-request-failed"))},timeout:Y$.get()})}if(!((s=(r=Go().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Go().gapi)===null||o===void 0)&&o.load)c();else{const m=HL("iframefcb");return Go()[m]=()=>{gapi.load?c():t(Wo(n,"network-request-failed"))},tC(`${UL()}?onload=${m}`).catch(u=>t(u))}}).catch(e=>{throw wd=null,e})}let wd=null;function Z$(n){return wd=wd||X$(n),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=new ju(5e3,15e3),eP="__/auth/iframe",tP="emulator/auth/iframe",nP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iP(n){const e=n.config;bt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vv(e,tP):`https://${n.config.authDomain}/${eP}`,r={apiKey:e.apiKey,appName:n.name,v:vc},s=rP.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ou(r).slice(1)}`}async function oP(n){const e=await Z$(n),t=Go().gapi;return bt(t,n,"internal-error"),e.open({where:document.body,url:iP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=Wo(n,"network-request-failed"),m=Go().setTimeout(()=>{o(c)},J$.get());function u(){Go().clearTimeout(m),s(r)}r.ping(u).then(u,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aP=500,lP=600,cP="_blank",uP="http://localhost";class Rb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hP(n,e,t,r=aP,s=lP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const u=Object.assign(Object.assign({},sP),{width:r.toString(),height:s.toString(),top:o,left:c}),g=Qr().toLowerCase();t&&(m=qS(g)?cP:t),GS(g)&&(e=e||uP,u.scrollbars="yes");const a=Object.entries(u).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(PL(g)&&m!=="_self")return dP(e||"",m),new Rb(null);const h=window.open(e||"",m,a);bt(h,n,"popup-blocked");try{h.focus()}catch{}return new Rb(h)}function dP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="__/auth/handler",pP="emulator/auth/handler",gP=encodeURIComponent("fac");async function Mb(n,e,t,r,s,o){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vc,eventId:s};if(e instanceof iC){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",ux(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[a,h]of Object.entries({}))c[a]=h}if(e instanceof Hu){const a=e.getScopes().filter(h=>h!=="");a.length>0&&(c.scopes=a.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const a of Object.keys(m))m[a]===void 0&&delete m[a];const u=await n._getAppCheckToken(),g=u?`#${gP}=${encodeURIComponent(u)}`:"";return`${mP(n)}?${Ou(m).slice(1)}${g}`}function mP({config:n}){return n.emulator?vv(n,pP):`https://${n.authDomain}/${fP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="webStorageSupport";class vP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hC,this._completeRedirectFn=z$,this._overrideRedirectResult=F$}async _openPopup(e,t,r,s){var o;xs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await Mb(e,t,r,mm(),s);return hP(e,c,Ev())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Mb(e,t,r,mm(),s);return b$(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(xs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await oP(e),r=new U$(e);return t.register("authEvent",s=>(bt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rg,{type:Rg},s=>{var o;const c=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Rg];c!==void 0&&t(!!c),_o(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=q$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JS()||KS()||wv()}}const yP=vP;var Lb="@firebase/auth",$b="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _P(n){sc(new sl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eC(n)},g=new VL(r,s,o,u);return YL(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),sc(new sl("auth-internal",e=>{const t=vl(e.getProvider("auth").getImmediate());return(r=>new wP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ma(Lb,$b,bP(n)),ma(Lb,$b,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=5*60,SP=C_("authIdTokenMaxAge")||EP;let Pb=null;const CP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>SP)return;const s=t==null?void 0:t.token;Pb!==s&&(Pb=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function TP(n=k_()){const e=Am(n,"auth");if(e.isInitialized())return e.getImmediate();const t=QL(n,{popupRedirectResolver:yP,persistence:[I$,v$,hC]}),r=C_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=CP(o.toString());p$(t,c,()=>c(t.currentUser)),f$(t,m=>c(m))}}const s=E_("auth");return s&&XL(t,`http://${s}`),t}function xP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}zL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Wo("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",xP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_P("Browser");const yC=TP(),bd=UE(),AP=async(n,e)=>{try{const r=(await d$(yC,n,e)).user;console.log("User signed in:",r.uid);const s=Ho(bd,"users",r.uid),o=await zu(s);if(o.exists()){const c=o.data();return console.log("User data from Firestore:",c),{uid:r.uid,email:r.email,...c}}else return console.log("No user data found in Firestore!"),null}catch(t){return console.error("Error logging in:",t.message),null}},kP=async(n,e,t,r)=>{try{const o=(await h$(yC,e,t)).user,c={};let m=r.length;const u={name:n,email:e,role:"user",createdAt:rl()},g={materials:{},lastAccessedMaterial:null,completedQuestions:0,totalQuestions:m,createdAt:rl(),updatedAt:rl()},a=await mu(Ho(bd,"users",o.uid),u),h=await mu(Ho(bd,"grades",o.uid),g),d=await mu(Ho(bd,"test",o.uid),{});return{success:!0,userId:o.uid,userData:{id:o.uid,...u}}}catch(s){return console.error("註冊失敗：",s),{success:!1,error:s.code==="auth/email-already-in-use"?"這個電子郵件已經被註冊過了，請使用其他電子郵件！":"註冊時發生錯誤，請再試一次"}}},IP=()=>{const{userInfo:n,isLoggedOut:e,login:t}=ka(),[r,s]=oe.useState(!n),[o,c]=oe.useState(!0),[m,u]=oe.useState(""),[g,a]=oe.useState(""),[h,d]=oe.useState(""),[f,p]=oe.useState(""),[v,y]=oe.useState(""),[C,A]=oe.useState(!1),{quizs:F}=oe.useContext(ml);oe.useEffect(()=>{n?s(!1):e&&s(!0)},[n,e]);const O=()=>s(!1),$=()=>{c(!o),y(""),d(""),u(""),a(""),p("")},_=async E=>{E.preventDefault(),y(""),A(!0);const I=m.includes("@")?m:`${m}@nfu.edu.tw`;if(o){const M=await AP(I,g);M?t(M):y("登入失敗，請檢查您的帳號和密碼！")}else try{if(!h||!m||!g||!f){y("請填寫所有欄位！"),A(!1);return}if(g!==f){y("密碼與確認密碼不相符！"),A(!1);return}if(g.length>0&&g.length<6){y("密碼必須大於6個字"),A(!1);return}const M=await kP(h,I,g,F);M.success?(alert(`註冊成功！歡迎，${h}！請重新登入。`),c(!0)):y(M.error||"註冊失敗，請稍後再試。")}catch(M){console.error("Registration error:",M),y(M.message)}A(!1)};return se.jsxs(ai,{show:r,onHide:O,centered:!0,backdrop:"static",children:[se.jsx(ai.Header,{children:se.jsx(ai.Title,{children:o?"登入":"註冊"})}),se.jsxs(ai.Body,{children:[v&&se.jsx(kM,{variant:"danger",children:v}),se.jsxs(Xt,{onSubmit:_,children:[!o&&se.jsxs(Xt.Group,{className:"mb-3",controlId:"formBasicUsername",children:[se.jsx(Xt.Label,{children:"使用者名稱"}),se.jsx(Xt.Control,{type:"text",placeholder:"輸入您的名稱",value:h,onChange:E=>d(E.target.value),required:!0})]}),se.jsxs(Xt.Group,{className:"mb-3",controlId:"formBasicEmail",children:[se.jsx(Xt.Label,{children:"電子郵件"}),se.jsx(Xt.Control,{type:o?"text":"email",placeholder:"輸入您的電子郵件",value:m,onChange:E=>u(E.target.value),required:!0})]}),se.jsxs(Xt.Group,{className:"mb-3",controlId:"formBasicPassword",children:[se.jsx(Xt.Label,{children:"密碼"}),se.jsx(Xt.Control,{type:"password",placeholder:o?"輸入您的密碼":"輸入您的密碼，輸入至少6個字的密碼",value:g,onChange:E=>a(E.target.value),required:!0})]}),!o&&se.jsxs(Xt.Group,{className:"mb-3",controlId:"formConfirmPassword",children:[se.jsx(Xt.Label,{children:"確認密碼"}),se.jsx(Xt.Control,{type:"password",placeholder:"再次輸入密碼",value:f,onChange:E=>p(E.target.value),required:!0})]}),se.jsx(br,{variant:"primary",type:"submit",className:"w-100",children:C?se.jsx(DS,{animation:"border",size:"sm"}):o?"登入":"註冊"})]})]}),se.jsx(ai.Footer,{children:se.jsx(br,{variant:"link",onClick:$,children:o?"還沒有帳號？註冊":"已有帳號？登入"})})]})};var Zc={},Ob;function RP(){if(Ob)return Zc;Ob=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.parse=c,Zc.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function c(d,f){const p=new o,v=d.length;if(v<2)return p;const y=(f==null?void 0:f.decode)||a;let C=0;do{const A=d.indexOf("=",C);if(A===-1)break;const F=d.indexOf(";",C),O=F===-1?v:F;if(A>O){C=d.lastIndexOf(";",A-1)+1;continue}const $=m(d,C,A),_=u(d,A,$),E=d.slice($,_);if(p[E]===void 0){let I=m(d,A+1,O),M=u(d,O,I);const P=y(d.slice(I,M));p[E]=P}C=O+1}while(C<v);return p}function m(d,f,p){do{const v=d.charCodeAt(f);if(v!==32&&v!==9)return f}while(++f<p);return p}function u(d,f,p){for(;f>p;){const v=d.charCodeAt(--f);if(v!==32&&v!==9)return f+1}return p}function g(d,f,p){const v=(p==null?void 0:p.encode)||encodeURIComponent;if(!n.test(d))throw new TypeError(`argument name is invalid: ${d}`);const y=v(f);if(!e.test(y))throw new TypeError(`argument val is invalid: ${f}`);let C=d+"="+y;if(!p)return C;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);C+="; Max-Age="+p.maxAge}if(p.domain){if(!t.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);C+="; Domain="+p.domain}if(p.path){if(!r.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);C+="; Path="+p.path}if(p.expires){if(!h(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);C+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(C+="; HttpOnly"),p.secure&&(C+="; Secure"),p.partitioned&&(C+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return C}function a(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function h(d){return s.call(d)==="[object Date]"}return Zc}RP();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Db="popstate";function MP(n={}){function e(r,s){let{pathname:o,search:c,hash:m}=r.location;return bm("",{pathname:o,search:c,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Lu(s)}return $P(e,t,null,n)}function Ln(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LP(){return Math.random().toString(36).substring(2,10)}function Nb(n,e){return{usr:n.state,key:n.key,idx:e}}function bm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Tc(e):e,state:t,key:e&&e.key||r||LP()}}function Lu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Tc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function $P(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,m="POP",u=null,g=a();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function a(){return(c.state||{idx:null}).idx}function h(){m="POP";let y=a(),C=y==null?null:y-g;g=y,u&&u({action:m,location:v.location,delta:C})}function d(y,C){m="PUSH";let A=bm(v.location,y,C);g=a()+1;let F=Nb(A,g),O=v.createHref(A);try{c.pushState(F,"",O)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(O)}o&&u&&u({action:m,location:v.location,delta:1})}function f(y,C){m="REPLACE";let A=bm(v.location,y,C);g=a();let F=Nb(A,g),O=v.createHref(A);c.replaceState(F,"",O),o&&u&&u({action:m,location:v.location,delta:0})}function p(y){let C=s.location.origin!=="null"?s.location.origin:s.location.href,A=typeof y=="string"?y:Lu(y);return A=A.replace(/ $/,"%20"),Ln(C,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,C)}let v={get action(){return m},get location(){return n(s,c)},listen(y){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Db,h),u=y,()=>{s.removeEventListener(Db,h),u=null}},createHref(y){return e(s,y)},createURL:p,encodeLocation(y){let C=p(y);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:d,replace:f,go(y){return c.go(y)}};return v}function wC(n,e,t="/"){return PP(n,e,t,!1)}function PP(n,e,t,r){let s=typeof e=="string"?Tc(e):e,o=Ta(s.pathname||"/",t);if(o==null)return null;let c=bC(n);OP(c);let m=null;for(let u=0;m==null&&u<c.length;++u){let g=GP(o);m=HP(c[u],g,r)}return m}function bC(n,e=[],t=[],r=""){let s=(o,c,m)=>{let u={relativePath:m===void 0?o.path||"":m,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};u.relativePath.startsWith("/")&&(Ln(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let g=ys([r,u.relativePath]),a=t.concat(u);o.children&&o.children.length>0&&(Ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),bC(o.children,e,a,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:jP(g,o.index),routesMeta:a})};return n.forEach((o,c)=>{var m;if(o.path===""||!((m=o.path)!=null&&m.includes("?")))s(o,c);else for(let u of _C(o.path))s(o,c,u)}),e}function _C(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=_C(r.join("/")),m=[];return m.push(...c.map(u=>u===""?o:[o,u].join("/"))),s&&m.push(...c),m.map(u=>n.startsWith("/")&&u===""?"/":u)}function OP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:UP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var DP=/^:[\w-]+$/,NP=3,FP=2,BP=1,VP=10,zP=-2,Fb=n=>n==="*";function jP(n,e){let t=n.split("/"),r=t.length;return t.some(Fb)&&(r+=zP),e&&(r+=FP),t.filter(s=>!Fb(s)).reduce((s,o)=>s+(DP.test(o)?NP:o===""?BP:VP),r)}function UP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function HP(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",c=[];for(let m=0;m<r.length;++m){let u=r[m],g=m===r.length-1,a=o==="/"?e:e.slice(o.length)||"/",h=Wd({path:u.relativePath,caseSensitive:u.caseSensitive,end:g},a),d=u.route;if(!h&&g&&t&&!r[r.length-1].route.index&&(h=Wd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},a)),!h)return null;Object.assign(s,h.params),c.push({params:s,pathname:ys([o,h.pathname]),pathnameBase:YP(ys([o,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(o=ys([o,h.pathnameBase]))}return c}function Wd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=WP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:r.reduce((g,{paramName:a,isOptional:h},d)=>{if(a==="*"){let p=m[d]||"";c=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const f=m[d];return h&&!f?g[a]=void 0:g[a]=(f||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function WP(n,e=!1,t=!0){qo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,u)=>(r.push({paramName:m,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function GP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qo(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ta(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function KP(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Tc(n):n;return{pathname:t?t.startsWith("/")?t:qP(t,e):e,search:XP(r),hash:ZP(s)}}function qP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Mg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function EC(n){let e=QP(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function SC(n,e,t,r=!1){let s;typeof n=="string"?s=Tc(n):(s={...n},Ln(!s.pathname||!s.pathname.includes("?"),Mg("?","pathname","search",s)),Ln(!s.pathname||!s.pathname.includes("#"),Mg("#","pathname","hash",s)),Ln(!s.search||!s.search.includes("#"),Mg("#","search","hash",s)));let o=n===""||s.pathname==="",c=o?"/":s.pathname,m;if(c==null)m=t;else{let h=e.length-1;if(!r&&c.startsWith("..")){let d=c.split("/");for(;d[0]==="..";)d.shift(),h-=1;s.pathname=d.join("/")}m=h>=0?e[h]:"/"}let u=KP(s,m),g=c&&c!=="/"&&c.endsWith("/"),a=(o||c===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(g||a)&&(u.pathname+="/"),u}var ys=n=>n.join("/").replace(/\/\/+/g,"/"),YP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),XP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function JP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var CC=["POST","PUT","PATCH","DELETE"];new Set(CC);var e2=["GET",...CC];new Set(e2);var xc=oe.createContext(null);xc.displayName="DataRouter";var Pf=oe.createContext(null);Pf.displayName="DataRouterState";var TC=oe.createContext({isTransitioning:!1});TC.displayName="ViewTransition";var t2=oe.createContext(new Map);t2.displayName="Fetchers";var n2=oe.createContext(null);n2.displayName="Await";var Yo=oe.createContext(null);Yo.displayName="Navigation";var Gu=oe.createContext(null);Gu.displayName="Location";var Xo=oe.createContext({outlet:null,matches:[],isDataRoute:!1});Xo.displayName="Route";var Cv=oe.createContext(null);Cv.displayName="RouteError";function r2(n,{relative:e}={}){Ln(Ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=oe.useContext(Yo),{hash:s,pathname:o,search:c}=Qu(n,{relative:e}),m=o;return t!=="/"&&(m=o==="/"?t:ys([t,o])),r.createHref({pathname:m,search:c,hash:s})}function Ku(){return oe.useContext(Gu)!=null}function Is(){return Ln(Ku(),"useLocation() may be used only in the context of a <Router> component."),oe.useContext(Gu).location}var xC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AC(n){oe.useContext(Yo).static||oe.useLayoutEffect(n)}function qu(){let{isDataRoute:n}=oe.useContext(Xo);return n?m2():i2()}function i2(){Ln(Ku(),"useNavigate() may be used only in the context of a <Router> component.");let n=oe.useContext(xc),{basename:e,navigator:t}=oe.useContext(Yo),{matches:r}=oe.useContext(Xo),{pathname:s}=Is(),o=JSON.stringify(EC(r)),c=oe.useRef(!1);return AC(()=>{c.current=!0}),oe.useCallback((u,g={})=>{if(qo(c.current,xC),!c.current)return;if(typeof u=="number"){t.go(u);return}let a=SC(u,JSON.parse(o),s,g.relative==="path");n==null&&e!=="/"&&(a.pathname=a.pathname==="/"?e:ys([e,a.pathname])),(g.replace?t.replace:t.push)(a,g.state,g)},[e,t,o,s,n])}oe.createContext(null);function kC(){let{matches:n}=oe.useContext(Xo),e=n[n.length-1];return e?e.params:{}}function Qu(n,{relative:e}={}){let{matches:t}=oe.useContext(Xo),{pathname:r}=Is(),s=JSON.stringify(EC(t));return oe.useMemo(()=>SC(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function o2(n,e){return IC(n,e)}function IC(n,e,t,r){var C;Ln(Ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=oe.useContext(Yo),{matches:o}=oe.useContext(Xo),c=o[o.length-1],m=c?c.params:{},u=c?c.pathname:"/",g=c?c.pathnameBase:"/",a=c&&c.route;{let A=a&&a.path||"";RC(u,!a||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let h=Is(),d;if(e){let A=typeof e=="string"?Tc(e):e;Ln(g==="/"||((C=A.pathname)==null?void 0:C.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${A.pathname}" was given in the \`location\` prop.`),d=A}else d=h;let f=d.pathname||"/",p=f;if(g!=="/"){let A=g.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(A.length).join("/")}let v=wC(n,{pathname:p});qo(a||v!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),qo(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=u2(v&&v.map(A=>Object.assign({},A,{params:Object.assign({},m,A.params),pathname:ys([g,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:ys([g,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,t,r);return e&&y?oe.createElement(Gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},y):y}function s2(){let n=g2(),e=JP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=oe.createElement(oe.Fragment,null,oe.createElement("p",null,"💿 Hey developer 👋"),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:o},"ErrorBoundary")," or"," ",oe.createElement("code",{style:o},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),t?oe.createElement("pre",{style:s},t):null,c)}var a2=oe.createElement(s2,null),l2=class extends oe.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?oe.createElement(Xo.Provider,{value:this.props.routeContext},oe.createElement(Cv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c2({routeContext:n,match:e,children:t}){let r=oe.useContext(xc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),oe.createElement(Xo.Provider,{value:n},t)}function u2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let u=s.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);Ln(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let c=!1,m=-1;if(t)for(let u=0;u<s.length;u++){let g=s[u];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=u),g.route.id){let{loaderData:a,errors:h}=t,d=g.route.loader&&!a.hasOwnProperty(g.route.id)&&(!h||h[g.route.id]===void 0);if(g.route.lazy||d){c=!0,m>=0?s=s.slice(0,m+1):s=[s[0]];break}}}return s.reduceRight((u,g,a)=>{let h,d=!1,f=null,p=null;t&&(h=o&&g.route.id?o[g.route.id]:void 0,f=g.route.errorElement||a2,c&&(m<0&&a===0?(RC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):m===a&&(d=!0,p=g.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,a+1)),y=()=>{let C;return h?C=f:d?C=p:g.route.Component?C=oe.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=u,oe.createElement(c2,{match:g,routeContext:{outlet:u,matches:v,isDataRoute:t!=null},children:C})};return t&&(g.route.ErrorBoundary||g.route.errorElement||a===0)?oe.createElement(l2,{location:t.location,revalidation:t.revalidation,component:f,error:h,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}function Tv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h2(n){let e=oe.useContext(xc);return Ln(e,Tv(n)),e}function d2(n){let e=oe.useContext(Pf);return Ln(e,Tv(n)),e}function f2(n){let e=oe.useContext(Xo);return Ln(e,Tv(n)),e}function xv(n){let e=f2(n),t=e.matches[e.matches.length-1];return Ln(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function p2(){return xv("useRouteId")}function g2(){var r;let n=oe.useContext(Cv),e=d2("useRouteError"),t=xv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function m2(){let{router:n}=h2("useNavigate"),e=xv("useNavigate"),t=oe.useRef(!1);return AC(()=>{t.current=!0}),oe.useCallback(async(s,o={})=>{qo(t.current,xC),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Bb={};function RC(n,e,t){!e&&!Bb[n]&&(Bb[n]=!0,qo(!1,t))}oe.memo(v2);function v2({routes:n,future:e,state:t}){return IC(n,void 0,t,e)}function Xa(n){Ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Ln(!Ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),m=oe.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof t=="string"&&(t=Tc(t));let{pathname:u="/",search:g="",hash:a="",state:h=null,key:d="default"}=t,f=oe.useMemo(()=>{let p=Ta(u,c);return p==null?null:{location:{pathname:p,search:g,hash:a,state:h,key:d},navigationType:r}},[c,u,g,a,h,d,r]);return qo(f!=null,`<Router basename="${c}"> is not able to match the URL "${u}${g}${a}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:oe.createElement(Yo.Provider,{value:m},oe.createElement(Gu.Provider,{children:e,value:f}))}function w2({children:n,location:e}){return o2(_m(n),e)}function _m(n,e=[]){let t=[];return oe.Children.forEach(n,(r,s)=>{if(!oe.isValidElement(r))return;let o=[...e,s];if(r.type===oe.Fragment){t.push.apply(t,_m(r.props.children,o));return}Ln(r.type===Xa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=_m(r.props.children,o)),t.push(c)}),t}var _d="get",Ed="application/x-www-form-urlencoded";function Of(n){return n!=null&&typeof n.tagName=="string"}function b2(n){return Of(n)&&n.tagName.toLowerCase()==="button"}function _2(n){return Of(n)&&n.tagName.toLowerCase()==="form"}function E2(n){return Of(n)&&n.tagName.toLowerCase()==="input"}function S2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function C2(n,e){return n.button===0&&(!e||e==="_self")&&!S2(n)}var ad=null;function T2(){if(ad===null)try{new FormData(document.createElement("form"),0),ad=!1}catch{ad=!0}return ad}var x2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lg(n){return n!=null&&!x2.has(n)?(qo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ed}"`),null):n}function A2(n,e){let t,r,s,o,c;if(_2(n)){let m=n.getAttribute("action");r=m?Ta(m,e):null,t=n.getAttribute("method")||_d,s=Lg(n.getAttribute("enctype"))||Ed,o=new FormData(n)}else if(b2(n)||E2(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||m.getAttribute("action");if(r=u?Ta(u,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||_d,s=Lg(n.getAttribute("formenctype"))||Lg(m.getAttribute("enctype"))||Ed,o=new FormData(m,n),!T2()){let{name:g,type:a,value:h}=n;if(a==="image"){let d=g?`${g}.`:"";o.append(`${d}x`,"0"),o.append(`${d}y`,"0")}else g&&o.append(g,h)}}else{if(Of(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_d,r=null,s=Ed,c=n}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:c}}function Av(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function k2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function R2(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await k2(o,t);return c.links?c.links():[]}return[]}));return P2(r.flat(1).filter(I2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Vb(n,e,t,r,s,o){let c=(u,g)=>t[g]?u.route.id!==t[g].route.id:!0,m=(u,g)=>{var a;return t[g].pathname!==u.pathname||((a=t[g].route.path)==null?void 0:a.endsWith("*"))&&t[g].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,g)=>c(u,g)||m(u,g)):o==="data"?e.filter((u,g)=>{var h;let a=r.routes[u.route.id];if(!a||!a.hasLoader)return!1;if(c(u,g)||m(u,g))return!0;if(u.route.shouldRevalidate){let d=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function M2(n,e){return L2(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function L2(n){return[...new Set(n)]}function $2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function P2(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify($2(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function O2(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function D2(){let n=oe.useContext(xc);return Av(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function N2(){let n=oe.useContext(Pf);return Av(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var kv=oe.createContext(void 0);kv.displayName="FrameworkContext";function MC(){let n=oe.useContext(kv);return Av(n,"You must render this element inside a <HydratedRouter> element"),n}function F2(n,e){let t=oe.useContext(kv),[r,s]=oe.useState(!1),[o,c]=oe.useState(!1),{onFocus:m,onBlur:u,onMouseEnter:g,onMouseLeave:a,onTouchStart:h}=e,d=oe.useRef(null);oe.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let v=C=>{C.forEach(A=>{c(A.isIntersecting)})},y=new IntersectionObserver(v,{threshold:.5});return d.current&&y.observe(d.current),()=>{y.disconnect()}}},[n]),oe.useEffect(()=>{if(r){let v=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(v)}}},[r]);let f=()=>{s(!0)},p=()=>{s(!1),c(!1)};return t?n!=="intent"?[o,d,{}]:[o,d,{onFocus:Jc(m,f),onBlur:Jc(u,p),onMouseEnter:Jc(g,f),onMouseLeave:Jc(a,p),onTouchStart:Jc(h,f)}]:[!1,d,{}]}function Jc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function B2({page:n,...e}){let{router:t}=D2(),r=oe.useMemo(()=>wC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?oe.createElement(z2,{page:n,matches:r,...e}):null}function V2(n){let{manifest:e,routeModules:t}=MC(),[r,s]=oe.useState([]);return oe.useEffect(()=>{let o=!1;return R2(n,e,t).then(c=>{o||s(c)}),()=>{o=!0}},[n,e,t]),r}function z2({page:n,matches:e,...t}){let r=Is(),{manifest:s,routeModules:o}=MC(),{loaderData:c,matches:m}=N2(),u=oe.useMemo(()=>Vb(n,e,m,s,r,"data"),[n,e,m,s,r]),g=oe.useMemo(()=>Vb(n,e,m,s,r,"assets"),[n,e,m,s,r]),a=oe.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let f=new Set,p=!1;if(e.forEach(y=>{var A;let C=s.routes[y.route.id];!C||!C.hasLoader||(!u.some(F=>F.route.id===y.route.id)&&y.route.id in c&&((A=o[y.route.id])!=null&&A.shouldRevalidate)||C.hasClientLoader?p=!0:f.add(y.route.id))}),f.size===0)return[];let v=O2(n);return p&&f.size>0&&v.searchParams.set("_routes",e.filter(y=>f.has(y.route.id)).map(y=>y.route.id).join(",")),[v.pathname+v.search]},[c,r,s,u,e,n,o]),h=oe.useMemo(()=>M2(g,s),[g,s]),d=V2(g);return oe.createElement(oe.Fragment,null,a.map(f=>oe.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...t})),h.map(f=>oe.createElement("link",{key:f,rel:"modulepreload",href:f,...t})),d.map(({key:f,link:p})=>oe.createElement("link",{key:f,...p})))}function j2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var LC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LC&&(window.__reactRouterVersion="7.1.1")}catch{}function U2({basename:n,children:e,window:t}){let r=oe.useRef();r.current==null&&(r.current=MP({window:t,v5Compat:!0}));let s=r.current,[o,c]=oe.useState({action:s.action,location:s.location}),m=oe.useCallback(u=>{oe.startTransition(()=>c(u))},[c]);return oe.useLayoutEffect(()=>s.listen(m),[s,m]),oe.createElement(y2,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var $C=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ja=oe.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:m,target:u,to:g,preventScrollReset:a,viewTransition:h,...d},f){let{basename:p}=oe.useContext(Yo),v=typeof g=="string"&&$C.test(g),y,C=!1;if(typeof g=="string"&&v&&(y=g,LC))try{let M=new URL(window.location.href),P=g.startsWith("//")?new URL(M.protocol+g):new URL(g),V=Ta(P.pathname,p);P.origin===M.origin&&V!=null?g=V+P.search+P.hash:C=!0}catch{qo(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=r2(g,{relative:s}),[F,O,$]=F2(r,d),_=K2(g,{replace:c,state:m,target:u,preventScrollReset:a,relative:s,viewTransition:h});function E(M){e&&e(M),M.defaultPrevented||_(M)}let I=oe.createElement("a",{...d,...$,href:y||A,onClick:C||o?e:E,ref:j2(f,O),target:u,"data-discover":!v&&t==="render"?"true":void 0});return F&&!v?oe.createElement(oe.Fragment,null,I,oe.createElement(B2,{page:A})):I});Ja.displayName="Link";var H2=oe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:m,children:u,...g},a){let h=Qu(c,{relative:g.relative}),d=Is(),f=oe.useContext(Pf),{navigator:p,basename:v}=oe.useContext(Yo),y=f!=null&&Z2(h)&&m===!0,C=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,A=d.pathname,F=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(A=A.toLowerCase(),F=F?F.toLowerCase():null,C=C.toLowerCase()),F&&v&&(F=Ta(F,v)||F);const O=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let $=A===C||!s&&A.startsWith(C)&&A.charAt(O)==="/",_=F!=null&&(F===C||!s&&F.startsWith(C)&&F.charAt(C.length)==="/"),E={isActive:$,isPending:_,isTransitioning:y},I=$?e:void 0,M;typeof r=="function"?M=r(E):M=[r,$?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(E):o;return oe.createElement(Ja,{...g,"aria-current":I,className:M,ref:a,style:P,to:c,viewTransition:m},typeof u=="function"?u(E):u)});H2.displayName="NavLink";var W2=oe.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:c=_d,action:m,onSubmit:u,relative:g,preventScrollReset:a,viewTransition:h,...d},f)=>{let p=Y2(),v=X2(m,{relative:g}),y=c.toLowerCase()==="get"?"get":"post",C=typeof m=="string"&&$C.test(m),A=F=>{if(u&&u(F),F.defaultPrevented)return;F.preventDefault();let O=F.nativeEvent.submitter,$=(O==null?void 0:O.getAttribute("formmethod"))||c;p(O||F.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:s,state:o,relative:g,preventScrollReset:a,viewTransition:h})};return oe.createElement("form",{ref:f,method:y,action:v,onSubmit:r?u:A,...d,"data-discover":!C&&n==="render"?"true":void 0})});W2.displayName="Form";function G2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PC(n){let e=oe.useContext(xc);return Ln(e,G2(n)),e}function K2(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:c}={}){let m=qu(),u=Is(),g=Qu(n,{relative:o});return oe.useCallback(a=>{if(C2(a,e)){a.preventDefault();let h=t!==void 0?t:Lu(u)===Lu(g);m(n,{replace:h,state:r,preventScrollReset:s,relative:o,viewTransition:c})}},[u,m,g,t,r,e,n,s,o,c])}var q2=0,Q2=()=>`__${String(++q2)}__`;function Y2(){let{router:n}=PC("useSubmit"),{basename:e}=oe.useContext(Yo),t=p2();return oe.useCallback(async(r,s={})=>{let{action:o,method:c,encType:m,formData:u,body:g}=A2(r,e);if(s.navigate===!1){let a=s.fetcherKey||Q2();await n.fetch(a,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:g,formMethod:s.method||c,formEncType:s.encType||m,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:g,formMethod:s.method||c,formEncType:s.encType||m,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function X2(n,{relative:e}={}){let{basename:t}=oe.useContext(Yo),r=oe.useContext(Xo);Ln(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Qu(n||".",{relative:e})},c=Is();if(n==null){o.search=c.search;let m=new URLSearchParams(o.search),u=m.getAll("index");if(u.some(a=>a==="")){m.delete("index"),u.filter(h=>h).forEach(h=>m.append("index",h));let a=m.toString();o.search=a?`?${a}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ys([t,o.pathname])),Lu(o)}function Z2(n,e={}){let t=oe.useContext(TC);Ln(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PC("useViewTransitionState"),s=Qu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ta(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Ta(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Wd(s.pathname,c)!=null||Wd(s.pathname,o)!=null}new TextEncoder;const J2=()=>{const{userInfo:n,login:e,logout:t}=ka(),r=oe.useRef(null),s=()=>{r.current&&new window.bootstrap.Collapse(r.current,{toggle:!1}).hide()};return se.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:se.jsxs("div",{className:"container-fluid",children:[se.jsxs(Ja,{className:"navbar-brand",to:"/",onClick:s,children:[se.jsx("i",{className:"fas fa-home"})," ",n?"歡迎, "+n.name:"首頁"]}),se.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"切換導航",children:se.jsx("span",{className:"navbar-toggler-icon"})}),se.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",ref:r,children:se.jsxs("ul",{className:"navbar-nav ms-auto",children:[se.jsx("li",{className:"nav-item",children:se.jsx(Ja,{className:"nav-link",to:"/te_list",onClick:s,children:"測驗模式"})}),se.jsx("li",{className:"nav-item",children:se.jsx(Ja,{className:"nav-link",to:"/list",onClick:s,children:"教材列表"})}),se.jsx("li",{className:"nav-item",children:se.jsx(Ja,{className:"nav-link",to:"/ex_list",onClick:s,children:"題目列表"})}),n?se.jsx(se.Fragment,{children:se.jsx("li",{className:"nav-item",children:se.jsx("button",{className:"btn btn-link nav-link",onClick:t,children:"登出"})})}):se.jsx("li",{className:"nav-item",children:se.jsx(Ja,{className:"nav-link",to:"/",onClick:s,children:"登入"})})]})})]})})},eO=()=>{const{userInfo:n,timeoutWarning:e}=ka();return se.jsxs("div",{children:[e&&se.jsx("div",{className:"warning-message",children:"您即將因閒置而登出，請點擊任意處繼續使用"}),se.jsx("h1",{className:"mt-2 mb-2",children:"歡迎來到Python學習平台"}),se.jsxs("div",{className:"announcement",children:[se.jsx("h2",{children:"平台公告"}),se.jsx("p",{children:"歡迎使用我們的Python學習平台！以下是一些使用指南："}),se.jsxs("ul",{children:[se.jsx("li",{children:"點擊教材列表瀏覽課程單元並選擇您感興趣的內容。"}),se.jsx("li",{children:"選擇題目列表進行練習來加深您的知識。"}),se.jsxs("li",{children:["請點選",se.jsx("a",{href:"https://forms.gle/muexCsdSkbUHkCLM9",target:"_blank",children:"連結"}),"告訴我們您的使用體驗，謝謝"]}),se.jsx("li",{children:"如果您有任何問題，請聯繫我們。"})]})]})]})};var uu={exports:{}},tO=uu.exports,zb;function nO(){return zb||(zb=1,function(n,e){(function(t,r){n.exports=r()})(tO,function(){function t(k,x){var D=Object.keys(k);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(k);x&&(j=j.filter(function(G){return Object.getOwnPropertyDescriptor(k,G).enumerable})),D.push.apply(D,j)}return D}function r(k){for(var x=1;x<arguments.length;x++){var D=arguments[x]!=null?arguments[x]:{};x%2?t(Object(D),!0).forEach(function(j){u(k,j,D[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(D)):t(Object(D)).forEach(function(j){Object.defineProperty(k,j,Object.getOwnPropertyDescriptor(D,j))})}return k}function s(k){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s(k)}function o(k,x){if(!(k instanceof x))throw new TypeError("Cannot call a class as a function")}function c(k,x){for(var D=0;D<x.length;D++){var j=x[D];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,v(j.key),j)}}function m(k,x,D){return x&&c(k.prototype,x),Object.defineProperty(k,"prototype",{writable:!1}),k}function u(k,x,D){return(x=v(x))in k?Object.defineProperty(k,x,{value:D,enumerable:!0,configurable:!0,writable:!0}):k[x]=D,k}function g(k,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(x&&x.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),x&&h(k,x)}function a(k){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},a(k)}function h(k,x){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,j){return D.__proto__=j,D},h(k,x)}function d(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function f(k){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,j=a(k);if(x){var G=a(this).constructor;D=Reflect.construct(j,arguments,G)}else D=j.apply(this,arguments);return function(X,te){if(te&&(typeof te=="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(X)}(this,D)}}function p(){return p=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(k,x,D){var j=function(X,te){for(;!Object.prototype.hasOwnProperty.call(X,te)&&(X=a(X))!==null;);return X}(k,x);if(j){var G=Object.getOwnPropertyDescriptor(j,x);return G.get?G.get.call(arguments.length<3?k:D):G.value}},p.apply(this,arguments)}function v(k){var x=function(D,j){if(typeof D!="object"||D===null)return D;var G=D[Symbol.toPrimitive];if(G!==void 0){var X=G.call(D,j);if(typeof X!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}(k,"string");return typeof x=="symbol"?x:x+""}var y=function(k){return!(!k||!k.Window)&&k instanceof k.Window},C=void 0,A=void 0;function F(k){C=k;var x=k.document.createTextNode("");x.ownerDocument!==k.document&&typeof k.wrap=="function"&&k.wrap(x)===x&&(k=k.wrap(k)),A=k}function O(k){return y(k)?k:(k.ownerDocument||k).defaultView||A.window}typeof window<"u"&&window&&F(window);var $=function(k){return!!k&&s(k)==="object"},_=function(k){return typeof k=="function"},E={window:function(k){return k===A||y(k)},docFrag:function(k){return $(k)&&k.nodeType===11},object:$,func:_,number:function(k){return typeof k=="number"},bool:function(k){return typeof k=="boolean"},string:function(k){return typeof k=="string"},element:function(k){if(!k||s(k)!=="object")return!1;var x=O(k)||A;return/object|function/.test(typeof Element>"u"?"undefined":s(Element))?k instanceof Element||k instanceof x.Element:k.nodeType===1&&typeof k.nodeName=="string"},plainObject:function(k){return $(k)&&!!k.constructor&&/function Object\b/.test(k.constructor.toString())},array:function(k){return $(k)&&k.length!==void 0&&_(k.splice)}};function I(k){var x=k.interaction;if(x.prepared.name==="drag"){var D=x.prepared.axis;D==="x"?(x.coords.cur.page.y=x.coords.start.page.y,x.coords.cur.client.y=x.coords.start.client.y,x.coords.velocity.client.y=0,x.coords.velocity.page.y=0):D==="y"&&(x.coords.cur.page.x=x.coords.start.page.x,x.coords.cur.client.x=x.coords.start.client.x,x.coords.velocity.client.x=0,x.coords.velocity.page.x=0)}}function M(k){var x=k.iEvent,D=k.interaction;if(D.prepared.name==="drag"){var j=D.prepared.axis;if(j==="x"||j==="y"){var G=j==="x"?"y":"x";x.page[G]=D.coords.start.page[G],x.client[G]=D.coords.start.client[G],x.delta[G]=0}}}var P={id:"actions/drag",install:function(k){var x=k.actions,D=k.Interactable,j=k.defaults;D.prototype.draggable=P.draggable,x.map.drag=P,x.methodDict.drag="draggable",j.actions.drag=P.defaults},listeners:{"interactions:before-action-move":I,"interactions:action-resume":I,"interactions:action-move":M,"auto-start:check":function(k){var x=k.interaction,D=k.interactable,j=k.buttons,G=D.options.drag;if(G&&G.enabled&&(!x.pointerIsDown||!/mouse|pointer/.test(x.pointerType)||j&D.options.drag.mouseButtons))return k.action={name:"drag",axis:G.lockAxis==="start"?G.startAxis:G.lockAxis},!1}},draggable:function(k){return E.object(k)?(this.options.drag.enabled=k.enabled!==!1,this.setPerAction("drag",k),this.setOnEvents("drag",k),/^(xy|x|y|start)$/.test(k.lockAxis)&&(this.options.drag.lockAxis=k.lockAxis),/^(xy|x|y)$/.test(k.startAxis)&&(this.options.drag.startAxis=k.startAxis),this):E.bool(k)?(this.options.drag.enabled=k,this):this.options.drag},beforeMove:I,move:M,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(k){return k.search("drag")===0}},V=P,S={init:function(k){var x=k;S.document=x.document,S.DocumentFragment=x.DocumentFragment||w,S.SVGElement=x.SVGElement||w,S.SVGSVGElement=x.SVGSVGElement||w,S.SVGElementInstance=x.SVGElementInstance||w,S.Element=x.Element||w,S.HTMLElement=x.HTMLElement||S.Element,S.Event=x.Event,S.Touch=x.Touch||w,S.PointerEvent=x.PointerEvent||x.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function w(){}var L=S,N={init:function(k){var x=L.Element,D=k.navigator||{};N.supportsTouch="ontouchstart"in k||E.func(k.DocumentTouch)&&L.document instanceof k.DocumentTouch,N.supportsPointerEvent=D.pointerEnabled!==!1&&!!L.PointerEvent,N.isIOS=/iP(hone|od|ad)/.test(D.platform),N.isIOS7=/iP(hone|od|ad)/.test(D.platform)&&/OS 7[^\d]/.test(D.appVersion),N.isIe9=/MSIE 9/.test(D.userAgent),N.isOperaMobile=D.appName==="Opera"&&N.supportsTouch&&/Presto/.test(D.userAgent),N.prefixedMatchesSelector="matches"in x.prototype?"matches":"webkitMatchesSelector"in x.prototype?"webkitMatchesSelector":"mozMatchesSelector"in x.prototype?"mozMatchesSelector":"oMatchesSelector"in x.prototype?"oMatchesSelector":"msMatchesSelector",N.pEventTypes=N.supportsPointerEvent?L.PointerEvent===k.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,N.wheelEvent=L.document&&"onmousewheel"in L.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},z=N;function q(k,x){if(k.contains)return k.contains(x);for(;x;){if(x===k)return!0;x=x.parentNode}return!1}function K(k,x){for(;E.element(k);){if(Q(k,x))return k;k=J(k)}return null}function J(k){var x=k.parentNode;if(E.docFrag(x)){for(;(x=x.host)&&E.docFrag(x););return x}return x}function Q(k,x){return A!==C&&(x=x.replace(/\/deep\//g," ")),k[z.prefixedMatchesSelector](x)}var U=function(k){return k.parentNode||k.host};function re(k,x){for(var D,j=[],G=k;(D=U(G))&&G!==x&&D!==G.ownerDocument;)j.unshift(G),G=D;return j}function Z(k,x,D){for(;E.element(k);){if(Q(k,x))return!0;if((k=J(k))===D)return Q(k,x)}return!1}function he(k){return k.correspondingUseElement||k}function ue(k){var x=k instanceof L.SVGElement?k.getBoundingClientRect():k.getClientRects()[0];return x&&{left:x.left,right:x.right,top:x.top,bottom:x.bottom,width:x.width||x.right-x.left,height:x.height||x.bottom-x.top}}function ae(k){var x,D=ue(k);if(!z.isIOS7&&D){var j={x:(x=(x=O(k))||A).scrollX||x.document.documentElement.scrollLeft,y:x.scrollY||x.document.documentElement.scrollTop};D.left+=j.x,D.right+=j.x,D.top+=j.y,D.bottom+=j.y}return D}function pe(k){for(var x=[];k;)x.push(k),k=J(k);return x}function Ee(k){return!!E.string(k)&&(L.document.querySelector(k),!0)}function me(k,x){for(var D in x)k[D]=x[D];return k}function Ae(k,x,D){return k==="parent"?J(D):k==="self"?x.getRect(D):K(D,k)}function $e(k,x,D,j){var G=k;return E.string(G)?G=Ae(G,x,D):E.func(G)&&(G=G.apply(void 0,j)),E.element(G)&&(G=ae(G)),G}function Qe(k){return k&&{x:"x"in k?k.x:k.left,y:"y"in k?k.y:k.top}}function ut(k){return!k||"x"in k&&"y"in k||((k=me({},k)).x=k.left||0,k.y=k.top||0,k.width=k.width||(k.right||0)-k.x,k.height=k.height||(k.bottom||0)-k.y),k}function qe(k,x,D){k.left&&(x.left+=D.x),k.right&&(x.right+=D.x),k.top&&(x.top+=D.y),k.bottom&&(x.bottom+=D.y),x.width=x.right-x.left,x.height=x.bottom-x.top}function Ge(k,x,D){var j=D&&k.options[D];return Qe($e(j&&j.origin||k.options.origin,k,x,[k&&x]))||{x:0,y:0}}function yt(k,x){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(ce){return!0},j=arguments.length>3?arguments[3]:void 0;if(j=j||{},E.string(k)&&k.search(" ")!==-1&&(k=Ot(k)),E.array(k))return k.forEach(function(ce){return yt(ce,x,D,j)}),j;if(E.object(k)&&(x=k,k=""),E.func(x)&&D(k))j[k]=j[k]||[],j[k].push(x);else if(E.array(x))for(var G=0,X=x;G<X.length;G++){var te=X[G];yt(k,te,D,j)}else if(E.object(x))for(var ne in x)yt(Ot(ne).map(function(ce){return"".concat(k).concat(ce)}),x[ne],D,j);return j}function Ot(k){return k.trim().split(/ +/)}var Ht=function(k,x){return Math.sqrt(k*k+x*x)},pn=["webkit","moz"];function Nt(k,x){k.__set||(k.__set={});var D=function(G){if(pn.some(function(X){return G.indexOf(X)===0}))return 1;typeof k[G]!="function"&&G!=="__set"&&Object.defineProperty(k,G,{get:function(){return G in k.__set?k.__set[G]:k.__set[G]=x[G]},set:function(X){k.__set[G]=X},configurable:!0})};for(var j in x)D(j);return k}function wn(k,x){k.page=k.page||{},k.page.x=x.page.x,k.page.y=x.page.y,k.client=k.client||{},k.client.x=x.client.x,k.client.y=x.client.y,k.timeStamp=x.timeStamp}function Wn(k){k.page.x=0,k.page.y=0,k.client.x=0,k.client.y=0}function Pn(k){return k instanceof L.Event||k instanceof L.Touch}function bn(k,x,D){return k=k||"page",(D=D||{}).x=x[k+"X"],D.y=x[k+"Y"],D}function ur(k,x){return x=x||{x:0,y:0},z.isOperaMobile&&Pn(k)?(bn("screen",k,x),x.x+=window.scrollX,x.y+=window.scrollY):bn("page",k,x),x}function be(k){return E.number(k.pointerId)?k.pointerId:k.identifier}function ze(k,x,D){var j=x.length>1?ft(x):x[0];ur(j,k.page),function(G,X){X=X||{},z.isOperaMobile&&Pn(G)?bn("screen",G,X):bn("client",G,X)}(j,k.client),k.timeStamp=D}function Ke(k){var x=[];return E.array(k)?(x[0]=k[0],x[1]=k[1]):k.type==="touchend"?k.touches.length===1?(x[0]=k.touches[0],x[1]=k.changedTouches[0]):k.touches.length===0&&(x[0]=k.changedTouches[0],x[1]=k.changedTouches[1]):(x[0]=k.touches[0],x[1]=k.touches[1]),x}function ft(k){for(var x={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},D=0;D<k.length;D++){var j=k[D];for(var G in x)x[G]+=j[G]}for(var X in x)x[X]/=k.length;return x}function lt(k){if(!k.length)return null;var x=Ke(k),D=Math.min(x[0].pageX,x[1].pageX),j=Math.min(x[0].pageY,x[1].pageY),G=Math.max(x[0].pageX,x[1].pageX),X=Math.max(x[0].pageY,x[1].pageY);return{x:D,y:j,left:D,top:j,right:G,bottom:X,width:G-D,height:X-j}}function kt(k,x){var D=x+"X",j=x+"Y",G=Ke(k),X=G[0][D]-G[1][D],te=G[0][j]-G[1][j];return Ht(X,te)}function Lt(k,x){var D=x+"X",j=x+"Y",G=Ke(k),X=G[1][D]-G[0][D],te=G[1][j]-G[0][j];return 180*Math.atan2(te,X)/Math.PI}function Ft(k){return E.string(k.pointerType)?k.pointerType:E.number(k.pointerType)?[void 0,void 0,"touch","pen","mouse"][k.pointerType]:/touch/.test(k.type||"")||k instanceof L.Touch?"touch":"mouse"}function $t(k){var x=E.func(k.composedPath)?k.composedPath():k.path;return[he(x?x[0]:k.target),he(k.currentTarget)]}var _t=function(){function k(x){o(this,k),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=x}return m(k,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),k}();Object.defineProperty(_t.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var ln=function(k,x){for(var D=0;D<x.length;D++){var j=x[D];k.push(j)}return k},Te=function(k){return ln([],k)},De=function(k,x){for(var D=0;D<k.length;D++)if(x(k[D],D,k))return D;return-1},Ze=function(k,x){return k[De(k,x)]},Rt=function(k){g(D,k);var x=f(D);function D(j,G,X){var te;o(this,D),(te=x.call(this,G._interaction)).dropzone=void 0,te.dragEvent=void 0,te.relatedTarget=void 0,te.draggable=void 0,te.propagationStopped=!1,te.immediatePropagationStopped=!1;var ne=X==="dragleave"?j.prev:j.cur,ce=ne.element,ge=ne.dropzone;return te.type=X,te.target=ce,te.currentTarget=ce,te.dropzone=ge,te.dragEvent=G,te.relatedTarget=G.target,te.draggable=G.interactable,te.timeStamp=G.timeStamp,te}return m(D,[{key:"reject",value:function(){var j=this,G=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&G.cur.dropzone===this.dropzone&&G.cur.element===this.target)if(G.prev.dropzone=this.dropzone,G.prev.element=this.target,G.rejected=!0,G.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var X=G.activeDrops,te=De(X,function(ce){var ge=ce.dropzone,de=ce.element;return ge===j.dropzone&&de===j.target});G.activeDrops.splice(te,1);var ne=new D(G,this.dragEvent,"dropdeactivate");ne.dropzone=this.dropzone,ne.target=this.target,this.dropzone.fire(ne)}else this.dropzone.fire(new D(G,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),D}(_t);function An(k,x){for(var D=0,j=k.slice();D<j.length;D++){var G=j[D],X=G.dropzone,te=G.element;x.dropzone=X,x.target=te,X.fire(x),x.propagationStopped=x.immediatePropagationStopped=!1}}function On(k,x){for(var D=function(X,te){for(var ne=[],ce=0,ge=X.interactables.list;ce<ge.length;ce++){var de=ge[ce];if(de.options.drop.enabled){var _e=de.options.drop.accept;if(!(E.element(_e)&&_e!==te||E.string(_e)&&!Q(te,_e)||E.func(_e)&&!_e({dropzone:de,draggableElement:te})))for(var Re=0,Be=de.getAllElements();Re<Be.length;Re++){var Ne=Be[Re];Ne!==te&&ne.push({dropzone:de,element:Ne,rect:de.getRect(Ne)})}}}return ne}(k,x),j=0;j<D.length;j++){var G=D[j];G.rect=G.dropzone.getRect(G.element)}return D}function $r(k,x,D){for(var j=k.dropState,G=k.interactable,X=k.element,te=[],ne=0,ce=j.activeDrops;ne<ce.length;ne++){var ge=ce[ne],de=ge.dropzone,_e=ge.element,Re=ge.rect,Be=de.dropCheck(x,D,G,X,_e,Re);te.push(Be?_e:null)}var Ne=function(Ue){for(var et,Xe,ct,Tt=[],wt=0;wt<Ue.length;wt++){var ht=Ue[wt],xt=Ue[et];if(ht&&wt!==et)if(xt){var gr=U(ht),dn=U(xt);if(gr!==ht.ownerDocument)if(dn!==ht.ownerDocument)if(gr!==dn){Tt=Tt.length?Tt:re(xt);var Vr=void 0;if(xt instanceof L.HTMLElement&&ht instanceof L.SVGElement&&!(ht instanceof L.SVGSVGElement)){if(ht===dn)continue;Vr=ht.ownerSVGElement}else Vr=ht;for(var ii=re(Vr,xt.ownerDocument),fo=0;ii[fo]&&ii[fo]===Tt[fo];)fo++;var Cl=[ii[fo-1],ii[fo],Tt[fo]];if(Cl[0])for(var qi=Cl[0].lastChild;qi;){if(qi===Cl[1]){et=wt,Tt=ii;break}if(qi===Cl[2])break;qi=qi.previousSibling}}else ct=xt,(parseInt(O(Xe=ht).getComputedStyle(Xe).zIndex,10)||0)>=(parseInt(O(ct).getComputedStyle(ct).zIndex,10)||0)&&(et=wt);else et=wt}else et=wt}return et}(te);return j.activeDrops[Ne]||null}function Gn(k,x,D){var j=k.dropState,G={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return D.type==="dragstart"&&(G.activate=new Rt(j,D,"dropactivate"),G.activate.target=null,G.activate.dropzone=null),D.type==="dragend"&&(G.deactivate=new Rt(j,D,"dropdeactivate"),G.deactivate.target=null,G.deactivate.dropzone=null),j.rejected||(j.cur.element!==j.prev.element&&(j.prev.dropzone&&(G.leave=new Rt(j,D,"dragleave"),D.dragLeave=G.leave.target=j.prev.element,D.prevDropzone=G.leave.dropzone=j.prev.dropzone),j.cur.dropzone&&(G.enter=new Rt(j,D,"dragenter"),D.dragEnter=j.cur.element,D.dropzone=j.cur.dropzone)),D.type==="dragend"&&j.cur.dropzone&&(G.drop=new Rt(j,D,"drop"),D.dropzone=j.cur.dropzone,D.relatedTarget=j.cur.element),D.type==="dragmove"&&j.cur.dropzone&&(G.move=new Rt(j,D,"dropmove"),D.dropzone=j.cur.dropzone)),G}function Ai(k,x){var D=k.dropState,j=D.activeDrops,G=D.cur,X=D.prev;x.leave&&X.dropzone.fire(x.leave),x.enter&&G.dropzone.fire(x.enter),x.move&&G.dropzone.fire(x.move),x.drop&&G.dropzone.fire(x.drop),x.deactivate&&An(j,x.deactivate),D.prev.dropzone=G.dropzone,D.prev.element=G.element}function ci(k,x){var D=k.interaction,j=k.iEvent,G=k.event;if(j.type==="dragmove"||j.type==="dragend"){var X=D.dropState;x.dynamicDrop&&(X.activeDrops=On(x,D.element));var te=j,ne=$r(D,te,G);X.rejected=X.rejected&&!!ne&&ne.dropzone===X.cur.dropzone&&ne.element===X.cur.element,X.cur.dropzone=ne&&ne.dropzone,X.cur.element=ne&&ne.element,X.events=Gn(D,0,te)}}var Bi={id:"actions/drop",install:function(k){var x=k.actions,D=k.interactStatic,j=k.Interactable,G=k.defaults;k.usePlugin(V),j.prototype.dropzone=function(X){return function(te,ne){if(E.object(ne)){if(te.options.drop.enabled=ne.enabled!==!1,ne.listeners){var ce=yt(ne.listeners),ge=Object.keys(ce).reduce(function(_e,Re){return _e[/^(enter|leave)/.test(Re)?"drag".concat(Re):/^(activate|deactivate|move)/.test(Re)?"drop".concat(Re):Re]=ce[Re],_e},{}),de=te.options.drop.listeners;de&&te.off(de),te.on(ge),te.options.drop.listeners=ge}return E.func(ne.ondrop)&&te.on("drop",ne.ondrop),E.func(ne.ondropactivate)&&te.on("dropactivate",ne.ondropactivate),E.func(ne.ondropdeactivate)&&te.on("dropdeactivate",ne.ondropdeactivate),E.func(ne.ondragenter)&&te.on("dragenter",ne.ondragenter),E.func(ne.ondragleave)&&te.on("dragleave",ne.ondragleave),E.func(ne.ondropmove)&&te.on("dropmove",ne.ondropmove),/^(pointer|center)$/.test(ne.overlap)?te.options.drop.overlap=ne.overlap:E.number(ne.overlap)&&(te.options.drop.overlap=Math.max(Math.min(1,ne.overlap),0)),"accept"in ne&&(te.options.drop.accept=ne.accept),"checker"in ne&&(te.options.drop.checker=ne.checker),te}return E.bool(ne)?(te.options.drop.enabled=ne,te):te.options.drop}(this,X)},j.prototype.dropCheck=function(X,te,ne,ce,ge,de){return function(_e,Re,Be,Ne,Ue,et,Xe){var ct=!1;if(!(Xe=Xe||_e.getRect(et)))return!!_e.options.drop.checker&&_e.options.drop.checker(Re,Be,ct,_e,et,Ne,Ue);var Tt=_e.options.drop.overlap;if(Tt==="pointer"){var wt=Ge(Ne,Ue,"drag"),ht=ur(Re);ht.x+=wt.x,ht.y+=wt.y;var xt=ht.x>Xe.left&&ht.x<Xe.right,gr=ht.y>Xe.top&&ht.y<Xe.bottom;ct=xt&&gr}var dn=Ne.getRect(Ue);if(dn&&Tt==="center"){var Vr=dn.left+dn.width/2,ii=dn.top+dn.height/2;ct=Vr>=Xe.left&&Vr<=Xe.right&&ii>=Xe.top&&ii<=Xe.bottom}return dn&&E.number(Tt)&&(ct=Math.max(0,Math.min(Xe.right,dn.right)-Math.max(Xe.left,dn.left))*Math.max(0,Math.min(Xe.bottom,dn.bottom)-Math.max(Xe.top,dn.top))/(dn.width*dn.height)>=Tt),_e.options.drop.checker&&(ct=_e.options.drop.checker(Re,Be,ct,_e,et,Ne,Ue)),ct}(this,X,te,ne,ce,ge,de)},D.dynamicDrop=function(X){return E.bool(X)?(k.dynamicDrop=X,D):k.dynamicDrop},me(x.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),x.methodDict.drop="dropzone",k.dynamicDrop=!1,G.actions.drop=Bi.defaults},listeners:{"interactions:before-action-start":function(k){var x=k.interaction;x.prepared.name==="drag"&&(x.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(k,x){var D=k.interaction,j=(k.event,k.iEvent);if(D.prepared.name==="drag"){var G=D.dropState;G.activeDrops=[],G.events={},G.activeDrops=On(x,D.element),G.events=Gn(D,0,j),G.events.activate&&(An(G.activeDrops,G.events.activate),x.fire("actions/drop:start",{interaction:D,dragEvent:j}))}},"interactions:action-move":ci,"interactions:after-action-move":function(k,x){var D=k.interaction,j=k.iEvent;if(D.prepared.name==="drag"){var G=D.dropState;Ai(D,G.events),x.fire("actions/drop:move",{interaction:D,dragEvent:j}),G.events={}}},"interactions:action-end":function(k,x){if(k.interaction.prepared.name==="drag"){var D=k.interaction,j=k.iEvent;ci(k,x),Ai(D,D.dropState.events),x.fire("actions/drop:end",{interaction:D,dragEvent:j})}},"interactions:stop":function(k){var x=k.interaction;if(x.prepared.name==="drag"){var D=x.dropState;D&&(D.activeDrops=null,D.events=null,D.cur.dropzone=null,D.cur.element=null,D.prev.dropzone=null,D.prev.element=null,D.rejected=!1)}}},getActiveDrops:On,getDrop:$r,getDropEvents:Gn,fireDropEvents:Ai,filterEventType:function(k){return k.search("drag")===0||k.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Er=Bi;function so(k){var x=k.interaction,D=k.iEvent,j=k.phase;if(x.prepared.name==="gesture"){var G=x.pointers.map(function(ge){return ge.pointer}),X=j==="start",te=j==="end",ne=x.interactable.options.deltaSource;if(D.touches=[G[0],G[1]],X)D.distance=kt(G,ne),D.box=lt(G),D.scale=1,D.ds=0,D.angle=Lt(G,ne),D.da=0,x.gesture.startDistance=D.distance,x.gesture.startAngle=D.angle;else if(te||x.pointers.length<2){var ce=x.prevEvent;D.distance=ce.distance,D.box=ce.box,D.scale=ce.scale,D.ds=0,D.angle=ce.angle,D.da=0}else D.distance=kt(G,ne),D.box=lt(G),D.scale=D.distance/x.gesture.startDistance,D.angle=Lt(G,ne),D.ds=D.scale-x.gesture.scale,D.da=D.angle-x.gesture.angle;x.gesture.distance=D.distance,x.gesture.angle=D.angle,E.number(D.scale)&&D.scale!==1/0&&!isNaN(D.scale)&&(x.gesture.scale=D.scale)}}var hn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(k){var x=k.actions,D=k.Interactable,j=k.defaults;D.prototype.gesturable=function(G){return E.object(G)?(this.options.gesture.enabled=G.enabled!==!1,this.setPerAction("gesture",G),this.setOnEvents("gesture",G),this):E.bool(G)?(this.options.gesture.enabled=G,this):this.options.gesture},x.map.gesture=hn,x.methodDict.gesture="gesturable",j.actions.gesture=hn.defaults},listeners:{"interactions:action-start":so,"interactions:action-move":so,"interactions:action-end":so,"interactions:new":function(k){k.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(k){if(!(k.interaction.pointers.length<2)){var x=k.interactable.options.gesture;if(x&&x.enabled)return k.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(k){return k.search("gesture")===0}},Eo=hn;function Xr(k,x,D,j,G,X,te){if(!x)return!1;if(x===!0){var ne=E.number(X.width)?X.width:X.right-X.left,ce=E.number(X.height)?X.height:X.bottom-X.top;if(te=Math.min(te,Math.abs((k==="left"||k==="right"?ne:ce)/2)),ne<0&&(k==="left"?k="right":k==="right"&&(k="left")),ce<0&&(k==="top"?k="bottom":k==="bottom"&&(k="top")),k==="left"){var ge=ne>=0?X.left:X.right;return D.x<ge+te}if(k==="top"){var de=ce>=0?X.top:X.bottom;return D.y<de+te}if(k==="right")return D.x>(ne>=0?X.right:X.left)-te;if(k==="bottom")return D.y>(ce>=0?X.bottom:X.top)-te}return!!E.element(j)&&(E.element(x)?x===j:Z(j,x,G))}function Vi(k){var x=k.iEvent,D=k.interaction;if(D.prepared.name==="resize"&&D.resizeAxes){var j=x;D.interactable.options.resize.square?(D.resizeAxes==="y"?j.delta.x=j.delta.y:j.delta.y=j.delta.x,j.axes="xy"):(j.axes=D.resizeAxes,D.resizeAxes==="x"?j.delta.y=0:D.resizeAxes==="y"&&(j.delta.x=0))}}var Kn,hr,sn={id:"actions/resize",before:["actions/drag"],install:function(k){var x=k.actions,D=k.browser,j=k.Interactable,G=k.defaults;sn.cursors=function(X){return X.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(D),sn.defaultMargin=D.supportsTouch||D.supportsPointerEvent?20:10,j.prototype.resizable=function(X){return function(te,ne,ce){return E.object(ne)?(te.options.resize.enabled=ne.enabled!==!1,te.setPerAction("resize",ne),te.setOnEvents("resize",ne),E.string(ne.axis)&&/^x$|^y$|^xy$/.test(ne.axis)?te.options.resize.axis=ne.axis:ne.axis===null&&(te.options.resize.axis=ce.defaults.actions.resize.axis),E.bool(ne.preserveAspectRatio)?te.options.resize.preserveAspectRatio=ne.preserveAspectRatio:E.bool(ne.square)&&(te.options.resize.square=ne.square),te):E.bool(ne)?(te.options.resize.enabled=ne,te):te.options.resize}(this,X,k)},x.map.resize=sn,x.methodDict.resize="resizable",G.actions.resize=sn.defaults},listeners:{"interactions:new":function(k){k.interaction.resizeAxes="xy"},"interactions:action-start":function(k){(function(x){var D=x.iEvent,j=x.interaction;if(j.prepared.name==="resize"&&j.prepared.edges){var G=D,X=j.rect;j._rects={start:me({},X),corrected:me({},X),previous:me({},X),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},G.edges=j.prepared.edges,G.rect=j._rects.corrected,G.deltaRect=j._rects.delta}})(k),Vi(k)},"interactions:action-move":function(k){(function(x){var D=x.iEvent,j=x.interaction;if(j.prepared.name==="resize"&&j.prepared.edges){var G=D,X=j.interactable.options.resize.invert,te=X==="reposition"||X==="negate",ne=j.rect,ce=j._rects,ge=ce.start,de=ce.corrected,_e=ce.delta,Re=ce.previous;if(me(Re,de),te){if(me(de,ne),X==="reposition"){if(de.top>de.bottom){var Be=de.top;de.top=de.bottom,de.bottom=Be}if(de.left>de.right){var Ne=de.left;de.left=de.right,de.right=Ne}}}else de.top=Math.min(ne.top,ge.bottom),de.bottom=Math.max(ne.bottom,ge.top),de.left=Math.min(ne.left,ge.right),de.right=Math.max(ne.right,ge.left);for(var Ue in de.width=de.right-de.left,de.height=de.bottom-de.top,de)_e[Ue]=de[Ue]-Re[Ue];G.edges=j.prepared.edges,G.rect=de,G.deltaRect=_e}})(k),Vi(k)},"interactions:action-end":function(k){var x=k.iEvent,D=k.interaction;if(D.prepared.name==="resize"&&D.prepared.edges){var j=x;j.edges=D.prepared.edges,j.rect=D._rects.corrected,j.deltaRect=D._rects.delta}},"auto-start:check":function(k){var x=k.interaction,D=k.interactable,j=k.element,G=k.rect,X=k.buttons;if(G){var te=me({},x.coords.cur.page),ne=D.options.resize;if(ne&&ne.enabled&&(!x.pointerIsDown||!/mouse|pointer/.test(x.pointerType)||X&ne.mouseButtons)){if(E.object(ne.edges)){var ce={left:!1,right:!1,top:!1,bottom:!1};for(var ge in ce)ce[ge]=Xr(ge,ne.edges[ge],te,x._latestPointer.eventTarget,j,G,ne.margin||sn.defaultMargin);ce.left=ce.left&&!ce.right,ce.top=ce.top&&!ce.bottom,(ce.left||ce.right||ce.top||ce.bottom)&&(k.action={name:"resize",edges:ce})}else{var de=ne.axis!=="y"&&te.x>G.right-sn.defaultMargin,_e=ne.axis!=="x"&&te.y>G.bottom-sn.defaultMargin;(de||_e)&&(k.action={name:"resize",axes:(de?"x":"")+(_e?"y":"")})}return!k.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(k){var x=k.edges,D=k.axis,j=k.name,G=sn.cursors,X=null;if(D)X=G[j+D];else if(x){for(var te="",ne=0,ce=["top","bottom","left","right"];ne<ce.length;ne++){var ge=ce[ne];x[ge]&&(te+=ge)}X=G[te]}return X},filterEventType:function(k){return k.search("resize")===0},defaultMargin:null},Zo=sn,Ma={id:"actions",install:function(k){k.usePlugin(Eo),k.usePlugin(Zo),k.usePlugin(V),k.usePlugin(Er)}},ao=0,Zr={request:function(k){return Kn(k)},cancel:function(k){return hr(k)},init:function(k){if(Kn=k.requestAnimationFrame,hr=k.cancelAnimationFrame,!Kn)for(var x=["ms","moz","webkit","o"],D=0;D<x.length;D++){var j=x[D];Kn=k["".concat(j,"RequestAnimationFrame")],hr=k["".concat(j,"CancelAnimationFrame")]||k["".concat(j,"CancelRequestAnimationFrame")]}Kn=Kn&&Kn.bind(k),hr=hr&&hr.bind(k),Kn||(Kn=function(G){var X=Date.now(),te=Math.max(0,16-(X-ao)),ne=k.setTimeout(function(){G(X+te)},te);return ao=X+te,ne},hr=function(G){return clearTimeout(G)})}},st={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(k){st.isScrolling=!0,Zr.cancel(st.i),k.autoScroll=st,st.interaction=k,st.prevTime=st.now(),st.i=Zr.request(st.scroll)},stop:function(){st.isScrolling=!1,st.interaction&&(st.interaction.autoScroll=null),Zr.cancel(st.i)},scroll:function(){var k=st.interaction,x=k.interactable,D=k.element,j=k.prepared.name,G=x.options[j].autoScroll,X=qn(G.container,x,D),te=st.now(),ne=(te-st.prevTime)/1e3,ce=G.speed*ne;if(ce>=1){var ge={x:st.x*ce,y:st.y*ce};if(ge.x||ge.y){var de=Pr(X);E.window(X)?X.scrollBy(ge.x,ge.y):X&&(X.scrollLeft+=ge.x,X.scrollTop+=ge.y);var _e=Pr(X),Re={x:_e.x-de.x,y:_e.y-de.y};(Re.x||Re.y)&&x.fire({type:"autoscroll",target:D,interactable:x,delta:Re,interaction:k,container:X})}st.prevTime=te}st.isScrolling&&(Zr.cancel(st.i),st.i=Zr.request(st.scroll))},check:function(k,x){var D;return(D=k.options[x].autoScroll)==null?void 0:D.enabled},onInteractionMove:function(k){var x=k.interaction,D=k.pointer;if(x.interacting()&&st.check(x.interactable,x.prepared.name))if(x.simulation)st.x=st.y=0;else{var j,G,X,te,ne=x.interactable,ce=x.element,ge=x.prepared.name,de=ne.options[ge].autoScroll,_e=qn(de.container,ne,ce);if(E.window(_e))te=D.clientX<st.margin,j=D.clientY<st.margin,G=D.clientX>_e.innerWidth-st.margin,X=D.clientY>_e.innerHeight-st.margin;else{var Re=ue(_e);te=D.clientX<Re.left+st.margin,j=D.clientY<Re.top+st.margin,G=D.clientX>Re.right-st.margin,X=D.clientY>Re.bottom-st.margin}st.x=G?1:te?-1:0,st.y=X?1:j?-1:0,st.isScrolling||(st.margin=de.margin,st.speed=de.speed,st.start(x))}}};function qn(k,x,D){return(E.string(k)?Ae(k,x,D):k)||O(D)}function Pr(k){return E.window(k)&&(k=window.document.body),{x:k.scrollLeft,y:k.scrollTop}}var Rs={id:"auto-scroll",install:function(k){var x=k.defaults,D=k.actions;k.autoScroll=st,st.now=function(){return k.now()},D.phaselessTypes.autoscroll=!0,x.perAction.autoScroll=st.defaults},listeners:{"interactions:new":function(k){k.interaction.autoScroll=null},"interactions:destroy":function(k){k.interaction.autoScroll=null,st.stop(),st.interaction&&(st.interaction=null)},"interactions:stop":st.stop,"interactions:action-move":function(k){return st.onInteractionMove(k)}}},Jo=Rs;function ui(k,x){var D=!1;return function(){return D||(A.console.warn(x),D=!0),k.apply(this,arguments)}}function zi(k,x){return k.name=x.name,k.axis=x.axis,k.edges=x.edges,k}function Jr(k){return E.bool(k)?(this.options.styleCursor=k,this):k===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Ms(k){return E.func(k)?(this.options.actionChecker=k,this):k===null?(delete this.options.actionChecker,this):this.options.actionChecker}var La={id:"auto-start/interactableMethods",install:function(k){var x=k.Interactable;x.prototype.getAction=function(D,j,G,X){var te=function(ne,ce,ge,de,_e){var Re=ne.getRect(de),Be=ce.buttons||{0:1,1:4,3:8,4:16}[ce.button],Ne={action:null,interactable:ne,interaction:ge,element:de,rect:Re,buttons:Be};return _e.fire("auto-start:check",Ne),Ne.action}(this,j,G,X,k);return this.options.actionChecker?this.options.actionChecker(D,j,te,this,X,G):te},x.prototype.ignoreFrom=ui(function(D){return this._backCompatOption("ignoreFrom",D)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),x.prototype.allowFrom=ui(function(D){return this._backCompatOption("allowFrom",D)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),x.prototype.actionChecker=Ms,x.prototype.styleCursor=Jr}};function en(k,x,D,j,G){return x.testIgnoreAllow(x.options[k.name],D,j)&&x.options[k.name].enabled&&er(x,D,k,G)?k:null}function Ls(k,x,D,j,G,X,te){for(var ne=0,ce=j.length;ne<ce;ne++){var ge=j[ne],de=G[ne],_e=ge.getAction(x,D,k,de);if(_e){var Re=en(_e,ge,de,X,te);if(Re)return{action:Re,interactable:ge,element:de}}}return{action:null,interactable:null,element:null}}function ji(k,x,D,j,G){var X=[],te=[],ne=j;function ce(de){X.push(de),te.push(ne)}for(;E.element(ne);){X=[],te=[],G.interactables.forEachMatch(ne,ce);var ge=Ls(k,x,D,X,te,j,G);if(ge.action&&!ge.interactable.options[ge.action.name].manualStart)return ge;ne=J(ne)}return{action:null,interactable:null,element:null}}function Or(k,x,D){var j=x.action,G=x.interactable,X=x.element;j=j||{name:null},k.interactable=G,k.element=X,zi(k.prepared,j),k.rect=G&&j.name?G.getRect(X):null,Ui(k,D),D.fire("autoStart:prepared",{interaction:k})}function er(k,x,D,j){var G=k.options,X=G[D.name].max,te=G[D.name].maxPerElement,ne=j.autoStart.maxInteractions,ce=0,ge=0,de=0;if(!(X&&te&&ne))return!1;for(var _e=0,Re=j.interactions.list;_e<Re.length;_e++){var Be=Re[_e],Ne=Be.prepared.name;if(Be.interacting()&&(++ce>=ne||Be.interactable===k&&((ge+=Ne===D.name?1:0)>=X||Be.element===x&&(de++,Ne===D.name&&de>=te))))return!1}return ne>0}function So(k,x){return E.number(k)?(x.autoStart.maxInteractions=k,this):x.autoStart.maxInteractions}function Sr(k,x,D){var j=D.autoStart.cursorElement;j&&j!==k&&(j.style.cursor=""),k.ownerDocument.documentElement.style.cursor=x,k.style.cursor=x,D.autoStart.cursorElement=x?k:null}function Ui(k,x){var D=k.interactable,j=k.element,G=k.prepared;if(k.pointerType==="mouse"&&D&&D.options.styleCursor){var X="";if(G.name){var te=D.options[G.name].cursorChecker;X=E.func(te)?te(G,D,j,k._interacting):x.actions.map[G.name].getCursor(G)}Sr(k.element,X||"",x)}else x.autoStart.cursorElement&&Sr(x.autoStart.cursorElement,"",x)}var Cr={id:"auto-start/base",before:["actions"],install:function(k){var x=k.interactStatic,D=k.defaults;k.usePlugin(La),D.base.actionChecker=null,D.base.styleCursor=!0,me(D.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),x.maxInteractions=function(j){return So(j,k)},k.autoStart={maxInteractions:1/0,withinInteractionLimit:er,cursorElement:null}},listeners:{"interactions:down":function(k,x){var D=k.interaction,j=k.pointer,G=k.event,X=k.eventTarget;D.interacting()||Or(D,ji(D,j,G,X,x),x)},"interactions:move":function(k,x){(function(D,j){var G=D.interaction,X=D.pointer,te=D.event,ne=D.eventTarget;G.pointerType!=="mouse"||G.pointerIsDown||G.interacting()||Or(G,ji(G,X,te,ne,j),j)})(k,x),function(D,j){var G=D.interaction;if(G.pointerIsDown&&!G.interacting()&&G.pointerWasMoved&&G.prepared.name){j.fire("autoStart:before-start",D);var X=G.interactable,te=G.prepared.name;te&&X&&(X.options[te].manualStart||!er(X,G.element,G.prepared,j)?G.stop():(G.start(G.prepared,X,G.element),Ui(G,j)))}}(k,x)},"interactions:stop":function(k,x){var D=k.interaction,j=D.interactable;j&&j.options.styleCursor&&Sr(D.element,"",x)}},maxInteractions:So,withinInteractionLimit:er,validateAction:en},Co=Cr,tr={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(k,x){var D=k.interaction,j=k.eventTarget,G=k.dx,X=k.dy;if(D.prepared.name==="drag"){var te=Math.abs(G),ne=Math.abs(X),ce=D.interactable.options.drag,ge=ce.startAxis,de=te>ne?"x":te<ne?"y":"xy";if(D.prepared.axis=ce.lockAxis==="start"?de[0]:ce.lockAxis,de!=="xy"&&ge!=="xy"&&ge!==de){D.prepared.name=null;for(var _e=j,Re=function(Ne){if(Ne!==D.interactable){var Ue=D.interactable.options.drag;if(!Ue.manualStart&&Ne.testIgnoreAllow(Ue,_e,j)){var et=Ne.getAction(D.downPointer,D.downEvent,D,_e);if(et&&et.name==="drag"&&function(Xe,ct){if(!ct)return!1;var Tt=ct.options.drag.startAxis;return Xe==="xy"||Tt==="xy"||Tt===Xe}(de,Ne)&&Co.validateAction(et,Ne,_e,j,x))return Ne}}};E.element(_e);){var Be=x.interactables.forEachMatch(_e,Re);if(Be){D.prepared.name="drag",D.interactable=Be,D.element=_e;break}_e=J(_e)}}}}}};function lo(k){var x=k.prepared&&k.prepared.name;if(!x)return null;var D=k.interactable.options;return D[x].hold||D[x].delay}var $s={id:"auto-start/hold",install:function(k){var x=k.defaults;k.usePlugin(Co),x.perAction.hold=0,x.perAction.delay=0},listeners:{"interactions:new":function(k){k.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(k){var x=k.interaction,D=lo(x);D>0&&(x.autoStartHoldTimer=setTimeout(function(){x.start(x.prepared,x.interactable,x.element)},D))},"interactions:move":function(k){var x=k.interaction,D=k.duplicate;x.autoStartHoldTimer&&x.pointerWasMoved&&!D&&(clearTimeout(x.autoStartHoldTimer),x.autoStartHoldTimer=null)},"autoStart:before-start":function(k){var x=k.interaction;lo(x)>0&&(x.prepared.name=null)}},getHoldDuration:lo},co=$s,To={id:"auto-start",install:function(k){k.usePlugin(Co),k.usePlugin(co),k.usePlugin(tr)}},hi=function(k){return/^(always|never|auto)$/.test(k)?(this.options.preventDefault=k,this):E.bool(k)?(this.options.preventDefault=k?"always":"never",this):this.options.preventDefault};function ki(k){var x=k.interaction,D=k.event;x.interactable&&x.interactable.checkAndPreventDefault(D)}var Ii={id:"core/interactablePreventDefault",install:function(k){var x=k.Interactable;x.prototype.preventDefault=hi,x.prototype.checkAndPreventDefault=function(D){return function(j,G,X){var te=j.options.preventDefault;if(te!=="never")if(te!=="always"){if(G.events.supportsPassive&&/^touch(start|move)$/.test(X.type)){var ne=O(X.target).document,ce=G.getDocOptions(ne);if(!ce||!ce.events||ce.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(X.type)||E.element(X.target)&&Q(X.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||X.preventDefault()}else X.preventDefault()}(this,k,D)},k.interactions.docEvents.push({type:"dragstart",listener:function(D){for(var j=0,G=k.interactions.list;j<G.length;j++){var X=G[j];if(X.element&&(X.element===D.target||q(X.element,D.target)))return void X.interactable.checkAndPreventDefault(D)}}})},listeners:["down","move","up","cancel"].reduce(function(k,x){return k["interactions:".concat(x)]=ki,k},{})};function xo(k,x){if(x.phaselessTypes[k])return!0;for(var D in x.map)if(k.indexOf(D)===0&&k.substr(D.length)in x.phases)return!0;return!1}function dr(k){var x={};for(var D in k){var j=k[D];E.plainObject(j)?x[D]=dr(j):E.array(j)?x[D]=Te(j):x[D]=j}return x}var nr=function(){function k(x){o(this,k),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=x,this.result=di(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return m(k,[{key:"start",value:function(x,D){var j,G,X=x.phase,te=this.interaction,ne=function(ge){var de=ge.interactable.options[ge.prepared.name],_e=de.modifiers;return _e&&_e.length?_e:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(Re){var Be=de[Re];return Be&&Be.enabled&&{options:Be,methods:Be._methods}}).filter(function(Re){return!!Re})}(te);this.prepareStates(ne),this.startEdges=me({},te.edges),this.edges=me({},this.startEdges),this.startOffset=(j=te.rect,G=D,j?{left:G.x-j.left,top:G.y-j.top,right:j.right-G.x,bottom:j.bottom-G.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var ce=this.fillArg({phase:X,pageCoords:D,preEnd:!1});return this.result=di(),this.startAll(ce),this.result=this.setAll(ce)}},{key:"fillArg",value:function(x){var D=this.interaction;return x.interaction=D,x.interactable=D.interactable,x.element=D.element,x.rect||(x.rect=D.rect),x.edges||(x.edges=this.startEdges),x.startOffset=this.startOffset,x}},{key:"startAll",value:function(x){for(var D=0,j=this.states;D<j.length;D++){var G=j[D];G.methods.start&&(x.state=G,G.methods.start(x))}}},{key:"setAll",value:function(x){var D=x.phase,j=x.preEnd,G=x.skipModifiers,X=x.rect,te=x.edges;x.coords=me({},x.pageCoords),x.rect=me({},X),x.edges=me({},te);for(var ne=G?this.states.slice(G):this.states,ce=di(x.coords,x.rect),ge=0;ge<ne.length;ge++){var de,_e=ne[ge],Re=_e.options,Be=me({},x.coords),Ne=null;(de=_e.methods)!=null&&de.set&&this.shouldDo(Re,j,D)&&(x.state=_e,Ne=_e.methods.set(x),qe(x.edges,x.rect,{x:x.coords.x-Be.x,y:x.coords.y-Be.y})),ce.eventProps.push(Ne)}me(this.edges,x.edges),ce.delta.x=x.coords.x-x.pageCoords.x,ce.delta.y=x.coords.y-x.pageCoords.y,ce.rectDelta.left=x.rect.left-X.left,ce.rectDelta.right=x.rect.right-X.right,ce.rectDelta.top=x.rect.top-X.top,ce.rectDelta.bottom=x.rect.bottom-X.bottom;var Ue=this.result.coords,et=this.result.rect;if(Ue&&et){var Xe=ce.rect.left!==et.left||ce.rect.right!==et.right||ce.rect.top!==et.top||ce.rect.bottom!==et.bottom;ce.changed=Xe||Ue.x!==ce.coords.x||Ue.y!==ce.coords.y}return ce}},{key:"applyToInteraction",value:function(x){var D=this.interaction,j=x.phase,G=D.coords.cur,X=D.coords.start,te=this.result,ne=this.startDelta,ce=te.delta;j==="start"&&me(this.startDelta,te.delta);for(var ge=0,de=[[X,ne],[G,ce]];ge<de.length;ge++){var _e=de[ge],Re=_e[0],Be=_e[1];Re.page.x+=Be.x,Re.page.y+=Be.y,Re.client.x+=Be.x,Re.client.y+=Be.y}var Ne=this.result.rectDelta,Ue=x.rect||D.rect;Ue.left+=Ne.left,Ue.right+=Ne.right,Ue.top+=Ne.top,Ue.bottom+=Ne.bottom,Ue.width=Ue.right-Ue.left,Ue.height=Ue.bottom-Ue.top}},{key:"setAndApply",value:function(x){var D=this.interaction,j=x.phase,G=x.preEnd,X=x.skipModifiers,te=this.setAll(this.fillArg({preEnd:G,phase:j,pageCoords:x.modifiedCoords||D.coords.cur.page}));if(this.result=te,!te.changed&&(!X||X<this.states.length)&&D.interacting())return!1;if(x.modifiedCoords){var ne=D.coords.cur.page,ce={x:x.modifiedCoords.x-ne.x,y:x.modifiedCoords.y-ne.y};te.coords.x+=ce.x,te.coords.y+=ce.y,te.delta.x+=ce.x,te.delta.y+=ce.y}this.applyToInteraction(x)}},{key:"beforeEnd",value:function(x){var D=x.interaction,j=x.event,G=this.states;if(G&&G.length){for(var X=!1,te=0;te<G.length;te++){var ne=G[te];x.state=ne;var ce=ne.options,ge=ne.methods,de=ge.beforeEnd&&ge.beforeEnd(x);if(de)return this.endResult=de,!1;X=X||!X&&this.shouldDo(ce,!0,x.phase,!0)}X&&D.move({event:j,preEnd:!0})}}},{key:"stop",value:function(x){var D=x.interaction;if(this.states&&this.states.length){var j=me({states:this.states,interactable:D.interactable,element:D.element,rect:null},x);this.fillArg(j);for(var G=0,X=this.states;G<X.length;G++){var te=X[G];j.state=te,te.methods.stop&&te.methods.stop(j)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(x){this.states=[];for(var D=0;D<x.length;D++){var j=x[D],G=j.options,X=j.methods,te=j.name;this.states.push({options:G,methods:X,index:D,name:te})}return this.states}},{key:"restoreInteractionCoords",value:function(x){var D=x.interaction,j=D.coords,G=D.rect,X=D.modification;if(X.result){for(var te=X.startDelta,ne=X.result,ce=ne.delta,ge=ne.rectDelta,de=0,_e=[[j.start,te],[j.cur,ce]];de<_e.length;de++){var Re=_e[de],Be=Re[0],Ne=Re[1];Be.page.x-=Ne.x,Be.page.y-=Ne.y,Be.client.x-=Ne.x,Be.client.y-=Ne.y}G.left-=ge.left,G.right-=ge.right,G.top-=ge.top,G.bottom-=ge.bottom}}},{key:"shouldDo",value:function(x,D,j,G){return!(!x||x.enabled===!1||G&&!x.endOnly||x.endOnly&&!D||j==="start"&&!x.setStart)}},{key:"copyFrom",value:function(x){this.startOffset=x.startOffset,this.startDelta=x.startDelta,this.startEdges=x.startEdges,this.edges=x.edges,this.states=x.states.map(function(D){return dr(D)}),this.result=di(me({},x.result.coords),me({},x.result.rect))}},{key:"destroy",value:function(){for(var x in this)this[x]=null}}]),k}();function di(k,x){return{rect:x,coords:k,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Qn(k,x){var D=k.defaults,j={start:k.start,set:k.set,beforeEnd:k.beforeEnd,stop:k.stop},G=function(X){var te=X||{};for(var ne in te.enabled=te.enabled!==!1,D)ne in te||(te[ne]=D[ne]);var ce={options:te,methods:j,name:x,enable:function(){return te.enabled=!0,ce},disable:function(){return te.enabled=!1,ce}};return ce};return x&&typeof x=="string"&&(G._defaults=D,G._methods=j),G}function Dr(k){var x=k.iEvent,D=k.interaction.modification.result;D&&(x.modifiers=D.eventProps)}var tn={id:"modifiers/base",before:["actions"],install:function(k){k.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(k){var x=k.interaction;x.modification=new nr(x)},"interactions:before-action-start":function(k){var x=k.interaction,D=k.interaction.modification;D.start(k,x.coords.start.page),x.edges=D.edges,D.applyToInteraction(k)},"interactions:before-action-move":function(k){var x=k.interaction,D=x.modification,j=D.setAndApply(k);return x.edges=D.edges,j},"interactions:before-action-end":function(k){var x=k.interaction,D=x.modification,j=D.beforeEnd(k);return x.edges=D.startEdges,j},"interactions:action-start":Dr,"interactions:action-move":Dr,"interactions:action-end":Dr,"interactions:after-action-start":function(k){return k.interaction.modification.restoreInteractionCoords(k)},"interactions:after-action-move":function(k){return k.interaction.modification.restoreInteractionCoords(k)},"interactions:stop":function(k){return k.interaction.modification.stop(k)}}},fi=tn,It={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},rr=function(k){g(D,k);var x=f(D);function D(j,G,X,te,ne,ce,ge){var de;o(this,D),(de=x.call(this,j)).relatedTarget=null,de.screenX=void 0,de.screenY=void 0,de.button=void 0,de.buttons=void 0,de.ctrlKey=void 0,de.shiftKey=void 0,de.altKey=void 0,de.metaKey=void 0,de.page=void 0,de.client=void 0,de.delta=void 0,de.rect=void 0,de.x0=void 0,de.y0=void 0,de.t0=void 0,de.dt=void 0,de.duration=void 0,de.clientX0=void 0,de.clientY0=void 0,de.velocity=void 0,de.speed=void 0,de.swipe=void 0,de.axes=void 0,de.preEnd=void 0,ne=ne||j.element;var _e=j.interactable,Re=(_e&&_e.options||It).deltaSource,Be=Ge(_e,ne,X),Ne=te==="start",Ue=te==="end",et=Ne?d(de):j.prevEvent,Xe=Ne?j.coords.start:Ue?{page:et.page,client:et.client,timeStamp:j.coords.cur.timeStamp}:j.coords.cur;return de.page=me({},Xe.page),de.client=me({},Xe.client),de.rect=me({},j.rect),de.timeStamp=Xe.timeStamp,Ue||(de.page.x-=Be.x,de.page.y-=Be.y,de.client.x-=Be.x,de.client.y-=Be.y),de.ctrlKey=G.ctrlKey,de.altKey=G.altKey,de.shiftKey=G.shiftKey,de.metaKey=G.metaKey,de.button=G.button,de.buttons=G.buttons,de.target=ne,de.currentTarget=ne,de.preEnd=ce,de.type=ge||X+(te||""),de.interactable=_e,de.t0=Ne?j.pointers[j.pointers.length-1].downTime:et.t0,de.x0=j.coords.start.page.x-Be.x,de.y0=j.coords.start.page.y-Be.y,de.clientX0=j.coords.start.client.x-Be.x,de.clientY0=j.coords.start.client.y-Be.y,de.delta=Ne||Ue?{x:0,y:0}:{x:de[Re].x-et[Re].x,y:de[Re].y-et[Re].y},de.dt=j.coords.delta.timeStamp,de.duration=de.timeStamp-de.t0,de.velocity=me({},j.coords.velocity[Re]),de.speed=Ht(de.velocity.x,de.velocity.y),de.swipe=Ue||te==="inertiastart"?de.getSwipe():null,de}return m(D,[{key:"getSwipe",value:function(){var j=this._interaction;if(j.prevEvent.speed<600||this.timeStamp-j.prevEvent.timeStamp>150)return null;var G=180*Math.atan2(j.prevEvent.velocityY,j.prevEvent.velocityX)/Math.PI;G<0&&(G+=360);var X=112.5<=G&&G<247.5,te=202.5<=G&&G<337.5;return{up:te,down:!te&&22.5<=G&&G<157.5,left:X,right:!X&&(292.5<=G||G<67.5),angle:G,speed:j.prevEvent.speed,velocity:{x:j.prevEvent.velocityX,y:j.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),D}(_t);Object.defineProperties(rr.prototype,{pageX:{get:function(){return this.page.x},set:function(k){this.page.x=k}},pageY:{get:function(){return this.page.y},set:function(k){this.page.y=k}},clientX:{get:function(){return this.client.x},set:function(k){this.client.x=k}},clientY:{get:function(){return this.client.y},set:function(k){this.client.y=k}},dx:{get:function(){return this.delta.x},set:function(k){this.delta.x=k}},dy:{get:function(){return this.delta.y},set:function(k){this.delta.y=k}},velocityX:{get:function(){return this.velocity.x},set:function(k){this.velocity.x=k}},velocityY:{get:function(){return this.velocity.y},set:function(k){this.velocity.y=k}}});var Ps=m(function k(x,D,j,G,X){o(this,k),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=x,this.pointer=D,this.event=j,this.downTime=G,this.downTarget=X}),Ao=function(k){return k.interactable="",k.element="",k.prepared="",k.pointerIsDown="",k.pointerWasMoved="",k._proxy="",k}({}),Nr=function(k){return k.start="",k.move="",k.end="",k.stop="",k.interacting="",k}({}),Os=0,Ds=function(){function k(x){var D=this,j=x.pointerType,G=x.scopeFire;o(this,k),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=ui(function(de){this.move(de)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Os++,this._scopeFire=G,this.pointerType=j;var X=this;this._proxy={};var te=function(de){Object.defineProperty(D._proxy,de,{get:function(){return X[de]}})};for(var ne in Ao)te(ne);var ce=function(de){Object.defineProperty(D._proxy,de,{value:function(){return X[de].apply(X,arguments)}})};for(var ge in Nr)ce(ge);this._scopeFire("interactions:new",{interaction:this})}return m(k,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(x,D,j){var G=this.updatePointer(x,D,j,!0),X=this.pointers[G];this._scopeFire("interactions:down",{pointer:x,event:D,eventTarget:j,pointerIndex:G,pointerInfo:X,type:"down",interaction:this})}},{key:"start",value:function(x,D,j){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(x.name==="gesture"?2:1)||!D.options[x.name].enabled)&&(zi(this.prepared,x),this.interactable=D,this.element=j,this.rect=D.getRect(j),this.edges=this.prepared.edges?me({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(x,D,j){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(x,D,j,!1);var G,X,te=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(G=this.coords.cur.client.x-this.coords.start.client.x,X=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Ht(G,X)>this.pointerMoveTolerance);var ne,ce,ge,de=this.getPointerIndex(x),_e={pointer:x,pointerIndex:de,pointerInfo:this.pointers[de],event:D,type:"move",eventTarget:j,dx:G,dy:X,duplicate:te,interaction:this};te||(ne=this.coords.velocity,ce=this.coords.delta,ge=Math.max(ce.timeStamp/1e3,.001),ne.page.x=ce.page.x/ge,ne.page.y=ce.page.y/ge,ne.client.x=ce.client.x/ge,ne.client.y=ce.client.y/ge,ne.timeStamp=ge),this._scopeFire("interactions:move",_e),te||this.simulation||(this.interacting()&&(_e.type=null,this.move(_e)),this.pointerWasMoved&&wn(this.coords.prev,this.coords.cur))}},{key:"move",value:function(x){x&&x.event||Wn(this.coords.delta),(x=me({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},x||{})).phase="move",this._doPhase(x)}},{key:"pointerUp",value:function(x,D,j,G){var X=this.getPointerIndex(x);X===-1&&(X=this.updatePointer(x,D,j,!1));var te=/cancel$/i.test(D.type)?"cancel":"up";this._scopeFire("interactions:".concat(te),{pointer:x,pointerIndex:X,pointerInfo:this.pointers[X],event:D,eventTarget:j,type:te,curEventTarget:G,interaction:this}),this.simulation||this.end(D),this.removePointer(x,D)}},{key:"documentBlur",value:function(x){this.end(x),this._scopeFire("interactions:blur",{event:x,type:"blur",interaction:this})}},{key:"end",value:function(x){var D;this._ending=!0,x=x||this._latestPointer.event,this.interacting()&&(D=this._doPhase({event:x,interaction:this,phase:"end"})),this._ending=!1,D===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(x){var D=be(x);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:De(this.pointers,function(j){return j.id===D})}},{key:"getPointerInfo",value:function(x){return this.pointers[this.getPointerIndex(x)]}},{key:"updatePointer",value:function(x,D,j,G){var X,te,ne,ce=be(x),ge=this.getPointerIndex(x),de=this.pointers[ge];return G=G!==!1&&(G||/(down|start)$/i.test(D.type)),de?de.pointer=x:(de=new Ps(ce,x,D,null,null),ge=this.pointers.length,this.pointers.push(de)),ze(this.coords.cur,this.pointers.map(function(_e){return _e.pointer}),this._now()),X=this.coords.delta,te=this.coords.prev,ne=this.coords.cur,X.page.x=ne.page.x-te.page.x,X.page.y=ne.page.y-te.page.y,X.client.x=ne.client.x-te.client.x,X.client.y=ne.client.y-te.client.y,X.timeStamp=ne.timeStamp-te.timeStamp,G&&(this.pointerIsDown=!0,de.downTime=this.coords.cur.timeStamp,de.downTarget=j,Nt(this.downPointer,x),this.interacting()||(wn(this.coords.start,this.coords.cur),wn(this.coords.prev,this.coords.cur),this.downEvent=D,this.pointerWasMoved=!1)),this._updateLatestPointer(x,D,j),this._scopeFire("interactions:update-pointer",{pointer:x,event:D,eventTarget:j,down:G,pointerInfo:de,pointerIndex:ge,interaction:this}),ge}},{key:"removePointer",value:function(x,D){var j=this.getPointerIndex(x);if(j!==-1){var G=this.pointers[j];this._scopeFire("interactions:remove-pointer",{pointer:x,event:D,eventTarget:null,pointerIndex:j,pointerInfo:G,interaction:this}),this.pointers.splice(j,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(x,D,j){this._latestPointer.pointer=x,this._latestPointer.event=D,this._latestPointer.eventTarget=j}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(x,D,j,G){return new rr(this,x,this.prepared.name,D,this.element,j,G)}},{key:"_fireEvent",value:function(x){var D;(D=this.interactable)==null||D.fire(x),(!this.prevEvent||x.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=x)}},{key:"_doPhase",value:function(x){var D=x.event,j=x.phase,G=x.preEnd,X=x.type,te=this.rect;if(te&&j==="move"&&(qe(this.edges,te,this.coords.delta[this.interactable.options.deltaSource]),te.width=te.right-te.left,te.height=te.bottom-te.top),this._scopeFire("interactions:before-action-".concat(j),x)===!1)return!1;var ne=x.iEvent=this._createPreparedEvent(D,j,G,X);return this._scopeFire("interactions:action-".concat(j),x),j==="start"&&(this.prevEvent=ne),this._fireEvent(ne),this._scopeFire("interactions:after-action-".concat(j),x),!0}},{key:"_now",value:function(){return Date.now()}}]),k}();function ko(k){ei(k.interaction)}function ei(k){if(!function(D){return!(!D.offset.pending.x&&!D.offset.pending.y)}(k))return!1;var x=k.offset.pending;return kn(k.coords.cur,x),kn(k.coords.delta,x),qe(k.edges,k.rect,x),x.x=0,x.y=0,!0}function Bn(k){var x=k.x,D=k.y;this.offset.pending.x+=x,this.offset.pending.y+=D,this.offset.total.x+=x,this.offset.total.y+=D}function kn(k,x){var D=k.page,j=k.client,G=x.x,X=x.y;D.x+=G,D.y+=X,j.x+=G,j.y+=X}Nr.offsetBy="";var Fr={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(k){k.Interaction.prototype.offsetBy=Bn},listeners:{"interactions:new":function(k){k.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(k){return function(x){x.pointerIsDown&&(kn(x.coords.cur,x.offset.total),x.offset.pending.x=0,x.offset.pending.y=0)}(k.interaction)},"interactions:before-action-start":ko,"interactions:before-action-move":ko,"interactions:before-action-end":function(k){var x=k.interaction;if(ei(x))return x.move({offset:!0}),x.end(),!1},"interactions:stop":function(k){var x=k.interaction;x.offset.total.x=0,x.offset.total.y=0,x.offset.pending.x=0,x.offset.pending.y=0}}},Ri=Fr,ir=function(){function k(x){o(this,k),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=x}return m(k,[{key:"start",value:function(x){var D=this.interaction,j=Tr(D);if(!j||!j.enabled)return!1;var G=D.coords.velocity.client,X=Ht(G.x,G.y),te=this.modification||(this.modification=new nr(D));if(te.copyFrom(D.modification),this.t0=D._now(),this.allowResume=j.allowResume,this.v0=X,this.currentOffset={x:0,y:0},this.startCoords=D.coords.cur.page,this.modifierArg=te.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-D.coords.cur.timeStamp<50&&X>j.minSpeed&&X>j.endSpeed)this.startInertia();else{if(te.result=te.setAll(this.modifierArg),!te.result.changed)return!1;this.startSmoothEnd()}return D.modification.result.rect=null,D.offsetBy(this.targetOffset),D._doPhase({interaction:D,event:x,phase:"inertiastart"}),D.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),D.modification.result.rect=null,this.active=!0,D.simulation=this,!0}},{key:"startInertia",value:function(){var x=this,D=this.interaction.coords.velocity.client,j=Tr(this.interaction),G=j.resistance,X=-Math.log(j.endSpeed/this.v0)/G;this.targetOffset={x:(D.x-X)/G,y:(D.y-X)/G},this.te=X,this.lambda_v0=G/this.v0,this.one_ve_v0=1-j.endSpeed/this.v0;var te=this.modification,ne=this.modifierArg;ne.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},te.result=te.setAll(ne),te.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+te.result.delta.x,y:this.targetOffset.y+te.result.delta.y}),this.onNextFrame(function(){return x.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var x=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return x.smoothEndTick()})}},{key:"onNextFrame",value:function(x){var D=this;this.timeout=Zr.request(function(){D.active&&x()})}},{key:"inertiaTick",value:function(){var x,D,j,G,X,te,ne,ce=this,ge=this.interaction,de=Tr(ge).resistance,_e=(ge._now()-this.t0)/1e3;if(_e<this.te){var Re,Be=1-(Math.exp(-de*_e)-this.lambda_v0)/this.one_ve_v0;this.isModified?(x=0,D=0,j=this.targetOffset.x,G=this.targetOffset.y,X=this.modifiedOffset.x,te=this.modifiedOffset.y,Re={x:ts(ne=Be,x,j,X),y:ts(ne,D,G,te)}):Re={x:this.targetOffset.x*Be,y:this.targetOffset.y*Be};var Ne={x:Re.x-this.currentOffset.x,y:Re.y-this.currentOffset.y};this.currentOffset.x+=Ne.x,this.currentOffset.y+=Ne.y,ge.offsetBy(Ne),ge.move(),this.onNextFrame(function(){return ce.inertiaTick()})}else ge.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var x=this,D=this.interaction,j=D._now()-this.t0,G=Tr(D).smoothEndDuration;if(j<G){var X={x:Yn(j,0,this.targetOffset.x,G),y:Yn(j,0,this.targetOffset.y,G)},te={x:X.x-this.currentOffset.x,y:X.y-this.currentOffset.y};this.currentOffset.x+=te.x,this.currentOffset.y+=te.y,D.offsetBy(te),D.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return x.smoothEndTick()})}else D.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(x){var D=x.pointer,j=x.event,G=x.eventTarget,X=this.interaction;X.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),X.updatePointer(D,j,G,!0),X._doPhase({interaction:X,event:j,phase:"resume"}),wn(X.coords.prev,X.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Zr.cancel(this.timeout)}}]),k}();function Tr(k){var x=k.interactable,D=k.prepared;return x&&x.options&&D.name&&x.options[D.name].inertia}var es={id:"inertia",before:["modifiers","actions"],install:function(k){var x=k.defaults;k.usePlugin(Ri),k.usePlugin(fi),k.actions.phases.inertiastart=!0,k.actions.phases.resume=!0,x.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(k){var x=k.interaction;x.inertia=new ir(x)},"interactions:before-action-end":function(k){var x=k.interaction,D=k.event;return(!x._interacting||x.simulation||!x.inertia.start(D))&&null},"interactions:down":function(k){var x=k.interaction,D=k.eventTarget,j=x.inertia;if(j.active)for(var G=D;E.element(G);){if(G===x.element){j.resume(k);break}G=J(G)}},"interactions:stop":function(k){var x=k.interaction.inertia;x.active&&x.stop()},"interactions:before-action-resume":function(k){var x=k.interaction.modification;x.stop(k),x.start(k,k.interaction.coords.cur.page),x.applyToInteraction(k)},"interactions:before-action-inertiastart":function(k){return k.interaction.modification.setAndApply(k)},"interactions:action-resume":Dr,"interactions:action-inertiastart":Dr,"interactions:after-action-inertiastart":function(k){return k.interaction.modification.restoreInteractionCoords(k)},"interactions:after-action-resume":function(k){return k.interaction.modification.restoreInteractionCoords(k)}}};function ts(k,x,D,j){var G=1-k;return G*G*x+2*G*k*D+k*k*j}function Yn(k,x,D,j){return-D*(k/=j)*(k-2)+x}var Ns=es;function Io(k,x){for(var D=0;D<x.length;D++){var j=x[D];if(k.immediatePropagationStopped)break;j(k)}}var fr=function(){function k(x){o(this,k),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=me({},x||{})}return m(k,[{key:"fire",value:function(x){var D,j=this.global;(D=this.types[x.type])&&Io(x,D),!x.propagationStopped&&j&&(D=j[x.type])&&Io(x,D)}},{key:"on",value:function(x,D){var j=yt(x,D);for(x in j)this.types[x]=ln(this.types[x]||[],j[x])}},{key:"off",value:function(x,D){var j=yt(x,D);for(x in j){var G=this.types[x];if(G&&G.length)for(var X=0,te=j[x];X<te.length;X++){var ne=te[X],ce=G.indexOf(ne);ce!==-1&&G.splice(ce,1)}}}},{key:"getRect",value:function(x){return null}}]),k}(),Hi=function(){function k(x){o(this,k),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=x,Nt(this,x)}return m(k,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),k}();function Wi(k){return E.object(k)?{capture:!!k.capture,passive:!!k.passive}:{capture:!!k,passive:!1}}function pr(k,x){return k===x||(typeof k=="boolean"?!!x.capture===k&&!x.passive:!!k.capture==!!x.capture&&!!k.passive==!!x.passive)}var ti={id:"events",install:function(k){var x,D=[],j={},G=[],X={add:te,remove:ne,addDelegate:function(de,_e,Re,Be,Ne){var Ue=Wi(Ne);if(!j[Re]){j[Re]=[];for(var et=0;et<G.length;et++){var Xe=G[et];te(Xe,Re,ce),te(Xe,Re,ge,!0)}}var ct=j[Re],Tt=Ze(ct,function(wt){return wt.selector===de&&wt.context===_e});Tt||(Tt={selector:de,context:_e,listeners:[]},ct.push(Tt)),Tt.listeners.push({func:Be,options:Ue})},removeDelegate:function(de,_e,Re,Be,Ne){var Ue,et=Wi(Ne),Xe=j[Re],ct=!1;if(Xe)for(Ue=Xe.length-1;Ue>=0;Ue--){var Tt=Xe[Ue];if(Tt.selector===de&&Tt.context===_e){for(var wt=Tt.listeners,ht=wt.length-1;ht>=0;ht--){var xt=wt[ht];if(xt.func===Be&&pr(xt.options,et)){wt.splice(ht,1),wt.length||(Xe.splice(Ue,1),ne(_e,Re,ce),ne(_e,Re,ge,!0)),ct=!0;break}}if(ct)break}}},delegateListener:ce,delegateUseCapture:ge,delegatedEvents:j,documents:G,targets:D,supportsOptions:!1,supportsPassive:!1};function te(de,_e,Re,Be){if(de.addEventListener){var Ne=Wi(Be),Ue=Ze(D,function(et){return et.eventTarget===de});Ue||(Ue={eventTarget:de,events:{}},D.push(Ue)),Ue.events[_e]||(Ue.events[_e]=[]),Ze(Ue.events[_e],function(et){return et.func===Re&&pr(et.options,Ne)})||(de.addEventListener(_e,Re,X.supportsOptions?Ne:Ne.capture),Ue.events[_e].push({func:Re,options:Ne}))}}function ne(de,_e,Re,Be){if(de.addEventListener&&de.removeEventListener){var Ne=De(D,function(gr){return gr.eventTarget===de}),Ue=D[Ne];if(Ue&&Ue.events)if(_e!=="all"){var et=!1,Xe=Ue.events[_e];if(Xe){if(Re==="all"){for(var ct=Xe.length-1;ct>=0;ct--){var Tt=Xe[ct];ne(de,_e,Tt.func,Tt.options)}return}for(var wt=Wi(Be),ht=0;ht<Xe.length;ht++){var xt=Xe[ht];if(xt.func===Re&&pr(xt.options,wt)){de.removeEventListener(_e,Re,X.supportsOptions?wt:wt.capture),Xe.splice(ht,1),Xe.length===0&&(delete Ue.events[_e],et=!0);break}}}et&&!Object.keys(Ue.events).length&&D.splice(Ne,1)}else for(_e in Ue.events)Ue.events.hasOwnProperty(_e)&&ne(de,_e,"all")}}function ce(de,_e){for(var Re=Wi(_e),Be=new Hi(de),Ne=j[de.type],Ue=$t(de)[0],et=Ue;E.element(et);){for(var Xe=0;Xe<Ne.length;Xe++){var ct=Ne[Xe],Tt=ct.selector,wt=ct.context;if(Q(et,Tt)&&q(wt,Ue)&&q(wt,et)){var ht=ct.listeners;Be.currentTarget=et;for(var xt=0;xt<ht.length;xt++){var gr=ht[xt];pr(gr.options,Re)&&gr.func(Be)}}}et=J(et)}}function ge(de){return ce(de,!0)}return(x=k.document)==null||x.createElement("div").addEventListener("test",null,{get capture(){return X.supportsOptions=!0},get passive(){return X.supportsPassive=!0}}),k.events=X,X}},le={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(k){for(var x=0,D=le.methodOrder;x<D.length;x++){var j=D[x],G=le[j](k);if(G)return G}return null},simulationResume:function(k){var x=k.pointerType,D=k.eventType,j=k.eventTarget,G=k.scope;if(!/down|start/i.test(D))return null;for(var X=0,te=G.interactions.list;X<te.length;X++){var ne=te[X],ce=j;if(ne.simulation&&ne.simulation.allowResume&&ne.pointerType===x)for(;ce;){if(ce===ne.element)return ne;ce=J(ce)}}return null},mouseOrPen:function(k){var x,D=k.pointerId,j=k.pointerType,G=k.eventType,X=k.scope;if(j!=="mouse"&&j!=="pen")return null;for(var te=0,ne=X.interactions.list;te<ne.length;te++){var ce=ne[te];if(ce.pointerType===j){if(ce.simulation&&!we(ce,D))continue;if(ce.interacting())return ce;x||(x=ce)}}if(x)return x;for(var ge=0,de=X.interactions.list;ge<de.length;ge++){var _e=de[ge];if(!(_e.pointerType!==j||/down/i.test(G)&&_e.simulation))return _e}return null},hasPointer:function(k){for(var x=k.pointerId,D=0,j=k.scope.interactions.list;D<j.length;D++){var G=j[D];if(we(G,x))return G}return null},idle:function(k){for(var x=k.pointerType,D=0,j=k.scope.interactions.list;D<j.length;D++){var G=j[D];if(G.pointers.length===1){var X=G.interactable;if(X&&(!X.options.gesture||!X.options.gesture.enabled))continue}else if(G.pointers.length>=2)continue;if(!G.interacting()&&x===G.pointerType)return G}return null}};function we(k,x){return k.pointers.some(function(D){return D.id===x})}var Le=le,Ye=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Wt(k,x){return function(D){var j=x.interactions.list,G=Ft(D),X=$t(D),te=X[0],ne=X[1],ce=[];if(/^touch/.test(D.type)){x.prevTouchTime=x.now();for(var ge=0,de=D.changedTouches;ge<de.length;ge++){var _e=de[ge],Re={pointer:_e,pointerId:be(_e),pointerType:G,eventType:D.type,eventTarget:te,curEventTarget:ne,scope:x},Be=pt(Re);ce.push([Re.pointer,Re.eventTarget,Re.curEventTarget,Be])}}else{var Ne=!1;if(!z.supportsPointerEvent&&/mouse/.test(D.type)){for(var Ue=0;Ue<j.length&&!Ne;Ue++)Ne=j[Ue].pointerType!=="mouse"&&j[Ue].pointerIsDown;Ne=Ne||x.now()-x.prevTouchTime<500||D.timeStamp===0}if(!Ne){var et={pointer:D,pointerId:be(D),pointerType:G,eventType:D.type,curEventTarget:ne,eventTarget:te,scope:x},Xe=pt(et);ce.push([et.pointer,et.eventTarget,et.curEventTarget,Xe])}}for(var ct=0;ct<ce.length;ct++){var Tt=ce[ct],wt=Tt[0],ht=Tt[1],xt=Tt[2];Tt[3][k](wt,D,ht,xt)}}}function pt(k){var x=k.pointerType,D=k.scope,j={interaction:Le.search(k),searchDetails:k};return D.fire("interactions:find",j),j.interaction||D.interactions.new({pointerType:x})}function qt(k,x){var D=k.doc,j=k.scope,G=k.options,X=j.interactions.docEvents,te=j.events,ne=te[x];for(var ce in j.browser.isIOS&&!G.events&&(G.events={passive:!1}),te.delegatedEvents)ne(D,ce,te.delegateListener),ne(D,ce,te.delegateUseCapture,!0);for(var ge=G&&G.events,de=0;de<X.length;de++){var _e=X[de];ne(D,_e.type,_e.listener,ge)}}var gn={id:"core/interactions",install:function(k){for(var x={},D=0;D<Ye.length;D++){var j=Ye[D];x[j]=Wt(j,k)}var G,X=z.pEventTypes;function te(){for(var ne=0,ce=k.interactions.list;ne<ce.length;ne++){var ge=ce[ne];if(ge.pointerIsDown&&ge.pointerType==="touch"&&!ge._interacting)for(var de=function(){var Be=Re[_e];k.documents.some(function(Ne){return q(Ne.doc,Be.downTarget)})||ge.removePointer(Be.pointer,Be.event)},_e=0,Re=ge.pointers;_e<Re.length;_e++)de()}}(G=L.PointerEvent?[{type:X.down,listener:te},{type:X.down,listener:x.pointerDown},{type:X.move,listener:x.pointerMove},{type:X.up,listener:x.pointerUp},{type:X.cancel,listener:x.pointerUp}]:[{type:"mousedown",listener:x.pointerDown},{type:"mousemove",listener:x.pointerMove},{type:"mouseup",listener:x.pointerUp},{type:"touchstart",listener:te},{type:"touchstart",listener:x.pointerDown},{type:"touchmove",listener:x.pointerMove},{type:"touchend",listener:x.pointerUp},{type:"touchcancel",listener:x.pointerUp}]).push({type:"blur",listener:function(ne){for(var ce=0,ge=k.interactions.list;ce<ge.length;ce++)ge[ce].documentBlur(ne)}}),k.prevTouchTime=0,k.Interaction=function(ne){g(ge,ne);var ce=f(ge);function ge(){return o(this,ge),ce.apply(this,arguments)}return m(ge,[{key:"pointerMoveTolerance",get:function(){return k.interactions.pointerMoveTolerance},set:function(de){k.interactions.pointerMoveTolerance=de}},{key:"_now",value:function(){return k.now()}}]),ge}(Ds),k.interactions={list:[],new:function(ne){ne.scopeFire=function(ge,de){return k.fire(ge,de)};var ce=new k.Interaction(ne);return k.interactions.list.push(ce),ce},listeners:x,docEvents:G,pointerMoveTolerance:1},k.usePlugin(Ii)},listeners:{"scope:add-document":function(k){return qt(k,"add")},"scope:remove-document":function(k){return qt(k,"remove")},"interactable:unset":function(k,x){for(var D=k.interactable,j=x.interactions.list.length-1;j>=0;j--){var G=x.interactions.list[j];G.interactable===D&&(G.stop(),x.fire("interactions:destroy",{interaction:G}),G.destroy(),x.interactions.list.length>2&&x.interactions.list.splice(j,1))}}},onDocSignal:qt,doOnInteractions:Wt,methodNames:Ye},Qt=gn,Pt=function(k){return k[k.On=0]="On",k[k.Off=1]="Off",k}(Pt||{}),rn=function(){function k(x,D,j,G){o(this,k),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new fr,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=D.actions,this.target=x,this._context=D.context||j,this._win=O(Ee(x)?this._context:x),this._doc=this._win.document,this._scopeEvents=G,this.set(D)}return m(k,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(x,D){return E.func(D.onstart)&&this.on("".concat(x,"start"),D.onstart),E.func(D.onmove)&&this.on("".concat(x,"move"),D.onmove),E.func(D.onend)&&this.on("".concat(x,"end"),D.onend),E.func(D.oninertiastart)&&this.on("".concat(x,"inertiastart"),D.oninertiastart),this}},{key:"updatePerActionListeners",value:function(x,D,j){var G,X=this,te=(G=this._actions.map[x])==null?void 0:G.filterEventType,ne=function(ce){return(te==null||te(ce))&&xo(ce,X._actions)};(E.array(D)||E.object(D))&&this._onOff(Pt.Off,x,D,void 0,ne),(E.array(j)||E.object(j))&&this._onOff(Pt.On,x,j,void 0,ne)}},{key:"setPerAction",value:function(x,D){var j=this._defaults;for(var G in D){var X=G,te=this.options[x],ne=D[X];X==="listeners"&&this.updatePerActionListeners(x,te.listeners,ne),E.array(ne)?te[X]=Te(ne):E.plainObject(ne)?(te[X]=me(te[X]||{},dr(ne)),E.object(j.perAction[X])&&"enabled"in j.perAction[X]&&(te[X].enabled=ne.enabled!==!1)):E.bool(ne)&&E.object(j.perAction[X])?te[X].enabled=ne:te[X]=ne}}},{key:"getRect",value:function(x){return x=x||(E.element(this.target)?this.target:null),E.string(this.target)&&(x=x||this._context.querySelector(this.target)),ae(x)}},{key:"rectChecker",value:function(x){var D=this;return E.func(x)?(this.getRect=function(j){var G=me({},x.apply(D,j));return"width"in G||(G.width=G.right-G.left,G.height=G.bottom-G.top),G},this):x===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(x,D){if(Ee(D)||E.object(D)){for(var j in this.options[x]=D,this._actions.map)this.options[j][x]=D;return this}return this.options[x]}},{key:"origin",value:function(x){return this._backCompatOption("origin",x)}},{key:"deltaSource",value:function(x){return x==="page"||x==="client"?(this.options.deltaSource=x,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var x=this.target;return E.string(x)?Array.from(this._context.querySelectorAll(x)):E.func(x)&&x.getAllElements?x.getAllElements():E.element(x)?[x]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(x){return this._context===x.ownerDocument||q(this._context,x)}},{key:"testIgnoreAllow",value:function(x,D,j){return!this.testIgnore(x.ignoreFrom,D,j)&&this.testAllow(x.allowFrom,D,j)}},{key:"testAllow",value:function(x,D,j){return!x||!!E.element(j)&&(E.string(x)?Z(j,x,D):!!E.element(x)&&q(x,j))}},{key:"testIgnore",value:function(x,D,j){return!(!x||!E.element(j))&&(E.string(x)?Z(j,x,D):!!E.element(x)&&q(x,j))}},{key:"fire",value:function(x){return this.events.fire(x),this}},{key:"_onOff",value:function(x,D,j,G,X){E.object(D)&&!E.array(D)&&(G=j,j=null);var te=yt(D,j,X);for(var ne in te){ne==="wheel"&&(ne=z.wheelEvent);for(var ce=0,ge=te[ne];ce<ge.length;ce++){var de=ge[ce];xo(ne,this._actions)?this.events[x===Pt.On?"on":"off"](ne,de):E.string(this.target)?this._scopeEvents[x===Pt.On?"addDelegate":"removeDelegate"](this.target,this._context,ne,de,G):this._scopeEvents[x===Pt.On?"add":"remove"](this.target,ne,de,G)}}return this}},{key:"on",value:function(x,D,j){return this._onOff(Pt.On,x,D,j)}},{key:"off",value:function(x,D,j){return this._onOff(Pt.Off,x,D,j)}},{key:"set",value:function(x){var D=this._defaults;for(var j in E.object(x)||(x={}),this.options=dr(D.base),this._actions.methodDict){var G=j,X=this._actions.methodDict[G];this.options[G]={},this.setPerAction(G,me(me({},D.perAction),D.actions[G])),this[X](x[G])}for(var te in x)te!=="getRect"?E.func(this[te])&&this[te](x[te]):this.rectChecker(x.getRect);return this}},{key:"unset",value:function(){if(E.string(this.target))for(var x in this._scopeEvents.delegatedEvents)for(var D=this._scopeEvents.delegatedEvents[x],j=D.length-1;j>=0;j--){var G=D[j],X=G.selector,te=G.context,ne=G.listeners;X===this.target&&te===this._context&&D.splice(j,1);for(var ce=ne.length-1;ce>=0;ce--)this._scopeEvents.removeDelegate(this.target,this._context,x,ne[ce][0],ne[ce][1])}else this._scopeEvents.remove(this.target,"all")}}]),k}(),or=function(){function k(x){var D=this;o(this,k),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=x,x.addListeners({"interactable:unset":function(j){var G=j.interactable,X=G.target,te=E.string(X)?D.selectorMap[X]:X[D.scope.id],ne=De(te,function(ce){return ce===G});te.splice(ne,1)}})}return m(k,[{key:"new",value:function(x,D){D=me(D||{},{actions:this.scope.actions});var j=new this.scope.Interactable(x,D,this.scope.document,this.scope.events);return this.scope.addDocument(j._doc),this.list.push(j),E.string(x)?(this.selectorMap[x]||(this.selectorMap[x]=[]),this.selectorMap[x].push(j)):(j.target[this.scope.id]||Object.defineProperty(x,this.scope.id,{value:[],configurable:!0}),x[this.scope.id].push(j)),this.scope.fire("interactable:new",{target:x,options:D,interactable:j,win:this.scope._win}),j}},{key:"getExisting",value:function(x,D){var j=D&&D.context||this.scope.document,G=E.string(x),X=G?this.selectorMap[x]:x[this.scope.id];if(X)return Ze(X,function(te){return te._context===j&&(G||te.inContext(x))})}},{key:"forEachMatch",value:function(x,D){for(var j=0,G=this.list;j<G.length;j++){var X=G[j],te=void 0;if((E.string(X.target)?E.element(x)&&Q(x,X.target):x===X.target)&&X.inContext(x)&&(te=D(X)),te!==void 0)return te}}}]),k}(),_n=function(){function k(){var x=this;o(this,k),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=z,this.defaults=dr(It),this.Eventable=fr,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(j){var G=function X(te,ne){var ce=j.interactables.getExisting(te,ne);return ce||((ce=j.interactables.new(te,ne)).events.global=X.globalEvents),ce};return G.getPointerAverage=ft,G.getTouchBBox=lt,G.getTouchDistance=kt,G.getTouchAngle=Lt,G.getElementRect=ae,G.getElementClientRect=ue,G.matchesSelector=Q,G.closest=K,G.globalEvents={},G.version="1.10.27",G.scope=j,G.use=function(X,te){return this.scope.usePlugin(X,te),this},G.isSet=function(X,te){return!!this.scope.interactables.get(X,te&&te.context)},G.on=ui(function(X,te,ne){if(E.string(X)&&X.search(" ")!==-1&&(X=X.trim().split(/ +/)),E.array(X)){for(var ce=0,ge=X;ce<ge.length;ce++){var de=ge[ce];this.on(de,te,ne)}return this}if(E.object(X)){for(var _e in X)this.on(_e,X[_e],te);return this}return xo(X,this.scope.actions)?this.globalEvents[X]?this.globalEvents[X].push(te):this.globalEvents[X]=[te]:this.scope.events.add(this.scope.document,X,te,{options:ne}),this},"The interact.on() method is being deprecated"),G.off=ui(function(X,te,ne){if(E.string(X)&&X.search(" ")!==-1&&(X=X.trim().split(/ +/)),E.array(X)){for(var ce=0,ge=X;ce<ge.length;ce++){var de=ge[ce];this.off(de,te,ne)}return this}if(E.object(X)){for(var _e in X)this.off(_e,X[_e],te);return this}var Re;return xo(X,this.scope.actions)?X in this.globalEvents&&(Re=this.globalEvents[X].indexOf(te))!==-1&&this.globalEvents[X].splice(Re,1):this.scope.events.remove(this.scope.document,X,te,ne),this},"The interact.off() method is being deprecated"),G.debug=function(){return this.scope},G.supportsTouch=function(){return z.supportsTouch},G.supportsPointerEvent=function(){return z.supportsPointerEvent},G.stop=function(){for(var X=0,te=this.scope.interactions.list;X<te.length;X++)te[X].stop();return this},G.pointerMoveTolerance=function(X){return E.number(X)?(this.scope.interactions.pointerMoveTolerance=X,this):this.scope.interactions.pointerMoveTolerance},G.addDocument=function(X,te){this.scope.addDocument(X,te)},G.removeDocument=function(X){this.scope.removeDocument(X)},G}(this),this.InteractEvent=rr,this.Interactable=void 0,this.interactables=new or(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(j){return x.removeDocument(j.target)};var D=this;this.Interactable=function(j){g(X,j);var G=f(X);function X(){return o(this,X),G.apply(this,arguments)}return m(X,[{key:"_defaults",get:function(){return D.defaults}},{key:"set",value:function(te){return p(a(X.prototype),"set",this).call(this,te),D.fire("interactable:set",{options:te,interactable:this}),this}},{key:"unset",value:function(){p(a(X.prototype),"unset",this).call(this);var te=D.interactables.list.indexOf(this);te<0||(D.interactables.list.splice(te,1),D.fire("interactable:unset",{interactable:this}))}}]),X}(rn)}return m(k,[{key:"addListeners",value:function(x,D){this.listenerMaps.push({id:D,map:x})}},{key:"fire",value:function(x,D){for(var j=0,G=this.listenerMaps;j<G.length;j++){var X=G[j].map[x];if(X&&X(D,this,x)===!1)return!1}}},{key:"init",value:function(x){return this.isInitialized?this:function(D,j){return D.isInitialized=!0,E.window(j)&&F(j),L.init(j),z.init(j),Zr.init(j),D.window=j,D.document=j.document,D.usePlugin(Qt),D.usePlugin(ti),D}(this,x)}},{key:"pluginIsInstalled",value:function(x){var D=x.id;return D?!!this._plugins.map[D]:this._plugins.list.indexOf(x)!==-1}},{key:"usePlugin",value:function(x,D){if(!this.isInitialized)return this;if(this.pluginIsInstalled(x))return this;if(x.id&&(this._plugins.map[x.id]=x),this._plugins.list.push(x),x.install&&x.install(this,D),x.listeners&&x.before){for(var j=0,G=this.listenerMaps.length,X=x.before.reduce(function(ne,ce){return ne[ce]=!0,ne[mn(ce)]=!0,ne},{});j<G;j++){var te=this.listenerMaps[j].id;if(te&&(X[te]||X[mn(te)]))break}this.listenerMaps.splice(j,0,{id:x.id,map:x.listeners})}else x.listeners&&this.listenerMaps.push({id:x.id,map:x.listeners});return this}},{key:"addDocument",value:function(x,D){if(this.getDocIndex(x)!==-1)return!1;var j=O(x);D=D?me({},D):{},this.documents.push({doc:x,options:D}),this.events.documents.push(x),x!==this.document&&this.events.add(j,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:x,window:j,scope:this,options:D})}},{key:"removeDocument",value:function(x){var D=this.getDocIndex(x),j=O(x),G=this.documents[D].options;this.events.remove(j,"unload",this.onWindowUnload),this.documents.splice(D,1),this.events.documents.splice(D,1),this.fire("scope:remove-document",{doc:x,window:j,scope:this,options:G})}},{key:"getDocIndex",value:function(x){for(var D=0;D<this.documents.length;D++)if(this.documents[D].doc===x)return D;return-1}},{key:"getDocOptions",value:function(x){var D=this.getDocIndex(x);return D===-1?null:this.documents[D].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),k}();function mn(k){return k&&k.replace(/\/.*$/,"")}var Vn=new _n,Mt=Vn.interactStatic,In=typeof globalThis<"u"?globalThis:window;Vn.init(In);var Br=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(k){var x=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(j){var G=j[0],X=j[1];return G in k||X in k}),D=function(j,G){for(var X=k.range,te=k.limits,ne=te===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:te,ce=k.offset,ge=ce===void 0?{x:0,y:0}:ce,de={range:X,grid:k,x:null,y:null},_e=0;_e<x.length;_e++){var Re=x[_e],Be=Re[0],Ne=Re[1],Ue=Math.round((j-ge.x)/k[Be]),et=Math.round((G-ge.y)/k[Ne]);de[Be]=Math.max(ne.left,Math.min(ne.right,Ue*k[Be]+ge.x)),de[Ne]=Math.max(ne.top,Math.min(ne.bottom,et*k[Ne]+ge.y))}return de};return D.grid=k,D.coordFields=x,D}}),ni={id:"snappers",install:function(k){var x=k.interactStatic;x.snappers=me(x.snappers||{},Br),x.createSnapGrid=x.snappers.grid}},Ro=ni,Mi={start:function(k){var x=k.state,D=k.rect,j=k.edges,G=k.pageCoords,X=x.options,te=X.ratio,ne=X.enabled,ce=x.options,ge=ce.equalDelta,de=ce.modifiers;te==="preserve"&&(te=D.width/D.height),x.startCoords=me({},G),x.startRect=me({},D),x.ratio=te,x.equalDelta=ge;var _e=x.linkedEdges={top:j.top||j.left&&!j.bottom,left:j.left||j.top&&!j.right,bottom:j.bottom||j.right&&!j.top,right:j.right||j.bottom&&!j.left};if(x.xIsPrimaryAxis=!(!j.left&&!j.right),x.equalDelta){var Re=(_e.left?1:-1)*(_e.top?1:-1);x.edgeSign={x:Re,y:Re}}else x.edgeSign={x:_e.left?-1:1,y:_e.top?-1:1};if(ne!==!1&&me(j,_e),de!=null&&de.length){var Be=new nr(k.interaction);Be.copyFrom(k.interaction.modification),Be.prepareStates(de),x.subModification=Be,Be.startAll(r({},k))}},set:function(k){var x=k.state,D=k.rect,j=k.coords,G=x.linkedEdges,X=me({},j),te=x.equalDelta?uo:Mo;if(me(k.edges,G),te(x,x.xIsPrimaryAxis,j,D),!x.subModification)return null;var ne=me({},D);qe(G,ne,{x:j.x-X.x,y:j.y-X.y});var ce=x.subModification.setAll(r(r({},k),{},{rect:ne,edges:G,pageCoords:j,prevCoords:j,prevRect:ne})),ge=ce.delta;return ce.changed&&(te(x,Math.abs(ge.x)>Math.abs(ge.y),ce.coords,ce.rect),me(j,ce.coords)),ce.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function uo(k,x,D){var j=k.startCoords,G=k.edgeSign;x?D.y=j.y+(D.x-j.x)*G.y:D.x=j.x+(D.y-j.y)*G.x}function Mo(k,x,D,j){var G=k.startRect,X=k.startCoords,te=k.ratio,ne=k.edgeSign;if(x){var ce=j.width/te;D.y=X.y+(ce-G.height)*ne.y}else{var ge=j.height*te;D.x=X.x+(ge-G.width)*ne.x}}var ns=Qn(Mi,"aspectRatio"),rs=function(){};rs._defaults={};var Lo=rs;function Gi(k,x,D){return E.func(k)?$e(k,x.interactable,x.element,[D.x,D.y,x]):$e(k,x.interactable,x.element)}var ho={start:function(k){var x=k.rect,D=k.startOffset,j=k.state,G=k.interaction,X=k.pageCoords,te=j.options,ne=te.elementRect,ce=me({left:0,top:0,right:0,bottom:0},te.offset||{});if(x&&ne){var ge=Gi(te.restriction,G,X);if(ge){var de=ge.right-ge.left-x.width,_e=ge.bottom-ge.top-x.height;de<0&&(ce.left+=de,ce.right+=de),_e<0&&(ce.top+=_e,ce.bottom+=_e)}ce.left+=D.left-x.width*ne.left,ce.top+=D.top-x.height*ne.top,ce.right+=D.right-x.width*(1-ne.right),ce.bottom+=D.bottom-x.height*(1-ne.bottom)}j.offset=ce},set:function(k){var x=k.coords,D=k.interaction,j=k.state,G=j.options,X=j.offset,te=Gi(G.restriction,D,x);if(te){var ne=function(ce){return!ce||"left"in ce&&"top"in ce||((ce=me({},ce)).left=ce.x||0,ce.top=ce.y||0,ce.right=ce.right||ce.left+ce.width,ce.bottom=ce.bottom||ce.top+ce.height),ce}(te);x.x=Math.max(Math.min(ne.right-X.right,x.x),ne.left+X.left),x.y=Math.max(Math.min(ne.bottom-X.bottom,x.y),ne.top+X.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Fs=Qn(ho,"restrict"),$a={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Ki={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Pa(k,x){for(var D=0,j=["top","left","bottom","right"];D<j.length;D++){var G=j[D];G in k||(k[G]=x[G])}return k}var $o={noInner:$a,noOuter:Ki,start:function(k){var x,D=k.interaction,j=k.startOffset,G=k.state,X=G.options;X&&(x=Qe(Gi(X.offset,D,D.coords.start.page))),x=x||{x:0,y:0},G.offset={top:x.y+j.top,left:x.x+j.left,bottom:x.y-j.bottom,right:x.x-j.right}},set:function(k){var x=k.coords,D=k.edges,j=k.interaction,G=k.state,X=G.offset,te=G.options;if(D){var ne=me({},x),ce=Gi(te.inner,j,ne)||{},ge=Gi(te.outer,j,ne)||{};Pa(ce,$a),Pa(ge,Ki),D.top?x.y=Math.min(Math.max(ge.top+X.top,ne.y),ce.top+X.top):D.bottom&&(x.y=Math.max(Math.min(ge.bottom+X.bottom,ne.y),ce.bottom+X.bottom)),D.left?x.x=Math.min(Math.max(ge.left+X.left,ne.x),ce.left+X.left):D.right&&(x.x=Math.max(Math.min(ge.right+X.right,ne.x),ce.right+X.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},_l=Qn($o,"restrictEdges"),Oa=me({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(k){}},ho.defaults),Bs=Qn({start:ho.start,set:ho.set,defaults:Oa},"restrictRect"),xr={width:-1/0,height:-1/0},El={width:1/0,height:1/0},Sl=Qn({start:function(k){return $o.start(k)},set:function(k){var x=k.interaction,D=k.state,j=k.rect,G=k.edges,X=D.options;if(G){var te=ut(Gi(X.min,x,k.coords))||xr,ne=ut(Gi(X.max,x,k.coords))||El;D.options={endOnly:X.endOnly,inner:me({},$o.noInner),outer:me({},$o.noOuter)},G.top?(D.options.inner.top=j.bottom-te.height,D.options.outer.top=j.bottom-ne.height):G.bottom&&(D.options.inner.bottom=j.top+te.height,D.options.outer.bottom=j.top+ne.height),G.left?(D.options.inner.left=j.right-te.width,D.options.outer.left=j.right-ne.width):G.right&&(D.options.inner.right=j.left+te.width,D.options.outer.right=j.left+ne.width),$o.set(k),D.options=X}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),pi={start:function(k){var x,D=k.interaction,j=k.interactable,G=k.element,X=k.rect,te=k.state,ne=k.startOffset,ce=te.options,ge=ce.offsetWithOrigin?function(Re){var Be=Re.interaction.element,Ne=Qe($e(Re.state.options.origin,null,null,[Be])),Ue=Ne||Ge(Re.interactable,Be,Re.interaction.prepared.name);return Ue}(k):{x:0,y:0};if(ce.offset==="startCoords")x={x:D.coords.start.page.x,y:D.coords.start.page.y};else{var de=$e(ce.offset,j,G,[D]);(x=Qe(de)||{x:0,y:0}).x+=ge.x,x.y+=ge.y}var _e=ce.relativePoints;te.offsets=X&&_e&&_e.length?_e.map(function(Re,Be){return{index:Be,relativePoint:Re,x:ne.left-X.width*Re.x+x.x,y:ne.top-X.height*Re.y+x.y}}):[{index:0,relativePoint:null,x:x.x,y:x.y}]},set:function(k){var x=k.interaction,D=k.coords,j=k.state,G=j.options,X=j.offsets,te=Ge(x.interactable,x.element,x.prepared.name),ne=me({},D),ce=[];G.offsetWithOrigin||(ne.x-=te.x,ne.y-=te.y);for(var ge=0,de=X;ge<de.length;ge++)for(var _e=de[ge],Re=ne.x-_e.x,Be=ne.y-_e.y,Ne=0,Ue=G.targets.length;Ne<Ue;Ne++){var et=G.targets[Ne],Xe=void 0;(Xe=E.func(et)?et(Re,Be,x._proxy,_e,Ne):et)&&ce.push({x:(E.number(Xe.x)?Xe.x:Re)+_e.x,y:(E.number(Xe.y)?Xe.y:Be)+_e.y,range:E.number(Xe.range)?Xe.range:G.range,source:et,index:Ne,offset:_e})}for(var ct={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Tt=0;Tt<ce.length;Tt++){var wt=ce[Tt],ht=wt.range,xt=wt.x-ne.x,gr=wt.y-ne.y,dn=Ht(xt,gr),Vr=dn<=ht;ht===1/0&&ct.inRange&&ct.range!==1/0&&(Vr=!1),ct.target&&!(Vr?ct.inRange&&ht!==1/0?dn/ht<ct.distance/ct.range:ht===1/0&&ct.range!==1/0||dn<ct.distance:!ct.inRange&&dn<ct.distance)||(ct.target=wt,ct.distance=dn,ct.range=ht,ct.inRange=Vr,ct.delta.x=xt,ct.delta.y=gr)}return ct.inRange&&(D.x=ct.target.x,D.y=ct.target.y),j.closest=ct,ct},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},T=Qn(pi,"snap"),H={start:function(k){var x=k.state,D=k.edges,j=x.options;if(!D)return null;k.state={options:{targets:null,relativePoints:[{x:D.left?0:1,y:D.top?0:1}],offset:j.offset||"self",origin:{x:0,y:0},range:j.range}},x.targetFields=x.targetFields||[["width","height"],["x","y"]],pi.start(k),x.offsets=k.state.offsets,k.state=x},set:function(k){var x=k.interaction,D=k.state,j=k.coords,G=D.options,X=D.offsets,te={x:j.x-X[0].x,y:j.y-X[0].y};D.options=me({},G),D.options.targets=[];for(var ne=0,ce=G.targets||[];ne<ce.length;ne++){var ge=ce[ne],de=void 0;if(de=E.func(ge)?ge(te.x,te.y,x):ge){for(var _e=0,Re=D.targetFields;_e<Re.length;_e++){var Be=Re[_e],Ne=Be[0],Ue=Be[1];if(Ne in de||Ue in de){de.x=de[Ne],de.y=de[Ue];break}}D.options.targets.push(de)}}var et=pi.set(k);return D.options=G,et},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Y=Qn(H,"snapSize"),ie={aspectRatio:ns,restrictEdges:_l,restrict:Fs,restrictRect:Bs,restrictSize:Sl,snapEdges:Qn({start:function(k){var x=k.edges;return x?(k.state.targetFields=k.state.targetFields||[[x.left?"left":"right",x.top?"top":"bottom"]],H.start(k)):null},set:H.set,defaults:me(dr(H.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:T,snapSize:Y,spring:Lo,avoid:Lo,transform:Lo,rubberband:Lo},Se={id:"modifiers",install:function(k){var x=k.interactStatic;for(var D in k.usePlugin(fi),k.usePlugin(Ro),x.modifiers=ie,ie){var j=ie[D],G=j._defaults,X=j._methods;G._methods=X,k.defaults.perAction[D]=G}}},Ie=Se,We=function(k){g(D,k);var x=f(D);function D(j,G,X,te,ne,ce){var ge;if(o(this,D),Nt(d(ge=x.call(this,ne)),X),X!==G&&Nt(d(ge),G),ge.timeStamp=ce,ge.originalEvent=X,ge.type=j,ge.pointerId=be(G),ge.pointerType=Ft(G),ge.target=te,ge.currentTarget=null,j==="tap"){var de=ne.getPointerIndex(G);ge.dt=ge.timeStamp-ne.pointers[de].downTime;var _e=ge.timeStamp-ne.tapTime;ge.double=!!ne.prevTap&&ne.prevTap.type!=="doubletap"&&ne.prevTap.target===ge.target&&_e<500}else j==="doubletap"&&(ge.dt=G.timeStamp-ne.tapTime,ge.double=!0);return ge}return m(D,[{key:"_subtractOrigin",value:function(j){var G=j.x,X=j.y;return this.pageX-=G,this.pageY-=X,this.clientX-=G,this.clientY-=X,this}},{key:"_addOrigin",value:function(j){var G=j.x,X=j.y;return this.pageX+=G,this.pageY+=X,this.clientX+=G,this.clientY+=X,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),D}(_t),jt={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(k){k.pointerEvents=jt,k.defaults.actions.pointerEvents=jt.defaults,me(k.actions.phaselessTypes,jt.types)},listeners:{"interactions:new":function(k){var x=k.interaction;x.prevTap=null,x.tapTime=0},"interactions:update-pointer":function(k){var x=k.down,D=k.pointerInfo;!x&&D.hold||(D.hold={duration:1/0,timeout:null})},"interactions:move":function(k,x){var D=k.interaction,j=k.pointer,G=k.event,X=k.eventTarget;k.duplicate||D.pointerIsDown&&!D.pointerWasMoved||(D.pointerIsDown&&Dn(k),cn({interaction:D,pointer:j,event:G,eventTarget:X,type:"move"},x))},"interactions:down":function(k,x){(function(D,j){for(var G=D.interaction,X=D.pointer,te=D.event,ne=D.eventTarget,ce=D.pointerIndex,ge=G.pointers[ce].hold,de=pe(ne),_e={interaction:G,pointer:X,event:te,eventTarget:ne,type:"hold",targets:[],path:de,node:null},Re=0;Re<de.length;Re++){var Be=de[Re];_e.node=Be,j.fire("pointerEvents:collect-targets",_e)}if(_e.targets.length){for(var Ne=1/0,Ue=0,et=_e.targets;Ue<et.length;Ue++){var Xe=et[Ue].eventable.options.holdDuration;Xe<Ne&&(Ne=Xe)}ge.duration=Ne,ge.timeout=setTimeout(function(){cn({interaction:G,eventTarget:ne,pointer:X,event:te,type:"hold"},j)},Ne)}})(k,x),cn(k,x)},"interactions:up":function(k,x){Dn(k),cn(k,x),function(D,j){var G=D.interaction,X=D.pointer,te=D.event,ne=D.eventTarget;G.pointerWasMoved||cn({interaction:G,eventTarget:ne,pointer:X,event:te,type:"tap"},j)}(k,x)},"interactions:cancel":function(k,x){Dn(k),cn(k,x)}},PointerEvent:We,fire:cn,collectEventTargets:Bt,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function cn(k,x){var D=k.interaction,j=k.pointer,G=k.event,X=k.eventTarget,te=k.type,ne=k.targets,ce=ne===void 0?Bt(k,x):ne,ge=new We(te,j,G,X,D,x.now());x.fire("pointerEvents:new",{pointerEvent:ge});for(var de={interaction:D,pointer:j,event:G,eventTarget:X,targets:ce,type:te,pointerEvent:ge},_e=0;_e<ce.length;_e++){var Re=ce[_e];for(var Be in Re.props||{})ge[Be]=Re.props[Be];var Ne=Ge(Re.eventable,Re.node);if(ge._subtractOrigin(Ne),ge.eventable=Re.eventable,ge.currentTarget=Re.node,Re.eventable.fire(ge),ge._addOrigin(Ne),ge.immediatePropagationStopped||ge.propagationStopped&&_e+1<ce.length&&ce[_e+1].node!==ge.currentTarget)break}if(x.fire("pointerEvents:fired",de),te==="tap"){var Ue=ge.double?cn({interaction:D,pointer:j,event:G,eventTarget:X,type:"doubletap"},x):ge;D.prevTap=Ue,D.tapTime=Ue.timeStamp}return ge}function Bt(k,x){var D=k.interaction,j=k.pointer,G=k.event,X=k.eventTarget,te=k.type,ne=D.getPointerIndex(j),ce=D.pointers[ne];if(te==="tap"&&(D.pointerWasMoved||!ce||ce.downTarget!==X))return[];for(var ge=pe(X),de={interaction:D,pointer:j,event:G,eventTarget:X,type:te,path:ge,targets:[],node:null},_e=0;_e<ge.length;_e++){var Re=ge[_e];de.node=Re,x.fire("pointerEvents:collect-targets",de)}return te==="hold"&&(de.targets=de.targets.filter(function(Be){var Ne,Ue;return Be.eventable.options.holdDuration===((Ne=D.pointers[ne])==null||(Ue=Ne.hold)==null?void 0:Ue.duration)})),de.targets}function Dn(k){var x=k.interaction,D=k.pointerIndex,j=x.pointers[D].hold;j&&j.timeout&&(clearTimeout(j.timeout),j.timeout=null)}var Nn=Object.freeze({__proto__:null,default:jt});function gi(k){var x=k.interaction;x.holdIntervalHandle&&(clearInterval(x.holdIntervalHandle),x.holdIntervalHandle=null)}var ri={id:"pointer-events/holdRepeat",install:function(k){k.usePlugin(jt);var x=k.pointerEvents;x.defaults.holdRepeatInterval=0,x.types.holdrepeat=k.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(k,x){return k["pointerEvents:".concat(x)]=gi,k},{"pointerEvents:new":function(k){var x=k.pointerEvent;x.type==="hold"&&(x.count=(x.count||0)+1)},"pointerEvents:fired":function(k,x){var D=k.interaction,j=k.pointerEvent,G=k.eventTarget,X=k.targets;if(j.type==="hold"&&X.length){var te=X[0].eventable.options.holdRepeatInterval;te<=0||(D.holdIntervalHandle=setTimeout(function(){x.pointerEvents.fire({interaction:D,eventTarget:G,type:"hold",pointer:j,event:j},x)},te))}}})},is=ri,Vs={id:"pointer-events/interactableTargets",install:function(k){var x=k.Interactable;x.prototype.pointerEvents=function(j){return me(this.events.options,j),this};var D=x.prototype._backCompatOption;x.prototype._backCompatOption=function(j,G){var X=D.call(this,j,G);return X===this&&(this.events.options[j]=G),X}},listeners:{"pointerEvents:collect-targets":function(k,x){var D=k.targets,j=k.node,G=k.type,X=k.eventTarget;x.interactables.forEachMatch(j,function(te){var ne=te.events,ce=ne.options;ne.types[G]&&ne.types[G].length&&te.testIgnoreAllow(ce,j,X)&&D.push({node:j,eventable:ne,props:{interactable:te}})})},"interactable:new":function(k){var x=k.interactable;x.events.getRect=function(D){return x.getRect(D)}},"interactable:set":function(k,x){var D=k.interactable,j=k.options;me(D.events.options,x.pointerEvents.defaults),me(D.events.options,j.pointerEvents||{})}}},ih=Vs,oh={id:"pointer-events",install:function(k){k.usePlugin(Nn),k.usePlugin(is),k.usePlugin(ih)}},sh=oh,zs={id:"reflow",install:function(k){var x=k.Interactable;k.actions.phases.reflow=!0,x.prototype.reflow=function(D){return function(j,G,X){for(var te=j.getAllElements(),ne=X.window.Promise,ce=ne?[]:null,ge=function(){var _e=te[de],Re=j.getRect(_e);if(!Re)return 1;var Be,Ne=Ze(X.interactions.list,function(Xe){return Xe.interacting()&&Xe.interactable===j&&Xe.element===_e&&Xe.prepared.name===G.name});if(Ne)Ne.move(),ce&&(Be=Ne._reflowPromise||new ne(function(Xe){Ne._reflowResolve=Xe}));else{var Ue=ut(Re),et=function(Xe){return{coords:Xe,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:Ue.x,y:Ue.y},client:{x:Ue.x,y:Ue.y},timeStamp:X.now()});Be=function(Xe,ct,Tt,wt,ht){var xt=Xe.interactions.new({pointerType:"reflow"}),gr={interaction:xt,event:ht,pointer:ht,eventTarget:Tt,phase:"reflow"};xt.interactable=ct,xt.element=Tt,xt.prevEvent=ht,xt.updatePointer(ht,ht,Tt,!0),Wn(xt.coords.delta),zi(xt.prepared,wt),xt._doPhase(gr);var dn=Xe.window,Vr=dn.Promise,ii=Vr?new Vr(function(fo){xt._reflowResolve=fo}):void 0;return xt._reflowPromise=ii,xt.start(wt,ct,Tt),xt._interacting?(xt.move(gr),xt.end(ht)):(xt.stop(),xt._reflowResolve()),xt.removePointer(ht,ht),ii}(X,j,_e,G,et)}ce&&ce.push(Be)},de=0;de<te.length&&!ge();de++);return ce&&ne.all(ce).then(function(){return j})}(this,D,k)}},listeners:{"interactions:stop":function(k,x){var D=k.interaction;D.pointerType==="reflow"&&(D._reflowResolve&&D._reflowResolve(),function(j,G){j.splice(j.indexOf(G),1)}(x.interactions.list,D))}}},Uf=zs;if(Mt.use(Ii),Mt.use(Ri),Mt.use(sh),Mt.use(Ns),Mt.use(Ie),Mt.use(To),Mt.use(Ma),Mt.use(Jo),Mt.use(Uf),Mt.default=Mt,s(n)==="object"&&n)try{n.exports=Mt}catch{}return Mt.default=Mt,Mt})}(uu,uu.exports)),uu.exports}var rO=nO();const ha=dl(rO);/*!
* sweetalert2 v11.15.10
* Released under the MIT License.
*/function OC(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function iO(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jb(n,e){return n.get(OC(n,e))}function oO(n,e,t){iO(n,e),e.set(n,t)}function sO(n,e,t){return n.set(OC(n,e),t),t}const aO=100,vt={},lO=()=>{vt.previousActiveElement instanceof HTMLElement?(vt.previousActiveElement.focus(),vt.previousActiveElement=null):document.body&&document.body.focus()},cO=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,r=window.scrollY;vt.restoreFocusTimeout=setTimeout(()=>{lO(),e()},aO),window.scrollTo(t,r)}),DC="swal2-",uO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Me=uO.reduce((n,e)=>(n[e]=DC+e,n),{}),hO=["success","warning","info","question","error"],Gd=hO.reduce((n,e)=>(n[e]=DC+e,n),{}),NC="SweetAlert2:",Iv=n=>n.charAt(0).toUpperCase()+n.slice(1),Ti=n=>{console.warn(`${NC} ${typeof n=="object"?n.join(" "):n}`)},yl=n=>{console.error(`${NC} ${n}`)},Ub=[],dO=n=>{Ub.includes(n)||(Ub.push(n),Ti(n))},FC=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;dO(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Df=n=>typeof n=="function"?n():n,Rv=n=>n&&typeof n.toPromise=="function",Yu=n=>Rv(n)?n.toPromise():Promise.resolve(n),Mv=n=>n&&Promise.resolve(n)===n,xi=()=>document.body.querySelector(`.${Me.container}`),Xu=n=>{const e=xi();return e?e.querySelector(n):null},Ni=n=>Xu(`.${n}`),Jt=()=>Ni(Me.popup),Ac=()=>Ni(Me.icon),fO=()=>Ni(Me["icon-content"]),BC=()=>Ni(Me.title),Lv=()=>Ni(Me["html-container"]),VC=()=>Ni(Me.image),$v=()=>Ni(Me["progress-steps"]),Nf=()=>Ni(Me["validation-message"]),Qo=()=>Xu(`.${Me.actions} .${Me.confirm}`),kc=()=>Xu(`.${Me.actions} .${Me.cancel}`),wl=()=>Xu(`.${Me.actions} .${Me.deny}`),pO=()=>Ni(Me["input-label"]),Ic=()=>Xu(`.${Me.loader}`),Zu=()=>Ni(Me.actions),zC=()=>Ni(Me.footer),Ff=()=>Ni(Me["timer-progress-bar"]),Pv=()=>Ni(Me.close),gO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ov=()=>{const n=Jt();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((o,c)=>{const m=parseInt(o.getAttribute("tabindex")||"0"),u=parseInt(c.getAttribute("tabindex")||"0");return m>u?1:m<u?-1:0}),r=n.querySelectorAll(gO),s=Array.from(r).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(s))].filter(o=>Ci(o))},Dv=()=>ws(document.body,Me.shown)&&!ws(document.body,Me["toast-shown"])&&!ws(document.body,Me["no-backdrop"]),Bf=()=>{const n=Jt();return n?ws(n,Me.toast):!1},mO=()=>{const n=Jt();return n?n.hasAttribute("data-loading"):!1},Fi=(n,e)=>{if(n.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(c=>{n.appendChild(c)});const o=r.querySelector("body");o&&Array.from(o.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?n.appendChild(c.cloneNode(!0)):n.appendChild(c)})}},ws=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let r=0;r<t.length;r++)if(!n.classList.contains(t[r]))return!1;return!0},vO=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(Me).includes(t)&&!Object.values(Gd).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Di=(n,e,t)=>{if(vO(n,e),!e.customClass)return;const r=e.customClass[t];if(r){if(typeof r!="string"&&!r.forEach){Ti(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof r}"`);return}Kt(n,r)}},Vf=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${Me.popup} > .${Me[e]}`);case"checkbox":return n.querySelector(`.${Me.popup} > .${Me.checkbox} input`);case"radio":return n.querySelector(`.${Me.popup} > .${Me.radio} input:checked`)||n.querySelector(`.${Me.popup} > .${Me.radio} input:first-child`);case"range":return n.querySelector(`.${Me.popup} > .${Me.range} input`);default:return n.querySelector(`.${Me.popup} > .${Me.input}`)}},jC=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},UC=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(n)?n.forEach(s=>{t?s.classList.add(r):s.classList.remove(r)}):t?n.classList.add(r):n.classList.remove(r)}))},Kt=(n,e)=>{UC(n,e,!0)},oo=(n,e)=>{UC(n,e,!1)},da=(n,e)=>{const t=Array.from(n.children);for(let r=0;r<t.length;r++){const s=t[r];if(s instanceof HTMLElement&&ws(s,e))return s}},ol=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},_r=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=e)},Yr=n=>{n&&(n.style.display="none")},Nv=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{Ju(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},Hb=(n,e,t,r)=>{const s=n.querySelector(e);s&&s.style.setProperty(t,r)},Ju=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?_r(n,t):Yr(n)},Ci=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),yO=()=>!Ci(Qo())&&!Ci(wl())&&!Ci(kc()),Wb=n=>n.scrollHeight>n.clientHeight,HC=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||r>0},Fv=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=Ff();t&&Ci(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},wO=()=>{const n=Ff();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),r=e/t*100;n.style.width=`${r}%`},bO=()=>typeof window>"u"||typeof document>"u",_O=`
 <div aria-labelledby="${Me.title}" aria-describedby="${Me["html-container"]}" class="${Me.popup}" tabindex="-1">
   <button type="button" class="${Me.close}"></button>
   <ul class="${Me["progress-steps"]}"></ul>
   <div class="${Me.icon}"></div>
   <img class="${Me.image}" />
   <h2 class="${Me.title}" id="${Me.title}"></h2>
   <div class="${Me["html-container"]}" id="${Me["html-container"]}"></div>
   <input class="${Me.input}" id="${Me.input}" />
   <input type="file" class="${Me.file}" />
   <div class="${Me.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Me.select}" id="${Me.select}"></select>
   <div class="${Me.radio}"></div>
   <label class="${Me.checkbox}">
     <input type="checkbox" id="${Me.checkbox}" />
     <span class="${Me.label}"></span>
   </label>
   <textarea class="${Me.textarea}" id="${Me.textarea}"></textarea>
   <div class="${Me["validation-message"]}" id="${Me["validation-message"]}"></div>
   <div class="${Me.actions}">
     <div class="${Me.loader}"></div>
     <button type="button" class="${Me.confirm}"></button>
     <button type="button" class="${Me.deny}"></button>
     <button type="button" class="${Me.cancel}"></button>
   </div>
   <div class="${Me.footer}"></div>
   <div class="${Me["timer-progress-bar-container"]}">
     <div class="${Me["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),EO=()=>{const n=xi();return n?(n.remove(),oo([document.documentElement,document.body],[Me["no-backdrop"],Me["toast-shown"],Me["has-column"]]),!0):!1},qa=()=>{vt.currentInstance.resetValidationMessage()},SO=()=>{const n=Jt(),e=da(n,Me.input),t=da(n,Me.file),r=n.querySelector(`.${Me.range} input`),s=n.querySelector(`.${Me.range} output`),o=da(n,Me.select),c=n.querySelector(`.${Me.checkbox} input`),m=da(n,Me.textarea);e.oninput=qa,t.onchange=qa,o.onchange=qa,c.onchange=qa,m.oninput=qa,r.oninput=()=>{qa(),s.value=r.value},r.onchange=()=>{qa(),s.value=r.value}},CO=n=>typeof n=="string"?document.querySelector(n):n,TO=n=>{const e=Jt();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},xO=n=>{window.getComputedStyle(n).direction==="rtl"&&Kt(xi(),Me.rtl)},AO=n=>{const e=EO();if(bO()){yl("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=Me.container,e&&Kt(t,Me["no-transition"]),Fi(t,_O);const r=CO(n.target);r.appendChild(t),TO(n),xO(r),SO()},Bv=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?kO(n,e):n&&Fi(e,n)},kO=(n,e)=>{n.jquery?IO(e,n):Fi(e,n.toString())},IO=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},RO=(n,e)=>{const t=Zu(),r=Ic();!t||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Yr(t):_r(t),Di(t,e,"actions"),MO(t,r,e),Fi(r,e.loaderHtml||""),Di(r,e,"loader"))};function MO(n,e,t){const r=Qo(),s=wl(),o=kc();!r||!s||!o||($g(r,"confirm",t),$g(s,"deny",t),$g(o,"cancel",t),LO(r,s,o,t),t.reverseButtons&&(t.toast?(n.insertBefore(o,r),n.insertBefore(s,r)):(n.insertBefore(o,e),n.insertBefore(s,e),n.insertBefore(r,e))))}function LO(n,e,t,r){if(!r.buttonsStyling){oo([n,e,t],Me.styled);return}Kt([n,e,t],Me.styled),r.confirmButtonColor&&(n.style.backgroundColor=r.confirmButtonColor,Kt(n,Me["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,Kt(e,Me["default-outline"])),r.cancelButtonColor&&(t.style.backgroundColor=r.cancelButtonColor,Kt(t,Me["default-outline"]))}function $g(n,e,t){const r=Iv(e);Ju(n,t[`show${r}Button`],"inline-block"),Fi(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=Me[e],Di(n,t,`${e}Button`)}const $O=(n,e)=>{const t=Pv();t&&(Fi(t,e.closeButtonHtml||""),Di(t,e,"closeButton"),Ju(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},PO=(n,e)=>{const t=xi();t&&(OO(t,e.backdrop),DO(t,e.position),NO(t,e.grow),Di(t,e,"container"))};function OO(n,e){typeof e=="string"?n.style.background=e:e||Kt([document.documentElement,document.body],Me["no-backdrop"])}function DO(n,e){e&&(e in Me?Kt(n,Me[e]):(Ti('The "position" parameter is not valid, defaulting to "center"'),Kt(n,Me.center)))}function NO(n,e){e&&Kt(n,Me[`grow-${e}`])}var yn={innerParams:new WeakMap,domCache:new WeakMap};const FO=["input","file","range","select","radio","checkbox","textarea"],BO=(n,e)=>{const t=Jt();if(!t)return;const r=yn.innerParams.get(n),s=!r||e.input!==r.input;FO.forEach(o=>{const c=da(t,Me[o]);c&&(jO(o,e.inputAttributes),c.className=Me[o],s&&Yr(c))}),e.input&&(s&&VO(e),UO(e))},VO=n=>{if(!n.input)return;if(!jn[n.input]){yl(`Unexpected type of input! Expected ${Object.keys(jn).join(" | ")}, got "${n.input}"`);return}const e=WC(n.input);if(!e)return;const t=jn[n.input](e,n);_r(e),n.inputAutoFocus&&setTimeout(()=>{jC(t)})},zO=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},jO=(n,e)=>{const t=Jt();if(!t)return;const r=Vf(t,n);if(r){zO(r);for(const s in e)r.setAttribute(s,e[s])}},UO=n=>{if(!n.input)return;const e=WC(n.input);e&&Di(e,n,"input")},Vv=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},eh=(n,e,t)=>{if(t.inputLabel){const r=document.createElement("label"),s=Me["input-label"];r.setAttribute("for",n.id),r.className=s,typeof t.customClass=="object"&&Kt(r,t.customClass.inputLabel),r.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",r)}},WC=n=>{const e=Jt();if(e)return da(e,Me[n]||Me.input)},Kd=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:Mv(e)||Ti(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},jn={};jn.text=jn.email=jn.password=jn.number=jn.tel=jn.url=jn.search=jn.date=jn["datetime-local"]=jn.time=jn.week=jn.month=(n,e)=>(Kd(n,e.inputValue),eh(n,n,e),Vv(n,e),n.type=e.input,n);jn.file=(n,e)=>(eh(n,n,e),Vv(n,e),n);jn.range=(n,e)=>{const t=n.querySelector("input"),r=n.querySelector("output");return Kd(t,e.inputValue),t.type=e.input,Kd(r,e.inputValue),eh(t,n,e),n};jn.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Fi(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return eh(n,n,e),n};jn.radio=n=>(n.textContent="",n);jn.checkbox=(n,e)=>{const t=Vf(Jt(),"checkbox");t.value="1",t.checked=!!e.inputValue;const r=n.querySelector("span");return Fi(r,e.inputPlaceholder||e.inputLabel),t};jn.textarea=(n,e)=>{Kd(n,e.inputValue),Vv(n,e),eh(n,n,e);const t=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(Jt()).width),s=()=>{if(!document.body.contains(n))return;const o=n.offsetWidth+t(n);o>r?Jt().style.width=`${o}px`:ol(Jt(),"width",e.width)};new MutationObserver(s).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const HO=(n,e)=>{const t=Lv();t&&(Nv(t),Di(t,e,"htmlContainer"),e.html?(Bv(e.html,t),_r(t,"block")):e.text?(t.textContent=e.text,_r(t,"block")):Yr(t),BO(n,e))},WO=(n,e)=>{const t=zC();t&&(Nv(t),Ju(t,e.footer,"block"),e.footer&&Bv(e.footer,t),Di(t,e,"footer"))},GO=(n,e)=>{const t=yn.innerParams.get(n),r=Ac();if(r){if(t&&e.icon===t.icon){Kb(r,e),Gb(r,e);return}if(!e.icon&&!e.iconHtml){Yr(r);return}if(e.icon&&Object.keys(Gd).indexOf(e.icon)===-1){yl(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Yr(r);return}_r(r),Kb(r,e),Gb(r,e),Kt(r,e.showClass&&e.showClass.icon)}},Gb=(n,e)=>{for(const[t,r]of Object.entries(Gd))e.icon!==t&&oo(n,r);Kt(n,e.icon&&Gd[e.icon]),YO(n,e),KO(),Di(n,e,"icon")},KO=()=>{const n=Jt();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<t.length;r++)t[r].style.backgroundColor=e},qO=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,QO=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Kb=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,r="";e.iconHtml?r=qb(e.iconHtml):e.icon==="success"?(r=qO,t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?r=QO:e.icon&&(r=qb({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==r.trim()&&Fi(n,r)},YO=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Hb(n,t,"background-color",e.iconColor);Hb(n,".swal2-success-ring","border-color",e.iconColor)}},qb=n=>`<div class="${Me["icon-content"]}">${n}</div>`,XO=(n,e)=>{const t=VC();if(t){if(!e.imageUrl){Yr(t);return}_r(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),ol(t,"width",e.imageWidth),ol(t,"height",e.imageHeight),t.className=Me.image,Di(t,e,"image")}};let zv=!1,GC=0,KC=0,qC=0,QC=0;const ZO=n=>{n.addEventListener("mousedown",qd),document.body.addEventListener("mousemove",Qd),n.addEventListener("mouseup",Yd),n.addEventListener("touchstart",qd),document.body.addEventListener("touchmove",Qd),n.addEventListener("touchend",Yd)},JO=n=>{n.removeEventListener("mousedown",qd),document.body.removeEventListener("mousemove",Qd),n.removeEventListener("mouseup",Yd),n.removeEventListener("touchstart",qd),document.body.removeEventListener("touchmove",Qd),n.removeEventListener("touchend",Yd)},qd=n=>{const e=Jt();if(n.target===e||Ac().contains(n.target)){zv=!0;const t=YC(n);GC=t.clientX,KC=t.clientY,qC=parseInt(e.style.insetInlineStart)||0,QC=parseInt(e.style.insetBlockStart)||0,Kt(e,"swal2-dragging")}},Qd=n=>{const e=Jt();if(zv){let{clientX:t,clientY:r}=YC(n);e.style.insetInlineStart=`${qC+(t-GC)}px`,e.style.insetBlockStart=`${QC+(r-KC)}px`}},Yd=()=>{const n=Jt();zv=!1,oo(n,"swal2-dragging")},YC=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},eD=(n,e)=>{const t=xi(),r=Jt();if(!(!t||!r)){if(e.toast){ol(t,"width",e.width),r.style.width="100%";const s=Ic();s&&r.insertBefore(s,Ac())}else ol(r,"width",e.width);ol(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Yr(Nf()),tD(r,e),e.draggable&&!e.toast?(Kt(r,Me.draggable),ZO(r)):(oo(r,Me.draggable),JO(r))}},tD=(n,e)=>{const t=e.showClass||{};n.className=`${Me.popup} ${Ci(n)?t.popup:""}`,e.toast?(Kt([document.documentElement,document.body],Me["toast-shown"]),Kt(n,Me.toast)):Kt(n,Me.modal),Di(n,e,"popup"),typeof e.customClass=="string"&&Kt(n,e.customClass),e.icon&&Kt(n,Me[`icon-${e.icon}`])},nD=(n,e)=>{const t=$v();if(!t)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){Yr(t);return}_r(t),t.textContent="",s>=r.length&&Ti("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((o,c)=>{const m=rD(o);if(t.appendChild(m),c===s&&Kt(m,Me["active-progress-step"]),c!==r.length-1){const u=iD(e);t.appendChild(u)}})},rD=n=>{const e=document.createElement("li");return Kt(e,Me["progress-step"]),Fi(e,n),e},iD=n=>{const e=document.createElement("li");return Kt(e,Me["progress-step-line"]),n.progressStepsDistance&&ol(e,"width",n.progressStepsDistance),e},oD=(n,e)=>{const t=BC();t&&(Nv(t),Ju(t,e.title||e.titleText,"block"),e.title&&Bv(e.title,t),e.titleText&&(t.innerText=e.titleText),Di(t,e,"title"))},XC=(n,e)=>{eD(n,e),PO(n,e),nD(n,e),GO(n,e),XO(n,e),oD(n,e),$O(n,e),HO(n,e),RO(n,e),WO(n,e);const t=Jt();typeof e.didRender=="function"&&t&&e.didRender(t),vt.eventEmitter.emit("didRender",t)},sD=()=>Ci(Jt()),ZC=()=>{var n;return(n=Qo())===null||n===void 0?void 0:n.click()},aD=()=>{var n;return(n=wl())===null||n===void 0?void 0:n.click()},lD=()=>{var n;return(n=kc())===null||n===void 0?void 0:n.click()},Rc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),JC=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},cD=(n,e,t)=>{JC(n),e.toast||(n.keydownHandler=r=>hD(e,r,t),n.keydownTarget=e.keydownListenerCapture?window:Jt(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},Em=(n,e)=>{var t;const r=Ov();if(r.length){n=n+e,n===r.length?n=0:n===-1&&(n=r.length-1),r[n].focus();return}(t=Jt())===null||t===void 0||t.focus()},eT=["ArrowRight","ArrowDown"],uD=["ArrowLeft","ArrowUp"],hD=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?dD(e,n):e.key==="Tab"?fD(e):[...eT,...uD].includes(e.key)?pD(e.key):e.key==="Escape"&&gD(e,n,t)))},dD=(n,e)=>{if(!Df(e.allowEnterKey))return;const t=Vf(Jt(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;ZC(),n.preventDefault()}},fD=n=>{const e=n.target,t=Ov();let r=-1;for(let s=0;s<t.length;s++)if(e===t[s]){r=s;break}n.shiftKey?Em(r,-1):Em(r,1),n.stopPropagation(),n.preventDefault()},pD=n=>{const e=Zu(),t=Qo(),r=wl(),s=kc();if(!e||!t||!r||!s)return;const o=[t,r,s];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const c=eT.includes(n)?"nextElementSibling":"previousElementSibling";let m=document.activeElement;if(m){for(let u=0;u<e.children.length;u++){if(m=m[c],!m)return;if(m instanceof HTMLButtonElement&&Ci(m))break}m instanceof HTMLButtonElement&&m.focus()}},gD=(n,e,t)=>{Df(e.allowEscapeKey)&&(n.preventDefault(),t(Rc.esc))};var pc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const mD=()=>{const n=xi();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},tT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},nT=typeof window<"u"&&!!window.GestureEvent,vD=()=>{if(nT&&!ws(document.body,Me.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Kt(document.body,Me.iosfix),yD()}},yD=()=>{const n=xi();if(!n)return;let e;n.ontouchstart=t=>{e=wD(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},wD=n=>{const e=n.target,t=xi(),r=Lv();return!t||!r||bD(n)||_D(n)?!1:e===t||!Wb(t)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Wb(r)&&r.contains(e))},bD=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",_D=n=>n.touches&&n.touches.length>1,ED=()=>{if(ws(document.body,Me.iosfix)){const n=parseInt(document.body.style.top,10);oo(document.body,Me.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},SD=()=>{const n=document.createElement("div");n.className=Me["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let ic=null;const CD=n=>{ic===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(ic=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ic+SD()}px`)},TD=()=>{ic!==null&&(document.body.style.paddingRight=`${ic}px`,ic=null)};function rT(n,e,t,r){Bf()?Qb(n,r):(cO(t).then(()=>Qb(n,r)),JC(vt)),nT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Dv()&&(TD(),ED(),tT()),xD()}function xD(){oo([document.documentElement,document.body],[Me.shown,Me["height-auto"],Me["no-backdrop"],Me["toast-shown"]])}function fa(n){n=kD(n);const e=pc.swalPromiseResolve.get(this),t=AD(this);this.isAwaitingPromise?n.isDismissed||(th(this),e(n)):t&&e(n)}const AD=n=>{const e=Jt();if(!e)return!1;const t=yn.innerParams.get(n);if(!t||ws(e,t.hideClass.popup))return!1;oo(e,t.showClass.popup),Kt(e,t.hideClass.popup);const r=xi();return oo(r,t.showClass.backdrop),Kt(r,t.hideClass.backdrop),ID(n,e,t),!0};function iT(n){const e=pc.swalPromiseReject.get(this);th(this),e&&e(n)}const th=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,yn.innerParams.get(n)||n._destroy())},kD=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),ID=(n,e,t)=>{var r;const s=xi(),o=HC(e);typeof t.willClose=="function"&&t.willClose(e),(r=vt.eventEmitter)===null||r===void 0||r.emit("willClose",e),o?RD(n,e,s,t.returnFocus,t.didClose):rT(n,s,t.returnFocus,t.didClose)},RD=(n,e,t,r,s)=>{vt.swalCloseEventFinishedCallback=rT.bind(null,n,t,r,s);const o=function(c){if(c.target===e){var m;(m=vt.swalCloseEventFinishedCallback)===null||m===void 0||m.call(vt),delete vt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",o),e.removeEventListener("transitionend",o)}};e.addEventListener("animationend",o),e.addEventListener("transitionend",o)},Qb=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=vt.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},gc=n=>{let e=Jt();if(e||new bs,e=Jt(),!e)return;const t=Ic();Bf()?Yr(Ac()):MD(e,n),_r(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},MD=(n,e)=>{const t=Zu(),r=Ic();!t||!r||(!e&&Ci(Qo())&&(e=Qo()),_r(t),e&&(Yr(e),r.setAttribute("data-button-to-replace",e.className),t.insertBefore(r,e)),Kt([n,t],Me.loading))},LD=(n,e)=>{e.input==="select"||e.input==="radio"?ND(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Rv(e.inputValue)||Mv(e.inputValue))&&(gc(Qo()),FD(n,e))},$D=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return PD(t);case"radio":return OD(t);case"file":return DD(t);default:return e.inputAutoTrim?t.value.trim():t.value}},PD=n=>n.checked?1:0,OD=n=>n.checked?n.value:null,DD=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,ND=(n,e)=>{const t=Jt();if(!t)return;const r=s=>{e.input==="select"?BD(t,Xd(s),e):e.input==="radio"&&VD(t,Xd(s),e)};Rv(e.inputOptions)||Mv(e.inputOptions)?(gc(Qo()),Yu(e.inputOptions).then(s=>{n.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):yl(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},FD=(n,e)=>{const t=n.getInput();t&&(Yr(t),Yu(e.inputValue).then(r=>{t.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,_r(t),t.focus(),n.hideLoading()}).catch(r=>{yl(`Error in inputValue promise: ${r}`),t.value="",_r(t),t.focus(),n.hideLoading()}))};function BD(n,e,t){const r=da(n,Me.select);if(!r)return;const s=(o,c,m)=>{const u=document.createElement("option");u.value=m,Fi(u,c),u.selected=oT(m,t.inputValue),o.appendChild(u)};e.forEach(o=>{const c=o[0],m=o[1];if(Array.isArray(m)){const u=document.createElement("optgroup");u.label=c,u.disabled=!1,r.appendChild(u),m.forEach(g=>s(u,g[1],g[0]))}else s(r,m,c)}),r.focus()}function VD(n,e,t){const r=da(n,Me.radio);if(!r)return;e.forEach(o=>{const c=o[0],m=o[1],u=document.createElement("input"),g=document.createElement("label");u.type="radio",u.name=Me.radio,u.value=c,oT(c,t.inputValue)&&(u.checked=!0);const a=document.createElement("span");Fi(a,m),a.className=Me.label,g.appendChild(u),g.appendChild(a),r.appendChild(g)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const Xd=n=>{const e=[];return n instanceof Map?n.forEach((t,r)=>{let s=t;typeof s=="object"&&(s=Xd(s)),e.push([r,s])}):Object.keys(n).forEach(t=>{let r=n[t];typeof r=="object"&&(r=Xd(r)),e.push([t,r])}),e},oT=(n,e)=>!!e&&e.toString()===n.toString(),zD=n=>{const e=yn.innerParams.get(n);n.disableButtons(),e.input?sT(n,"confirm"):Uv(n,!0)},jD=n=>{const e=yn.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?sT(n,"deny"):jv(n,!1)},UD=(n,e)=>{n.disableButtons(),e(Rc.cancel)},sT=(n,e)=>{const t=yn.innerParams.get(n);if(!t.input){yl(`The "input" parameter is needed to be set when using returnInputValueOn${Iv(e)}`);return}const r=n.getInput(),s=$D(n,t);t.inputValidator?HD(n,s,e):r&&!r.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||r.validationMessage)):e==="deny"?jv(n,s):Uv(n,s)},HD=(n,e,t)=>{const r=yn.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>Yu(r.inputValidator(e,r.validationMessage))).then(o=>{n.enableButtons(),n.enableInput(),o?n.showValidationMessage(o):t==="deny"?jv(n,e):Uv(n,e)})},jv=(n,e)=>{const t=yn.innerParams.get(n||void 0);t.showLoaderOnDeny&&gc(wl()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>Yu(t.preDeny(e,t.validationMessage))).then(s=>{s===!1?(n.hideLoading(),th(n)):n.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>aT(n||void 0,s))):n.close({isDenied:!0,value:e})},Yb=(n,e)=>{n.close({isConfirmed:!0,value:e})},aT=(n,e)=>{n.rejectPromise(e)},Uv=(n,e)=>{const t=yn.innerParams.get(n||void 0);t.showLoaderOnConfirm&&gc(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>Yu(t.preConfirm(e,t.validationMessage))).then(s=>{Ci(Nf())||s===!1?(n.hideLoading(),th(n)):Yb(n,typeof s>"u"?e:s)}).catch(s=>aT(n||void 0,s))):Yb(n,e)};function Zd(){const n=yn.innerParams.get(this);if(!n)return;const e=yn.domCache.get(this);Yr(e.loader),Bf()?n.icon&&_r(Ac()):WD(e),oo([e.popup,e.actions],Me.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const WD=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?_r(e[0],"inline-block"):yO()&&Yr(n.actions)};function lT(){const n=yn.innerParams.get(this),e=yn.domCache.get(this);return e?Vf(e.popup,n.input):null}function cT(n,e,t){const r=yn.domCache.get(n);e.forEach(s=>{r[s].disabled=t})}function uT(n,e){const t=Jt();if(!(!t||!n))if(n.type==="radio"){const r=t.querySelectorAll(`[name="${Me.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else n.disabled=e}function hT(){cT(this,["confirmButton","denyButton","cancelButton"],!1)}function dT(){cT(this,["confirmButton","denyButton","cancelButton"],!0)}function fT(){uT(this.getInput(),!1)}function pT(){uT(this.getInput(),!0)}function gT(n){const e=yn.domCache.get(this),t=yn.innerParams.get(this);Fi(e.validationMessage,n),e.validationMessage.className=Me["validation-message"],t.customClass&&t.customClass.validationMessage&&Kt(e.validationMessage,t.customClass.validationMessage),_r(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Me["validation-message"]),jC(r),Kt(r,Me.inputerror))}function mT(){const n=yn.domCache.get(this);n.validationMessage&&Yr(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),oo(e,Me.inputerror))}const oc={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},GD=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],KD={allowEnterKey:void 0},qD=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],vT=n=>Object.prototype.hasOwnProperty.call(oc,n),yT=n=>GD.indexOf(n)!==-1,wT=n=>KD[n],QD=n=>{vT(n)||Ti(`Unknown parameter "${n}"`)},YD=n=>{qD.includes(n)&&Ti(`The parameter "${n}" is incompatible with toasts`)},XD=n=>{const e=wT(n);e&&FC(n,e)},ZD=n=>{n.backdrop===!1&&n.allowOutsideClick&&Ti('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in n)QD(e),n.toast&&YD(e),XD(e)};function bT(n){const e=Jt(),t=yn.innerParams.get(this);if(!e||ws(e,t.hideClass.popup)){Ti("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=JD(n),s=Object.assign({},t,r);XC(this,s),yn.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const JD=n=>{const e={};return Object.keys(n).forEach(t=>{yT(t)?e[t]=n[t]:Ti(`Invalid parameter to update: ${t}`)}),e};function _T(){const n=yn.domCache.get(this),e=yn.innerParams.get(this);if(!e){ET(this);return}n.popup&&vt.swalCloseEventFinishedCallback&&(vt.swalCloseEventFinishedCallback(),delete vt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),vt.eventEmitter.emit("didDestroy"),eN(this)}const eN=n=>{ET(n),delete n.params,delete vt.keydownHandler,delete vt.keydownTarget,delete vt.currentInstance},ET=n=>{n.isAwaitingPromise?(Pg(yn,n),n.isAwaitingPromise=!0):(Pg(pc,n),Pg(yn,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Pg=(n,e)=>{for(const t in n)n[t].delete(e)};var tN=Object.freeze({__proto__:null,_destroy:_T,close:fa,closeModal:fa,closePopup:fa,closeToast:fa,disableButtons:dT,disableInput:pT,disableLoading:Zd,enableButtons:hT,enableInput:fT,getInput:lT,handleAwaitingPromise:th,hideLoading:Zd,rejectPromise:iT,resetValidationMessage:mT,showValidationMessage:gT,update:bT});const nN=(n,e,t)=>{n.toast?rN(n,e,t):(oN(e),sN(e),aN(n,e,t))},rN=(n,e,t)=>{e.popup.onclick=()=>{n&&(iN(n)||n.timer||n.input)||t(Rc.close)}},iN=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Jd=!1;const oN=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Jd=!0)}}},sN=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Jd=!0)}}},aN=(n,e,t)=>{e.container.onclick=r=>{if(Jd){Jd=!1;return}r.target===e.container&&Df(n.allowOutsideClick)&&t(Rc.backdrop)}},lN=n=>typeof n=="object"&&n.jquery,Xb=n=>n instanceof Element||lN(n),cN=n=>{const e={};return typeof n[0]=="object"&&!Xb(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,r)=>{const s=n[r];typeof s=="string"||Xb(s)?e[t]=s:s!==void 0&&yl(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof s}`)}),e};function uN(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new this(...e)}function hN(n){class e extends this{_main(r,s){return super._main(r,Object.assign({},n,s))}}return e}const dN=()=>vt.timeout&&vt.timeout.getTimerLeft(),ST=()=>{if(vt.timeout)return wO(),vt.timeout.stop()},CT=()=>{if(vt.timeout){const n=vt.timeout.start();return Fv(n),n}},fN=()=>{const n=vt.timeout;return n&&(n.running?ST():CT())},pN=n=>{if(vt.timeout){const e=vt.timeout.increase(n);return Fv(e,!0),e}},gN=()=>!!(vt.timeout&&vt.timeout.isRunning());let Zb=!1;const Sm={};function mN(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Sm[n]=this,Zb||(document.body.addEventListener("click",vN),Zb=!0)}const vN=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in Sm){const r=e.getAttribute(t);if(r){Sm[t].fire({template:r});return}}};class yN{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const r=this._getHandlersByEventName(e);r.includes(t)||r.push(t)}once(e,t){var r=this;const s=function(){r.removeListener(e,s);for(var o=arguments.length,c=new Array(o),m=0;m<o;m++)c[m]=arguments[m];t.apply(r,c)};this.on(e,s)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this._getHandlersByEventName(e).forEach(o=>{try{o.apply(this,r)}catch(c){console.error(c)}})}removeListener(e,t){const r=this._getHandlersByEventName(e),s=r.indexOf(t);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}vt.eventEmitter=new yN;const wN=(n,e)=>{vt.eventEmitter.on(n,e)},bN=(n,e)=>{vt.eventEmitter.once(n,e)},_N=(n,e)=>{if(!n){vt.eventEmitter.reset();return}e?vt.eventEmitter.removeListener(n,e):vt.eventEmitter.removeAllListeners(n)};var EN=Object.freeze({__proto__:null,argsToParams:cN,bindClickHandler:mN,clickCancel:lD,clickConfirm:ZC,clickDeny:aD,enableLoading:gc,fire:uN,getActions:Zu,getCancelButton:kc,getCloseButton:Pv,getConfirmButton:Qo,getContainer:xi,getDenyButton:wl,getFocusableElements:Ov,getFooter:zC,getHtmlContainer:Lv,getIcon:Ac,getIconContent:fO,getImage:VC,getInputLabel:pO,getLoader:Ic,getPopup:Jt,getProgressSteps:$v,getTimerLeft:dN,getTimerProgressBar:Ff,getTitle:BC,getValidationMessage:Nf,increaseTimer:pN,isDeprecatedParameter:wT,isLoading:mO,isTimerRunning:gN,isUpdatableParameter:yT,isValidParameter:vT,isVisible:sD,mixin:hN,off:_N,on:wN,once:bN,resumeTimer:CT,showLoading:gc,stopTimer:ST,toggleTimer:fN});class SN{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const TT=["swal-title","swal-html","swal-footer"],CN=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return LN(t),Object.assign(TN(t),xN(t),AN(t),kN(t),IN(t),RN(t),MN(t,TT))},TN=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(r=>{ul(r,["name","value"]);const s=r.getAttribute("name"),o=r.getAttribute("value");!s||!o||(typeof oc[s]=="boolean"?e[s]=o!=="false":typeof oc[s]=="object"?e[s]=JSON.parse(o):e[s]=o)}),e},xN=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),o=r.getAttribute("value");!s||!o||(e[s]=new Function(`return ${o}`)())}),e},AN=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(r=>{ul(r,["type","color","aria-label"]);const s=r.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=r.innerHTML,e[`show${Iv(s)}Button`]=!0,r.hasAttribute("color")&&(e[`${s}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},kN=n=>{const e={},t=n.querySelector("swal-image");return t&&(ul(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},IN=n=>{const e={},t=n.querySelector("swal-icon");return t&&(ul(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},RN=n=>{const e={},t=n.querySelector("swal-input");t&&(ul(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const r=Array.from(n.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{ul(s,["value"]);const o=s.getAttribute("value");if(!o)return;const c=s.innerHTML;e.inputOptions[o]=c})),e},MN=(n,e)=>{const t={};for(const r in e){const s=e[r],o=n.querySelector(s);o&&(ul(o,[]),t[s.replace(/^swal-/,"")]=o.innerHTML.trim())}return t},LN=n=>{const e=TT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const r=t.tagName.toLowerCase();e.includes(r)||Ti(`Unrecognized element <${r}>`)})},ul=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&Ti([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},xT=10,$N=n=>{const e=xi(),t=Jt();typeof n.willOpen=="function"&&n.willOpen(t),vt.eventEmitter.emit("willOpen",t);const s=window.getComputedStyle(document.body).overflowY;DN(e,t,n),setTimeout(()=>{PN(e,t)},xT),Dv()&&(ON(e,n.scrollbarPadding,s),mD()),!Bf()&&!vt.previousActiveElement&&(vt.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),vt.eventEmitter.emit("didOpen",t),oo(e,Me["no-transition"])},ef=n=>{const e=Jt();if(n.target!==e)return;const t=xi();e.removeEventListener("animationend",ef),e.removeEventListener("transitionend",ef),t.style.overflowY="auto"},PN=(n,e)=>{HC(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",ef),e.addEventListener("transitionend",ef)):n.style.overflowY="auto"},ON=(n,e,t)=>{vD(),e&&t!=="hidden"&&CD(t),setTimeout(()=>{n.scrollTop=0})},DN=(n,e,t)=>{Kt(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),_r(e,"grid"),setTimeout(()=>{Kt(e,t.showClass.popup),e.style.removeProperty("opacity")},xT)):_r(e,"grid"),Kt([document.documentElement,document.body],Me.shown),t.heightAuto&&t.backdrop&&!t.toast&&Kt([document.documentElement,document.body],Me["height-auto"])};var Jb={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function NN(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=Jb.email),n.input==="url"&&(n.inputValidator=Jb.url))}function FN(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(Ti('Target parameter is not valid, defaulting to "body"'),n.target="body")}function BN(n){NN(n),n.showLoaderOnConfirm&&!n.preConfirm&&Ti(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),FN(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),AO(n)}let Bo;var ld=new WeakMap;class Hn{constructor(){if(oO(this,ld,void 0),typeof window>"u")return;Bo=this;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const s=Object.freeze(this.constructor.argsToParams(t));this.params=s,this.isAwaitingPromise=!1,sO(ld,this,this._main(Bo.params))}_main(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ZD(Object.assign({},t,e)),vt.currentInstance){const o=pc.swalPromiseResolve.get(vt.currentInstance),{isAwaitingPromise:c}=vt.currentInstance;vt.currentInstance._destroy(),c||o({isDismissed:!0}),Dv()&&tT()}vt.currentInstance=Bo;const r=zN(e,t);BN(r),Object.freeze(r),vt.timeout&&(vt.timeout.stop(),delete vt.timeout),clearTimeout(vt.restoreFocusTimeout);const s=jN(Bo);return XC(Bo,r),yn.innerParams.set(Bo,r),VN(Bo,s,r)}then(e){return jb(ld,this).then(e)}finally(e){return jb(ld,this).finally(e)}}const VN=(n,e,t)=>new Promise((r,s)=>{const o=c=>{n.close({isDismissed:!0,dismiss:c})};pc.swalPromiseResolve.set(n,r),pc.swalPromiseReject.set(n,s),e.confirmButton.onclick=()=>{zD(n)},e.denyButton.onclick=()=>{jD(n)},e.cancelButton.onclick=()=>{UD(n,o)},e.closeButton.onclick=()=>{o(Rc.close)},nN(t,e,o),cD(vt,t,o),LD(n,t),$N(t),UN(vt,t,o),HN(e,t),setTimeout(()=>{e.container.scrollTop=0})}),zN=(n,e)=>{const t=CN(n),r=Object.assign({},oc,e,t,n);return r.showClass=Object.assign({},oc.showClass,r.showClass),r.hideClass=Object.assign({},oc.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},jN=n=>{const e={popup:Jt(),container:xi(),actions:Zu(),confirmButton:Qo(),denyButton:wl(),cancelButton:kc(),loader:Ic(),closeButton:Pv(),validationMessage:Nf(),progressSteps:$v()};return yn.domCache.set(n,e),e},UN=(n,e,t)=>{const r=Ff();Yr(r),e.timer&&(n.timeout=new SN(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(_r(r),Di(r,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&Fv(e.timer)})))},HN=(n,e)=>{if(!e.toast){if(!Df(e.allowEnterKey)){FC("allowEnterKey"),KN();return}WN(n)||GN(n,e)||Em(-1,1)}},WN=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Ci(t))return t.focus(),!0;return!1},GN=(n,e)=>e.focusDeny&&Ci(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&Ci(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&Ci(n.confirmButton)?(n.confirmButton.focus(),!0):!1,KN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}Hn.prototype.disableButtons=dT;Hn.prototype.enableButtons=hT;Hn.prototype.getInput=lT;Hn.prototype.disableInput=pT;Hn.prototype.enableInput=fT;Hn.prototype.hideLoading=Zd;Hn.prototype.disableLoading=Zd;Hn.prototype.showValidationMessage=gT;Hn.prototype.resetValidationMessage=mT;Hn.prototype.close=fa;Hn.prototype.closePopup=fa;Hn.prototype.closeModal=fa;Hn.prototype.closeToast=fa;Hn.prototype.rejectPromise=iT;Hn.prototype.update=bT;Hn.prototype._destroy=_T;Object.assign(Hn,EN);Object.keys(tN).forEach(n=>{Hn[n]=function(){return Bo&&Bo[n]?Bo[n](...arguments):null}});Hn.DismissReason=Rc;Hn.version="11.15.10";const bs=Hn;bs.default=bs;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var nh={};(function n(e,t,r,s){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=function(){if(!e.OffscreenCanvas)return!1;var Q=new OffscreenCanvas(1,1),U=Q.getContext("2d");U.fillRect(0,0,1,1);var re=Q.transferToImageBitmap();try{U.createPattern(re,"no-repeat")}catch{return!1}return!0}();function u(){}function g(Q){var U=t.exports.Promise,re=U!==void 0?U:e.Promise;return typeof re=="function"?new re(Q):(Q(u,u),null)}var a=function(Q,U){return{transform:function(re){if(Q)return re;if(U.has(re))return U.get(re);var Z=new OffscreenCanvas(re.width,re.height),he=Z.getContext("2d");return he.drawImage(re,0,0),U.set(re,Z),Z},clear:function(){U.clear()}}}(m,new Map),h=function(){var Q=Math.floor(16.666666666666668),U,re,Z={},he=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(U=function(ue){var ae=Math.random();return Z[ae]=requestAnimationFrame(function pe(Ee){he===Ee||he+Q-1<Ee?(he=Ee,delete Z[ae],ue()):Z[ae]=requestAnimationFrame(pe)}),ae},re=function(ue){Z[ue]&&cancelAnimationFrame(Z[ue])}):(U=function(ue){return setTimeout(ue,Q)},re=function(ue){return clearTimeout(ue)}),{frame:U,cancel:re}}(),d=function(){var Q,U,re={};function Z(he){function ue(ae,pe){he.postMessage({options:ae||{},callback:pe})}he.init=function(pe){var Ee=pe.transferControlToOffscreen();he.postMessage({canvas:Ee},[Ee])},he.fire=function(pe,Ee,me){if(U)return ue(pe,null),U;var Ae=Math.random().toString(36).slice(2);return U=g(function($e){function Qe(ut){ut.data.callback===Ae&&(delete re[Ae],he.removeEventListener("message",Qe),U=null,a.clear(),me(),$e())}he.addEventListener("message",Qe),ue(pe,Ae),re[Ae]=Qe.bind(null,{data:{callback:Ae}})}),U},he.reset=function(){he.postMessage({reset:!0});for(var pe in re)re[pe](),delete re[pe]}}return function(){if(Q)return Q;if(!r&&o){var he=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Q=new Worker(URL.createObjectURL(new Blob([he])))}catch(ue){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ue),null}Z(Q)}return Q}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function p(Q,U){return U?U(Q):Q}function v(Q){return Q!=null}function y(Q,U,re){return p(Q&&v(Q[U])?Q[U]:f[U],re)}function C(Q){return Q<0?0:Math.floor(Q)}function A(Q,U){return Math.floor(Math.random()*(U-Q))+Q}function F(Q){return parseInt(Q,16)}function O(Q){return Q.map($)}function $(Q){var U=String(Q).replace(/[^0-9a-f]/gi,"");return U.length<6&&(U=U[0]+U[0]+U[1]+U[1]+U[2]+U[2]),{r:F(U.substring(0,2)),g:F(U.substring(2,4)),b:F(U.substring(4,6))}}function _(Q){var U=y(Q,"origin",Object);return U.x=y(U,"x",Number),U.y=y(U,"y",Number),U}function E(Q){Q.width=document.documentElement.clientWidth,Q.height=document.documentElement.clientHeight}function I(Q){var U=Q.getBoundingClientRect();Q.width=U.width,Q.height=U.height}function M(Q){var U=document.createElement("canvas");return U.style.position="fixed",U.style.top="0px",U.style.left="0px",U.style.pointerEvents="none",U.style.zIndex=Q,U}function P(Q,U,re,Z,he,ue,ae,pe,Ee){Q.save(),Q.translate(U,re),Q.rotate(ue),Q.scale(Z,he),Q.arc(0,0,1,ae,pe,Ee),Q.restore()}function V(Q){var U=Q.angle*(Math.PI/180),re=Q.spread*(Math.PI/180);return{x:Q.x,y:Q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Q.startVelocity*.5+Math.random()*Q.startVelocity,angle2D:-U+(.5*re-Math.random()*re),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Q.color,shape:Q.shape,tick:0,totalTicks:Q.ticks,decay:Q.decay,drift:Q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Q.gravity*3,ovalScalar:.6,scalar:Q.scalar,flat:Q.flat}}function S(Q,U){U.x+=Math.cos(U.angle2D)*U.velocity+U.drift,U.y+=Math.sin(U.angle2D)*U.velocity+U.gravity,U.velocity*=U.decay,U.flat?(U.wobble=0,U.wobbleX=U.x+10*U.scalar,U.wobbleY=U.y+10*U.scalar,U.tiltSin=0,U.tiltCos=0,U.random=1):(U.wobble+=U.wobbleSpeed,U.wobbleX=U.x+10*U.scalar*Math.cos(U.wobble),U.wobbleY=U.y+10*U.scalar*Math.sin(U.wobble),U.tiltAngle+=.1,U.tiltSin=Math.sin(U.tiltAngle),U.tiltCos=Math.cos(U.tiltAngle),U.random=Math.random()+2);var re=U.tick++/U.totalTicks,Z=U.x+U.random*U.tiltCos,he=U.y+U.random*U.tiltSin,ue=U.wobbleX+U.random*U.tiltCos,ae=U.wobbleY+U.random*U.tiltSin;if(Q.fillStyle="rgba("+U.color.r+", "+U.color.g+", "+U.color.b+", "+(1-re)+")",Q.beginPath(),c&&U.shape.type==="path"&&typeof U.shape.path=="string"&&Array.isArray(U.shape.matrix))Q.fill(q(U.shape.path,U.shape.matrix,U.x,U.y,Math.abs(ue-Z)*.1,Math.abs(ae-he)*.1,Math.PI/10*U.wobble));else if(U.shape.type==="bitmap"){var pe=Math.PI/10*U.wobble,Ee=Math.abs(ue-Z)*.1,me=Math.abs(ae-he)*.1,Ae=U.shape.bitmap.width*U.scalar,$e=U.shape.bitmap.height*U.scalar,Qe=new DOMMatrix([Math.cos(pe)*Ee,Math.sin(pe)*Ee,-Math.sin(pe)*me,Math.cos(pe)*me,U.x,U.y]);Qe.multiplySelf(new DOMMatrix(U.shape.matrix));var ut=Q.createPattern(a.transform(U.shape.bitmap),"no-repeat");ut.setTransform(Qe),Q.globalAlpha=1-re,Q.fillStyle=ut,Q.fillRect(U.x-Ae/2,U.y-$e/2,Ae,$e),Q.globalAlpha=1}else if(U.shape==="circle")Q.ellipse?Q.ellipse(U.x,U.y,Math.abs(ue-Z)*U.ovalScalar,Math.abs(ae-he)*U.ovalScalar,Math.PI/10*U.wobble,0,2*Math.PI):P(Q,U.x,U.y,Math.abs(ue-Z)*U.ovalScalar,Math.abs(ae-he)*U.ovalScalar,Math.PI/10*U.wobble,0,2*Math.PI);else if(U.shape==="star")for(var qe=Math.PI/2*3,Ge=4*U.scalar,yt=8*U.scalar,Ot=U.x,Ht=U.y,pn=5,Nt=Math.PI/pn;pn--;)Ot=U.x+Math.cos(qe)*yt,Ht=U.y+Math.sin(qe)*yt,Q.lineTo(Ot,Ht),qe+=Nt,Ot=U.x+Math.cos(qe)*Ge,Ht=U.y+Math.sin(qe)*Ge,Q.lineTo(Ot,Ht),qe+=Nt;else Q.moveTo(Math.floor(U.x),Math.floor(U.y)),Q.lineTo(Math.floor(U.wobbleX),Math.floor(he)),Q.lineTo(Math.floor(ue),Math.floor(ae)),Q.lineTo(Math.floor(Z),Math.floor(U.wobbleY));return Q.closePath(),Q.fill(),U.tick<U.totalTicks}function w(Q,U,re,Z,he){var ue=U.slice(),ae=Q.getContext("2d"),pe,Ee,me=g(function(Ae){function $e(){pe=Ee=null,ae.clearRect(0,0,Z.width,Z.height),a.clear(),he(),Ae()}function Qe(){r&&!(Z.width===s.width&&Z.height===s.height)&&(Z.width=Q.width=s.width,Z.height=Q.height=s.height),!Z.width&&!Z.height&&(re(Q),Z.width=Q.width,Z.height=Q.height),ae.clearRect(0,0,Z.width,Z.height),ue=ue.filter(function(ut){return S(ae,ut)}),ue.length?pe=h.frame(Qe):$e()}pe=h.frame(Qe),Ee=$e});return{addFettis:function(Ae){return ue=ue.concat(Ae),me},canvas:Q,promise:me,reset:function(){pe&&h.cancel(pe),Ee&&Ee()}}}function L(Q,U){var re=!Q,Z=!!y(U||{},"resize"),he=!1,ue=y(U,"disableForReducedMotion",Boolean),ae=o&&!!y(U||{},"useWorker"),pe=ae?d():null,Ee=re?E:I,me=Q&&pe?!!Q.__confetti_initialized:!1,Ae=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,$e;function Qe(qe,Ge,yt){for(var Ot=y(qe,"particleCount",C),Ht=y(qe,"angle",Number),pn=y(qe,"spread",Number),Nt=y(qe,"startVelocity",Number),wn=y(qe,"decay",Number),Wn=y(qe,"gravity",Number),Pn=y(qe,"drift",Number),bn=y(qe,"colors",O),ur=y(qe,"ticks",Number),be=y(qe,"shapes"),ze=y(qe,"scalar"),Ke=!!y(qe,"flat"),ft=_(qe),lt=Ot,kt=[],Lt=Q.width*ft.x,Ft=Q.height*ft.y;lt--;)kt.push(V({x:Lt,y:Ft,angle:Ht,spread:pn,startVelocity:Nt,color:bn[lt%bn.length],shape:be[A(0,be.length)],ticks:ur,decay:wn,gravity:Wn,drift:Pn,scalar:ze,flat:Ke}));return $e?$e.addFettis(kt):($e=w(Q,kt,Ee,Ge,yt),$e.promise)}function ut(qe){var Ge=ue||y(qe,"disableForReducedMotion",Boolean),yt=y(qe,"zIndex",Number);if(Ge&&Ae)return g(function(Nt){Nt()});re&&$e?Q=$e.canvas:re&&!Q&&(Q=M(yt),document.body.appendChild(Q)),Z&&!me&&Ee(Q);var Ot={width:Q.width,height:Q.height};pe&&!me&&pe.init(Q),me=!0,pe&&(Q.__confetti_initialized=!0);function Ht(){if(pe){var Nt={getBoundingClientRect:function(){if(!re)return Q.getBoundingClientRect()}};Ee(Nt),pe.postMessage({resize:{width:Nt.width,height:Nt.height}});return}Ot.width=Ot.height=null}function pn(){$e=null,Z&&(he=!1,e.removeEventListener("resize",Ht)),re&&Q&&(document.body.contains(Q)&&document.body.removeChild(Q),Q=null,me=!1)}return Z&&!he&&(he=!0,e.addEventListener("resize",Ht,!1)),pe?pe.fire(qe,Ot,pn):Qe(qe,Ot,pn)}return ut.reset=function(){pe&&pe.reset(),$e&&$e.reset()},ut}var N;function z(){return N||(N=L(null,{useWorker:!0,resize:!0})),N}function q(Q,U,re,Z,he,ue,ae){var pe=new Path2D(Q),Ee=new Path2D;Ee.addPath(pe,new DOMMatrix(U));var me=new Path2D;return me.addPath(Ee,new DOMMatrix([Math.cos(ae)*he,Math.sin(ae)*he,-Math.sin(ae)*ue,Math.cos(ae)*ue,re,Z])),me}function K(Q){if(!c)throw new Error("path confetti are not supported in this browser");var U,re;typeof Q=="string"?U=Q:(U=Q.path,re=Q.matrix);var Z=new Path2D(U),he=document.createElement("canvas"),ue=he.getContext("2d");if(!re){for(var ae=1e3,pe=ae,Ee=ae,me=0,Ae=0,$e,Qe,ut=0;ut<ae;ut+=2)for(var qe=0;qe<ae;qe+=2)ue.isPointInPath(Z,ut,qe,"nonzero")&&(pe=Math.min(pe,ut),Ee=Math.min(Ee,qe),me=Math.max(me,ut),Ae=Math.max(Ae,qe));$e=me-pe,Qe=Ae-Ee;var Ge=10,yt=Math.min(Ge/$e,Ge/Qe);re=[yt,0,0,yt,-Math.round($e/2+pe)*yt,-Math.round(Qe/2+Ee)*yt]}return{type:"path",path:U,matrix:re}}function J(Q){var U,re=1,Z="#000000",he='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Q=="string"?U=Q:(U=Q.text,re="scalar"in Q?Q.scalar:re,he="fontFamily"in Q?Q.fontFamily:he,Z="color"in Q?Q.color:Z);var ue=10*re,ae=""+ue+"px "+he,pe=new OffscreenCanvas(ue,ue),Ee=pe.getContext("2d");Ee.font=ae;var me=Ee.measureText(U),Ae=Math.ceil(me.actualBoundingBoxRight+me.actualBoundingBoxLeft),$e=Math.ceil(me.actualBoundingBoxAscent+me.actualBoundingBoxDescent),Qe=2,ut=me.actualBoundingBoxLeft+Qe,qe=me.actualBoundingBoxAscent+Qe;Ae+=Qe+Qe,$e+=Qe+Qe,pe=new OffscreenCanvas(Ae,$e),Ee=pe.getContext("2d"),Ee.font=ae,Ee.fillStyle=Z,Ee.fillText(U,ut,qe);var Ge=1/re;return{type:"bitmap",bitmap:pe.transferToImageBitmap(),matrix:[Ge,0,0,Ge,-Ae*Ge/2,-$e*Ge/2]}}t.exports=function(){return z().apply(this,arguments)},t.exports.reset=function(){z().reset()},t.exports.create=L,t.exports.shapeFromPath=K,t.exports.shapeFromText=J})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),nh,!1);const AT=nh.exports;nh.exports.create;const qN=async(n,e,t,r)=>{if(!n)throw new Error("無效的使用者 ID");const s=new Date,o=Ho(Cs,"grades",n);try{(await zu(o)).exists()?await kR(o,{[`materials.${e.tag}.${e.id}`]:{title:e.title,isCorrect:!0,timeElapsed:t,attempts:r,timestamp:s},updatedAt:s,lastAccessedMaterial:e.title}):await mu(o,{materials:{[e.tag]:{[e.id]:{title:e.title,isCorrect:!0,timeElapsed:t,attempts:r,timestamp:s}}},updatedAt:s,lastAccessedMaterial:e.title}),console.log("✅ 作答結果已更新到 Firebase `grades`")}catch(c){throw console.error("🔥 更新 Firebase 失敗:",c),c}},QN=async(n,e,t,r)=>{if(!n)throw new Error("無效的使用者 ID");const s=new Date,o=Ho(Cs,"test",n);try{const c=await zu(o);if(c.exists()&&c.data()&&c.data()[e.id]){console.log("❗ 已有該題紀錄，不寫入");return}const m={[e.id]:{tag:e.tag,title:e.title,isCorrect:!0,timeElapsed:t,attempts:r,timestamp:s}};await mu(o,m,{merge:!0}),console.log("✅ 作答結果已更新到 Firebase `test_grades`")}catch(c){throw console.error("🔥 更新 Firebase 失敗:",c),c}},kT=async(n,e)=>{const t=Ho(Cs,e,n),r=await zu(t);return r.exists()?r.data():null},YN=()=>{const{userInfo:n}=ka(),{id:e}=kC(),{quizs:t}=oe.useContext(ml)||{},r=t.find(E=>E.id===e),s=t.filter(E=>E.tag===r.tag),o=qu(),c=oe.useRef(null),[m,u]=oe.useState(!1),[g,a]=oe.useState(0),[h,d]=oe.useState(0),f=oe.useRef(null),[p,v]=oe.useState(!1),[y,C]=oe.useState([]);oe.useEffect(()=>{if(d(0),a(0),r&&r.code){const E=r.code.map((I,M)=>({code:I,label:r.codeLabels?r.codeLabels[M]:null}));if(E.length>1){let I;do I=[...E].sort(()=>Math.random()-.5);while(I.map(M=>M.code).join("")===r.code.join(""));C(I)}else C(E)}return ha(".block").draggable({listeners:{move(E){const I=E.target,M=(parseFloat(I.getAttribute("data-x"))||0)+E.dx,P=(parseFloat(I.getAttribute("data-y"))||0)+E.dy;I.style.transform=`translate(${M}px, ${P}px)`,I.setAttribute("data-x",M),I.setAttribute("data-y",P)},end(E){const I=E.target;I.style.transform="",I.removeAttribute("data-x"),I.removeAttribute("data-y")}}}),ha(".zone").dropzone({ondragenter(E){E.target.classList.add("hover")},ondragleave(E){E.target.classList.remove("hover")},ondrop(E){const I=E.relatedTarget,M=E.target;M.classList.remove("hover");const P=Array.from(M.querySelectorAll(".block")),V=I.getBoundingClientRect();let S=!1;for(const w of P){const L=w.getBoundingClientRect();if(V.top<L.top){M.insertBefore(I,w),S=!0;break}}S||M.appendChild(I)},ondropdeactivate(E){E.target.classList.remove("hover")}}),f.current=setInterval(()=>{d(E=>E+1)},1e3),()=>{ha(".block").unset(),ha(".zone").unset(),clearInterval(f.current)}},[r]);const A=()=>{v(E=>!E)},F=()=>{const E=c.current.querySelectorAll(".block"),I=Array.from(E).map(M=>M.textContent);a(M=>{const P=M+1;return JSON.stringify(I)===JSON.stringify(r.code)?(u(!0),clearInterval(f.current),qN(n.uid,r,h,P).then(()=>console.log("🔥 Firebase 更新成功")).catch(V=>console.error("🔥 Firebase 更新失敗",V)),bs.fire({title:"答對了！",text:`恭喜你完成這個題目！
用時 ${h} 秒
作答次數：${P}`,icon:"success",confirmButtonText:"太棒了",confirmButtonColor:"#3085d6",didOpen:()=>{setTimeout(()=>{AT({particleCount:100,spread:70,origin:{y:.6},zIndex:9999})},100)}})):bs.fire({title:"答案不對喔",text:"再試試看吧！",icon:"error",confirmButtonText:"再來一次",confirmButtonColor:"#d33"}),P})},O=()=>{o("/ex_list")},$=()=>{const E=s.findIndex(I=>I.id===r.id);if(E<s.length-1){const I=s[E+1];u(!1),o(`/exercise/${I.id}`)}else bs.fire({title:"恭喜！",text:"你已完成最後一題！",icon:"success",confirmButtonText:"返回題組"}).then(()=>{O()})},_=E=>{switch(E){case"賦值":return{backgroundColor:"#FFE8D6"};case"運算":return{backgroundColor:"#b5e8cb"};case"迴圈":return{backgroundColor:"#FFF9C4"};case"條件判斷":return{backgroundColor:"#B2F2BB"};case"函式定義":return{backgroundColor:"#FFE6EB"};case"輸出":return{backgroundColor:"#EFE6FF"};case"輸入":return{backgroundColor:"#E6F5FB"};case"函式呼叫":return{backgroundColor:"#FFF0F5"};default:return{backgroundColor:"#F9F9F9"}}};return!t||t.length===0?se.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"載入中..."}):se.jsxs(se.Fragment,{children:[se.jsxs("div",{className:"exercise-header",children:[se.jsxs("div",{className:"header-content",children:[se.jsx("h3",{className:"question-title",children:r.title}),se.jsxs("p",{className:"timer",children:["⏳ 時間：",h," 秒 | 📝 作答次數：",g]})]}),se.jsxs("div",{className:"question-description",children:[se.jsx("p",{children:se.jsx("strong",{children:"題目說明："})}),se.jsx("p",{children:r.question})]})]}),se.jsxs("div",{className:"answer-header",style:{justifycontent:"space-between",width:"100%"},children:[se.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[se.jsx("h2",{style:{marginBottom:0},children:"作答區"}),se.jsxs("div",{style:{position:"relative"},children:[se.jsx("button",{type:"button",onClick:A,style:{fontSize:"20px",background:"#fff",borderRadius:"8px",padding:"8px 16px",lineHeight:1.7,alignItems:"center",color:"#333",border:"none",cursor:"pointer"},children:se.jsx("i",{className:"fas fa-circle-question"})}),p&&se.jsxs("div",{style:{position:"absolute",top:"110%",right:0,left:"auto",zIndex:10,background:"#fff",border:"1px solid #eee",borderRadius:"8px",padding:"12px 16px",boxShadow:"0 2px 8px #ccc",minWidth:"120px",maxWidth:"90vw",overflowX:"auto"},children:[se.jsx("b",{children:"顏色說明："}),se.jsxs("div",{style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",gap:"12px",marginTop:"8px"},children:[se.jsx("span",{style:{background:"#FFE8D6",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"賦值"}),se.jsx("span",{style:{background:"#b5e8cb",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"運算"}),se.jsx("span",{style:{background:"#FFF9C4",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"迴圈"}),se.jsx("span",{style:{background:"#B2F2BB",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"條件判斷"}),se.jsx("span",{style:{background:"#FFE6EB",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"函式定義"}),se.jsx("span",{style:{background:"#EFE6FF",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"輸出"}),se.jsx("span",{style:{background:"#E6F5FB",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"輸入"}),se.jsx("span",{style:{background:"#FFF0F5",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"函式呼叫"})]})]})]})]}),se.jsx("div",{id:"answer-zone",className:"zone",ref:c,children:y.map((E,I)=>se.jsx("div",{className:"block block-content",draggable:"true","data-code":I,style:_(E.label),children:E.code},I))})]}),se.jsxs("div",{className:"button-group",style:{display:"flex",gap:"10px",marginTop:"20px",justifyContent:"center"},children:[se.jsx("button",{onClick:F,style:{padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"送出答案"}),se.jsx("button",{onClick:O,style:{padding:"8px 16px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"返回題組"}),m&&se.jsx("button",{onClick:$,style:{padding:"8px 16px",backgroundColor:"#FF9800",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"下一題"})]}),se.jsx("div",{style:{height:"40px",width:"100%"}})]})};var ra={},Gl={},Og={exports:{}},e_;function $u(){return e_||(e_=1,function(n,e){(function(){var t="ace",r=function(){return this}();!r&&typeof window<"u"&&(r=window);var s=function(a,h,d){if(typeof a!="string"){s.original?s.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(d=h),s.modules[a]||(s.payloads[a]=d,s.modules[a]=null)};s.modules={},s.payloads={};var o=function(a,h,d){if(typeof h=="string"){var f=u(a,h);if(f!=null)return d&&d(),f}else if(Object.prototype.toString.call(h)==="[object Array]"){for(var p=[],v=0,y=h.length;v<y;++v){var C=u(a,h[v]);if(C==null&&c.original)return;p.push(C)}return d&&d.apply(null,p)||!0}},c=function(a,h){var d=o("",a,h);return d==null&&c.original?c.original.apply(this,arguments):d},m=function(a,h){if(h.indexOf("!")!==-1){var d=h.split("!");return m(a,d[0])+"!"+m(a,d[1])}if(h.charAt(0)=="."){var f=a.split("/").slice(0,-1).join("/");for(h=f+"/"+h;h.indexOf(".")!==-1&&p!=h;){var p=h;h=h.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return h},u=function(a,h){h=m(a,h);var d=s.modules[h];if(!d){if(d=s.payloads[h],typeof d=="function"){var f={},p={id:h,uri:"",exports:f,packaged:!0},v=function(C,A){return o(h,C,A)},y=d(v,f,p);f=y||p.exports,s.modules[h]=f,delete s.payloads[h]}d=s.modules[h]=f||d}return d};function g(a){var h=r;r[a]||(r[a]={}),h=r[a],(!h.define||!h.define.packaged)&&(s.original=h.define,h.define=s,h.define.packaged=!0),(!h.require||!h.require.packaged)&&(c.original=h.require,h.require=c,h.require.packaged=!0)}g(t)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(t,r,s){function o(c,m,u){Object.defineProperty(c,m,{value:u,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||o(String.prototype,"startsWith",function(c,m){return m=m||0,this.lastIndexOf(c,m)===m}),String.prototype.endsWith||o(String.prototype,"endsWith",function(c,m){var u=this;(m===void 0||m>u.length)&&(m=u.length),m-=c.length;var g=u.indexOf(c,m);return g!==-1&&g===m}),String.prototype.repeat||o(String.prototype,"repeat",function(c){for(var m="",u=this;c>0;)c&1&&(m+=u),(c>>=1)&&(u+=u);return m}),String.prototype.includes||o(String.prototype,"includes",function(c,m){return this.indexOf(c,m)!=-1}),Object.assign||(Object.assign=function(c){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var m=Object(c),u=1;u<arguments.length;u++){var g=arguments[u];g!=null&&Object.keys(g).forEach(function(a){m[a]=g[a]})}return m}),Object.values||(Object.values=function(c){return Object.keys(c).map(function(m){return c[m]})}),Array.prototype.find||o(Array.prototype,"find",function(c){for(var m=this.length,u=arguments[1],g=0;g<m;g++){var a=this[g];if(c.call(u,a,g,this))return a}}),Array.prototype.findIndex||o(Array.prototype,"findIndex",function(c){for(var m=this.length,u=arguments[1],g=0;g<m;g++){var a=this[g];if(c.call(u,a,g,this))return g}}),Array.prototype.includes||o(Array.prototype,"includes",function(c,m){return this.indexOf(c,m)!=-1}),Array.prototype.fill||o(Array.prototype,"fill",function(c){for(var m=this,u=m.length>>>0,g=arguments[1],a=g>>0,h=a<0?Math.max(u+a,0):Math.min(a,u),d=arguments[2],f=d===void 0?u:d>>0,p=f<0?Math.max(u+f,0):Math.min(f,u);h<p;)m[h]=c,h++;return m}),Array.of||o(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(t,r,s){t("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(t,r,s){r.deepCopy=function o(c){if(typeof c!="object"||!c)return c;var m;if(Array.isArray(c)){m=[];for(var u=0;u<c.length;u++)m[u]=o(c[u]);return m}if(Object.prototype.toString.call(c)!=="[object Object]")return c;m={};for(var u in c)m[u]=o(c[u]);return m}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(t,r,s){r.last=function(m){return m[m.length-1]},r.stringReverse=function(m){return m.split("").reverse().join("")},r.stringRepeat=function(m,u){for(var g="";u>0;)u&1&&(g+=m),(u>>=1)&&(m+=m);return g};var o=/^\s\s*/,c=/\s\s*$/;r.stringTrimLeft=function(m){return m.replace(o,"")},r.stringTrimRight=function(m){return m.replace(c,"")},r.copyObject=function(m){var u={};for(var g in m)u[g]=m[g];return u},r.copyArray=function(m){for(var u=[],g=0,a=m.length;g<a;g++)m[g]&&typeof m[g]=="object"?u[g]=this.copyObject(m[g]):u[g]=m[g];return u},r.deepCopy=t("./deep_copy").deepCopy,r.arrayToMap=function(m){for(var u={},g=0;g<m.length;g++)u[m[g]]=1;return u},r.createMap=function(m){var u=Object.create(null);for(var g in m)u[g]=m[g];return u},r.arrayRemove=function(m,u){for(var g=0;g<=m.length;g++)u===m[g]&&m.splice(g,1)},r.escapeRegExp=function(m){return m.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},r.escapeHTML=function(m){return(""+m).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},r.getMatchOffsets=function(m,u){var g=[];return m.replace(u,function(a){g.push({offset:arguments[arguments.length-2],length:a.length})}),g},r.deferredCall=function(m){var u=null,g=function(){u=null,m()},a=function(h){return a.cancel(),u=setTimeout(g,h||0),a};return a.schedule=a,a.call=function(){return this.cancel(),m(),a},a.cancel=function(){return clearTimeout(u),u=null,a},a.isPending=function(){return u},a},r.delayedCall=function(m,u){var g=null,a=function(){g=null,m()},h=function(d){g==null&&(g=setTimeout(a,d||u))};return h.delay=function(d){g&&clearTimeout(g),g=setTimeout(a,d||u)},h.schedule=h,h.call=function(){this.cancel(),m()},h.cancel=function(){g&&clearTimeout(g),g=null},h.isPending=function(){return g},h},r.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},r.skipEmptyMatch=function(m,u,g){return g&&m.codePointAt(u)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,r,s){r.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},r.getOS=function(){return r.isMac?r.OS.MAC:r.isLinux?r.OS.LINUX:r.OS.WINDOWS};var o=typeof navigator=="object"?navigator:{},c=(/mac|win|linux/i.exec(o.platform)||["other"])[0].toLowerCase(),m=o.userAgent||"",u=o.appName||"";r.isWin=c=="win",r.isMac=c=="mac",r.isLinux=c=="linux",r.isIE=u=="Microsoft Internet Explorer"||u.indexOf("MSAppHost")>=0?parseFloat((m.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((m.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),r.isOldIE=r.isIE&&r.isIE<9,r.isGecko=r.isMozilla=m.match(/ Gecko\/\d+/),r.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",r.isWebKit=parseFloat(m.split("WebKit/")[1])||void 0,r.isChrome=parseFloat(m.split(" Chrome/")[1])||void 0,r.isSafari=parseFloat(m.split(" Safari/")[1])&&!r.isChrome||void 0,r.isEdge=parseFloat(m.split(" Edge/")[1])||void 0,r.isAIR=m.indexOf("AdobeAIR")>=0,r.isAndroid=m.indexOf("Android")>=0,r.isChromeOS=m.indexOf(" CrOS ")>=0,r.isIOS=/iPad|iPhone|iPod/.test(m)&&!window.MSStream,r.isIOS&&(r.isMac=!0),r.isMobile=r.isIOS||r.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(t,r,s){var o=t("./useragent"),c="http://www.w3.org/1999/xhtml";r.buildDom=function d(f,p,v){if(typeof f=="string"&&f){var y=document.createTextNode(f);return p&&p.appendChild(y),y}if(!Array.isArray(f))return f&&f.appendChild&&p&&p.appendChild(f),f;if(typeof f[0]!="string"||!f[0]){for(var C=[],A=0;A<f.length;A++){var F=d(f[A],p,v);F&&C.push(F)}return C}var O=document.createElement(f[0]),$=f[1],_=1;$&&typeof $=="object"&&!Array.isArray($)&&(_=2);for(var A=_;A<f.length;A++)d(f[A],O,v);return _==2&&Object.keys($).forEach(function(E){var I=$[E];E==="class"?O.className=Array.isArray(I)?I.join(" "):I:typeof I=="function"||E=="value"||E[0]=="$"?O[E]=I:E==="ref"?v&&(v[I]=O):E==="style"?typeof I=="string"&&(O.style.cssText=I):I!=null&&O.setAttribute(E,I)}),p&&p.appendChild(O),O},r.getDocumentHead=function(d){return d||(d=document),d.head||d.getElementsByTagName("head")[0]||d.documentElement},r.createElement=function(d,f){return document.createElementNS?document.createElementNS(f||c,d):document.createElement(d)},r.removeChildren=function(d){d.innerHTML=""},r.createTextNode=function(d,f){var p=f?f.ownerDocument:document;return p.createTextNode(d)},r.createFragment=function(d){var f=d?d.ownerDocument:document;return f.createDocumentFragment()},r.hasCssClass=function(d,f){var p=(d.className+"").split(/\s+/g);return p.indexOf(f)!==-1},r.addCssClass=function(d,f){r.hasCssClass(d,f)||(d.className+=" "+f)},r.removeCssClass=function(d,f){for(var p=d.className.split(/\s+/g);;){var v=p.indexOf(f);if(v==-1)break;p.splice(v,1)}d.className=p.join(" ")},r.toggleCssClass=function(d,f){for(var p=d.className.split(/\s+/g),v=!0;;){var y=p.indexOf(f);if(y==-1)break;v=!1,p.splice(y,1)}return v&&p.push(f),d.className=p.join(" "),v},r.setCssClass=function(d,f,p){p?r.addCssClass(d,f):r.removeCssClass(d,f)},r.hasCssString=function(d,f){var p=0,v;if(f=f||document,v=f.querySelectorAll("style")){for(;p<v.length;)if(v[p++].id===d)return!0}},r.removeElementById=function(d,f){f=f||document,f.getElementById(d)&&f.getElementById(d).remove()};var m,u=[];r.useStrictCSP=function(d){m=d,d==!1?g():u||(u=[])};function g(){var d=u;u=null,d&&d.forEach(function(f){a(f[0],f[1])})}function a(d,f,p){if(!(typeof document>"u")){if(u){if(p)g();else if(p===!1)return u.push([d,f])}if(!m){var v=p;!p||!p.getRootNode?v=document:(v=p.getRootNode(),(!v||v==p)&&(v=document));var y=v.ownerDocument||v;if(f&&r.hasCssString(f,v))return null;f&&(d+=`
/*# sourceURL=ace/css/`+f+" */");var C=r.createElement("style");C.appendChild(y.createTextNode(d)),f&&(C.id=f),v==y&&(v=r.getDocumentHead(y)),v.insertBefore(C,v.firstChild)}}}if(r.importCssString=a,r.importCssStylsheet=function(d,f){r.buildDom(["link",{rel:"stylesheet",href:d}],r.getDocumentHead(f))},r.scrollbarWidth=function(d){var f=r.createElement("ace_inner");f.style.width="100%",f.style.minWidth="0px",f.style.height="200px",f.style.display="block";var p=r.createElement("ace_outer"),v=p.style;v.position="absolute",v.left="-10000px",v.overflow="hidden",v.width="200px",v.minWidth="0px",v.height="150px",v.display="block",p.appendChild(f);var y=d&&d.documentElement||document&&document.documentElement;if(!y)return 0;y.appendChild(p);var C=f.offsetWidth;v.overflow="scroll";var A=f.offsetWidth;return C===A&&(A=p.clientWidth),y.removeChild(p),C-A},r.computedStyle=function(d,f){return window.getComputedStyle(d,"")||{}},r.setStyle=function(d,f,p){d[f]!==p&&(d[f]=p)},r.HAS_CSS_ANIMATION=!1,r.HAS_CSS_TRANSFORMS=!1,r.HI_DPI=o.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,o.isChromeOS&&(r.HI_DPI=!1),typeof document<"u"){var h=document.createElement("div");r.HI_DPI&&h.style.transform!==void 0&&(r.HAS_CSS_TRANSFORMS=!0),!o.isEdge&&typeof h.style.animationName<"u"&&(r.HAS_CSS_ANIMATION=!0),h=null}r.HAS_CSS_TRANSFORMS?r.translate=function(d,f,p){d.style.transform="translate("+Math.round(f)+"px, "+Math.round(p)+"px)"}:r.translate=function(d,f,p){d.style.top=Math.round(p)+"px",d.style.left=Math.round(f)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,r,s){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var o=t("./dom");r.get=function(c,m){var u=new XMLHttpRequest;u.open("GET",c,!0),u.onreadystatechange=function(){u.readyState===4&&m(u.responseText)},u.send(null)},r.loadScript=function(c,m){var u=o.getDocumentHead(),g=document.createElement("script");g.src=c,u.appendChild(g),g.onload=g.onreadystatechange=function(a,h){(h||!g.readyState||g.readyState=="loaded"||g.readyState=="complete")&&(g=g.onload=g.onreadystatechange=null,h||m())}},r.qualifyURL=function(c){var m=document.createElement("a");return m.href=c,m.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(t,r,s){r.inherits=function(o,c){o.super_=c,o.prototype=Object.create(c.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})},r.mixin=function(o,c){for(var m in c)o[m]=c[m];return o},r.implement=function(o,c){r.mixin(o,c)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,r,s){var o={},c=function(){this.propagationStopped=!0},m=function(){this.defaultPrevented=!0};o._emit=o._dispatchEvent=function(u,g){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var a=this._eventRegistry[u]||[],h=this._defaultHandlers[u];if(!(!a.length&&!h)){(typeof g!="object"||!g)&&(g={}),g.type||(g.type=u),g.stopPropagation||(g.stopPropagation=c),g.preventDefault||(g.preventDefault=m),a=a.slice();for(var d=0;d<a.length&&(a[d](g,this),!g.propagationStopped);d++);if(h&&!g.defaultPrevented)return h(g,this)}},o._signal=function(u,g){var a=(this._eventRegistry||{})[u];if(a){a=a.slice();for(var h=0;h<a.length;h++)a[h](g,this)}},o.once=function(u,g){var a=this;if(this.on(u,function h(){a.off(u,h),g.apply(null,arguments)}),!g)return new Promise(function(h){g=h})},o.setDefaultHandler=function(u,g){var a=this._defaultHandlers;if(a||(a=this._defaultHandlers={_disabled_:{}}),a[u]){var h=a[u],d=a._disabled_[u];d||(a._disabled_[u]=d=[]),d.push(h);var f=d.indexOf(g);f!=-1&&d.splice(f,1)}a[u]=g},o.removeDefaultHandler=function(u,g){var a=this._defaultHandlers;if(a){var h=a._disabled_[u];if(a[u]==g)h&&this.setDefaultHandler(u,h.pop());else if(h){var d=h.indexOf(g);d!=-1&&h.splice(d,1)}}},o.on=o.addEventListener=function(u,g,a){this._eventRegistry=this._eventRegistry||{};var h=this._eventRegistry[u];return h||(h=this._eventRegistry[u]=[]),h.indexOf(g)==-1&&h[a?"unshift":"push"](g),g},o.off=o.removeListener=o.removeEventListener=function(u,g){this._eventRegistry=this._eventRegistry||{};var a=this._eventRegistry[u];if(a){var h=a.indexOf(g);h!==-1&&a.splice(h,1)}},o.removeAllListeners=function(u){u||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[u]=void 0),this._defaultHandlers&&(this._defaultHandlers[u]=void 0)},r.EventEmitter=o}),ace.define("ace/lib/report_error",["require","exports","module"],function(t,r,s){r.reportError=function(c,m){var u=new Error(c);u.data=m,typeof console=="object"&&console.error&&console.error(u),setTimeout(function(){throw u})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(t,r,s){var o={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"};r.defaultEnglishMessages=o}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(t,r,s){"no use strict";var o=t("./oop"),c=t("./event_emitter").EventEmitter,m=t("./report_error").reportError,u=t("./default_english_messages").defaultEnglishMessages,g={setOptions:function(p){Object.keys(p).forEach(function(v){this.setOption(v,p[v])},this)},getOptions:function(p){var v={};if(p)Array.isArray(p)||(v=p,p=Object.keys(v));else{var y=this.$options;p=Object.keys(y).filter(function(C){return!y[C].hidden})}return p.forEach(function(C){v[C]=this.getOption(C)},this),v},setOption:function(p,v){if(this["$"+p]!==v){var y=this.$options[p];if(!y)return a('misspelled option "'+p+'"');if(y.forwardTo)return this[y.forwardTo]&&this[y.forwardTo].setOption(p,v);y.handlesSet||(this["$"+p]=v),y&&y.set&&y.set.call(this,v)}},getOption:function(p){var v=this.$options[p];return v?v.forwardTo?this[v.forwardTo]&&this[v.forwardTo].getOption(p):v&&v.get?v.get.call(this):this["$"+p]:a('misspelled option "'+p+'"')}};function a(p){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var h,d,f=function(){function p(){this.$defaultOptions={},h=u,d="dollarSigns"}return p.prototype.defineOptions=function(v,y,C){return v.$options||(this.$defaultOptions[y]=v.$options={}),Object.keys(C).forEach(function(A){var F=C[A];typeof F=="string"&&(F={forwardTo:F}),F.name||(F.name=A),v.$options[F.name]=F,"initialValue"in F&&(v["$"+F.name]=F.initialValue)}),o.implement(v,g),this},p.prototype.resetOptions=function(v){Object.keys(v.$options).forEach(function(y){var C=v.$options[y];"value"in C&&v.setOption(y,C.value)})},p.prototype.setDefaultValue=function(v,y,C){if(!v){for(v in this.$defaultOptions)if(this.$defaultOptions[v][y])break;if(!this.$defaultOptions[v][y])return!1}var A=this.$defaultOptions[v]||(this.$defaultOptions[v]={});A[y]&&(A.forwardTo?this.setDefaultValue(A.forwardTo,y,C):A[y].value=C)},p.prototype.setDefaultValues=function(v,y){Object.keys(y).forEach(function(C){this.setDefaultValue(v,C,y[C])},this)},p.prototype.setMessages=function(v,y){h=v,y&&y.placeholders&&(d=y.placeholders)},p.prototype.nls=function(v,y,C){h[v]||(a("No message found for the key '"+v+"' in messages with id "+h.$id+", trying to find a translation for the default string '"+y+"'."),h[y]||a("No message found for the default string '"+y+"' in the provided messages. Falling back to the default English message."));var A=h[v]||h[y]||y;return C&&(d==="dollarSigns"&&(A=A.replace(/\$(\$|[\d]+)/g,function(F,O){return O=="$"?"$":C[O]})),d==="curlyBrackets"&&(A=A.replace(/\{([^\}]+)\}/g,function(F,O){return C[O]}))),A},p}();f.prototype.warn=a,f.prototype.reportError=m,o.implement(f.prototype,c),r.AppConfig=f}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(t,r,s){s.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(t,r,s){r.isDark=!1,r.cssClass="ace-tm",r.cssText=t("./textmate-css"),r.$id="ace/theme/textmate";var o=t("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(t,r,s){"no use strict";var o=t("./lib/lang"),c=t("./lib/net"),m=t("./lib/dom"),u=t("./lib/app_config").AppConfig;s.exports=r=new u;var g={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};r.get=function(f){if(!g.hasOwnProperty(f))throw new Error("Unknown config key: "+f);return g[f]},r.set=function(f,p){if(g.hasOwnProperty(f))g[f]=p;else if(this.setDefaultValue("",f,p)==!1)throw new Error("Unknown config key: "+f);f=="useStrictCSP"&&m.useStrictCSP(p)},r.all=function(){return o.copyObject(g)},r.$modes={},r.moduleUrl=function(f,p){if(g.$moduleUrls[f])return g.$moduleUrls[f];var v=f.split("/");p=p||v[v.length-2]||"";var y=p=="snippets"?"/":"-",C=v[v.length-1];if(p=="worker"&&y=="-"){var A=new RegExp("^"+p+"[\\-_]|[\\-_]"+p+"$","g");C=C.replace(A,"")}(!C||C==p)&&v.length>1&&(C=v[v.length-2]);var F=g[p+"Path"];return F==null?F=g.basePath:y=="/"&&(p=y=""),F&&F.slice(-1)!="/"&&(F+="/"),F+p+y+C+this.get("suffix")},r.setModuleUrl=function(f,p){return g.$moduleUrls[f]=p};var a=function(f,p){if(f==="ace/theme/textmate"||f==="./theme/textmate")return p(null,t("./theme/textmate"));if(h)return h(f,p);console.error("loader is not configured")},h;r.setLoader=function(f){h=f},r.dynamicModules=Object.create(null),r.$loading={},r.$loaded={},r.loadModule=function(f,p){var v;if(Array.isArray(f))var y=f[0],C=f[1];else if(typeof f=="string")var C=f;var A=function(F){if(F&&!r.$loading[C])return p&&p(F);if(r.$loading[C]||(r.$loading[C]=[]),r.$loading[C].push(p),!(r.$loading[C].length>1)){var O=function(){a(C,function($,_){_&&(r.$loaded[C]=_),r._emit("load.module",{name:C,module:_});var E=r.$loading[C];r.$loading[C]=null,E.forEach(function(I){I&&I(_)})})};if(!r.get("packaged"))return O();c.loadScript(r.moduleUrl(C,y),O),d()}};if(r.dynamicModules[C])r.dynamicModules[C]().then(function(F){F.default?A(F.default):A(F)});else{try{v=this.$require(C)}catch{}A(v||r.$loaded[C])}},r.$require=function(f){if(typeof s.require=="function"){var p="require";return s[p](f)}},r.setModuleLoader=function(f,p){r.dynamicModules[f]=p};var d=function(){!g.basePath&&!g.workerPath&&!g.modePath&&!g.themePath&&!Object.keys(g.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),d=function(){})};r.version="1.37.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(t,r,s){t("./lib/fixoldbrowsers");var o=t("./config");o.setLoader(function(g,a){t([g],function(h){a(null,h)})});var c=function(){return this||typeof window<"u"&&window}();s.exports=function(g){o.init=m,o.$require=t,g.require=t},m(!0);function m(g){if(!(!c||!c.document)){o.set("packaged",g||t.packaged||s.packaged||c.define&&(void 0).packaged);var a={},h="",d=document.currentScript||document._currentScript,f=d&&d.ownerDocument||document;d&&d.src&&(h=d.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var p=f.getElementsByTagName("script"),v=0;v<p.length;v++){var y=p[v],C=y.src||y.getAttribute("src");if(C){for(var A=y.attributes,F=0,O=A.length;F<O;F++){var $=A[F];$.name.indexOf("data-ace-")===0&&(a[u($.name.replace(/^data-ace-/,""))]=$.value)}var _=C.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);_&&(h=_[1])}}h&&(a.base=a.base||h,a.packaged=!0),a.basePath=a.base,a.workerPath=a.workerPath||a.base,a.modePath=a.modePath||a.base,a.themePath=a.themePath||a.base,delete a.base;for(var E in a)typeof a[E]<"u"&&o.set(E,a[E])}}function u(g){return g.replace(/-(.)/g,function(a,h){return h.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(t,r,s){var o=function(){function c(m,u,g,a){this.start={row:m,column:u},this.end={row:g,column:a}}return c.prototype.isEqual=function(m){return this.start.row===m.start.row&&this.end.row===m.end.row&&this.start.column===m.start.column&&this.end.column===m.end.column},c.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},c.prototype.contains=function(m,u){return this.compare(m,u)==0},c.prototype.compareRange=function(m){var u,g=m.end,a=m.start;return u=this.compare(g.row,g.column),u==1?(u=this.compare(a.row,a.column),u==1?2:u==0?1:0):u==-1?-2:(u=this.compare(a.row,a.column),u==-1?-1:u==1?42:0)},c.prototype.comparePoint=function(m){return this.compare(m.row,m.column)},c.prototype.containsRange=function(m){return this.comparePoint(m.start)==0&&this.comparePoint(m.end)==0},c.prototype.intersects=function(m){var u=this.compareRange(m);return u==-1||u==0||u==1},c.prototype.isEnd=function(m,u){return this.end.row==m&&this.end.column==u},c.prototype.isStart=function(m,u){return this.start.row==m&&this.start.column==u},c.prototype.setStart=function(m,u){typeof m=="object"?(this.start.column=m.column,this.start.row=m.row):(this.start.row=m,this.start.column=u)},c.prototype.setEnd=function(m,u){typeof m=="object"?(this.end.column=m.column,this.end.row=m.row):(this.end.row=m,this.end.column=u)},c.prototype.inside=function(m,u){return this.compare(m,u)==0?!(this.isEnd(m,u)||this.isStart(m,u)):!1},c.prototype.insideStart=function(m,u){return this.compare(m,u)==0?!this.isEnd(m,u):!1},c.prototype.insideEnd=function(m,u){return this.compare(m,u)==0?!this.isStart(m,u):!1},c.prototype.compare=function(m,u){return!this.isMultiLine()&&m===this.start.row?u<this.start.column?-1:u>this.end.column?1:0:m<this.start.row?-1:m>this.end.row?1:this.start.row===m?u>=this.start.column?0:-1:this.end.row===m?u<=this.end.column?0:1:0},c.prototype.compareStart=function(m,u){return this.start.row==m&&this.start.column==u?-1:this.compare(m,u)},c.prototype.compareEnd=function(m,u){return this.end.row==m&&this.end.column==u?1:this.compare(m,u)},c.prototype.compareInside=function(m,u){return this.end.row==m&&this.end.column==u?1:this.start.row==m&&this.start.column==u?-1:this.compare(m,u)},c.prototype.clipRows=function(m,u){if(this.end.row>u)var g={row:u+1,column:0};else if(this.end.row<m)var g={row:m,column:0};if(this.start.row>u)var a={row:u+1,column:0};else if(this.start.row<m)var a={row:m,column:0};return c.fromPoints(a||this.start,g||this.end)},c.prototype.extend=function(m,u){var g=this.compare(m,u);if(g==0)return this;if(g==-1)var a={row:m,column:u};else var h={row:m,column:u};return c.fromPoints(a||this.start,h||this.end)},c.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},c.prototype.isMultiLine=function(){return this.start.row!==this.end.row},c.prototype.clone=function(){return c.fromPoints(this.start,this.end)},c.prototype.collapseRows=function(){return this.end.column==0?new c(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new c(this.start.row,0,this.end.row,0)},c.prototype.toScreenRange=function(m){var u=m.documentToScreenPosition(this.start),g=m.documentToScreenPosition(this.end);return new c(u.row,u.column,g.row,g.column)},c.prototype.moveBy=function(m,u){this.start.row+=m,this.start.column+=u,this.end.row+=m,this.end.column+=u},c}();o.fromPoints=function(c,m){return new o(c.row,c.column,m.row,m.column)},o.comparePoints=function(c,m){return c.row-m.row||c.column-m.column},r.Range=o}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(t,r,s){for(var o=t("./oop"),c={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},m={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},u=0;u<10;u++)m["Digit"+u]=48+u,m["Numpad"+u]=96+u,c.PRINTABLE_KEYS[48+u]=""+u,c.FUNCTION_KEYS[96+u]="Numpad"+u;for(var u=65;u<91;u++){var g=String.fromCharCode(u+32);m["Key"+g.toUpperCase()]=u,c.PRINTABLE_KEYS[u]=g}for(var u=1;u<13;u++)m["F"+u]=111+u,c.FUNCTION_KEYS[111+u]="F"+u;var a={Shift:16,Control:17,Alt:18,Meta:224};for(var h in a)m[h]=m[h+"Left"]=m[h+"Right"]=a[h];r.$codeToKeyCode=m,c.PRINTABLE_KEYS[173]="-";for(var d in c.FUNCTION_KEYS){var f=c.FUNCTION_KEYS[d].toLowerCase();c[f]=parseInt(d,10)}for(var d in c.PRINTABLE_KEYS){var f=c.PRINTABLE_KEYS[d].toLowerCase();c[f]=parseInt(d,10)}o.mixin(c,c.MODIFIER_KEYS),o.mixin(c,c.PRINTABLE_KEYS),o.mixin(c,c.FUNCTION_KEYS),c.enter=c.return,c.escape=c.esc,c.del=c.delete,function(){for(var p=["cmd","ctrl","alt","shift"],v=Math.pow(2,p.length);v--;)c.KEY_MODS[v]=p.filter(function(y){return v&c.KEY_MODS[y]}).join("-")+"-"}(),c.KEY_MODS[0]="",c.KEY_MODS[-1]="input-",o.mixin(r,c),r.default=r,r.keyCodeToString=function(p){var v=c[p];return typeof v!="string"&&(v=String.fromCharCode(p)),v.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,r,s){var o=t("./keys"),c=t("./useragent"),m=null,u=0,g;function a(){g=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return g={passive:!1},!0}})}catch{}}function h(){return g==null&&a(),g}function d(F,O,$){this.elem=F,this.type=O,this.callback=$}d.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var f=r.addListener=function(F,O,$,_){F.addEventListener(O,$,h()),_&&_.$toDestroy.push(new d(F,O,$))},p=r.removeListener=function(F,O,$){F.removeEventListener(O,$,h())};r.stopEvent=function(F){return r.stopPropagation(F),r.preventDefault(F),!1},r.stopPropagation=function(F){F.stopPropagation&&F.stopPropagation()},r.preventDefault=function(F){F.preventDefault&&F.preventDefault()},r.getButton=function(F){return F.type=="dblclick"?0:F.type=="contextmenu"||c.isMac&&F.ctrlKey&&!F.altKey&&!F.shiftKey?2:F.button},r.capture=function(F,O,$){var _=F&&F.ownerDocument||document;function E(I){O&&O(I),$&&$(I),p(_,"mousemove",O),p(_,"mouseup",E),p(_,"dragstart",E)}return f(_,"mousemove",O),f(_,"mouseup",E),f(_,"dragstart",E),E},r.addMouseWheelListener=function(F,O,$){f(F,"wheel",function(_){var E=.15,I=_.deltaX||0,M=_.deltaY||0;switch(_.deltaMode){case _.DOM_DELTA_PIXEL:_.wheelX=I*E,_.wheelY=M*E;break;case _.DOM_DELTA_LINE:var P=15;_.wheelX=I*P,_.wheelY=M*P;break;case _.DOM_DELTA_PAGE:var V=150;_.wheelX=I*V,_.wheelY=M*V;break}O(_)},$)},r.addMultiMouseDownListener=function(F,O,$,_,E){var I=0,M,P,V,S={2:"dblclick",3:"tripleclick",4:"quadclick"};function w(L){if(r.getButton(L)!==0?I=0:L.detail>1?(I++,I>4&&(I=1)):I=1,c.isIE){var N=Math.abs(L.clientX-M)>5||Math.abs(L.clientY-P)>5;(!V||N)&&(I=1),V&&clearTimeout(V),V=setTimeout(function(){V=null},O[I-1]||600),I==1&&(M=L.clientX,P=L.clientY)}if(L._clicks=I,$[_]("mousedown",L),I>4)I=0;else if(I>1)return $[_](S[I],L)}Array.isArray(F)||(F=[F]),F.forEach(function(L){f(L,"mousedown",w,E)})};function v(F){return 0|(F.ctrlKey?1:0)|(F.altKey?2:0)|(F.shiftKey?4:0)|(F.metaKey?8:0)}r.getModifierString=function(F){return o.KEY_MODS[v(F)]};function y(F,O,$){var _=v(O);if(!$&&O.code&&($=o.$codeToKeyCode[O.code]||$),!c.isMac&&m){if(O.getModifierState&&(O.getModifierState("OS")||O.getModifierState("Win"))&&(_|=8),m.altGr)if((3&_)!=3)m.altGr=0;else return;if($===18||$===17){var E=O.location;if($===17&&E===1)m[$]==1&&(u=O.timeStamp);else if($===18&&_===3&&E===2){var I=O.timeStamp-u;I<50&&(m.altGr=!0)}}}if($ in o.MODIFIER_KEYS&&($=-1),!(!_&&$===13&&O.location===3&&(F(O,_,-$),O.defaultPrevented))){if(c.isChromeOS&&_&8){if(F(O,_,$),O.defaultPrevented)return;_&=-9}return!_&&!($ in o.FUNCTION_KEYS)&&!($ in o.PRINTABLE_KEYS)?!1:F(O,_,$)}}r.addCommandKeyListener=function(F,O,$){var _=null;f(F,"keydown",function(E){m[E.keyCode]=(m[E.keyCode]||0)+1;var I=y(O,E,E.keyCode);return _=E.defaultPrevented,I},$),f(F,"keypress",function(E){_&&(E.ctrlKey||E.altKey||E.shiftKey||E.metaKey)&&(r.stopEvent(E),_=null)},$),f(F,"keyup",function(E){m[E.keyCode]=null},$),m||(C(),f(window,"focus",C))};function C(){m=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!c.isOldIE){var A=1;r.nextTick=function(F,O){O=O||window;var $="zero-timeout-message-"+A++,_=function(E){E.data==$&&(r.stopPropagation(E),p(O,"message",_),F())};f(O,"message",_),O.postMessage($,"*")}}r.$idleBlocked=!1,r.onIdle=function(F,O){return setTimeout(function $(){r.$idleBlocked?setTimeout($,100):F()},O)},r.$idleBlockId=null,r.blockIdle=function(F){r.$idleBlockId&&clearTimeout(r.$idleBlockId),r.$idleBlocked=!0,r.$idleBlockId=setTimeout(function(){r.$idleBlocked=!1},F||100)},r.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),r.nextFrame?r.nextFrame=r.nextFrame.bind(window):r.nextFrame=function(F){setTimeout(F,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(t,r,s){var o;s.exports={lineMode:!1,pasteCancelled:function(){return o&&o>Date.now()-50?!0:o=!1},cancel:function(){o=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(t,r,s){var o=t("../lib/event"),c=t("../config").nls,m=t("../lib/useragent"),u=t("../lib/dom"),g=t("../lib/lang"),a=t("../clipboard"),h=m.isChrome<18,d=m.isIE,f=m.isChrome>63,p=400,v=t("../lib/keys"),y=v.KEY_MODS,C=m.isIOS,A=C?/\s/:/\n/,F=m.isMobile,O;O=function($,_){var E=u.createElement("textarea");E.className="ace_text-input",E.setAttribute("wrap","off"),E.setAttribute("autocorrect","off"),E.setAttribute("autocapitalize","off"),E.setAttribute("spellcheck","false"),E.style.opacity="0",$.insertBefore(E,$.firstChild);var I=!1,M=!1,P=!1,V=!1,S="";F||(E.style.fontSize="1px");var w=!1,L=!1,N="",z=0,q=0,K=0,J=Number.MAX_SAFE_INTEGER,Q=Number.MIN_SAFE_INTEGER,U=0;try{var re=document.activeElement===E}catch{}this.setNumberOfExtraLines=function(be){if(J=Number.MAX_SAFE_INTEGER,Q=Number.MIN_SAFE_INTEGER,be<0){U=0;return}U=be},this.setAriaLabel=function(){var be="";if(_.$textInputAriaLabel&&(be+="".concat(_.$textInputAriaLabel,", ")),_.session){var ze=_.session.selection.cursor.row;be+=c("text-input.aria-label","Cursor at row $0",[ze+1])}E.setAttribute("aria-label",be)},this.setAriaOptions=function(be){be.activeDescendant?(E.setAttribute("aria-haspopup","true"),E.setAttribute("aria-autocomplete",be.inline?"both":"list"),E.setAttribute("aria-activedescendant",be.activeDescendant)):(E.setAttribute("aria-haspopup","false"),E.setAttribute("aria-autocomplete","both"),E.removeAttribute("aria-activedescendant")),be.role&&E.setAttribute("role",be.role),be.setLabel&&(E.setAttribute("aria-roledescription",c("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),o.addListener(E,"blur",function(be){L||(_.onBlur(be),re=!1)},_),o.addListener(E,"focus",function(be){if(!L){if(re=!0,m.isEdge)try{if(!document.hasFocus())return}catch{}_.onFocus(be),m.isEdge?setTimeout(he):he()}},_),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:_.renderer.enableKeyboardAccessibility}),S||f||this.$focusScroll=="browser")return E.focus({preventScroll:!0});var be=E.style.top;E.style.position="fixed",E.style.top="0px";try{var ze=E.getBoundingClientRect().top!=0}catch{return}var Ke=[];if(ze)for(var ft=E.parentElement;ft&&ft.nodeType==1;)Ke.push(ft),ft.setAttribute("ace_nocontext","true"),!ft.parentElement&&ft.getRootNode?ft=ft.getRootNode().host:ft=ft.parentElement;E.focus({preventScroll:!0}),ze&&Ke.forEach(function(lt){lt.removeAttribute("ace_nocontext")}),setTimeout(function(){E.style.position="",E.style.top=="0px"&&(E.style.top=be)},0)},this.blur=function(){E.blur()},this.isFocused=function(){return re},_.on("beforeEndOperation",function(){var be=_.curOp,ze=be&&be.command&&be.command.name;if(ze!="insertstring"){var Ke=ze&&(be.docChanged||be.selectionChanged);P&&Ke&&(N=E.value="",Ht()),he()}}),_.on("changeSelection",this.setAriaLabel);var Z=function(be,ze){for(var Ke=ze,ft=1;ft<=be-J&&ft<2*U+1;ft++)Ke+=_.session.getLine(be-ft).length+1;return Ke},he=C?function(be){if(!(!re||I&&!be||V)){be||(be="");var ze=`
 ab`+be+`cde fg
`;ze!=E.value&&(E.value=N=ze);var Ke=4,ft=4+(be.length||(_.selection.isEmpty()?0:1));(z!=Ke||q!=ft)&&E.setSelectionRange(Ke,ft),z=Ke,q=ft}}:function(){if(!(P||V)&&!(!re&&!Ee)){P=!0;var be=0,ze=0,Ke="";if(_.session){var ft=_.selection,lt=ft.getRange(),kt=ft.cursor.row;kt===Q+1?(J=Q+1,Q=J+2*U):kt===J-1?(Q=J-1,J=Q-2*U):(kt<J-1||kt>Q+1)&&(J=kt>U?kt-U:0,Q=kt>U?kt+U:2*U);for(var Lt=[],Ft=J;Ft<=Q;Ft++)Lt.push(_.session.getLine(Ft));if(Ke=Lt.join(`
`),be=Z(lt.start.row,lt.start.column),ze=Z(lt.end.row,lt.end.column),lt.start.row<J){var $t=_.session.getLine(J-1);be=lt.start.row<J-1?0:be,ze+=$t.length+1,Ke=$t+`
`+Ke}else if(lt.end.row>Q){var _t=_.session.getLine(Q+1);ze=lt.end.row>Q+1?_t.length:lt.end.column,ze+=Ke.length+1,Ke=Ke+`
`+_t}else F&&kt>0&&(Ke=`
`+Ke,ze+=1,be+=1);Ke.length>p&&(be<p&&ze<p?Ke=Ke.slice(0,p):(Ke=`
`,be==ze?be=ze=0:(be=0,ze=1)));var ln=Ke+`

`;ln!=N&&(E.value=N=ln,z=q=ln.length)}if(Ee&&(z=E.selectionStart,q=E.selectionEnd),q!=ze||z!=be||E.selectionEnd!=q)try{E.setSelectionRange(be,ze),z=be,q=ze}catch{}P=!1}};this.resetSelection=he,re&&_.onFocus();var ue=function(be){return be.selectionStart===0&&be.selectionEnd>=N.length&&be.value===N&&N&&be.selectionEnd!==q},ae=function(be){P||(I?I=!1:ue(E)?(_.selectAll(),he()):F&&E.selectionStart!=z&&he())},pe=null;this.setInputHandler=function(be){pe=be},this.getInputHandler=function(){return pe};var Ee=!1,me=function(be,ze){if(Ee&&(Ee=!1),M)return he(),be&&_.onPaste(be),M=!1,"";for(var Ke=E.selectionStart,ft=E.selectionEnd,lt=z,kt=N.length-q,Lt=be,Ft=be.length-Ke,$t=be.length-ft,_t=0;lt>0&&N[_t]==be[_t];)_t++,lt--;for(Lt=Lt.slice(_t),_t=1;kt>0&&N.length-_t>z-1&&N[N.length-_t]==be[be.length-_t];)_t++,kt--;Ft-=_t-1,$t-=_t-1;var ln=Lt.length-_t+1;if(ln<0&&(lt=-ln,ln=0),Lt=Lt.slice(0,ln),!ze&&!Lt&&!Ft&&!lt&&!kt&&!$t)return"";V=!0;var Te=!1;return m.isAndroid&&Lt==". "&&(Lt="  ",Te=!0),Lt&&!lt&&!kt&&!Ft&&!$t||w?_.onTextInput(Lt):_.onTextInput(Lt,{extendLeft:lt,extendRight:kt,restoreStart:Ft,restoreEnd:$t}),V=!1,N=be,z=Ke,q=ft,K=$t,Te?`
`:Lt},Ae=function(be){if(P)return Ot();if(be&&be.inputType){if(be.inputType=="historyUndo")return _.execCommand("undo");if(be.inputType=="historyRedo")return _.execCommand("redo")}var ze=E.value,Ke=me(ze,!0);(ze.length>p+100||A.test(Ke)||F&&z<1&&z==q)&&he()},$e=function(be,ze,Ke){var ft=be.clipboardData||window.clipboardData;if(!(!ft||h)){var lt=d||Ke?"Text":"text/plain";try{return ze?ft.setData(lt,ze)!==!1:ft.getData(lt)}catch(kt){if(!Ke)return $e(kt,ze,!0)}}},Qe=function(be,ze){var Ke=_.getCopyText();if(!Ke)return o.preventDefault(be);$e(be,Ke)?(C&&(he(Ke),I=Ke,setTimeout(function(){I=!1},10)),ze?_.onCut():_.onCopy(),o.preventDefault(be)):(I=!0,E.value=Ke,E.select(),setTimeout(function(){I=!1,he(),ze?_.onCut():_.onCopy()}))},ut=function(be){Qe(be,!0)},qe=function(be){Qe(be,!1)},Ge=function(be){var ze=$e(be);a.pasteCancelled()||(typeof ze=="string"?(ze&&_.onPaste(ze,be),m.isIE&&setTimeout(he),o.preventDefault(be)):(E.value="",M=!0))};o.addCommandKeyListener(E,function(be,ze,Ke){if(!P)return _.onCommandKey(be,ze,Ke)},_),o.addListener(E,"select",ae,_),o.addListener(E,"input",Ae,_),o.addListener(E,"cut",ut,_),o.addListener(E,"copy",qe,_),o.addListener(E,"paste",Ge,_),(!("oncut"in E)||!("oncopy"in E)||!("onpaste"in E))&&o.addListener($,"keydown",function(be){if(!(m.isMac&&!be.metaKey||!be.ctrlKey))switch(be.keyCode){case 67:qe(be);break;case 86:Ge(be);break;case 88:ut(be);break}},_);var yt=function(be){if(!(P||!_.onCompositionStart||_.$readOnly)&&(P={},!w)){be.data&&(P.useTextareaForIME=!1),setTimeout(Ot,0),_._signal("compositionStart"),_.on("mousedown",pn);var ze=_.getSelectionRange();ze.end.row=ze.start.row,ze.end.column=ze.start.column,P.markerRange=ze,P.selectionStart=z,_.onCompositionStart(P),P.useTextareaForIME?(N=E.value="",z=0,q=0):(E.msGetInputContext&&(P.context=E.msGetInputContext()),E.getInputContext&&(P.context=E.getInputContext()))}},Ot=function(){if(!(!P||!_.onCompositionUpdate||_.$readOnly)){if(w)return pn();if(P.useTextareaForIME)_.onCompositionUpdate(E.value);else{var be=E.value;me(be),P.markerRange&&(P.context&&(P.markerRange.start.column=P.selectionStart=P.context.compositionStartOffset),P.markerRange.end.column=P.markerRange.start.column+q-P.selectionStart+K)}}},Ht=function(be){!_.onCompositionEnd||_.$readOnly||(P=!1,_.onCompositionEnd(),_.off("mousedown",pn),be&&Ae())};function pn(){L=!0,E.blur(),E.focus(),L=!1}var Nt=g.delayedCall(Ot,50).schedule.bind(null,null);function wn(be){be.keyCode==27&&E.value.length<E.selectionStart&&(P||(N=E.value),z=q=-1,he()),Nt()}o.addListener(E,"compositionstart",yt,_),o.addListener(E,"compositionupdate",Ot,_),o.addListener(E,"keyup",wn,_),o.addListener(E,"keydown",Nt,_),o.addListener(E,"compositionend",Ht,_),this.getElement=function(){return E},this.setCommandMode=function(be){w=be,E.readOnly=!1},this.setReadOnly=function(be){w||(E.readOnly=be)},this.setCopyWithEmptySelection=function(be){},this.onContextMenu=function(be){Ee=!0,he(),_._emit("nativecontextmenu",{target:_,domEvent:be}),this.moveToMouse(be,!0)},this.moveToMouse=function(be,ze){S||(S=E.style.cssText),E.style.cssText=(ze?"z-index:100000;":"")+(m.isIE?"opacity:0.1;":"")+"text-indent: -"+(z+q)*_.renderer.characterWidth*.5+"px;";var Ke=_.container.getBoundingClientRect(),ft=u.computedStyle(_.container),lt=Ke.top+(parseInt(ft.borderTopWidth)||0),kt=Ke.left+(parseInt(Ke.borderLeftWidth)||0),Lt=Ke.bottom-lt-E.clientHeight-2,Ft=function($t){u.translate(E,$t.clientX-kt-2,Math.min($t.clientY-lt-2,Lt))};Ft(be),be.type=="mousedown"&&(_.renderer.$isMousePressed=!0,clearTimeout(Wn),m.isWin&&o.capture(_.container,Ft,Pn))},this.onContextMenuClose=Pn;var Wn;function Pn(){clearTimeout(Wn),Wn=setTimeout(function(){S&&(E.style.cssText=S,S=""),_.renderer.$isMousePressed=!1,_.renderer.$keepTextAreaAtCursor&&_.renderer.$moveTextAreaToCursor()},0)}var bn=function(be){_.textInput.onContextMenu(be),Pn()};o.addListener(E,"mouseup",bn,_),o.addListener(E,"mousedown",function(be){be.preventDefault(),Pn()},_),o.addListener(_.renderer.scroller,"contextmenu",bn,_),o.addListener(E,"contextmenu",bn,_),C&&ur($,_,E);function ur(be,ze,Ke){var ft=null,lt=!1;Ke.addEventListener("keydown",function(Lt){ft&&clearTimeout(ft),lt=!0},!0),Ke.addEventListener("keyup",function(Lt){ft=setTimeout(function(){lt=!1},100)},!0);var kt=function(Lt){if(document.activeElement===Ke&&!(lt||P||ze.$mouseHandler.isMousePressed)&&!I){var Ft=Ke.selectionStart,$t=Ke.selectionEnd,_t=null,ln=0;if(Ft==0?_t=v.up:Ft==1?_t=v.home:$t>q&&N[$t]==`
`?_t=v.end:Ft<z&&N[Ft-1]==" "?(_t=v.left,ln=y.option):Ft<z||Ft==z&&q!=z&&Ft==$t?_t=v.left:$t>q&&N.slice(0,$t).split(`
`).length>2?_t=v.down:$t>q&&N[$t-1]==" "?(_t=v.right,ln=y.option):($t>q||$t==q&&q!=z&&Ft==$t)&&(_t=v.right),Ft!==$t&&(ln|=y.shift),_t){var Te=ze.onCommandKey({},ln,_t);if(!Te&&ze.commands){_t=v.keyCodeToString(_t);var De=ze.commands.findKeyCommand(ln,_t);De&&ze.execCommand(De)}z=Ft,q=$t,he("")}}};document.addEventListener("selectionchange",kt),ze.on("destroy",function(){document.removeEventListener("selectionchange",kt)})}this.destroy=function(){E.parentElement&&E.parentElement.removeChild(E)}},r.TextInput=O,r.$setUserAgentForTests=function($,_){F=$,C=_}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(t,r,s){var o=t("../lib/useragent"),c=0,m=550,u=function(){function h(d){d.$clickSelection=null;var f=d.editor;f.setDefaultHandler("mousedown",this.onMouseDown.bind(d)),f.setDefaultHandler("dblclick",this.onDoubleClick.bind(d)),f.setDefaultHandler("tripleclick",this.onTripleClick.bind(d)),f.setDefaultHandler("quadclick",this.onQuadClick.bind(d)),f.setDefaultHandler("mousewheel",this.onMouseWheel.bind(d));var p=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];p.forEach(function(v){d[v]=this[v]},this),d.selectByLines=this.extendSelectionBy.bind(d,"getLineRange"),d.selectByWords=this.extendSelectionBy.bind(d,"getWordRange")}return h.prototype.onMouseDown=function(d){var f=d.inSelection(),p=d.getDocumentPosition();this.mousedownEvent=d;var v=this.editor,y=d.getButton();if(y!==0){var C=v.getSelectionRange(),A=C.isEmpty();(A||y==1)&&v.selection.moveToPosition(p),y==2&&(v.textInput.onContextMenu(d.domEvent),o.isMozilla||d.preventDefault());return}if(this.mousedownEvent.time=Date.now(),f&&!v.isFocused()&&(v.focus(),this.$focusTimeout&&!this.$clickSelection&&!v.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(d);return}return this.captureMouse(d),this.startSelect(p,d.domEvent._clicks>1),d.preventDefault()},h.prototype.startSelect=function(d,f){d=d||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var p=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?p.selection.selectToPosition(d):f||p.selection.moveToPosition(d),f||this.select(),p.setStyle("ace_selecting"),this.setState("select"))},h.prototype.select=function(){var d,f=this.editor,p=f.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(p);if(v==-1)d=this.$clickSelection.end;else if(v==1)d=this.$clickSelection.start;else{var y=a(this.$clickSelection,p);p=y.cursor,d=y.anchor}f.selection.setSelectionAnchor(d.row,d.column)}f.selection.selectToPosition(p),f.renderer.scrollCursorIntoView()},h.prototype.extendSelectionBy=function(d){var f,p=this.editor,v=p.renderer.screenToTextCoordinates(this.x,this.y),y=p.selection[d](v.row,v.column);if(this.$clickSelection){var C=this.$clickSelection.comparePoint(y.start),A=this.$clickSelection.comparePoint(y.end);if(C==-1&&A<=0)f=this.$clickSelection.end,(y.end.row!=v.row||y.end.column!=v.column)&&(v=y.start);else if(A==1&&C>=0)f=this.$clickSelection.start,(y.start.row!=v.row||y.start.column!=v.column)&&(v=y.end);else if(C==-1&&A==1)v=y.end,f=y.start;else{var F=a(this.$clickSelection,v);v=F.cursor,f=F.anchor}p.selection.setSelectionAnchor(f.row,f.column)}p.selection.selectToPosition(v),p.renderer.scrollCursorIntoView()},h.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},h.prototype.focusWait=function(){var d=g(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),f=Date.now();(d>c||f-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},h.prototype.onDoubleClick=function(d){var f=d.getDocumentPosition(),p=this.editor,v=p.session,y=v.getBracketRange(f);y?(y.isEmpty()&&(y.start.column--,y.end.column++),this.setState("select")):(y=p.selection.getWordRange(f.row,f.column),this.setState("selectByWords")),this.$clickSelection=y,this.select()},h.prototype.onTripleClick=function(d){var f=d.getDocumentPosition(),p=this.editor;this.setState("selectByLines");var v=p.getSelectionRange();v.isMultiLine()&&v.contains(f.row,f.column)?(this.$clickSelection=p.selection.getLineRange(v.start.row),this.$clickSelection.end=p.selection.getLineRange(v.end.row).end):this.$clickSelection=p.selection.getLineRange(f.row),this.select()},h.prototype.onQuadClick=function(d){var f=this.editor;f.selectAll(),this.$clickSelection=f.getSelectionRange(),this.setState("selectAll")},h.prototype.onMouseWheel=function(d){if(!d.getAccelKey()){d.getShiftKey()&&d.wheelY&&!d.wheelX&&(d.wheelX=d.wheelY,d.wheelY=0);var f=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var p=this.$lastScroll,v=d.domEvent.timeStamp,y=v-p.t,C=y?d.wheelX/y:p.vx,A=y?d.wheelY/y:p.vy;y<m&&(C=(C+p.vx)/2,A=(A+p.vy)/2);var F=Math.abs(C/A),O=!1;if(F>=1&&f.renderer.isScrollableBy(d.wheelX*d.speed,0)&&(O=!0),F<=1&&f.renderer.isScrollableBy(0,d.wheelY*d.speed)&&(O=!0),O)p.allowed=v;else if(v-p.allowed<m){var $=Math.abs(C)<=1.5*Math.abs(p.vx)&&Math.abs(A)<=1.5*Math.abs(p.vy);$?(O=!0,p.allowed=v):p.allowed=0}if(p.t=v,p.vx=C,p.vy=A,O)return f.renderer.scrollBy(d.wheelX*d.speed,d.wheelY*d.speed),d.stop()}},h}();u.prototype.selectEnd=u.prototype.selectByLinesEnd,u.prototype.selectAllEnd=u.prototype.selectByLinesEnd,u.prototype.selectByWordsEnd=u.prototype.selectByLinesEnd,r.DefaultHandlers=u;function g(h,d,f,p){return Math.sqrt(Math.pow(f-h,2)+Math.pow(p-d,2))}function a(h,d){if(h.start.row==h.end.row)var f=2*d.column-h.start.column-h.end.column;else if(h.start.row==h.end.row-1&&!h.start.column&&!h.end.column)var f=d.column-4;else var f=2*d.row-h.start.row-h.end.row;return f<0?{cursor:h.start,anchor:h.end}:{cursor:h.end,anchor:h.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(t,r,s){r.preventParentScroll=function(c){c.stopPropagation();var m=c.currentTarget,u=m.scrollHeight>m.clientHeight;u||c.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(t,r,s){var o=this&&this.__extends||function(){var v=function(y,C){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,F){A.__proto__=F}||function(A,F){for(var O in F)Object.prototype.hasOwnProperty.call(F,O)&&(A[O]=F[O])},v(y,C)};return function(y,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");v(y,C);function A(){this.constructor=y}y.prototype=C===null?Object.create(C):(A.prototype=C.prototype,new A)}}(),c=this&&this.__values||function(v){var y=typeof Symbol=="function"&&Symbol.iterator,C=y&&v[y],A=0;if(C)return C.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&A>=v.length&&(v=void 0),{value:v&&v[A++],done:!v}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},m=t("./lib/dom");t("./lib/event");var u=t("./range").Range,g=t("./lib/scroll").preventParentScroll,a="ace_tooltip",h=function(){function v(y){this.isOpen=!1,this.$element=null,this.$parentNode=y}return v.prototype.$init=function(){return this.$element=m.createElement("div"),this.$element.className=a,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},v.prototype.getElement=function(){return this.$element||this.$init()},v.prototype.setText=function(y){this.getElement().textContent=y},v.prototype.setHtml=function(y){this.getElement().innerHTML=y},v.prototype.setPosition=function(y,C){this.getElement().style.left=y+"px",this.getElement().style.top=C+"px"},v.prototype.setClassName=function(y){m.addCssClass(this.getElement(),y)},v.prototype.setTheme=function(y){this.$element.className=a+" "+(y.isDark?"ace_dark ":"")+(y.cssClass||"")},v.prototype.show=function(y,C,A){y!=null&&this.setText(y),C!=null&&A!=null&&this.setPosition(C,A),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},v.prototype.hide=function(y){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=a,this.isOpen=!1)},v.prototype.getHeight=function(){return this.getElement().offsetHeight},v.prototype.getWidth=function(){return this.getElement().offsetWidth},v.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},v}(),d=function(){function v(){this.popups=[]}return v.prototype.addPopup=function(y){this.popups.push(y),this.updatePopups()},v.prototype.removePopup=function(y){var C=this.popups.indexOf(y);C!==-1&&(this.popups.splice(C,1),this.updatePopups())},v.prototype.updatePopups=function(){var y,C,A,F;this.popups.sort(function(S,w){return w.priority-S.priority});var O=[];try{for(var $=c(this.popups),_=$.next();!_.done;_=$.next()){var E=_.value,I=!0;try{for(var M=(A=void 0,c(O)),P=M.next();!P.done;P=M.next()){var V=P.value;if(this.doPopupsOverlap(V,E)){I=!1;break}}}catch(S){A={error:S}}finally{try{P&&!P.done&&(F=M.return)&&F.call(M)}finally{if(A)throw A.error}}I?O.push(E):E.hide()}}catch(S){y={error:S}}finally{try{_&&!_.done&&(C=$.return)&&C.call($)}finally{if(y)throw y.error}}},v.prototype.doPopupsOverlap=function(y,C){var A=y.getElement().getBoundingClientRect(),F=C.getElement().getBoundingClientRect();return A.left<F.right&&A.right>F.left&&A.top<F.bottom&&A.bottom>F.top},v}(),f=new d;r.popupManager=f,r.Tooltip=h;var p=function(v){o(y,v);function y(C){C===void 0&&(C=document.body);var A=v.call(this,C)||this;A.timeout=void 0,A.lastT=0,A.idleTime=350,A.lastEvent=void 0,A.onMouseOut=A.onMouseOut.bind(A),A.onMouseMove=A.onMouseMove.bind(A),A.waitForHover=A.waitForHover.bind(A),A.hide=A.hide.bind(A);var F=A.getElement();return F.style.whiteSpace="pre-wrap",F.style.pointerEvents="auto",F.addEventListener("mouseout",A.onMouseOut),F.tabIndex=-1,F.addEventListener("blur",(function(){F.contains(document.activeElement)||this.hide()}).bind(A)),F.addEventListener("wheel",g),A}return y.prototype.addToEditor=function(C){C.on("mousemove",this.onMouseMove),C.on("mousedown",this.hide),C.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},y.prototype.removeFromEditor=function(C){C.off("mousemove",this.onMouseMove),C.off("mousedown",this.hide),C.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},y.prototype.onMouseMove=function(C,A){this.lastEvent=C,this.lastT=Date.now();var F=A.$mouseHandler.isMousePressed;if(this.isOpen){var O=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(O.row,O.column)||F||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||F||(this.lastEvent=C,this.timeout=setTimeout(this.waitForHover,this.idleTime))},y.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var C=Date.now()-this.lastT;if(this.idleTime-C>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-C);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},y.prototype.isOutsideOfText=function(C){var A=C.editor,F=C.getDocumentPosition(),O=A.session.getLine(F.row);if(F.column==O.length){var $=A.renderer.pixelToScreenCoordinates(C.clientX,C.clientY),_=A.session.documentToScreenPosition(F.row,F.column);if(_.column!=$.column||_.row!=$.row)return!0}return!1},y.prototype.setDataProvider=function(C){this.$gatherData=C},y.prototype.showForRange=function(C,A,F,O){var $=10;if(!(O&&O!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var _=C.renderer;this.isOpen||(f.addPopup(this),this.$registerCloseEvents(),this.setTheme(_.theme)),this.isOpen=!0,this.addMarker(A,C.session),this.range=u.fromPoints(A.start,A.end);var E=_.textToScreenCoordinates(A.start.row,A.start.column),I=_.scroller.getBoundingClientRect();E.pageX<I.left&&(E.pageX=I.left);var M=this.getElement();M.innerHTML="",M.appendChild(F),M.style.maxHeight="",M.style.display="block";var P=M.clientHeight,V=M.clientWidth,S=window.innerHeight-E.pageY-_.lineHeight,w=!0;E.pageY-P<0&&E.pageY<S&&(w=!1),M.style.maxHeight=(w?E.pageY:S)-$+"px",M.style.top=w?"":E.pageY+_.lineHeight+"px",M.style.bottom=w?window.innerHeight-E.pageY+"px":"",M.style.left=Math.min(E.pageX,window.innerWidth-V-$)+"px"}},y.prototype.addMarker=function(C,A){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=A,this.marker=A&&A.addMarker(C,"ace_highlight-marker","text")},y.prototype.hide=function(C){!C&&document.activeElement==this.getElement()||C&&C.target&&(C.type!="keydown"||C.ctrlKey||C.metaKey)&&this.$element.contains(C.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,f.removePopup(this)))},y.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},y.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},y.prototype.onMouseOut=function(C){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!C.relatedTarget||this.getElement().contains(C.relatedTarget)||C&&C.currentTarget.contains(C.relatedTarget)||C.relatedTarget.classList.contains("ace_content")||this.hide())},y}(h);r.HoverTooltip=p}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(t,r,s){var o=this&&this.__extends||function(){var f=function(p,v){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var A in C)Object.prototype.hasOwnProperty.call(C,A)&&(y[A]=C[A])},f(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");f(p,v);function y(){this.constructor=p}p.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),c=this&&this.__values||function(f){var p=typeof Symbol=="function"&&Symbol.iterator,v=p&&f[p],y=0;if(v)return v.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&y>=f.length&&(f=void 0),{value:f&&f[y++],done:!f}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},m=t("../lib/dom"),u=t("../lib/event"),g=t("../tooltip").Tooltip,a=t("../config").nls;t("../lib/lang");function h(f){var p=f.editor,v=p.renderer.$gutterLayer,y=new d(p);f.editor.setDefaultHandler("guttermousedown",function(_){if(!(!p.isFocused()||_.getButton()!=0)){var E=v.getRegion(_);if(E!="foldWidgets"){var I=_.getDocumentPosition().row,M=p.session.selection;if(_.getShiftKey())M.selectTo(I,0);else{if(_.domEvent.detail==2)return p.selectAll(),_.preventDefault();f.$clickSelection=p.selection.getLineRange(I)}return f.setState("selectByLines"),f.captureMouse(_),_.preventDefault()}}});var C,A;function F(){var _=A.getDocumentPosition().row,E=p.session.getLength();if(_==E){var I=p.renderer.pixelToScreenCoordinates(0,A.y).row,M=A.$pos;if(I>p.session.documentToScreenRow(M.row,M.column))return O()}if(y.showTooltip(_),!!y.isOpen)if(p.on("mousewheel",O),f.$tooltipFollowsMouse)$(A);else{var P=A.getGutterRow(),V=v.$lines.get(P);if(V){var S=V.element.querySelector(".ace_gutter_annotation"),w=S.getBoundingClientRect(),L=y.getElement().style;L.left=w.right+"px",L.top=w.bottom+"px"}else $(A)}}function O(){C&&(C=clearTimeout(C)),y.isOpen&&(y.hideTooltip(),p.off("mousewheel",O))}function $(_){y.setPosition(_.x,_.y)}f.editor.setDefaultHandler("guttermousemove",function(_){var E=_.domEvent.target||_.domEvent.srcElement;if(m.hasCssClass(E,"ace_fold-widget"))return O();y.isOpen&&f.$tooltipFollowsMouse&&$(_),A=_,!C&&(C=setTimeout(function(){C=null,A&&!f.isMousePressed?F():O()},50))}),u.addListener(p.renderer.$gutter,"mouseout",function(_){A=null,!(!y.isOpen||C)&&(C=setTimeout(function(){C=null,O()},50))},p),p.on("changeSession",O),p.on("input",O)}r.GutterHandler=h;var d=function(f){o(p,f);function p(v){var y=f.call(this,v.container)||this;return y.editor=v,y.visibleTooltipRow,y}return p.prototype.setPosition=function(v,y){var C=window.innerWidth||document.documentElement.clientWidth,A=window.innerHeight||document.documentElement.clientHeight,F=this.getWidth(),O=this.getHeight();v+=15,y+=15,v+F>C&&(v-=v+F-C),y+O>A&&(y-=20+O),g.prototype.setPosition.call(this,v,y)},Object.defineProperty(p,"annotationLabels",{get:function(){return{error:{singular:a("gutter-tooltip.aria-label.error.singular","error"),plural:a("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:a("gutter-tooltip.aria-label.security.singular","security finding"),plural:a("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:a("gutter-tooltip.aria-label.warning.singular","warning"),plural:a("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:a("gutter-tooltip.aria-label.info.singular","information message"),plural:a("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:a("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:a("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),p.prototype.showTooltip=function(v){var y,C=this.editor.renderer.$gutterLayer,A=C.$annotations[v],F;A?F={displayText:Array.from(A.displayText),type:Array.from(A.type)}:F={displayText:[],type:[]};var O=C.session.getFoldLine(v);if(O&&C.$showFoldedAnnotations){for(var $={error:[],security:[],warning:[],info:[],hint:[]},_={error:1,security:2,warning:3,info:4,hint:5},E,I=v+1;I<=O.end.row;I++)if(C.$annotations[I])for(var M=0;M<C.$annotations[I].text.length;M++){var P=C.$annotations[I].type[M];$[P].push(C.$annotations[I].text[M]),(!E||_[P]<_[E])&&(E=P)}if(["error","security","warning"].includes(E)){var V="".concat(p.annotationsToSummaryString($)," in folded code.");F.displayText.push(V),F.type.push(E+"_fold")}}if(F.displayText.length===0)return this.hideTooltip();for(var S={error:[],security:[],warning:[],info:[],hint:[]},w=C.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",I=0;I<F.displayText.length;I++){var L=m.createElement("span"),N=m.createElement("span");(y=N.classList).add.apply(y,["ace_".concat(F.type[I]),w]),N.setAttribute("aria-label","".concat(p.annotationLabels[F.type[I].replace("_fold","")].singular)),N.setAttribute("role","img"),N.appendChild(m.createTextNode(" ")),L.appendChild(N),L.appendChild(m.createTextNode(F.displayText[I])),L.appendChild(m.createElement("br")),S[F.type[I].replace("_fold","")].push(L)}var z=this.getElement();m.removeChildren(z),S.error.forEach(function(q){return z.appendChild(q)}),S.security.forEach(function(q){return z.appendChild(q)}),S.warning.forEach(function(q){return z.appendChild(q)}),S.info.forEach(function(q){return z.appendChild(q)}),S.hint.forEach(function(q){return z.appendChild(q)}),z.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.visibleTooltipRow=v,this.editor._signal("showGutterTooltip",this)},p.prototype.hideTooltip=function(){this.isOpen&&(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this))},p.annotationsToSummaryString=function(v){var y,C,A=[],F=["error","security","warning","info","hint"];try{for(var O=c(F),$=O.next();!$.done;$=O.next()){var _=$.value;if(v[_].length){var E=v[_].length===1?p.annotationLabels[_].singular:p.annotationLabels[_].plural;A.push("".concat(v[_].length," ").concat(E))}}}catch(I){y={error:I}}finally{try{$&&!$.done&&(C=O.return)&&C.call(O)}finally{if(y)throw y.error}}return A.join(", ")},p}(g);r.GutterTooltip=d}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,r,s){var o=t("../lib/event"),c=t("../lib/useragent"),m=function(){function u(g,a){this.speed,this.wheelX,this.wheelY,this.domEvent=g,this.editor=a,this.x=this.clientX=g.clientX,this.y=this.clientY=g.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return u.prototype.stopPropagation=function(){o.stopPropagation(this.domEvent),this.propagationStopped=!0},u.prototype.preventDefault=function(){o.preventDefault(this.domEvent),this.defaultPrevented=!0},u.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},u.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},u.prototype.getGutterRow=function(){var g=this.getDocumentPosition().row,a=this.editor.session.documentToScreenRow(g,0),h=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return a-h},u.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var g=this.editor,a=g.getSelectionRange();if(a.isEmpty())this.$inSelection=!1;else{var h=this.getDocumentPosition();this.$inSelection=a.contains(h.row,h.column)}return this.$inSelection},u.prototype.getButton=function(){return o.getButton(this.domEvent)},u.prototype.getShiftKey=function(){return this.domEvent.shiftKey},u.prototype.getAccelKey=function(){return c.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},u}();r.MouseEvent=m}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,r,s){var o=t("../lib/dom"),c=t("../lib/event"),m=t("../lib/useragent"),u=200,g=200,a=5;function h(f){var p=f.editor,v=o.createElement("div");v.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",v.textContent=" ";var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(Z){f[Z]=this[Z]},this),p.on("mousedown",this.onMouseDown.bind(f));var C=p.container,A,F,O,$,_,E,I=0,M,P,V,S,w;this.onDragStart=function(Z){if(this.cancelDrag||!C.draggable){var he=this;return setTimeout(function(){he.startSelect(),he.captureMouse(Z)},0),Z.preventDefault()}_=p.getSelectionRange();var ue=Z.dataTransfer;ue.effectAllowed=p.getReadOnly()?"copy":"copyMove",p.container.appendChild(v),ue.setDragImage&&ue.setDragImage(v,0,0),setTimeout(function(){p.container.removeChild(v)}),ue.clearData(),ue.setData("Text",p.session.getTextRange()),P=!0,this.setState("drag")},this.onDragEnd=function(Z){if(C.draggable=!1,P=!1,this.setState(null),!p.getReadOnly()){var he=Z.dataTransfer.dropEffect;!M&&he=="move"&&p.session.remove(p.getSelectionRange()),p.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Z){if(!(p.getReadOnly()||!U(Z.dataTransfer)))return F=Z.clientX,O=Z.clientY,A||q(),I++,Z.dataTransfer.dropEffect=M=re(Z),c.preventDefault(Z)},this.onDragOver=function(Z){if(!(p.getReadOnly()||!U(Z.dataTransfer)))return F=Z.clientX,O=Z.clientY,A||(q(),I++),J!==null&&(J=null),Z.dataTransfer.dropEffect=M=re(Z),c.preventDefault(Z)},this.onDragLeave=function(Z){if(I--,I<=0&&A)return K(),M=null,c.preventDefault(Z)},this.onDrop=function(Z){if(E){var he=Z.dataTransfer;if(P)switch(M){case"move":_.contains(E.row,E.column)?_={start:E,end:E}:_=p.moveText(_,E);break;case"copy":_=p.moveText(_,E,!0);break}else{var ue=he.getData("Text");_={start:E,end:p.session.insert(E,ue)},p.focus(),M=null}return K(),c.preventDefault(Z)}},c.addListener(C,"dragstart",this.onDragStart.bind(f),p),c.addListener(C,"dragend",this.onDragEnd.bind(f),p),c.addListener(C,"dragenter",this.onDragEnter.bind(f),p),c.addListener(C,"dragover",this.onDragOver.bind(f),p),c.addListener(C,"dragleave",this.onDragLeave.bind(f),p),c.addListener(C,"drop",this.onDrop.bind(f),p);function L(Z,he){var ue=Date.now(),ae=!he||Z.row!=he.row,pe=!he||Z.column!=he.column;if(!S||ae||pe)p.moveCursorToPosition(Z),S=ue,w={x:F,y:O};else{var Ee=d(w.x,w.y,F,O);Ee>a?S=null:ue-S>=g&&(p.renderer.scrollCursorIntoView(),S=null)}}function N(Z,he){var ue=Date.now(),ae=p.renderer.layerConfig.lineHeight,pe=p.renderer.layerConfig.characterWidth,Ee=p.renderer.scroller.getBoundingClientRect(),me={x:{left:F-Ee.left,right:Ee.right-F},y:{top:O-Ee.top,bottom:Ee.bottom-O}},Ae=Math.min(me.x.left,me.x.right),$e=Math.min(me.y.top,me.y.bottom),Qe={row:Z.row,column:Z.column};Ae/pe<=2&&(Qe.column+=me.x.left<me.x.right?-3:2),$e/ae<=1&&(Qe.row+=me.y.top<me.y.bottom?-1:1);var ut=Z.row!=Qe.row,qe=Z.column!=Qe.column,Ge=!he||Z.row!=he.row;ut||qe&&!Ge?V?ue-V>=u&&p.renderer.scrollCursorIntoView(Qe):V=ue:V=null}function z(){var Z=E;E=p.renderer.screenToTextCoordinates(F,O),L(E,Z),N(E,Z)}function q(){_=p.selection.toOrientedRange(),A=p.session.addMarker(_,"ace_selection",p.getSelectionStyle()),p.clearSelection(),p.isFocused()&&p.renderer.$cursorLayer.setBlinking(!1),clearInterval($),z(),$=setInterval(z,20),I=0,c.addListener(document,"mousemove",Q)}function K(){clearInterval($),p.session.removeMarker(A),A=null,p.selection.fromOrientedRange(_),p.isFocused()&&!P&&p.$resetCursorStyle(),_=null,E=null,I=0,V=null,S=null,c.removeListener(document,"mousemove",Q)}var J=null;function Q(){J==null&&(J=setTimeout(function(){J!=null&&A&&K()},20))}function U(Z){var he=Z.types;return!he||Array.prototype.some.call(he,function(ue){return ue=="text/plain"||ue=="Text"})}function re(Z){var he=["copy","copymove","all","uninitialized"],ue=["move","copymove","linkmove","all","uninitialized"],ae=m.isMac?Z.altKey:Z.ctrlKey,pe="uninitialized";try{pe=Z.dataTransfer.effectAllowed.toLowerCase()}catch{}var Ee="none";return ae&&he.indexOf(pe)>=0?Ee="copy":ue.indexOf(pe)>=0?Ee="move":he.indexOf(pe)>=0&&(Ee="copy"),Ee}}(function(){this.dragWait=function(){var f=Date.now()-this.mousedownEvent.time;f>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var f=this.editor.container;f.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(f){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var f=this.editor,p=f.container;p.draggable=!0,f.renderer.$cursorLayer.setBlinking(!1),f.setStyle("ace_dragging");var v=m.isWin?"default":"move";f.renderer.setCursorStyle(v),this.setState("dragReady")},this.onMouseDrag=function(f){var p=this.editor.container;if(m.isIE&&this.state=="dragReady"){var v=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);v>3&&p.dragDrop()}if(this.state==="dragWait"){var v=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);v>0&&(p.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(f){if(this.$dragEnabled){this.mousedownEvent=f;var p=this.editor,v=f.inSelection(),y=f.getButton(),C=f.domEvent.detail||1;if(C===1&&y===0&&v){if(f.editor.inMultiSelectMode&&(f.getAccelKey()||f.getShiftKey()))return;this.mousedownEvent.time=Date.now();var A=f.domEvent.target||f.domEvent.srcElement;if("unselectable"in A&&(A.unselectable="on"),p.getDragDelay()){if(m.isWebKit){this.cancelDrag=!0;var F=p.container;F.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(f,this.onMouseDrag.bind(this)),f.defaultPrevented=!0}}}}).call(h.prototype);function d(f,p,v,y){return Math.sqrt(Math.pow(v-f,2)+Math.pow(y-p,2))}r.DragdropHandler=h}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(t,r,s){var o=t("./mouse_event").MouseEvent,c=t("../lib/event"),m=t("../lib/dom");r.addTouchListeners=function(u,g){var a="scroll",h,d,f,p,v,y,C=0,A,F=0,O=0,$=0,_,E;function I(){var L=window.navigator&&window.navigator.clipboard,N=!1,z=function(){var J=g.getCopyText(),Q=g.session.getUndoManager().hasUndo();E.replaceChild(m.buildDom(N?["span",!J&&q("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],J&&q("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],J&&q("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],L&&q("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],Q&&q("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],q("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],q("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),E.firstChild)},q=function(J){return g.commands.canExecute(J,g)},K=function(J){var Q=J.target.getAttribute("action");if(Q=="more"||!N)return N=!N,z();Q=="paste"?L.readText().then(function(U){g.execCommand(Q,U)}):Q&&((Q=="cut"||Q=="copy")&&(L?L.writeText(g.getCopyText()):document.execCommand("copy")),g.execCommand(Q)),E.firstChild.style.display="none",N=!1,Q!="openCommandPalette"&&g.focus()};E=m.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(J){a="menu",J.stopPropagation(),J.preventDefault(),g.textInput.focus()},ontouchend:function(J){J.stopPropagation(),J.preventDefault(),K(J)},onclick:K},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],g.container)}function M(){if(!g.getOption("enableMobileMenu")){E&&P();return}E||I();var L=g.selection.cursor,N=g.renderer.textToScreenCoordinates(L.row,L.column),z=g.renderer.textToScreenCoordinates(0,0).pageX,q=g.renderer.scrollLeft,K=g.container.getBoundingClientRect();E.style.top=N.pageY-K.top-3+"px",N.pageX-K.left<K.width-70?(E.style.left="",E.style.right="10px"):(E.style.right="",E.style.left=z+q-K.left+"px"),E.style.display="",E.firstChild.style.display="none",g.on("input",P)}function P(L){E&&(E.style.display="none"),g.off("input",P)}function V(){v=null,clearTimeout(v);var L=g.selection.getRange(),N=L.contains(A.row,A.column);(L.isEmpty()||!N)&&(g.selection.moveToPosition(A),g.selection.selectWord()),a="wait",M()}function S(){v=null,clearTimeout(v),g.selection.moveToPosition(A);var L=F>=2?g.selection.getLineRange(A.row):g.session.getBracketRange(A);L&&!L.isEmpty()?g.selection.setRange(L):g.selection.selectWord(),a="wait"}c.addListener(u,"contextmenu",function(L){if(_){var N=g.textInput.getElement();N.focus()}},g),c.addListener(u,"touchstart",function(L){var N=L.touches;if(v||N.length>1){clearTimeout(v),v=null,f=-1,a="zoom";return}_=g.$mouseHandler.isMousePressed=!0;var z=g.renderer.layerConfig.lineHeight,q=g.renderer.layerConfig.lineHeight,K=L.timeStamp;p=K;var J=N[0],Q=J.clientX,U=J.clientY;Math.abs(h-Q)+Math.abs(d-U)>z&&(f=-1),h=L.clientX=Q,d=L.clientY=U,O=$=0;var re=new o(L,g);if(A=re.getDocumentPosition(),K-f<500&&N.length==1&&!C)F++,L.preventDefault(),L.button=0,S();else{F=0;var Z=g.selection.cursor,he=g.selection.isEmpty()?Z:g.selection.anchor,ue=g.renderer.$cursorLayer.getPixelPosition(Z,!0),ae=g.renderer.$cursorLayer.getPixelPosition(he,!0),pe=g.renderer.scroller.getBoundingClientRect(),Ee=g.renderer.layerConfig.offset,me=g.renderer.scrollLeft,Ae=function(ut,qe){return ut=ut/q,qe=qe/z-.75,ut*ut+qe*qe};if(L.clientX<pe.left){a="zoom";return}var $e=Ae(L.clientX-pe.left-ue.left+me,L.clientY-pe.top-ue.top+Ee),Qe=Ae(L.clientX-pe.left-ae.left+me,L.clientY-pe.top-ae.top+Ee);$e<3.5&&Qe<3.5&&(a=$e>Qe?"cursor":"anchor"),Qe<3.5?a="anchor":$e<3.5?a="cursor":a="scroll",v=setTimeout(V,450)}f=K},g),c.addListener(u,"touchend",function(L){_=g.$mouseHandler.isMousePressed=!1,y&&clearInterval(y),a=="zoom"?(a="",C=0):v?(g.selection.moveToPosition(A),C=0,M()):a=="scroll"?(w(),P()):M(),clearTimeout(v),v=null},g),c.addListener(u,"touchmove",function(L){v&&(clearTimeout(v),v=null);var N=L.touches;if(!(N.length>1||a=="zoom")){var z=N[0],q=h-z.clientX,K=d-z.clientY;if(a=="wait")if(q*q+K*K>4)a="cursor";else return L.preventDefault();h=z.clientX,d=z.clientY,L.clientX=z.clientX,L.clientY=z.clientY;var J=L.timeStamp,Q=J-p;if(p=J,a=="scroll"){var U=new o(L,g);U.speed=1,U.wheelX=q,U.wheelY=K,10*Math.abs(q)<Math.abs(K)&&(q=0),10*Math.abs(K)<Math.abs(q)&&(K=0),Q!=0&&(O=q/Q,$=K/Q),g._emit("mousewheel",U),U.propagationStopped||(O=$=0)}else{var re=new o(L,g),Z=re.getDocumentPosition();a=="cursor"?g.selection.moveCursorToPosition(Z):a=="anchor"&&g.selection.setSelectionAnchor(Z.row,Z.column),g.renderer.scrollCursorIntoView(Z),L.preventDefault()}}},g);function w(){C+=60,y=setInterval(function(){C--<=0&&(clearInterval(y),y=null),Math.abs(O)<.01&&(O=0),Math.abs($)<.01&&($=0),C<20&&(O=.9*O),C<20&&($=.9*$);var L=g.session.getScrollTop();g.renderer.scrollBy(10*O,10*$),L==g.session.getScrollTop()&&(C=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(t,r,s){var o=t("../lib/event"),c=t("../lib/useragent"),m=t("./default_handlers").DefaultHandlers,u=t("./default_gutter_handler").GutterHandler,g=t("./mouse_event").MouseEvent,a=t("./dragdrop_handler").DragdropHandler,h=t("./touch_handler").addTouchListeners,d=t("../config"),f=function(){function p(v){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var y=this;this.editor=v,new m(this),new u(this),new a(this);var C=function(O){var $=!document.hasFocus||!document.hasFocus()||!v.isFocused()&&document.activeElement==(v.textInput&&v.textInput.getElement());$&&window.focus(),v.focus(),setTimeout(function(){v.isFocused()||v.focus()})},A=v.renderer.getMouseEventTarget();o.addListener(A,"click",this.onMouseEvent.bind(this,"click"),v),o.addListener(A,"mousemove",this.onMouseMove.bind(this,"mousemove"),v),o.addMultiMouseDownListener([A,v.renderer.scrollBarV&&v.renderer.scrollBarV.inner,v.renderer.scrollBarH&&v.renderer.scrollBarH.inner,v.textInput&&v.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",v),o.addMouseWheelListener(v.container,this.onMouseWheel.bind(this,"mousewheel"),v),h(v.container,v);var F=v.renderer.$gutter;o.addListener(F,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),v),o.addListener(F,"click",this.onMouseEvent.bind(this,"gutterclick"),v),o.addListener(F,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),v),o.addListener(F,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),v),o.addListener(A,"mousedown",C,v),o.addListener(F,"mousedown",C,v),c.isIE&&v.renderer.scrollBarV&&(o.addListener(v.renderer.scrollBarV.element,"mousedown",C,v),o.addListener(v.renderer.scrollBarH.element,"mousedown",C,v)),v.on("mousemove",function(O){if(!(y.state||y.$dragDelay||!y.$dragEnabled)){var $=v.renderer.screenToTextCoordinates(O.x,O.y),_=v.session.selection.getRange(),E=v.renderer;!_.isEmpty()&&_.insideStart($.row,$.column)?E.setCursorStyle("default"):E.setCursorStyle("")}},v)}return p.prototype.onMouseEvent=function(v,y){this.editor.session&&this.editor._emit(v,new g(y,this.editor))},p.prototype.onMouseMove=function(v,y){var C=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!C||!C.length||this.editor._emit(v,new g(y,this.editor))},p.prototype.onMouseWheel=function(v,y){var C=new g(y,this.editor);C.speed=this.$scrollSpeed*2,C.wheelX=y.wheelX,C.wheelY=y.wheelY,this.editor._emit(v,C)},p.prototype.setState=function(v){this.state=v},p.prototype.captureMouse=function(v,y){this.x=v.x,this.y=v.y,this.isMousePressed=!0;var C=this.editor,A=this.editor.renderer;A.$isMousePressed=!0;var F=this,O=function(M){if(M){if(c.isWebKit&&!M.which&&F.releaseMouse)return F.releaseMouse();F.x=M.clientX,F.y=M.clientY,y&&y(M),F.mouseEvent=new g(M,F.editor),F.$mouseMoved=!0}},$=function(M){C.off("beforeEndOperation",E),clearInterval(I),C.session&&_(),F[F.state+"End"]&&F[F.state+"End"](M),F.state="",F.isMousePressed=A.$isMousePressed=!1,A.$keepTextAreaAtCursor&&A.$moveTextAreaToCursor(),F.$onCaptureMouseMove=F.releaseMouse=null,M&&F.onMouseEvent("mouseup",M),C.endOperation()},_=function(){F[F.state]&&F[F.state](),F.$mouseMoved=!1};if(c.isOldIE&&v.domEvent.type=="dblclick")return setTimeout(function(){$(v)});var E=function(M){F.releaseMouse&&C.curOp.command.name&&C.curOp.selectionChanged&&(F[F.state+"End"]&&F[F.state+"End"](),F.state="",F.releaseMouse())};C.on("beforeEndOperation",E),C.startOperation({command:{name:"mouse"}}),F.$onCaptureMouseMove=O,F.releaseMouse=o.capture(this.editor.container,O,$);var I=setInterval(_,20)},p.prototype.cancelContextMenu=function(){var v=(function(y){y&&y.domEvent&&y.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",v),y&&y.domEvent&&o.stopEvent(y.domEvent))}).bind(this);setTimeout(v,10),this.editor.on("nativecontextmenu",v)},p.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},p}();f.prototype.releaseMouse=null,d.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:c.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),r.MouseHandler=f}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(t,r,s){var o=t("../lib/dom"),c=function(){function m(u){u.on("click",function(g){var a=g.getDocumentPosition(),h=u.session,d=h.getFoldAt(a.row,a.column,1);d&&(g.getAccelKey()?h.removeFold(d):h.expandFold(d),g.stop());var f=g.domEvent&&g.domEvent.target;f&&o.hasCssClass(f,"ace_inline_button")&&o.hasCssClass(f,"ace_toggle_wrap")&&(h.setOption("wrap",!h.getUseWrapMode()),u.renderer.scrollCursorIntoView())}),u.on("gutterclick",function(g){var a=u.renderer.$gutterLayer.getRegion(g);if(a=="foldWidgets"){var h=g.getDocumentPosition().row,d=u.session;d.foldWidgets&&d.foldWidgets[h]&&u.session.onFoldWidgetClick(h,g),u.isFocused()||u.focus(),g.stop()}}),u.on("gutterdblclick",function(g){var a=u.renderer.$gutterLayer.getRegion(g);if(a=="foldWidgets"){var h=g.getDocumentPosition().row,d=u.session,f=d.getParentFoldRangeData(h,!0),p=f.range||f.firstRange;if(p){h=p.start.row;var v=d.getFoldAt(h,d.getLine(h).length,1);v?d.removeFold(v):(d.addFold("...",p),u.renderer.scrollCursorIntoView({row:p.start.row,column:0}))}g.stop()}})}return m}();r.FoldHandler=c}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,r,s){var o=t("../lib/keys"),c=t("../lib/event"),m=function(){function u(g){this.$editor=g,this.$data={editor:g},this.$handlers=[],this.setDefaultHandler(g.commands)}return u.prototype.setDefaultHandler=function(g){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=g,this.addKeyboardHandler(g,0)},u.prototype.setKeyboardHandler=function(g){var a=this.$handlers;if(a[a.length-1]!=g){for(;a[a.length-1]&&a[a.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(a[a.length-1]);this.addKeyboardHandler(g,1)}},u.prototype.addKeyboardHandler=function(g,a){if(g){typeof g=="function"&&!g.handleKeyboard&&(g.handleKeyboard=g);var h=this.$handlers.indexOf(g);h!=-1&&this.$handlers.splice(h,1),a==null?this.$handlers.push(g):this.$handlers.splice(a,0,g),h==-1&&g.attach&&g.attach(this.$editor)}},u.prototype.removeKeyboardHandler=function(g){var a=this.$handlers.indexOf(g);return a==-1?!1:(this.$handlers.splice(a,1),g.detach&&g.detach(this.$editor),!0)},u.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},u.prototype.getStatusText=function(){var g=this.$data,a=g.editor;return this.$handlers.map(function(h){return h.getStatusText&&h.getStatusText(a,g)||""}).filter(Boolean).join(" ")},u.prototype.$callKeyboardHandlers=function(g,a,h,d){for(var f,p=!1,v=this.$editor.commands,y=this.$handlers.length;y--&&(f=this.$handlers[y].handleKeyboard(this.$data,g,a,h,d),!(!(!f||!f.command)&&(f.command=="null"?p=!0:p=v.exec(f.command,this.$editor,f.args,d),p&&d&&g!=-1&&f.passEvent!=!0&&f.command.passEvent!=!0&&c.stopEvent(d),p))););return!p&&g==-1&&(f={command:"insertstring"},p=v.exec("insertstring",this.$editor,a)),p&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),p},u.prototype.onCommandKey=function(g,a,h){var d=o.keyCodeToString(h);return this.$callKeyboardHandlers(a,d,h,g)},u.prototype.onTextInput=function(g){return this.$callKeyboardHandlers(-1,g)},u}();r.KeyBinding=m}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(t,r,s){var o=0,c=0,m=!1,u=!1,g=!1,a=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d=0,f=1,p=0,v=1,y=2,C=3,A=4,F=5,O=6,$=7,_=8,E=9,I=10,M=11,P=12,V=13,S=14,w=15,L=16,N=17,z=18,q=[z,z,z,z,z,z,z,z,z,O,F,O,_,F,z,z,z,z,z,z,z,z,z,z,z,z,z,z,F,F,F,O,_,A,A,M,M,M,A,A,A,A,A,I,E,I,E,E,y,y,y,y,y,y,y,y,y,y,E,A,A,A,A,A,A,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,A,A,A,A,A,A,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,A,A,A,A,z,z,z,z,z,z,F,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,E,A,M,M,M,M,A,A,A,A,p,A,A,z,A,A,M,M,y,y,A,p,A,A,A,y,p,A,A,A,A,A],K=[_,_,_,_,_,_,_,_,_,_,_,z,z,z,p,v,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,_,F,V,S,w,L,N,E,M,M,M,M,M,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,E,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,_];function J(Z,he,ue,ae){var pe=o?h:a,Ee=null,me=null,Ae=null,$e=0,Qe=null,ut=null,qe=-1,Ge=null,yt=null,Ot=[];if(!ae)for(Ge=0,ae=[];Ge<ue;Ge++)ae[Ge]=re(Z[Ge]);for(c=o,m=!1,u=!1,g=!1,yt=0;yt<ue;yt++){if(Ee=$e,Ot[yt]=me=U(Z,ae,Ot,yt),$e=pe[Ee][me],Qe=$e&240,$e&=15,he[yt]=Ae=pe[$e][5],Qe>0)if(Qe==16){for(Ge=qe;Ge<yt;Ge++)he[Ge]=1;qe=-1}else qe=-1;if(ut=pe[$e][6],ut)qe==-1&&(qe=yt);else if(qe>-1){for(Ge=qe;Ge<yt;Ge++)he[Ge]=Ae;qe=-1}ae[yt]==F&&(he[yt]=0),c|=Ae}if(g){for(Ge=0;Ge<ue;Ge++)if(ae[Ge]==O){he[Ge]=o;for(var Ht=Ge-1;Ht>=0&&ae[Ht]==_;Ht--)he[Ht]=o}}}function Q(Z,he,ue){if(!(c<Z)){if(Z==1&&o==f&&!u){ue.reverse();return}for(var ae=ue.length,pe=0,Ee,me,Ae,$e;pe<ae;){if(he[pe]>=Z){for(Ee=pe+1;Ee<ae&&he[Ee]>=Z;)Ee++;for(me=pe,Ae=Ee-1;me<Ae;me++,Ae--)$e=ue[me],ue[me]=ue[Ae],ue[Ae]=$e;pe=Ee}pe++}}}function U(Z,he,ue,ae){var pe=he[ae],Ee,me,Ae,$e;switch(pe){case p:case v:m=!1;case A:case C:return pe;case y:return m?C:y;case $:return m=!0,v;case _:return A;case E:return ae<1||ae+1>=he.length||(Ee=ue[ae-1])!=y&&Ee!=C||(me=he[ae+1])!=y&&me!=C?A:(m&&(me=C),me==Ee?me:A);case I:return Ee=ae>0?ue[ae-1]:F,Ee==y&&ae+1<he.length&&he[ae+1]==y?y:A;case M:if(ae>0&&ue[ae-1]==y)return y;if(m)return A;for($e=ae+1,Ae=he.length;$e<Ae&&he[$e]==M;)$e++;return $e<Ae&&he[$e]==y?y:A;case P:for(Ae=he.length,$e=ae+1;$e<Ae&&he[$e]==P;)$e++;if($e<Ae){var Qe=Z[ae],ut=Qe>=1425&&Qe<=2303||Qe==64286;if(Ee=he[$e],ut&&(Ee==v||Ee==$))return v}return ae<1||(Ee=he[ae-1])==F?A:ue[ae-1];case F:return m=!1,u=!0,o;case O:return g=!0,A;case V:case S:case L:case N:case w:m=!1;case z:return A}}function re(Z){var he=Z.charCodeAt(0),ue=he>>8;return ue==0?he>191?p:q[he]:ue==5?/[\u0591-\u05f4]/.test(Z)?v:p:ue==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Z)?P:/[\u0660-\u0669\u066b-\u066c]/.test(Z)?C:he==1642?M:/[\u06f0-\u06f9]/.test(Z)?y:$:ue==32&&he<=8287?K[he&255]:ue==254&&he>=65136?$:A}r.L=p,r.R=v,r.EN=y,r.ON_R=3,r.AN=4,r.R_H=5,r.B=6,r.RLE=7,r.DOT="·",r.doBidiReorder=function(Z,he,ue){if(Z.length<2)return{};var ae=Z.split(""),pe=new Array(ae.length),Ee=new Array(ae.length),me=[];o=ue?f:d,J(ae,me,ae.length,he);for(var Ae=0;Ae<pe.length;pe[Ae]=Ae,Ae++);Q(2,me,pe),Q(1,me,pe);for(var Ae=0;Ae<pe.length-1;Ae++)he[Ae]===C?me[Ae]=r.AN:me[Ae]===v&&(he[Ae]>$&&he[Ae]<V||he[Ae]===A||he[Ae]===z)?me[Ae]=r.ON_R:Ae>0&&ae[Ae-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(ae[Ae])&&(me[Ae-1]=me[Ae]=r.R_H,Ae++);ae[ae.length-1]===r.DOT&&(me[ae.length-1]=r.B),ae[0]==="‫"&&(me[0]=r.RLE);for(var Ae=0;Ae<pe.length;Ae++)Ee[Ae]=me[pe[Ae]];return{logicalFromVisual:pe,bidiLevels:Ee}},r.hasBidiCharacters=function(Z,he){for(var ue=!1,ae=0;ae<Z.length;ae++)he[ae]=re(Z.charAt(ae)),!ue&&(he[ae]==v||he[ae]==$||he[ae]==C)&&(ue=!0);return ue},r.getVisualFromLogicalIdx=function(Z,he){for(var ue=0;ue<he.logicalFromVisual.length;ue++)if(he.logicalFromVisual[ue]==Z)return ue;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(t,r,s){var o=t("./lib/bidiutil"),c=t("./lib/lang"),m=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,u=function(){function g(a){this.session=a,this.bidiMap={},this.currentRow=null,this.bidiUtil=o,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=m.test(a.getValue())}return g.prototype.isBidiRow=function(a,h,d){return this.seenBidi?(a!==this.currentRow&&(this.currentRow=a,this.updateRowLine(h,d),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},g.prototype.onChange=function(a){this.seenBidi?this.currentRow=null:a.action=="insert"&&m.test(a.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},g.prototype.getDocumentRow=function(){var a=0,h=this.session.$screenRowCache;if(h.length){var d=this.session.$getRowCacheIndex(h,this.currentRow);d>=0&&(a=this.session.$docRowCache[d])}return a},g.prototype.getSplitIndex=function(){var a=0,h=this.session.$screenRowCache;if(h.length)for(var d,f=this.session.$getRowCacheIndex(h,this.currentRow);this.currentRow-a>0&&(d=this.session.$getRowCacheIndex(h,this.currentRow-a-1),d===f);)f=d,a++;else a=this.currentRow;return a},g.prototype.updateRowLine=function(a,h){a===void 0&&(a=this.getDocumentRow());var d=a===this.session.getLength()-1,f=d?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(a),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var p=this.session.$wrapData[a];p&&(h===void 0&&(h=this.getSplitIndex()),h>0&&p.length?(this.wrapIndent=p.indent,this.wrapOffset=this.wrapIndent*this.charWidths[o.L],this.line=h<p.length?this.line.substring(p[h-1],p[h]):this.line.substring(p[p.length-1])):this.line=this.line.substring(0,p[h]),h==p.length&&(this.line+=this.showInvisibles?f:o.DOT))}else this.line+=this.showInvisibles?f:o.DOT;var v=this.session,y=0,C;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(A,F){return A==="	"||v.isFullWidth(A.charCodeAt(0))?(C=A==="	"?v.getScreenTabSize(F+y):2,y+=C-1,c.stringRepeat(o.DOT,C)):A}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==o.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},g.prototype.updateBidiMap=function(){var a=[];o.hasBidiCharacters(this.line,a)||this.isRtlDir?this.bidiMap=o.doBidiReorder(this.line,a,this.isRtlDir):this.bidiMap={}},g.prototype.markAsDirty=function(){this.currentRow=null},g.prototype.updateCharacterWidths=function(a){if(this.characterWidth!==a.$characterSize.width){this.fontMetrics=a;var h=this.characterWidth=a.$characterSize.width,d=a.$measureCharWidth("ה");this.charWidths[o.L]=this.charWidths[o.EN]=this.charWidths[o.ON_R]=h,this.charWidths[o.R]=this.charWidths[o.AN]=d,this.charWidths[o.R_H]=d*.45,this.charWidths[o.B]=this.charWidths[o.RLE]=0,this.currentRow=null}},g.prototype.setShowInvisibles=function(a){this.showInvisibles=a,this.currentRow=null},g.prototype.setEolChar=function(a){this.EOL=a},g.prototype.setContentWidth=function(a){this.contentWidth=a},g.prototype.isRtlLine=function(a){return this.$isRtl?!0:a!=null?this.session.getLine(a).charAt(0)==this.RLE:this.isRtlDir},g.prototype.setRtlDirection=function(a,h){for(var d=a.getCursorPosition(),f=a.selection.getSelectionAnchor().row;f<=d.row;f++)!h&&a.session.getLine(f).charAt(0)===a.session.$bidiHandler.RLE?a.session.doc.removeInLine(f,0,1):h&&a.session.getLine(f).charAt(0)!==a.session.$bidiHandler.RLE&&a.session.doc.insert({column:0,row:f},a.session.$bidiHandler.RLE)},g.prototype.getPosLeft=function(a){a-=this.wrapIndent;var h=this.line.charAt(0)===this.RLE?1:0,d=a>h?this.session.getOverwrite()?a:a-1:h,f=o.getVisualFromLogicalIdx(d,this.bidiMap),p=this.bidiMap.bidiLevels,v=0;!this.session.getOverwrite()&&a<=h&&p[f]%2!==0&&f++;for(var y=0;y<f;y++)v+=this.charWidths[p[y]];return!this.session.getOverwrite()&&a>h&&p[f]%2===0&&(v+=this.charWidths[p[f]]),this.wrapIndent&&(v+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(v+=this.rtlLineOffset),v},g.prototype.getSelections=function(a,h){var d=this.bidiMap,f=d.bidiLevels,p,v=[],y=0,C=Math.min(a,h)-this.wrapIndent,A=Math.max(a,h)-this.wrapIndent,F=!1,O=!1,$=0;this.wrapIndent&&(y+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var _,E=0;E<f.length;E++)_=d.logicalFromVisual[E],p=f[E],F=_>=C&&_<A,F&&!O?$=y:!F&&O&&v.push({left:$,width:y-$}),y+=this.charWidths[p],O=F;if(F&&E===f.length&&v.push({left:$,width:y-$}),this.isRtlDir)for(var I=0;I<v.length;I++)v[I].left+=this.rtlLineOffset;return v},g.prototype.offsetToCol=function(d){this.isRtlDir&&(d-=this.rtlLineOffset);var h=0,d=Math.max(d,0),f=0,p=0,v=this.bidiMap.bidiLevels,y=this.charWidths[v[p]];for(this.wrapIndent&&(d-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);d>f+y/2;){if(f+=y,p===v.length-1){y=0;break}y=this.charWidths[v[++p]]}return p>0&&v[p-1]%2!==0&&v[p]%2===0?(d<f&&p--,h=this.bidiMap.logicalFromVisual[p]):p>0&&v[p-1]%2===0&&v[p]%2!==0?h=1+(d>f?this.bidiMap.logicalFromVisual[p]:this.bidiMap.logicalFromVisual[p-1]):this.isRtlDir&&p===v.length-1&&y===0&&v[p-1]%2===0||!this.isRtlDir&&p===0&&v[p]%2!==0?h=1+this.bidiMap.logicalFromVisual[p]:(p>0&&v[p-1]%2!==0&&y!==0&&p--,h=this.bidiMap.logicalFromVisual[p]),h===0&&this.isRtlDir&&h++,h+this.wrapIndent},g}();r.BidiHandler=u}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,r,s){var o=t("./lib/oop"),c=t("./lib/lang"),m=t("./lib/event_emitter").EventEmitter,u=t("./range").Range,g=function(){function a(h){this.session=h,this.doc=h.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var d=this;this.cursor.on("change",function(f){d.$cursorChanged=!0,d.$silent||d._emit("changeCursor"),!d.$isEmpty&&!d.$silent&&d._emit("changeSelection"),!d.$keepDesiredColumnOnChange&&f.old.column!=f.value.column&&(d.$desiredColumn=null)}),this.anchor.on("change",function(){d.$anchorChanged=!0,!d.$isEmpty&&!d.$silent&&d._emit("changeSelection")})}return a.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},a.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},a.prototype.getCursor=function(){return this.lead.getPosition()},a.prototype.setAnchor=function(h,d){this.$isEmpty=!1,this.anchor.setPosition(h,d)},a.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},a.prototype.getSelectionLead=function(){return this.lead.getPosition()},a.prototype.isBackwards=function(){var h=this.anchor,d=this.lead;return h.row>d.row||h.row==d.row&&h.column>d.column},a.prototype.getRange=function(){var h=this.anchor,d=this.lead;return this.$isEmpty?u.fromPoints(d,d):this.isBackwards()?u.fromPoints(d,h):u.fromPoints(h,d)},a.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},a.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},a.prototype.setRange=function(h,d){var f=d?h.end:h.start,p=d?h.start:h.end;this.$setSelection(f.row,f.column,p.row,p.column)},a.prototype.$setSelection=function(h,d,f,p){if(!this.$silent){var v=this.$isEmpty,y=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(h,d),this.cursor.setPosition(f,p),this.$isEmpty=!u.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||v!=this.$isEmpty||y)&&this._emit("changeSelection")}},a.prototype.$moveSelection=function(h){var d=this.lead;this.$isEmpty&&this.setSelectionAnchor(d.row,d.column),h.call(this)},a.prototype.selectTo=function(h,d){this.$moveSelection(function(){this.moveCursorTo(h,d)})},a.prototype.selectToPosition=function(h){this.$moveSelection(function(){this.moveCursorToPosition(h)})},a.prototype.moveTo=function(h,d){this.clearSelection(),this.moveCursorTo(h,d)},a.prototype.moveToPosition=function(h){this.clearSelection(),this.moveCursorToPosition(h)},a.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},a.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},a.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},a.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},a.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},a.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},a.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},a.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},a.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},a.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},a.prototype.getWordRange=function(h,d){if(typeof d>"u"){var f=h||this.lead;h=f.row,d=f.column}return this.session.getWordRange(h,d)},a.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},a.prototype.selectAWord=function(){var h=this.getCursor(),d=this.session.getAWordRange(h.row,h.column);this.setSelectionRange(d)},a.prototype.getLineRange=function(h,d){var f=typeof h=="number"?h:this.lead.row,p,v=this.session.getFoldLine(f);return v?(f=v.start.row,p=v.end.row):p=f,d===!0?new u(f,0,p,this.session.getLine(p).length):new u(f,0,p+1,0)},a.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},a.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},a.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},a.prototype.wouldMoveIntoSoftTab=function(h,d,f){var p=h.column,v=h.column+d;return f<0&&(p=h.column-d,v=h.column),this.session.isTabStop(h)&&this.doc.getLine(h.row).slice(p,v).split(" ").length-1==d},a.prototype.moveCursorLeft=function(){var h=this.lead.getPosition(),d;if(d=this.session.getFoldAt(h.row,h.column,-1))this.moveCursorTo(d.start.row,d.start.column);else if(h.column===0)h.row>0&&this.moveCursorTo(h.row-1,this.doc.getLine(h.row-1).length);else{var f=this.session.getTabSize();this.wouldMoveIntoSoftTab(h,f,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-f):this.moveCursorBy(0,-1)}},a.prototype.moveCursorRight=function(){var h=this.lead.getPosition(),d;if(d=this.session.getFoldAt(h.row,h.column,1))this.moveCursorTo(d.end.row,d.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var f=this.session.getTabSize(),h=this.lead;this.wouldMoveIntoSoftTab(h,f,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,f):this.moveCursorBy(0,1)}},a.prototype.moveCursorLineStart=function(){var h=this.lead.row,d=this.lead.column,f=this.session.documentToScreenRow(h,d),p=this.session.screenToDocumentPosition(f,0),v=this.session.getDisplayLine(h,null,p.row,p.column),y=v.match(/^\s*/);y[0].length!=d&&!this.session.$useEmacsStyleLineStart&&(p.column+=y[0].length),this.moveCursorToPosition(p)},a.prototype.moveCursorLineEnd=function(){var h=this.lead,d=this.session.getDocumentLastRowColumnPosition(h.row,h.column);if(this.lead.column==d.column){var f=this.session.getLine(d.row);if(d.column==f.length){var p=f.search(/\s+$/);p>0&&(d.column=p)}}this.moveCursorTo(d.row,d.column)},a.prototype.moveCursorFileEnd=function(){var h=this.doc.getLength()-1,d=this.doc.getLine(h).length;this.moveCursorTo(h,d)},a.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},a.prototype.moveCursorLongWordRight=function(){var h=this.lead.row,d=this.lead.column,f=this.doc.getLine(h),p=f.substring(d);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var v=this.session.getFoldAt(h,d,1);if(v){this.moveCursorTo(v.end.row,v.end.column);return}if(this.session.nonTokenRe.exec(p)&&(d+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,p=f.substring(d)),d>=f.length){this.moveCursorTo(h,f.length),this.moveCursorRight(),h<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(p)&&(d+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,d)},a.prototype.moveCursorLongWordLeft=function(){var h=this.lead.row,d=this.lead.column,f;if(f=this.session.getFoldAt(h,d,-1)){this.moveCursorTo(f.start.row,f.start.column);return}var p=this.session.getFoldStringAt(h,d,-1);p==null&&(p=this.doc.getLine(h).substring(0,d));var v=c.stringReverse(p);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(v)&&(d-=this.session.nonTokenRe.lastIndex,v=v.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),d<=0){this.moveCursorTo(h,0),this.moveCursorLeft(),h>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(v)&&(d-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,d)},a.prototype.$shortWordEndIndex=function(h){var d=0,f,p=/\s/,v=this.session.tokenRe;if(v.lastIndex=0,this.session.tokenRe.exec(h))d=this.session.tokenRe.lastIndex;else{for(;(f=h[d])&&p.test(f);)d++;if(d<1){for(v.lastIndex=0;(f=h[d])&&!v.test(f);)if(v.lastIndex=0,d++,p.test(f))if(d>2){d--;break}else{for(;(f=h[d])&&p.test(f);)d++;if(d>2)break}}}return v.lastIndex=0,d},a.prototype.moveCursorShortWordRight=function(){var h=this.lead.row,d=this.lead.column,f=this.doc.getLine(h),p=f.substring(d),v=this.session.getFoldAt(h,d,1);if(v)return this.moveCursorTo(v.end.row,v.end.column);if(d==f.length){var y=this.doc.getLength();do h++,p=this.doc.getLine(h);while(h<y&&/^\s*$/.test(p));/^\s+/.test(p)||(p=""),d=0}var C=this.$shortWordEndIndex(p);this.moveCursorTo(h,d+C)},a.prototype.moveCursorShortWordLeft=function(){var h=this.lead.row,d=this.lead.column,f;if(f=this.session.getFoldAt(h,d,-1))return this.moveCursorTo(f.start.row,f.start.column);var p=this.session.getLine(h).substring(0,d);if(d===0){do h--,p=this.doc.getLine(h);while(h>0&&/^\s*$/.test(p));d=p.length,/\s+$/.test(p)||(p="")}var v=c.stringReverse(p),y=this.$shortWordEndIndex(v);return this.moveCursorTo(h,d-y)},a.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},a.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},a.prototype.moveCursorBy=function(h,d){var f=this.session.documentToScreenPosition(this.lead.row,this.lead.column),p;if(d===0&&(h!==0&&(this.session.$bidiHandler.isBidiRow(f.row,this.lead.row)?(p=this.session.$bidiHandler.getPosLeft(f.column),f.column=Math.round(p/this.session.$bidiHandler.charWidths[0])):p=f.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?f.column=this.$desiredColumn:this.$desiredColumn=f.column),h!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var v=this.session.lineWidgets[this.lead.row];h<0?h-=v.rowsAbove||0:h>0&&(h+=v.rowCount-(v.rowsAbove||0))}var y=this.session.screenToDocumentPosition(f.row+h,f.column,p);h!==0&&d===0&&y.row===this.lead.row&&(y.column,this.lead.column),this.moveCursorTo(y.row,y.column+d,d===0)},a.prototype.moveCursorToPosition=function(h){this.moveCursorTo(h.row,h.column)},a.prototype.moveCursorTo=function(h,d,f){var p=this.session.getFoldAt(h,d,1);p&&(h=p.start.row,d=p.start.column),this.$keepDesiredColumnOnChange=!0;var v=this.session.getLine(h);/[\uDC00-\uDFFF]/.test(v.charAt(d))&&v.charAt(d-1)&&(this.lead.row==h&&this.lead.column==d+1?d=d-1:d=d+1),this.lead.setPosition(h,d),this.$keepDesiredColumnOnChange=!1,f||(this.$desiredColumn=null)},a.prototype.moveCursorToScreen=function(h,d,f){var p=this.session.screenToDocumentPosition(h,d);this.moveCursorTo(p.row,p.column,f)},a.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},a.prototype.fromOrientedRange=function(h){this.setSelectionRange(h,h.cursor==h.start),this.$desiredColumn=h.desiredColumn||this.$desiredColumn},a.prototype.toOrientedRange=function(h){var d=this.getRange();return h?(h.start.column=d.start.column,h.start.row=d.start.row,h.end.column=d.end.column,h.end.row=d.end.row):h=d,h.cursor=this.isBackwards()?h.start:h.end,h.desiredColumn=this.$desiredColumn,h},a.prototype.getRangeOfMovements=function(h){var d=this.getCursor();try{h(this);var f=this.getCursor();return u.fromPoints(d,f)}catch{return u.fromPoints(d,d)}finally{this.moveCursorToPosition(d)}},a.prototype.toJSON=function(){if(this.rangeCount)var h=this.ranges.map(function(d){var f=d.clone();return f.isBackwards=d.cursor==d.start,f});else{var h=this.getRange();h.isBackwards=this.isBackwards()}return h},a.prototype.fromJSON=function(h){if(h.start==null)if(this.rangeList&&h.length>1){this.toSingleRange(h[0]);for(var d=h.length;d--;){var f=u.fromPoints(h[d].start,h[d].end);h[d].isBackwards&&(f.cursor=f.start),this.addRange(f,!0)}return}else h=h[0];this.rangeList&&this.toSingleRange(h),this.setSelectionRange(h,h.isBackwards)},a.prototype.isEqual=function(h){if((h.length||this.rangeCount)&&h.length!=this.rangeCount)return!1;if(!h.length||!this.ranges)return this.getRange().isEqual(h);for(var d=this.ranges.length;d--;)if(!this.ranges[d].isEqual(h[d]))return!1;return!0},a}();g.prototype.setSelectionAnchor=g.prototype.setAnchor,g.prototype.getSelectionAnchor=g.prototype.getAnchor,g.prototype.setSelectionRange=g.prototype.setRange,o.implement(g.prototype,m),r.Selection=g}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(t,r,s){var o=t("./lib/report_error").reportError,c=2e3,m=function(){function u(g){this.splitRegex,this.states=g,this.regExps={},this.matchMappings={};for(var a in this.states){for(var h=this.states[a],d=[],f=0,p=this.matchMappings[a]={defaultToken:"text"},v="g",y=[],C=0;C<h.length;C++){var A=h[C];if(A.defaultToken&&(p.defaultToken=A.defaultToken),A.caseInsensitive&&v.indexOf("i")===-1&&(v+="i"),A.unicode&&v.indexOf("u")===-1&&(v+="u"),A.regex!=null){A.regex instanceof RegExp&&(A.regex=A.regex.toString().slice(1,-1));var F=A.regex,O=new RegExp("(?:("+F+")|(.))").exec("a").length-2;Array.isArray(A.token)?A.token.length==1||O==1?A.token=A.token[0]:O-1!=A.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:A,groupCount:O-1}),A.token=A.token[0]):(A.tokenArray=A.token,A.token=null,A.onMatch=this.$arrayTokens):typeof A.token=="function"&&!A.onMatch&&(O>1?A.onMatch=this.$applyToken:A.onMatch=A.token),O>1&&(/\\\d/.test(A.regex)?F=A.regex.replace(/\\([0-9]+)/g,function($,_){return"\\"+(parseInt(_,10)+f+1)}):(O=1,F=this.removeCapturingGroups(A.regex)),!A.splitRegex&&typeof A.token!="string"&&y.push(A)),p[f]=C,f+=O,d.push(F),A.onMatch||(A.onMatch=null)}}d.length||(p[0]=0,d.push("$")),y.forEach(function($){$.splitRegex=this.createSplitterRegexp($.regex,v)},this),this.regExps[a]=new RegExp("("+d.join(")|(")+")|($)",v)}}return u.prototype.$setMaxTokenCount=function(g){c=g|0},u.prototype.$applyToken=function(g){var a=this.splitRegex.exec(g).slice(1),h=this.token.apply(this,a);if(typeof h=="string")return[{type:h,value:g}];for(var d=[],f=0,p=h.length;f<p;f++)a[f]&&(d[d.length]={type:h[f],value:a[f]});return d},u.prototype.$arrayTokens=function(g){if(!g)return[];var a=this.splitRegex.exec(g);if(!a)return"text";for(var h=[],d=this.tokenArray,f=0,p=d.length;f<p;f++)a[f+1]&&(h[h.length]={type:d[f],value:a[f+1]});return h},u.prototype.removeCapturingGroups=function(g){var a=g.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(h,d){return d?"(?:":h});return a},u.prototype.createSplitterRegexp=function(g,a){if(g.indexOf("(?=")!=-1){var h=0,d=!1,f={};g.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(p,v,y,C,A,F){return d?d=A!="]":A?d=!0:C?(h==f.stack&&(f.end=F+1,f.stack=-1),h--):y&&(h++,y.length!=1&&(f.stack=h,f.start=F)),p}),f.end!=null&&/^\)*$/.test(g.substr(f.end))&&(g=g.substring(0,f.start)+g.substr(f.end))}return g.charAt(0)!="^"&&(g="^"+g),g.charAt(g.length-1)!="$"&&(g+="$"),new RegExp(g,(a||"").replace("g",""))},u.prototype.getLineTokens=function(g,a){if(a&&typeof a!="string"){var h=a.slice(0);a=h[0],a==="#tmp"&&(h.shift(),a=h.shift())}else var h=[];var d=a||"start",f=this.states[d];f||(d="start",f=this.states[d]);var p=this.matchMappings[d],v=this.regExps[d];v.lastIndex=0;for(var y,C=[],A=0,F=0,O={type:null,value:""};y=v.exec(g);){var $=p.defaultToken,_=null,E=y[0],I=v.lastIndex;if(I-E.length>A){var M=g.substring(A,I-E.length);O.type==$?O.value+=M:(O.type&&C.push(O),O={type:$,value:M})}for(var P=0;P<y.length-2;P++)if(y[P+1]!==void 0){_=f[p[P]],_.onMatch?$=_.onMatch(E,d,h,g):$=_.token,_.next&&(typeof _.next=="string"?d=_.next:d=_.next(d,h),f=this.states[d],f||(this.reportError("state doesn't exist",d),d="start",f=this.states[d]),p=this.matchMappings[d],A=I,v=this.regExps[d],v.lastIndex=I),_.consumeLineEnd&&(A=I);break}if(E){if(typeof $=="string")(!_||_.merge!==!1)&&O.type===$?O.value+=E:(O.type&&C.push(O),O={type:$,value:E});else if($){O.type&&C.push(O),O={type:null,value:""};for(var P=0;P<$.length;P++)C.push($[P])}}if(A==g.length)break;if(A=I,F++>c){for(F>2*g.length&&this.reportError("infinite loop with in ace tokenizer",{startState:a,line:g});A<g.length;)O.type&&C.push(O),O={value:g.substring(A,A+=500),type:"overflow"};d="start",h=[];break}}return O.type&&C.push(O),h.length>1&&h[0]!==d&&h.unshift("#tmp",d),{tokens:C,state:h.length?h:d}},u}();m.prototype.reportError=o,r.Tokenizer=m}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(t,r,s){var o=t("../lib/deep_copy").deepCopy,c;c=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(g,a){if(!a){for(var h in g)this.$rules[h]=g[h];return}for(var h in g){for(var d=g[h],f=0;f<d.length;f++){var p=d[f];(p.next||p.onMatch)&&(typeof p.next=="string"&&p.next.indexOf(a)!==0&&(p.next=a+p.next),p.nextState&&p.nextState.indexOf(a)!==0&&(p.nextState=a+p.nextState))}this.$rules[a+h]=d}},this.getRules=function(){return this.$rules},this.embedRules=function(g,a,h,d,f){var p=typeof g=="function"?new g().getRules():g;if(d)for(var v=0;v<d.length;v++)d[v]=a+d[v];else{d=[];for(var y in p)d.push(a+y)}if(this.addRules(p,a),h)for(var C=Array.prototype[f?"push":"unshift"],v=0;v<d.length;v++)C.apply(this.$rules[d[v]],o(h));this.$embeds||(this.$embeds=[]),this.$embeds.push(a)},this.getEmbeds=function(){return this.$embeds};var m=function(g,a){return(g!="start"||a.length)&&a.unshift(this.nextState,g),this.nextState},u=function(g,a){return a.shift(),a.shift()||"start"};this.normalizeRules=function(){var g=0,a=this.$rules;function h(d){var f=a[d];f.processed=!0;for(var p=0;p<f.length;p++){var v=f[p],y=null;Array.isArray(v)&&(y=v,v={}),!v.regex&&v.start&&(v.regex=v.start,v.next||(v.next=[]),v.next.push({defaultToken:v.token},{token:v.token+".end",regex:v.end||v.start,next:"pop"}),v.token=v.token+".start",v.push=!0);var C=v.next||v.push;if(C&&Array.isArray(C)){var A=v.stateName;A||(A=v.token,typeof A!="string"&&(A=A[0]||""),a[A]&&(A+=g++)),a[A]=C,v.next=A,h(A)}else C=="pop"&&(v.next=u);if(v.push&&(v.nextState=v.next||v.push,v.next=m,delete v.push),v.rules)for(var F in v.rules)a[F]?a[F].push&&a[F].push.apply(a[F],v.rules[F]):a[F]=v.rules[F];var O=typeof v=="string"?v:v.include;if(O&&(O==="$self"&&(O="start"),Array.isArray(O)?y=O.map(function(_){return a[_]}):y=a[O]),y){var $=[p,1].concat(y);v.noEscape&&($=$.filter(function(_){return!_.next})),f.splice.apply(f,$),p--}v.keywordMap&&(v.token=this.createKeywordMapper(v.keywordMap,v.defaultToken||"text",v.caseInsensitive),delete v.defaultToken)}}Object.keys(a).forEach(h,this)},this.createKeywordMapper=function(g,a,h,d){var f=Object.create(null);return this.$keywordList=[],Object.keys(g).forEach(function(p){for(var v=g[p],y=v.split(d||"|"),C=y.length;C--;){var A=y[C];this.$keywordList.push(A),h&&(A=A.toLowerCase()),f[A]=p}},this),g=null,h?function(p){return f[p.toLowerCase()]||a}:function(p){return f[p]||a}},this.getKeywords=function(){return this.$keywords}}).call(c.prototype),r.TextHighlightRules=c}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,r,s){var o;o=function(){this.$behaviours={}},(function(){this.add=function(c,m,u){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[c]:this.$behaviours[c]={}}this.$behaviours[c][m]=u},this.addBehaviours=function(c){for(var m in c)for(var u in c[m])this.add(m,u,c[m][u])},this.remove=function(c){this.$behaviours&&this.$behaviours[c]&&delete this.$behaviours[c]},this.inherit=function(c,m){if(typeof c=="function")var u=new c().getBehaviours(m);else var u=c.getBehaviours(m);this.addBehaviours(u)},this.getBehaviours=function(c){if(c){for(var m={},u=0;u<c.length;u++)this.$behaviours[c[u]]&&(m[c[u]]=this.$behaviours[c[u]]);return m}else return this.$behaviours}}).call(o.prototype),r.Behaviour=o}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(t,r,s){var o=t("./range").Range,c=function(){function m(u,g,a){this.$session=u,this.$row=g,this.$rowTokens=u.getTokens(g);var h=u.getTokenAt(g,a);this.$tokenIndex=h?h.index:-1}return m.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},m.prototype.stepForward=function(){this.$tokenIndex+=1;for(var u;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,u||(u=this.$session.getLength()),this.$row>=u)return this.$row=u-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},m.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},m.prototype.getCurrentTokenRow=function(){return this.$row},m.prototype.getCurrentTokenColumn=function(){var u=this.$rowTokens,g=this.$tokenIndex,a=u[g].start;if(a!==void 0)return a;for(a=0;g>0;)g-=1,a+=u[g].value.length;return a},m.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},m.prototype.getCurrentTokenRange=function(){var u=this.$rowTokens[this.$tokenIndex],g=this.getCurrentTokenColumn();return new o(this.$row,g,this.$row,g+u.value.length)},m}();r.TokenIterator=c}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,r,s){var o=t("../../lib/oop"),c=t("../behaviour").Behaviour,m=t("../../token_iterator").TokenIterator,u=t("../../lib/lang"),g=["text","paren.rparen","rparen","paren","punctuation.operator"],a=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h,d={},f={'"':'"',"'":"'"},p=function(C){var A=-1;if(C.multiSelect&&(A=C.selection.index,d.rangeCount!=C.multiSelect.rangeCount&&(d={rangeCount:C.multiSelect.rangeCount})),d[A])return h=d[A];h=d[A]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},v=function(C,A,F,O){var $=C.end.row-C.start.row;return{text:F+A+O,selection:[0,C.start.column+1,$,C.end.column+($?0:1)]}},y;y=function(C){C=C||{},this.add("braces","insertion",function(A,F,O,$,_){var E=O.getCursorPosition(),I=$.doc.getLine(E.row);if(_=="{"){p(O);var M=O.getSelectionRange(),P=$.doc.getTextRange(M),V=$.getTokenAt(E.row,E.column);if(P!==""&&P!=="{"&&O.getWrapBehavioursEnabled())return v(M,P,"{","}");if(V&&/(?:string)\.quasi|\.xml/.test(V.type)){var S=[/tag\-(?:open|name)/,/attribute\-name/];return S.some(function(J){return J.test(V.type)})||/(string)\.quasi/.test(V.type)&&V.value[E.column-V.start-1]!=="$"?void 0:(y.recordAutoInsert(O,$,"}"),{text:"{}",selection:[1,1]})}else if(y.isSaneInsertion(O,$))return/[\]\}\)]/.test(I[E.column])||O.inMultiSelectMode||C.braces?(y.recordAutoInsert(O,$,"}"),{text:"{}",selection:[1,1]}):(y.recordMaybeInsert(O,$,"{"),{text:"{",selection:[1,1]})}else if(_=="}"){p(O);var w=I.substring(E.column,E.column+1);if(w=="}"){var L=$.$findOpeningBracket("}",{column:E.column+1,row:E.row});if(L!==null&&y.isAutoInsertedClosing(E,I,_))return y.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(_==`
`||_==`\r
`){p(O);var N="";y.isMaybeInsertedClosing(E,I)&&(N=u.stringRepeat("}",h.maybeInsertedBrackets),y.clearMaybeInsertedClosing());var w=I.substring(E.column,E.column+1);if(w==="}"){var z=$.findMatchingBracket({row:E.row,column:E.column+1},"}");if(!z)return null;var q=this.$getIndent($.getLine(z.row))}else if(N)var q=this.$getIndent(I);else{y.clearMaybeInsertedClosing();return}var K=q+$.getTabString();return{text:`
`+K+`
`+q+N,selection:[1,K.length,1,K.length]}}else y.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(A,F,O,$,_){var E=$.doc.getTextRange(_);if(!_.isMultiLine()&&E=="{"){p(O);var I=$.doc.getLine(_.start.row),M=I.substring(_.end.column,_.end.column+1);if(M=="}")return _.end.column++,_;h.maybeInsertedBrackets--}}),this.add("parens","insertion",function(A,F,O,$,_){if(_=="("){p(O);var E=O.getSelectionRange(),I=$.doc.getTextRange(E);if(I!==""&&O.getWrapBehavioursEnabled())return v(E,I,"(",")");if(y.isSaneInsertion(O,$))return y.recordAutoInsert(O,$,")"),{text:"()",selection:[1,1]}}else if(_==")"){p(O);var M=O.getCursorPosition(),P=$.doc.getLine(M.row),V=P.substring(M.column,M.column+1);if(V==")"){var S=$.$findOpeningBracket(")",{column:M.column+1,row:M.row});if(S!==null&&y.isAutoInsertedClosing(M,P,_))return y.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(A,F,O,$,_){var E=$.doc.getTextRange(_);if(!_.isMultiLine()&&E=="("){p(O);var I=$.doc.getLine(_.start.row),M=I.substring(_.start.column+1,_.start.column+2);if(M==")")return _.end.column++,_}}),this.add("brackets","insertion",function(A,F,O,$,_){if(_=="["){p(O);var E=O.getSelectionRange(),I=$.doc.getTextRange(E);if(I!==""&&O.getWrapBehavioursEnabled())return v(E,I,"[","]");if(y.isSaneInsertion(O,$))return y.recordAutoInsert(O,$,"]"),{text:"[]",selection:[1,1]}}else if(_=="]"){p(O);var M=O.getCursorPosition(),P=$.doc.getLine(M.row),V=P.substring(M.column,M.column+1);if(V=="]"){var S=$.$findOpeningBracket("]",{column:M.column+1,row:M.row});if(S!==null&&y.isAutoInsertedClosing(M,P,_))return y.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(A,F,O,$,_){var E=$.doc.getTextRange(_);if(!_.isMultiLine()&&E=="["){p(O);var I=$.doc.getLine(_.start.row),M=I.substring(_.start.column+1,_.start.column+2);if(M=="]")return _.end.column++,_}}),this.add("string_dquotes","insertion",function(A,F,O,$,_){var E=$.$mode.$quotes||f;if(_.length==1&&E[_]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(_)!=-1)return;p(O);var I=_,M=O.getSelectionRange(),P=$.doc.getTextRange(M);if(P!==""&&(P.length!=1||!E[P])&&O.getWrapBehavioursEnabled())return v(M,P,I,I);if(!P){var V=O.getCursorPosition(),S=$.doc.getLine(V.row),w=S.substring(V.column-1,V.column),L=S.substring(V.column,V.column+1),N=$.getTokenAt(V.row,V.column),z=$.getTokenAt(V.row,V.column+1);if(w=="\\"&&N&&/escape/.test(N.type))return null;var q=N&&/string|escape/.test(N.type),K=!z||/string|escape/.test(z.type),J;if(L==I)J=q!==K,J&&/string\.end/.test(z.type)&&(J=!1);else{if(q&&!K||q&&K)return null;var Q=$.$mode.tokenRe;Q.lastIndex=0;var U=Q.test(w);Q.lastIndex=0;var re=Q.test(L),Z=$.$mode.$pairQuotesAfter,he=Z&&Z[I]&&Z[I].test(w);if(!he&&U||re||L&&!/[\s;,.})\]\\]/.test(L))return null;var ue=S[V.column-2];if(w==I&&(ue==I||Q.test(ue)))return null;J=!0}return{text:J?I+I:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(A,F,O,$,_){var E=$.$mode.$quotes||f,I=$.doc.getTextRange(_);if(!_.isMultiLine()&&E.hasOwnProperty(I)){p(O);var M=$.doc.getLine(_.start.row),P=M.substring(_.start.column+1,_.start.column+2);if(P==I)return _.end.column++,_}}),C.closeDocComment!==!1&&this.add("doc comment end","insertion",function(A,F,O,$,_){if(A==="doc-start"&&(_===`
`||_===`\r
`)&&O.selection.isEmpty()){var E=O.getCursorPosition();if(E.column===0)return;for(var I=$.doc.getLine(E.row),M=$.doc.getLine(E.row+1),P=$.getTokens(E.row),V=0,S=0;S<P.length;S++){V+=P[S].value.length;var w=P[S];if(V>=E.column){if(V===E.column){if(!/\.doc/.test(w.type))return;if(/\*\//.test(w.value)){var L=P[S+1];if(!L||!/\.doc/.test(L.type))return}}var N=E.column-(V-w.value.length),z=w.value.indexOf("*/"),q=w.value.indexOf("/**",z>-1?z+2:0);if(q!==-1&&N>q&&N<q+3||z!==-1&&q!==-1&&N>=z&&N<=q||!/\.doc/.test(w.type))return;break}}var K=this.$getIndent(I);if(/\s*\*/.test(M))return/^\s*\*/.test(I)?{text:_+K+"* ",selection:[1,2+K.length,1,2+K.length]}:{text:_+K+" * ",selection:[1,3+K.length,1,3+K.length]};if(/\/\*\*/.test(I.substring(0,E.column)))return{text:_+K+" * "+_+" "+K+"*/",selection:[1,4+K.length,1,4+K.length]}}})},y.isSaneInsertion=function(C,A){var F=C.getCursorPosition(),O=new m(A,F.row,F.column);if(!this.$matchTokenType(O.getCurrentToken()||"text",g)){if(/[)}\]]/.test(C.session.getLine(F.row)[F.column]))return!0;var $=new m(A,F.row,F.column+1);if(!this.$matchTokenType($.getCurrentToken()||"text",g))return!1}return O.stepForward(),O.getCurrentTokenRow()!==F.row||this.$matchTokenType(O.getCurrentToken()||"text",a)},y.$matchTokenType=function(C,A){return A.indexOf(C.type||C)>-1},y.recordAutoInsert=function(C,A,F){var O=C.getCursorPosition(),$=A.doc.getLine(O.row);this.isAutoInsertedClosing(O,$,h.autoInsertedLineEnd[0])||(h.autoInsertedBrackets=0),h.autoInsertedRow=O.row,h.autoInsertedLineEnd=F+$.substr(O.column),h.autoInsertedBrackets++},y.recordMaybeInsert=function(C,A,F){var O=C.getCursorPosition(),$=A.doc.getLine(O.row);this.isMaybeInsertedClosing(O,$)||(h.maybeInsertedBrackets=0),h.maybeInsertedRow=O.row,h.maybeInsertedLineStart=$.substr(0,O.column)+F,h.maybeInsertedLineEnd=$.substr(O.column),h.maybeInsertedBrackets++},y.isAutoInsertedClosing=function(C,A,F){return h.autoInsertedBrackets>0&&C.row===h.autoInsertedRow&&F===h.autoInsertedLineEnd[0]&&A.substr(C.column)===h.autoInsertedLineEnd},y.isMaybeInsertedClosing=function(C,A){return h.maybeInsertedBrackets>0&&C.row===h.maybeInsertedRow&&A.substr(C.column)===h.maybeInsertedLineEnd&&A.substr(0,C.column)==h.maybeInsertedLineStart},y.popAutoInsertedClosing=function(){h.autoInsertedLineEnd=h.autoInsertedLineEnd.substr(1),h.autoInsertedBrackets--},y.clearMaybeInsertedClosing=function(){h&&(h.maybeInsertedBrackets=0,h.maybeInsertedRow=-1)},o.inherits(y,c),r.CstyleBehaviour=y}),ace.define("ace/unicode",["require","exports","module"],function(t,r,s){for(var o=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],c=0,m=[],u=0;u<o.length;u+=2)m.push(c+=o[u]),o[u+1]&&m.push(45,c+=o[u+1]);r.wordChars=String.fromCharCode.apply(null,m)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,r,s){var o=t("../config"),c=t("../tokenizer").Tokenizer,m=t("./text_highlight_rules").TextHighlightRules,u=t("./behaviour/cstyle").CstyleBehaviour,g=t("../unicode"),a=t("../lib/lang"),h=t("../token_iterator").TokenIterator,d=t("../range").Range,f;f=function(){this.HighlightRules=m},(function(){this.$defaultBehaviour=new u,this.tokenRe=new RegExp("^["+g.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+g.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new c(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(p,v,y,C){var A=v.doc,F=!0,O=!0,$=1/0,_=v.getTabSize(),E=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var P=this.lineCommentStart.map(a.escapeRegExp).join("|"),I=this.lineCommentStart[0];else var P=a.escapeRegExp(this.lineCommentStart),I=this.lineCommentStart;P=new RegExp("^(\\s*)(?:"+P+") ?"),E=v.getUseSoftTabs();var w=function(re,Z){var he=re.match(P);if(he){var ue=he[1].length,ae=he[0].length;!z(re,ue,ae)&&he[0][ae-1]==" "&&ae--,A.removeInLine(Z,ue,ae)}},N=I+" ",S=function(re,Z){(!F||/\S/.test(re))&&(z(re,$,$)?A.insertInLine({row:Z,column:$},N):A.insertInLine({row:Z,column:$},I))},L=function(re,Z){return P.test(re)},z=function(re,Z,he){for(var ue=0;Z--&&re.charAt(Z)==" ";)ue++;if(ue%_!=0)return!1;for(var ue=0;re.charAt(he++)==" ";)ue++;return _>2?ue%_!=_-1:ue%_==0}}else{if(!this.blockComment)return!1;var I=this.blockComment.start,M=this.blockComment.end,P=new RegExp("^(\\s*)(?:"+a.escapeRegExp(I)+")"),V=new RegExp("(?:"+a.escapeRegExp(M)+")\\s*$"),S=function(J,Q){L(J,Q)||(!F||/\S/.test(J))&&(A.insertInLine({row:Q,column:J.length},M),A.insertInLine({row:Q,column:$},I))},w=function(J,Q){var U;(U=J.match(V))&&A.removeInLine(Q,J.length-U[0].length,J.length),(U=J.match(P))&&A.removeInLine(Q,U[1].length,U[0].length)},L=function(J,Q){if(P.test(J))return!0;for(var U=v.getTokens(Q),re=0;re<U.length;re++)if(U[re].type==="comment")return!0}}function q(J){for(var Q=y;Q<=C;Q++)J(A.getLine(Q),Q)}var K=1/0;q(function(J,Q){var U=J.search(/\S/);U!==-1?(U<$&&($=U),O&&!L(J,Q)&&(O=!1)):K>J.length&&(K=J.length)}),$==1/0&&($=K,F=!1,O=!1),E&&$%_!=0&&($=Math.floor($/_)*_),q(O?w:S)},this.toggleBlockComment=function(p,v,y,C){var A=this.blockComment;if(A){!A.start&&A[0]&&(A=A[0]);var F=new h(v,C.row,C.column),O=F.getCurrentToken();v.selection;var $=v.selection.toOrientedRange(),_,E;if(O&&/comment/.test(O.type)){for(var I,M;O&&/comment/.test(O.type);){var P=O.value.indexOf(A.start);if(P!=-1){var V=F.getCurrentTokenRow(),S=F.getCurrentTokenColumn()+P;I=new d(V,S,V,S+A.start.length);break}O=F.stepBackward()}for(var F=new h(v,C.row,C.column),O=F.getCurrentToken();O&&/comment/.test(O.type);){var P=O.value.indexOf(A.end);if(P!=-1){var V=F.getCurrentTokenRow(),S=F.getCurrentTokenColumn()+P;M=new d(V,S,V,S+A.end.length);break}O=F.stepForward()}M&&v.remove(M),I&&(v.remove(I),_=I.start.row,E=-A.start.length)}else E=A.start.length,_=y.start.row,v.insert(y.end,A.end),v.insert(y.start,A.start);$.start.row==_&&($.start.column+=E),$.end.row==_&&($.end.column+=E),v.selection.fromOrientedRange($)}},this.getNextLineIndent=function(p,v,y){return this.$getIndent(v)},this.checkOutdent=function(p,v,y){return!1},this.autoOutdent=function(p,v,y){},this.$getIndent=function(p){return p.match(/^\s*/)[0]},this.createWorker=function(p){return null},this.createModeDelegates=function(p){this.$embeds=[],this.$modes={};for(var v in p)if(p[v]){var y=p[v],C=y.prototype.$id,A=o.$modes[C];A||(o.$modes[C]=A=new y),o.$modes[v]||(o.$modes[v]=A),this.$embeds.push(v),this.$modes[v]=A}for(var F=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],O=function(_){(function(E){var I=F[_],M=E[I];E[F[_]]=function(){return this.$delegator(I,arguments,M)}})($)},$=this,v=0;v<F.length;v++)O(v)},this.$delegator=function(p,v,y){var C=v[0]||"start";if(typeof C!="string"){if(Array.isArray(C[2])){var A=C[2][C[2].length-1],F=this.$modes[A];if(F)return F[p].apply(F,[C[1]].concat([].slice.call(v,1)))}C=C[0]||"start"}for(var O=0;O<this.$embeds.length;O++)if(this.$modes[this.$embeds[O]]){var $=C.split(this.$embeds[O]);if(!$[0]&&$[1]){v[0]=$[1];var F=this.$modes[this.$embeds[O]];return F[p].apply(F,v)}}var _=y.apply(this,v);return y?_:void 0},this.transformAction=function(p,v,y,C,A){if(this.$behaviour){var F=this.$behaviour.getBehaviours();for(var O in F)if(F[O][v]){var $=F[O][v].apply(this,arguments);if($)return $}}},this.getKeywords=function(p){if(!this.completionKeywords){var v=this.$tokenizer.rules,y=[];for(var C in v)for(var A=v[C],F=0,O=A.length;F<O;F++)if(typeof A[F].token=="string")/keyword|support|storage/.test(A[F].token)&&y.push(A[F].regex);else if(typeof A[F].token=="object"){for(var $=0,_=A[F].token.length;$<_;$++)if(/keyword|support|storage/.test(A[F].token[$])){var C=A[F].regex.match(/\(.+?\)/g)[$];y.push(C.substr(1,C.length-2))}}this.completionKeywords=y}return p?y.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(p,v,y,C){var A=this.$keywordList||this.$createKeywordList();return A.map(function(F){return{name:F,value:F,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(f.prototype),r.Mode=f}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(t,r,s){var o=t("./lib/dom"),c=function(){function m(u){this.session=u,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return m.prototype.getRowLength=function(u){var g;return this.lineWidgets?g=this.lineWidgets[u]&&this.lineWidgets[u].rowCount||0:g=0,!this.$useWrapMode||!this.$wrapData[u]?1+g:this.$wrapData[u].length+1+g},m.prototype.$getWidgetScreenLength=function(){var u=0;return this.lineWidgets.forEach(function(g){g&&g.rowCount&&!g.hidden&&(u+=g.rowCount)}),u},m.prototype.$onChangeEditor=function(u){this.attach(u.editor)},m.prototype.attach=function(u){u&&u.widgetManager&&u.widgetManager!=this&&u.widgetManager.detach(),this.editor!=u&&(this.detach(),this.editor=u,u&&(u.widgetManager=this,u.renderer.on("beforeRender",this.measureWidgets),u.renderer.on("afterRender",this.renderWidgets)))},m.prototype.detach=function(u){var g=this.editor;if(g){this.editor=null,g.widgetManager=null,g.renderer.off("beforeRender",this.measureWidgets),g.renderer.off("afterRender",this.renderWidgets);var a=this.session.lineWidgets;a&&a.forEach(function(h){h&&h.el&&h.el.parentNode&&(h._inDocument=!1,h.el.parentNode.removeChild(h.el))})}},m.prototype.updateOnFold=function(u,g){var a=g.lineWidgets;if(!(!a||!u.action)){for(var h=u.data,d=h.start.row,f=h.end.row,p=u.action=="add",v=d+1;v<f;v++)a[v]&&(a[v].hidden=p);a[f]&&(p?a[d]?a[f].hidden=p:a[d]=a[f]:(a[d]==a[f]&&(a[d]=void 0),a[f].hidden=p))}},m.prototype.updateOnChange=function(u){var g=this.session.lineWidgets;if(g){var a=u.start.row,h=u.end.row-a;if(h!==0)if(u.action=="remove"){var d=g.splice(a+1,h);!g[a]&&d[d.length-1]&&(g[a]=d.pop()),d.forEach(function(p){p&&this.removeLineWidget(p)},this),this.$updateRows()}else{var f=new Array(h);g[a]&&g[a].column!=null&&u.start.column>g[a].column&&a++,f.unshift(a,0),g.splice.apply(g,f),this.$updateRows()}}},m.prototype.$updateRows=function(){var u=this.session.lineWidgets;if(u){var g=!0;u.forEach(function(a,h){if(a)for(g=!1,a.row=h;a.$oldWidget;)a.$oldWidget.row=h,a=a.$oldWidget}),g&&(this.session.lineWidgets=null)}},m.prototype.$registerLineWidget=function(u){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var g=this.session.lineWidgets[u.row];return g&&(u.$oldWidget=g,g.el&&g.el.parentNode&&(g.el.parentNode.removeChild(g.el),g._inDocument=!1)),this.session.lineWidgets[u.row]=u,u},m.prototype.addLineWidget=function(u){if(this.$registerLineWidget(u),u.session=this.session,!this.editor)return u;var g=this.editor.renderer;u.html&&!u.el&&(u.el=o.createElement("div"),u.el.innerHTML=u.html),u.text&&!u.el&&(u.el=o.createElement("div"),u.el.textContent=u.text),u.el&&(o.addCssClass(u.el,"ace_lineWidgetContainer"),u.className&&o.addCssClass(u.el,u.className),u.el.style.position="absolute",u.el.style.zIndex="5",g.container.appendChild(u.el),u._inDocument=!0,u.coverGutter||(u.el.style.zIndex="3"),u.pixelHeight==null&&(u.pixelHeight=u.el.offsetHeight)),u.rowCount==null&&(u.rowCount=u.pixelHeight/g.layerConfig.lineHeight);var a=this.session.getFoldAt(u.row,0);if(u.$fold=a,a){var h=this.session.lineWidgets;u.row==a.end.row&&!h[a.start.row]?h[a.start.row]=u:u.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:u.row}}}),this.$updateRows(),this.renderWidgets(null,g),this.onWidgetChanged(u),u},m.prototype.removeLineWidget=function(u){if(u._inDocument=!1,u.session=null,u.el&&u.el.parentNode&&u.el.parentNode.removeChild(u.el),u.editor&&u.editor.destroy)try{u.editor.destroy()}catch{}if(this.session.lineWidgets){var g=this.session.lineWidgets[u.row];if(g==u)this.session.lineWidgets[u.row]=u.$oldWidget,u.$oldWidget&&this.onWidgetChanged(u.$oldWidget);else for(;g;){if(g.$oldWidget==u){g.$oldWidget=u.$oldWidget;break}g=g.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:u.row}}}),this.$updateRows()},m.prototype.getWidgetsAtRow=function(u){for(var g=this.session.lineWidgets,a=g&&g[u],h=[];a;)h.push(a),a=a.$oldWidget;return h},m.prototype.onWidgetChanged=function(u){this.session._changedWidgets.push(u),this.editor&&this.editor.renderer.updateFull()},m.prototype.measureWidgets=function(u,g){var a=this.session._changedWidgets,h=g.layerConfig;if(!(!a||!a.length)){for(var d=1/0,f=0;f<a.length;f++){var p=a[f];if(!(!p||!p.el)&&p.session==this.session){if(!p._inDocument){if(this.session.lineWidgets[p.row]!=p)continue;p._inDocument=!0,g.container.appendChild(p.el)}p.h=p.el.offsetHeight,p.fixedWidth||(p.w=p.el.offsetWidth,p.screenWidth=Math.ceil(p.w/h.characterWidth));var v=p.h/h.lineHeight;p.coverLine&&(v-=this.session.getRowLineCount(p.row),v<0&&(v=0)),p.rowCount!=v&&(p.rowCount=v,p.row<d&&(d=p.row))}}d!=1/0&&(this.session._emit("changeFold",{data:{start:{row:d}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},m.prototype.renderWidgets=function(u,g){var a=g.layerConfig,h=this.session.lineWidgets;if(h){for(var d=Math.min(this.firstRow,a.firstRow),f=Math.max(this.lastRow,a.lastRow,h.length);d>0&&!h[d];)d--;this.firstRow=a.firstRow,this.lastRow=a.lastRow,g.$cursorLayer.config=a;for(var p=d;p<=f;p++){var v=h[p];if(!(!v||!v.el)){if(v.hidden){v.el.style.top=-100-(v.pixelHeight||0)+"px";continue}v._inDocument||(v._inDocument=!0,g.container.appendChild(v.el));var y=g.$cursorLayer.getPixelPosition({row:p,column:0},!0).top;v.coverLine||(y+=a.lineHeight*this.session.getRowLineCount(v.row)),v.el.style.top=y-a.offset+"px";var C=v.coverGutter?0:g.gutterWidth;v.fixedWidth||(C-=g.scrollLeft),v.el.style.left=C+"px",v.fullWidth&&v.screenWidth&&(v.el.style.minWidth=a.width+2*a.padding+"px"),v.fixedWidth?v.el.style.right=g.scrollBar.getWidth()+"px":v.el.style.right=""}}}},m}();r.LineWidgets=c}),ace.define("ace/apply_delta",["require","exports","module"],function(t,r,s){r.applyDelta=function(o,c,m){var u=c.start.row,g=c.start.column,a=o[u]||"";switch(c.action){case"insert":var h=c.lines;if(h.length===1)o[u]=a.substring(0,g)+c.lines[0]+a.substring(g);else{var d=[u,1].concat(c.lines);o.splice.apply(o,d),o[u]=a.substring(0,g)+o[u],o[u+c.lines.length-1]+=a.substring(g)}break;case"remove":var f=c.end.column,p=c.end.row;u===p?o[u]=a.substring(0,g)+a.substring(f):o.splice(u,p-u+1,a.substring(0,g)+o[p].substring(f));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,r,s){var o=t("./lib/oop"),c=t("./lib/event_emitter").EventEmitter,m=function(){function a(h,d,f){this.$onChange=this.onChange.bind(this),this.attach(h),typeof d!="number"?this.setPosition(d.row,d.column):this.setPosition(d,f)}return a.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},a.prototype.getDocument=function(){return this.document},a.prototype.onChange=function(h){if(!(h.start.row==h.end.row&&h.start.row!=this.row)&&!(h.start.row>this.row)){var d=g(h,{row:this.row,column:this.column},this.$insertRight);this.setPosition(d.row,d.column,!0)}},a.prototype.setPosition=function(h,d,f){var p;if(f?p={row:h,column:d}:p=this.$clipPositionToDocument(h,d),!(this.row==p.row&&this.column==p.column)){var v={row:this.row,column:this.column};this.row=p.row,this.column=p.column,this._signal("change",{old:v,value:p})}},a.prototype.detach=function(){this.document.off("change",this.$onChange)},a.prototype.attach=function(h){this.document=h||this.document,this.document.on("change",this.$onChange)},a.prototype.$clipPositionToDocument=function(h,d){var f={};return h>=this.document.getLength()?(f.row=Math.max(0,this.document.getLength()-1),f.column=this.document.getLine(f.row).length):h<0?(f.row=0,f.column=0):(f.row=h,f.column=Math.min(this.document.getLine(f.row).length,Math.max(0,d))),d<0&&(f.column=0),f},a}();m.prototype.$insertRight=!1,o.implement(m.prototype,c);function u(a,h,d){var f=d?a.column<=h.column:a.column<h.column;return a.row<h.row||a.row==h.row&&f}function g(a,h,d){var f=a.action=="insert",p=(f?1:-1)*(a.end.row-a.start.row),v=(f?1:-1)*(a.end.column-a.start.column),y=a.start,C=f?y:a.end;return u(h,y,d)?{row:h.row,column:h.column}:u(C,h,!d)?{row:h.row+p,column:h.column+(h.row==C.row?v:0)}:{row:y.row,column:y.column}}r.Anchor=m}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,r,s){var o=t("./lib/oop"),c=t("./apply_delta").applyDelta,m=t("./lib/event_emitter").EventEmitter,u=t("./range").Range,g=t("./anchor").Anchor,a=function(){function h(d){this.$lines=[""],d.length===0?this.$lines=[""]:Array.isArray(d)?this.insertMergedLines({row:0,column:0},d):this.insert({row:0,column:0},d)}return h.prototype.setValue=function(d){var f=this.getLength()-1;this.remove(new u(0,0,f,this.getLine(f).length)),this.insert({row:0,column:0},d||"")},h.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},h.prototype.createAnchor=function(d,f){return new g(this,d,f)},h.prototype.$detectNewLine=function(d){var f=d.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=f?f[1]:`
`,this._signal("changeNewLineMode")},h.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},h.prototype.setNewLineMode=function(d){this.$newLineMode!==d&&(this.$newLineMode=d,this._signal("changeNewLineMode"))},h.prototype.getNewLineMode=function(){return this.$newLineMode},h.prototype.isNewLine=function(d){return d==`\r
`||d=="\r"||d==`
`},h.prototype.getLine=function(d){return this.$lines[d]||""},h.prototype.getLines=function(d,f){return this.$lines.slice(d,f+1)},h.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},h.prototype.getLength=function(){return this.$lines.length},h.prototype.getTextRange=function(d){return this.getLinesForRange(d).join(this.getNewLineCharacter())},h.prototype.getLinesForRange=function(d){var f;if(d.start.row===d.end.row)f=[this.getLine(d.start.row).substring(d.start.column,d.end.column)];else{f=this.getLines(d.start.row,d.end.row),f[0]=(f[0]||"").substring(d.start.column);var p=f.length-1;d.end.row-d.start.row==p&&(f[p]=f[p].substring(0,d.end.column))}return f},h.prototype.insertLines=function(d,f){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(d,f)},h.prototype.removeLines=function(d,f){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(d,f)},h.prototype.insertNewLine=function(d){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(d,["",""])},h.prototype.insert=function(d,f){return this.getLength()<=1&&this.$detectNewLine(f),this.insertMergedLines(d,this.$split(f))},h.prototype.insertInLine=function(d,f){var p=this.clippedPos(d.row,d.column),v=this.pos(d.row,d.column+f.length);return this.applyDelta({start:p,end:v,action:"insert",lines:[f]},!0),this.clonePos(v)},h.prototype.clippedPos=function(d,f){var p=this.getLength();d===void 0?d=p:d<0?d=0:d>=p&&(d=p-1,f=void 0);var v=this.getLine(d);return f==null&&(f=v.length),f=Math.min(Math.max(f,0),v.length),{row:d,column:f}},h.prototype.clonePos=function(d){return{row:d.row,column:d.column}},h.prototype.pos=function(d,f){return{row:d,column:f}},h.prototype.$clipPosition=function(d){var f=this.getLength();return d.row>=f?(d.row=Math.max(0,f-1),d.column=this.getLine(f-1).length):(d.row=Math.max(0,d.row),d.column=Math.min(Math.max(d.column,0),this.getLine(d.row).length)),d},h.prototype.insertFullLines=function(d,f){d=Math.min(Math.max(d,0),this.getLength());var p=0;d<this.getLength()?(f=f.concat([""]),p=0):(f=[""].concat(f),d--,p=this.$lines[d].length),this.insertMergedLines({row:d,column:p},f)},h.prototype.insertMergedLines=function(d,f){var p=this.clippedPos(d.row,d.column),v={row:p.row+f.length-1,column:(f.length==1?p.column:0)+f[f.length-1].length};return this.applyDelta({start:p,end:v,action:"insert",lines:f}),this.clonePos(v)},h.prototype.remove=function(d){var f=this.clippedPos(d.start.row,d.start.column),p=this.clippedPos(d.end.row,d.end.column);return this.applyDelta({start:f,end:p,action:"remove",lines:this.getLinesForRange({start:f,end:p})}),this.clonePos(f)},h.prototype.removeInLine=function(d,f,p){var v=this.clippedPos(d,f),y=this.clippedPos(d,p);return this.applyDelta({start:v,end:y,action:"remove",lines:this.getLinesForRange({start:v,end:y})},!0),this.clonePos(v)},h.prototype.removeFullLines=function(d,f){d=Math.min(Math.max(0,d),this.getLength()-1),f=Math.min(Math.max(0,f),this.getLength()-1);var p=f==this.getLength()-1&&d>0,v=f<this.getLength()-1,y=p?d-1:d,C=p?this.getLine(y).length:0,A=v?f+1:f,F=v?0:this.getLine(A).length,O=new u(y,C,A,F),$=this.$lines.slice(d,f+1);return this.applyDelta({start:O.start,end:O.end,action:"remove",lines:this.getLinesForRange(O)}),$},h.prototype.removeNewLine=function(d){d<this.getLength()-1&&d>=0&&this.applyDelta({start:this.pos(d,this.getLine(d).length),end:this.pos(d+1,0),action:"remove",lines:["",""]})},h.prototype.replace=function(d,f){if(d instanceof u||(d=u.fromPoints(d.start,d.end)),f.length===0&&d.isEmpty())return d.start;if(f==this.getTextRange(d))return d.end;this.remove(d);var p;return f?p=this.insert(d.start,f):p=d.start,p},h.prototype.applyDeltas=function(d){for(var f=0;f<d.length;f++)this.applyDelta(d[f])},h.prototype.revertDeltas=function(d){for(var f=d.length-1;f>=0;f--)this.revertDelta(d[f])},h.prototype.applyDelta=function(d,f){var p=d.action=="insert";(p?d.lines.length<=1&&!d.lines[0]:!u.comparePoints(d.start,d.end))||(p&&d.lines.length>2e4?this.$splitAndapplyLargeDelta(d,2e4):(c(this.$lines,d,f),this._signal("change",d)))},h.prototype.$safeApplyDelta=function(d){var f=this.$lines.length;(d.action=="remove"&&d.start.row<f&&d.end.row<f||d.action=="insert"&&d.start.row<=f)&&this.applyDelta(d)},h.prototype.$splitAndapplyLargeDelta=function(d,f){for(var p=d.lines,v=p.length-f+1,y=d.start.row,C=d.start.column,A=0,F=0;A<v;A=F){F+=f-1;var O=p.slice(A,F);O.push(""),this.applyDelta({start:this.pos(y+A,C),end:this.pos(y+F,C=0),action:d.action,lines:O},!0)}d.lines=p.slice(A),d.start.row=y+A,d.start.column=C,this.applyDelta(d,!0)},h.prototype.revertDelta=function(d){this.$safeApplyDelta({start:this.clonePos(d.start),end:this.clonePos(d.end),action:d.action=="insert"?"remove":"insert",lines:d.lines.slice()})},h.prototype.indexToPosition=function(d,f){for(var p=this.$lines||this.getAllLines(),v=this.getNewLineCharacter().length,y=f||0,C=p.length;y<C;y++)if(d-=p[y].length+v,d<0)return{row:y,column:d+p[y].length+v};return{row:C-1,column:d+p[C-1].length+v}},h.prototype.positionToIndex=function(d,f){for(var p=this.$lines||this.getAllLines(),v=this.getNewLineCharacter().length,y=0,C=Math.min(d.row,p.length),A=f||0;A<C;++A)y+=p[A].length+v;return y+d.column},h.prototype.$split=function(d){return d.split(/\r\n|\r|\n/)},h}();a.prototype.$autoNewLine="",a.prototype.$newLineMode="auto",o.implement(a.prototype,m),r.Document=a}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,r,s){var o=t("./lib/oop"),c=t("./lib/event_emitter").EventEmitter,m=function(){function u(g,a){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=g;var h=this;this.$worker=function(){if(h.running){for(var d=new Date,f=h.currentLine,p=-1,v=h.doc,y=f;h.lines[f];)f++;var C=v.getLength(),A=0;for(h.running=!1;f<C;){h.$tokenizeRow(f),p=f;do f++;while(h.lines[f]);if(A++,A%5===0&&new Date-d>20){h.running=setTimeout(h.$worker,20);break}}h.currentLine=f,p==-1&&(p=f),y<=p&&h.fireUpdateEvent(y,p)}}}return u.prototype.setTokenizer=function(g){this.tokenizer=g,this.lines=[],this.states=[],this.start(0)},u.prototype.setDocument=function(g){this.doc=g,this.lines=[],this.states=[],this.stop()},u.prototype.fireUpdateEvent=function(g,a){var h={first:g,last:a};this._signal("update",{data:h})},u.prototype.start=function(g){this.currentLine=Math.min(g||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},u.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},u.prototype.$updateOnChange=function(g){var a=g.start.row,h=g.end.row-a;if(h===0)this.lines[a]=null;else if(g.action=="remove")this.lines.splice(a,h+1,null),this.states.splice(a,h+1,null);else{var d=Array(h+1);d.unshift(a,1),this.lines.splice.apply(this.lines,d),this.states.splice.apply(this.states,d)}this.currentLine=Math.min(a,this.currentLine,this.doc.getLength()),this.stop()},u.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},u.prototype.getTokens=function(g){return this.lines[g]||this.$tokenizeRow(g)},u.prototype.getState=function(g){return this.currentLine==g&&this.$tokenizeRow(g),this.states[g]||"start"},u.prototype.$tokenizeRow=function(g){var a=this.doc.getLine(g),h=this.states[g-1],d=this.tokenizer.getLineTokens(a,h,g);return this.states[g]+""!=d.state+""?(this.states[g]=d.state,this.lines[g+1]=null,this.currentLine>g+1&&(this.currentLine=g+1)):this.currentLine==g&&(this.currentLine=g+1),this.lines[g]=d.tokens},u.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},u}();o.implement(m.prototype,c),r.BackgroundTokenizer=m}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(t,r,s){var o=t("./lib/lang"),c=t("./range").Range,m=function(){function u(g,a,h){h===void 0&&(h="text"),this.setRegexp(g),this.clazz=a,this.type=h}return u.prototype.setRegexp=function(g){this.regExp+""!=g+""&&(this.regExp=g,this.cache=[])},u.prototype.update=function(g,a,h,d){if(this.regExp)for(var f=d.firstRow,p=d.lastRow,v={},y=f;y<=p;y++){var C=this.cache[y];C==null&&(C=o.getMatchOffsets(h.getLine(y),this.regExp),C.length>this.MAX_RANGES&&(C=C.slice(0,this.MAX_RANGES)),C=C.map(function($){return new c(y,$.offset,y,$.offset+$.length)}),this.cache[y]=C.length?C:"");for(var A=C.length;A--;){var F=C[A].toScreenRange(h),O=F.toString();v[O]||(v[O]=!0,a.drawSingleLineMarker(g,F,this.clazz,d))}}},u}();m.prototype.MAX_RANGES=500,r.SearchHighlight=m}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(t,r,s){var o=function(){function $(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return $.prototype.addSession=function(_){this.$session=_},$.prototype.add=function(_,E,I){if(!this.$fromUndo&&_!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),E===!1||!this.lastDeltas){this.lastDeltas=[];var M=this.$undoStack.length;M>this.$undoDepth-1&&this.$undoStack.splice(0,M-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),_.id=this.$rev=++this.$maxRev}(_.action=="remove"||_.action=="insert")&&(this.$lastDelta=_),this.lastDeltas.push(_)}},$.prototype.addSelection=function(_,E){this.selections.push({value:_,rev:E||this.$rev})},$.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},$.prototype.markIgnored=function(_,E){E==null&&(E=this.$rev+1);for(var I=this.$undoStack,M=I.length;M--;){var P=I[M][0];if(P.id<=_)break;P.id<E&&(P.ignore=!0)}this.lastDeltas=null},$.prototype.getSelection=function(_,E){for(var I=this.selections,M=I.length;M--;){var P=I[M];if(P.rev<_)return E&&(P=I[M+1]),P}},$.prototype.getRevision=function(){return this.$rev},$.prototype.getDeltas=function(_,E){E==null&&(E=this.$rev+1);for(var I=this.$undoStack,M=null,P=0,V=I.length;V--;){var S=I[V][0];if(S.id<E&&!M&&(M=V+1),S.id<=_){P=V+1;break}}return I.slice(P,M)},$.prototype.getChangedRanges=function(_,E){E==null&&(E=this.$rev+1)},$.prototype.getChangedLines=function(_,E){E==null&&(E=this.$rev+1)},$.prototype.undo=function(_,E){this.lastDeltas=null;var I=this.$undoStack;if(c(I,I.length)){_||(_=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var M=I.pop(),P=null;return M&&(P=_.undoChanges(M,E),this.$redoStack.push(M),this.$syncRev()),this.$fromUndo=!1,P}},$.prototype.redo=function(_,E){if(this.lastDeltas=null,_||(_=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var I=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);O(this.$redoStack,I),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(V){V[0].id=++this.$maxRev},this)}var M=this.$redoStack.pop(),P=null;return M&&(P=_.redoChanges(M,E),this.$undoStack.push(M),this.$syncRev()),this.$fromUndo=!1,P},$.prototype.$syncRev=function(){var _=this.$undoStack,E=_[_.length-1],I=E&&E[0].id||0;this.$redoStackBaseRev=I,this.$rev=I},$.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},$.prototype.canUndo=function(){return this.$undoStack.length>0},$.prototype.canRedo=function(){return this.$redoStack.length>0},$.prototype.bookmark=function(_){_==null&&(_=this.$rev),this.mark=_},$.prototype.isAtBookmark=function(){return this.$rev===this.mark},$.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},$.prototype.fromJSON=function(_){this.reset(),this.$undoStack=_.$undoStack,this.$redoStack=_.$redoStack},$.prototype.$prettyPrint=function(_){return _?h(_):h(this.$undoStack)+`
---
`+h(this.$redoStack)},$}();o.prototype.hasUndo=o.prototype.canUndo,o.prototype.hasRedo=o.prototype.canRedo,o.prototype.isClean=o.prototype.isAtBookmark,o.prototype.markClean=o.prototype.bookmark;function c($,_){for(var E=_;E--;){var I=$[E];if(I&&!I[0].ignore){for(;E<_-1;){var M=p($[E],$[E+1]);$[E]=M[0],$[E+1]=M[1],E++}return!0}}}var m=t("./range").Range,u=m.comparePoints;m.comparePoints;function g($){return{row:$.row,column:$.column}}function a($){return{start:g($.start),end:g($.end),action:$.action,lines:$.lines.slice()}}function h($){if($=$||this,Array.isArray($))return $.map(h).join(`
`);var _="";return $.action?(_=$.action=="insert"?"+":"-",_+="["+$.lines+"]"):$.value&&(Array.isArray($.value)?_=$.value.map(d).join(`
`):_=d($.value)),$.start&&(_+=d($)),($.id||$.rev)&&(_+="	("+($.id||$.rev)+")"),_}function d($){return $.start.row+":"+$.start.column+"=>"+$.end.row+":"+$.end.column}function f($,_){var E=$.action=="insert",I=_.action=="insert";if(E&&I)if(u(_.start,$.end)>=0)y(_,$,-1);else if(u(_.start,$.start)<=0)y($,_,1);else return null;else if(E&&!I)if(u(_.start,$.end)>=0)y(_,$,-1);else if(u(_.end,$.start)<=0)y($,_,-1);else return null;else if(!E&&I)if(u(_.start,$.start)>=0)y(_,$,1);else if(u(_.start,$.start)<=0)y($,_,1);else return null;else if(!E&&!I)if(u(_.start,$.start)>=0)y(_,$,1);else if(u(_.end,$.start)<=0)y($,_,-1);else return null;return[_,$]}function p($,_){for(var E=$.length;E--;)for(var I=0;I<_.length;I++)if(!f($[E],_[I])){for(;E<$.length;){for(;I--;)f(_[I],$[E]);I=_.length,E++}return[$,_]}return $.selectionBefore=_.selectionBefore=$.selectionAfter=_.selectionAfter=null,[_,$]}function v($,_){var E=$.action=="insert",I=_.action=="insert";if(E&&I)u($.start,_.start)<0?y(_,$,1):y($,_,1);else if(E&&!I)u($.start,_.end)>=0?y($,_,-1):(u($.start,_.start)<=0||y($,m.fromPoints(_.start,$.start),-1),y(_,$,1));else if(!E&&I)u(_.start,$.end)>=0?y(_,$,-1):(u(_.start,$.start)<=0||y(_,m.fromPoints($.start,_.start),-1),y($,_,1));else if(!E&&!I)if(u(_.start,$.end)>=0)y(_,$,-1);else if(u(_.end,$.start)<=0)y($,_,-1);else{var M,P;return u($.start,_.start)<0&&(M=$,$=A($,_.start)),u($.end,_.end)>0&&(P=A($,_.end)),C(_.end,$.start,$.end,-1),P&&!M&&($.lines=P.lines,$.start=P.start,$.end=P.end,P=$),[_,M,P].filter(Boolean)}return[_,$]}function y($,_,E){C($.start,_.start,_.end,E),C($.end,_.start,_.end,E)}function C($,_,E,I){$.row==(I==1?_:E).row&&($.column+=I*(E.column-_.column)),$.row+=I*(E.row-_.row)}function A($,_){var E=$.lines,I=$.end;$.end=g(_);var M=$.end.row-$.start.row,P=E.splice(M,E.length),V=M?_.column:_.column-$.start.column;E.push(P[0].substring(0,V)),P[0]=P[0].substr(V);var S={start:g(_),end:I,lines:P,action:$.action};return S}function F($,_){_=a(_);for(var E=$.length;E--;){for(var I=$[E],M=0;M<I.length;M++){var P=I[M],V=v(P,_);_=V[0],V.length!=2&&(V[2]?(I.splice(M+1,1,V[1],V[2]),M++):V[1]||(I.splice(M,1),M--))}I.length||$.splice(E,1)}return $}function O($,_){for(var E=0;E<_.length;E++)for(var I=_[E],M=0;M<I.length;M++)F($,I[M])}r.UndoManager=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,r,s){var o=t("../range").Range,c=function(){function m(u,g){this.foldData=u,Array.isArray(g)?this.folds=g:g=this.folds=[g];var a=g[g.length-1];this.range=new o(g[0].start.row,g[0].start.column,a.end.row,a.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(h){h.setFoldLine(this)},this)}return m.prototype.shiftRow=function(u){this.start.row+=u,this.end.row+=u,this.folds.forEach(function(g){g.start.row+=u,g.end.row+=u})},m.prototype.addFold=function(u){if(u.sameRow){if(u.start.row<this.startRow||u.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(u),this.folds.sort(function(g,a){return-g.range.compareEnd(a.start.row,a.start.column)}),this.range.compareEnd(u.start.row,u.start.column)>0?(this.end.row=u.end.row,this.end.column=u.end.column):this.range.compareStart(u.end.row,u.end.column)<0&&(this.start.row=u.start.row,this.start.column=u.start.column)}else if(u.start.row==this.end.row)this.folds.push(u),this.end.row=u.end.row,this.end.column=u.end.column;else if(u.end.row==this.start.row)this.folds.unshift(u),this.start.row=u.start.row,this.start.column=u.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");u.foldLine=this},m.prototype.containsRow=function(u){return u>=this.start.row&&u<=this.end.row},m.prototype.walk=function(u,g,a){var h=0,d=this.folds,f,p,v,y=!0;g==null&&(g=this.end.row,a=this.end.column);for(var C=0;C<d.length;C++){if(f=d[C],p=f.range.compareStart(g,a),p==-1){u(null,g,a,h,y);return}if(v=u(null,f.start.row,f.start.column,h,y),v=!v&&u(f.placeholder,f.start.row,f.start.column,h),v||p===0)return;y=!f.sameRow,h=f.end.column}u(null,g,a,h,y)},m.prototype.getNextFoldTo=function(u,g){for(var a,h,d=0;d<this.folds.length;d++){if(a=this.folds[d],h=a.range.compareEnd(u,g),h==-1)return{fold:a,kind:"after"};if(h===0)return{fold:a,kind:"inside"}}return null},m.prototype.addRemoveChars=function(u,g,a){var h=this.getNextFoldTo(u,g),d,f;if(h){if(d=h.fold,h.kind=="inside"&&d.start.column!=g&&d.start.row!=u)window.console&&window.console.log(u,g,d);else if(d.start.row==u){f=this.folds;var p=f.indexOf(d);for(p===0&&(this.start.column+=a),p;p<f.length;p++){if(d=f[p],d.start.column+=a,!d.sameRow)return;d.end.column+=a}this.end.column+=a}}},m.prototype.split=function(u,g){var a=this.getNextFoldTo(u,g);if(!a||a.kind=="inside")return null;var h=a.fold,d=this.folds,f=this.foldData,p=d.indexOf(h),v=d[p-1];this.end.row=v.end.row,this.end.column=v.end.column,d=d.splice(p,d.length-p);var y=new m(f,d);return f.splice(f.indexOf(this)+1,0,y),y},m.prototype.merge=function(u){for(var g=u.folds,a=0;a<g.length;a++)this.addFold(g[a]);var h=this.foldData;h.splice(h.indexOf(u),1)},m.prototype.toString=function(){var u=[this.range.toString()+": ["];return this.folds.forEach(function(g){u.push("  "+g.toString())}),u.push("]"),u.join(`
`)},m.prototype.idxToPosition=function(u){for(var g=0,a=0;a<this.folds.length;a++){var h=this.folds[a];if(u-=h.start.column-g,u<0)return{row:h.start.row,column:h.start.column+u};if(u-=h.placeholder.length,u<0)return h.start;g=h.end.column}return{row:this.end.row,column:this.end.column+u}},m}();r.FoldLine=c}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,r,s){var o=t("./range").Range,c=o.comparePoints,m=function(){function u(){this.ranges=[],this.$bias=1}return u.prototype.pointIndex=function(g,a,h){for(var d=this.ranges,f=h||0;f<d.length;f++){var p=d[f],v=c(g,p.end);if(!(v>0)){var y=c(g,p.start);return v===0?a&&y!==0?-f-2:f:y>0||y===0&&!a?f:-f-1}}return-f-1},u.prototype.add=function(g){var a=!g.isEmpty(),h=this.pointIndex(g.start,a);h<0&&(h=-h-1);var d=this.pointIndex(g.end,a,h);return d<0?d=-d-1:d++,this.ranges.splice(h,d-h,g)},u.prototype.addList=function(g){for(var a=[],h=g.length;h--;)a.push.apply(a,this.add(g[h]));return a},u.prototype.substractPoint=function(g){var a=this.pointIndex(g);if(a>=0)return this.ranges.splice(a,1)},u.prototype.merge=function(){var g=[],a=this.ranges;a=a.sort(function(v,y){return c(v.start,y.start)});for(var h=a[0],d,f=1;f<a.length;f++){d=h,h=a[f];var p=c(d.end,h.start);p<0||p==0&&!d.isEmpty()&&!h.isEmpty()||(c(d.end,h.end)<0&&(d.end.row=h.end.row,d.end.column=h.end.column),a.splice(f,1),g.push(h),h=d,f--)}return this.ranges=a,g},u.prototype.contains=function(g,a){return this.pointIndex({row:g,column:a})>=0},u.prototype.containsPoint=function(g){return this.pointIndex(g)>=0},u.prototype.rangeAtPoint=function(g){var a=this.pointIndex(g);if(a>=0)return this.ranges[a]},u.prototype.clipRows=function(g,a){var h=this.ranges;if(h[0].start.row>a||h[h.length-1].start.row<g)return[];var d=this.pointIndex({row:g,column:0});d<0&&(d=-d-1);var f=this.pointIndex({row:a,column:0},d);f<0&&(f=-f-1);for(var p=[],v=d;v<f;v++)p.push(h[v]);return p},u.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},u.prototype.attach=function(g){this.session&&this.detach(),this.session=g,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},u.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},u.prototype.$onChange=function(g){for(var a=g.start,h=g.end,d=a.row,f=h.row,p=this.ranges,v=0,y=p.length;v<y;v++){var C=p[v];if(C.end.row>=d)break}if(g.action=="insert")for(var A=f-d,F=-a.column+h.column;v<y;v++){var C=p[v];if(C.start.row>d)break;if(C.start.row==d&&C.start.column>=a.column&&(C.start.column==a.column&&this.$bias<=0||(C.start.column+=F,C.start.row+=A)),C.end.row==d&&C.end.column>=a.column){if(C.end.column==a.column&&this.$bias<0)continue;C.end.column==a.column&&F>0&&v<y-1&&C.end.column>C.start.column&&C.end.column==p[v+1].start.column&&(C.end.column-=F),C.end.column+=F,C.end.row+=A}}else for(var A=d-f,F=a.column-h.column;v<y;v++){var C=p[v];if(C.start.row>f)break;C.end.row<f&&(d<C.end.row||d==C.end.row&&a.column<C.end.column)?(C.end.row=d,C.end.column=a.column):C.end.row==f?C.end.column<=h.column?(A||C.end.column>a.column)&&(C.end.column=a.column,C.end.row=a.row):(C.end.column+=F,C.end.row+=A):C.end.row>f&&(C.end.row+=A),C.start.row<f&&(d<C.start.row||d==C.start.row&&a.column<C.start.column)?(C.start.row=d,C.start.column=a.column):C.start.row==f?C.start.column<=h.column?(A||C.start.column>a.column)&&(C.start.column=a.column,C.start.row=a.row):(C.start.column+=F,C.start.row+=A):C.start.row>f&&(C.start.row+=A)}if(A!=0&&v<y)for(;v<y;v++){var C=p[v];C.start.row+=A,C.end.row+=A}},u}();m.prototype.comparePoints=c,r.RangeList=m}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(t,r,s){var o=this&&this.__extends||function(){var d=function(f,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(v[C]=y[C])},d(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(f,p);function v(){this.constructor=f}f.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}(),c=t("../range_list").RangeList,m=function(d){o(f,d);function f(p,v){var y=d.call(this)||this;return y.foldLine=null,y.placeholder=v,y.range=p,y.start=p.start,y.end=p.end,y.sameRow=p.start.row==p.end.row,y.subFolds=y.ranges=[],y}return f.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},f.prototype.setFoldLine=function(p){this.foldLine=p,this.subFolds.forEach(function(v){v.setFoldLine(p)})},f.prototype.clone=function(){var p=this.range.clone(),v=new f(p,this.placeholder);return this.subFolds.forEach(function(y){v.subFolds.push(y.clone())}),v.collapseChildren=this.collapseChildren,v},f.prototype.addSubFold=function(p){if(!this.range.isEqual(p)){g(p,this.start);for(var F=p.start.row,O=p.start.column,v=0,y=-1;v<this.subFolds.length&&(y=this.subFolds[v].range.compare(F,O),y==1);v++);var C=this.subFolds[v],A=0;if(y==0){if(C.range.containsRange(p))return C.addSubFold(p);A=1}for(var F=p.range.end.row,O=p.range.end.column,$=v,y=-1;$<this.subFolds.length&&(y=this.subFolds[$].range.compare(F,O),y==1);$++);y==0&&$++;for(var _=this.subFolds.splice(v,$-v,p),E=y==0?_.length-1:_.length,I=A;I<E;I++)p.addSubFold(_[I]);return p.setFoldLine(this.foldLine),p}},f.prototype.restoreRange=function(p){return h(p,this.start)},f}(c);function u(d,f){d.row-=f.row,d.row==0&&(d.column-=f.column)}function g(d,f){u(d.start,f),u(d.end,f)}function a(d,f){d.row==0&&(d.column+=f.column),d.row+=f.row}function h(d,f){a(d.start,f),a(d.end,f)}r.Fold=m}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(t,r,s){var o=t("../range").Range,c=t("./fold_line").FoldLine,m=t("./fold").Fold,u=t("../token_iterator").TokenIterator,g=t("../mouse/mouse_event").MouseEvent;function a(){this.getFoldAt=function(h,d,f){var p=this.getFoldLine(h);if(!p)return null;for(var v=p.folds,y=0;y<v.length;y++){var C=v[y].range;if(C.contains(h,d)){if(f==1&&C.isEnd(h,d)&&!C.isEmpty())continue;if(f==-1&&C.isStart(h,d)&&!C.isEmpty())continue;return v[y]}}},this.getFoldsInRange=function(h){var d=h.start,f=h.end,p=this.$foldData,v=[];d.column+=1,f.column-=1;for(var y=0;y<p.length;y++){var C=p[y].range.compareRange(h);if(C!=2){if(C==-2)break;for(var A=p[y].folds,F=0;F<A.length;F++){var O=A[F];if(C=O.range.compareRange(h),C==-2)break;if(C==2)continue;if(C==42)break;v.push(O)}}}return d.column-=1,f.column+=1,v},this.getFoldsInRangeList=function(h){if(Array.isArray(h)){var d=[];h.forEach(function(f){d=d.concat(this.getFoldsInRange(f))},this)}else var d=this.getFoldsInRange(h);return d},this.getAllFolds=function(){for(var h=[],d=this.$foldData,f=0;f<d.length;f++)for(var p=0;p<d[f].folds.length;p++)h.push(d[f].folds[p]);return h},this.getFoldStringAt=function(h,d,f,p){if(p=p||this.getFoldLine(h),!p)return null;for(var v={end:{column:0}},y,C,A=0;A<p.folds.length;A++){C=p.folds[A];var F=C.range.compareEnd(h,d);if(F==-1){y=this.getLine(C.start.row).substring(v.end.column,C.start.column);break}else if(F===0)return null;v=C}return y||(y=this.getLine(C.start.row).substring(v.end.column)),f==-1?y.substring(0,d-v.end.column):f==1?y.substring(d-v.end.column):y},this.getFoldLine=function(h,d){var f=this.$foldData,p=0;for(d&&(p=f.indexOf(d)),p==-1&&(p=0),p;p<f.length;p++){var v=f[p];if(v.start.row<=h&&v.end.row>=h)return v;if(v.end.row>h)return null}return null},this.getNextFoldLine=function(h,d){var f=this.$foldData,p=0;for(d&&(p=f.indexOf(d)),p==-1&&(p=0),p;p<f.length;p++){var v=f[p];if(v.end.row>=h)return v}return null},this.getFoldedRowCount=function(h,d){for(var f=this.$foldData,p=d-h+1,v=0;v<f.length;v++){var y=f[v],C=y.end.row,A=y.start.row;if(C>=d){A<d&&(A>=h?p-=d-A:p=0);break}else C>=h&&(A>=h?p-=C-A:p-=C-h+1)}return p},this.$addFoldLine=function(h){return this.$foldData.push(h),this.$foldData.sort(function(d,f){return d.start.row-f.start.row}),h},this.addFold=function(h,d){var f=this.$foldData,p=!1,v;h instanceof m?v=h:(v=new m(d,h),v.collapseChildren=d.collapseChildren),this.$clipRangeToDocument(v.range);var y=v.start.row,C=v.start.column,A=v.end.row,F=v.end.column,O=this.getFoldAt(y,C,1),$=this.getFoldAt(A,F,-1);if(O&&$==O)return O.addSubFold(v);O&&!O.range.isStart(y,C)&&this.removeFold(O),$&&!$.range.isEnd(A,F)&&this.removeFold($);var _=this.getFoldsInRange(v.range);_.length>0&&(this.removeFolds(_),v.collapseChildren||_.forEach(function(P){v.addSubFold(P)}));for(var E=0;E<f.length;E++){var I=f[E];if(A==I.start.row){I.addFold(v),p=!0;break}else if(y==I.end.row){if(I.addFold(v),p=!0,!v.sameRow){var M=f[E+1];if(M&&M.start.row==A){I.merge(M);break}}break}else if(A<=I.start.row)break}return p||(I=this.$addFoldLine(new c(this.$foldData,v))),this.$useWrapMode?this.$updateWrapData(I.start.row,I.start.row):this.$updateRowLengthCache(I.start.row,I.start.row),this.$modified=!0,this._signal("changeFold",{data:v,action:"add"}),v},this.addFolds=function(h){h.forEach(function(d){this.addFold(d)},this)},this.removeFold=function(h){var d=h.foldLine,f=d.start.row,p=d.end.row,v=this.$foldData,y=d.folds;if(y.length==1)v.splice(v.indexOf(d),1);else if(d.range.isEnd(h.end.row,h.end.column))y.pop(),d.end.row=y[y.length-1].end.row,d.end.column=y[y.length-1].end.column;else if(d.range.isStart(h.start.row,h.start.column))y.shift(),d.start.row=y[0].start.row,d.start.column=y[0].start.column;else if(h.sameRow)y.splice(y.indexOf(h),1);else{var C=d.split(h.start.row,h.start.column);y=C.folds,y.shift(),C.start.row=y[0].start.row,C.start.column=y[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(f,p):this.$updateRowLengthCache(f,p)),this.$modified=!0,this._signal("changeFold",{data:h,action:"remove"})},this.removeFolds=function(h){for(var d=[],f=0;f<h.length;f++)d.push(h[f]);d.forEach(function(p){this.removeFold(p)},this),this.$modified=!0},this.expandFold=function(h){this.removeFold(h),h.subFolds.forEach(function(d){h.restoreRange(d),this.addFold(d)},this),h.collapseChildren>0&&this.foldAll(h.start.row+1,h.end.row,h.collapseChildren-1),h.subFolds=[]},this.expandFolds=function(h){h.forEach(function(d){this.expandFold(d)},this)},this.unfold=function(h,d){var f,p;if(h==null)f=new o(0,0,this.getLength(),0),d==null&&(d=!0);else if(typeof h=="number")f=new o(h,0,h,this.getLine(h).length);else if("row"in h)f=o.fromPoints(h,h);else{if(Array.isArray(h))return p=[],h.forEach(function(y){p=p.concat(this.unfold(y))},this),p;f=h}p=this.getFoldsInRangeList(f);for(var v=p;p.length==1&&o.comparePoints(p[0].start,f.start)<0&&o.comparePoints(p[0].end,f.end)>0;)this.expandFolds(p),p=this.getFoldsInRangeList(f);if(d!=!1?this.removeFolds(p):this.expandFolds(p),v.length)return v},this.isRowFolded=function(h,d){return!!this.getFoldLine(h,d)},this.getRowFoldEnd=function(h,d){var f=this.getFoldLine(h,d);return f?f.end.row:h},this.getRowFoldStart=function(h,d){var f=this.getFoldLine(h,d);return f?f.start.row:h},this.getFoldDisplayLine=function(h,d,f,p,v){p==null&&(p=h.start.row),v==null&&(v=0),d==null&&(d=h.end.row),f==null&&(f=this.getLine(d).length);var y=this.doc,C="";return h.walk(function(A,F,O,$){if(!(F<p)){if(F==p){if(O<v)return;$=Math.max(v,$)}A!=null?C+=A:C+=y.getLine(F).substring($,O)}},d,f),C},this.getDisplayLine=function(h,d,f,p){var v=this.getFoldLine(h);if(v)return this.getFoldDisplayLine(v,h,d,f,p);var y;return y=this.doc.getLine(h),y.substring(p||0,d||y.length)},this.$cloneFoldData=function(){var h=[];return h=this.$foldData.map(function(d){var f=d.folds.map(function(p){return p.clone()});return new c(h,f)}),h},this.toggleFold=function(h){var d=this.selection,f=d.getRange(),p,v;if(f.isEmpty()){var y=f.start;if(p=this.getFoldAt(y.row,y.column),p){this.expandFold(p);return}else(v=this.findMatchingBracket(y))?f.comparePoint(v)==1?f.end=v:(f.start=v,f.start.column++,f.end.column--):(v=this.findMatchingBracket({row:y.row,column:y.column+1}))?(f.comparePoint(v)==1?f.end=v:f.start=v,f.start.column++):f=this.getCommentFoldRange(y.row,y.column)||f}else{var C=this.getFoldsInRange(f);if(h&&C.length){this.expandFolds(C);return}else C.length==1&&(p=C[0])}if(p||(p=this.getFoldAt(f.start.row,f.start.column)),p&&p.range.toString()==f.toString()){this.expandFold(p);return}var A="...";if(!f.isMultiLine()){if(A=this.getTextRange(f),A.length<4)return;A=A.trim().substring(0,2)+".."}this.addFold(A,f)},this.getCommentFoldRange=function(h,d,f){var p=new u(this,h,d),v=p.getCurrentToken(),y=v&&v.type;if(v&&/^comment|string/.test(y)){y=y.match(/comment|string/)[0],y=="comment"&&(y+="|doc-start|\\.doc");var C=new RegExp(y),A=new o;if(f!=1){do v=p.stepBackward();while(v&&C.test(v.type));v=p.stepForward()}A.start.row=p.getCurrentTokenRow(),A.start.column=p.getCurrentTokenColumn()+v.value.length,p=new u(this,h,d);var F=this.getState(p.$row);if(f!=-1){var O=-1;do if(v=p.stepForward(),O==-1){var $=this.getState(p.$row);F.toString()!==$.toString()&&(O=p.$row)}else if(p.$row>O)break;while(v&&C.test(v.type));v=p.stepBackward()}else v=p.getCurrentToken();return A.end.row=p.getCurrentTokenRow(),A.end.column=p.getCurrentTokenColumn(),A}},this.foldAll=function(h,d,f,p){f==null&&(f=1e5);var v=this.foldWidgets;if(v){d=d||this.getLength(),h=h||0;for(var y=h;y<d;y++)if(v[y]==null&&(v[y]=this.getFoldWidget(y)),v[y]=="start"&&!(p&&!p(y))){var C=this.getFoldWidgetRange(y);C&&C.isMultiLine()&&C.end.row<=d&&C.start.row>=h&&(y=C.end.row,C.collapseChildren=f,this.addFold("...",C))}}},this.foldToLevel=function(h){for(this.foldAll();h-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var h=this;this.foldAll(null,null,null,function(d){for(var f=h.getTokens(d),p=0;p<f.length;p++){var v=f[p];if(!(v.type=="text"&&/^\s+$/.test(v.value)))return!!/comment/.test(v.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(h){if(!this.$foldStyles[h])throw new Error("invalid fold style: "+h+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=h){this.$foldStyle=h,h=="manual"&&this.unfold();var d=this.$foldMode;this.$setFolding(null),this.$setFolding(d)}},this.$setFolding=function(h){if(this.$foldMode!=h){if(this.$foldMode=h,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!h||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=h.getFoldWidget.bind(h,this,this.$foldStyle),this.getFoldWidgetRange=h.getFoldWidgetRange.bind(h,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(h,d){var f=this.foldWidgets;if(!f||d&&f[h])return{};for(var p=h-1,v;p>=0;){var y=f[p];if(y==null&&(y=f[p]=this.getFoldWidget(p)),y=="start"){var C=this.getFoldWidgetRange(p);if(v||(v=C),C&&C.end.row>=h)break}p--}return{range:p!==-1&&C,firstRange:v}},this.onFoldWidgetClick=function(h,d){d instanceof g&&(d=d.domEvent);var f={children:d.shiftKey,all:d.ctrlKey||d.metaKey,siblings:d.altKey},p=this.$toggleFoldWidget(h,f);if(!p){var v=d.target||d.srcElement;v&&/ace_fold-widget/.test(v.className)&&(v.className+=" ace_invalid")}},this.$toggleFoldWidget=function(h,d){if(this.getFoldWidget){var f=this.getFoldWidget(h),p=this.getLine(h),v=f==="end"?-1:1,y=this.getFoldAt(h,v===-1?0:p.length,v);if(y)return d.children||d.all?this.removeFold(y):this.expandFold(y),y;var C=this.getFoldWidgetRange(h,!0);if(C&&!C.isMultiLine()&&(y=this.getFoldAt(C.start.row,C.start.column,1),y&&C.isEqual(y.range)))return this.removeFold(y),y;if(d.siblings){var A=this.getParentFoldRangeData(h);if(A.range)var F=A.range.start.row+1,O=A.range.end.row;this.foldAll(F,O,d.all?1e4:0)}else d.children?(O=C?C.end.row:this.getLength(),this.foldAll(h+1,O,d.all?1e4:0)):C&&(d.all&&(C.collapseChildren=1e4),this.addFold("...",C));return C}},this.toggleFoldWidget=function(h){var d=this.selection.getCursor().row;d=this.getRowFoldStart(d);var f=this.$toggleFoldWidget(d,{});if(!f){var p=this.getParentFoldRangeData(d,!0);if(f=p.range||p.firstRange,f){d=f.start.row;var v=this.getFoldAt(d,this.getLine(d).length,1);v?this.removeFold(v):this.addFold("...",f)}}},this.updateFoldWidgets=function(h){var d=h.start.row,f=h.end.row-d;if(f===0)this.foldWidgets[d]=null;else if(h.action=="remove")this.foldWidgets.splice(d,f+1,null);else{var p=Array(f+1);p.unshift(d,1),this.foldWidgets.splice.apply(this.foldWidgets,p)}},this.tokenizerUpdateFoldWidgets=function(h){var d=h.data;d.first!=d.last&&this.foldWidgets.length>d.first&&this.foldWidgets.splice(d.first,this.foldWidgets.length)}}r.Folding=a}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,r,s){var o=t("../token_iterator").TokenIterator,c=t("../range").Range;function m(){this.findMatchingBracket=function(u,g){if(u.column==0)return null;var a=g||this.getLine(u.row).charAt(u.column-1);if(a=="")return null;var h=a.match(/([\(\[\{])|([\)\]\}])/);return h?h[1]?this.$findClosingBracket(h[1],u):this.$findOpeningBracket(h[2],u):null},this.getBracketRange=function(u){var g=this.getLine(u.row),a=!0,h,d=g.charAt(u.column-1),f=d&&d.match(/([\(\[\{])|([\)\]\}])/);if(f||(d=g.charAt(u.column),u={row:u.row,column:u.column+1},f=d&&d.match(/([\(\[\{])|([\)\]\}])/),a=!1),!f)return null;if(f[1]){var p=this.$findClosingBracket(f[1],u);if(!p)return null;h=c.fromPoints(u,p),a||(h.end.column++,h.start.column--),h.cursor=h.end}else{var p=this.$findOpeningBracket(f[2],u);if(!p)return null;h=c.fromPoints(p,u),a||(h.start.column++,h.end.column--),h.cursor=h.start}return h},this.getMatchingBracketRanges=function(u,g){var a=this.getLine(u.row),h=/([\(\[\{])|([\)\]\}])/,d=!g&&a.charAt(u.column-1),f=d&&d.match(h);if(f||(d=(g===void 0||g)&&a.charAt(u.column),u={row:u.row,column:u.column+1},f=d&&d.match(h)),!f)return null;var p=new c(u.row,u.column-1,u.row,u.column),v=f[1]?this.$findClosingBracket(f[1],u):this.$findOpeningBracket(f[2],u);if(!v)return[p];var y=new c(v.row,v.column,v.row,v.column+1);return[p,y]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(u,g,a){var h=this.$brackets[u],d=1,f=new o(this,g.row,g.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){a||(a=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var v=g.column-f.getCurrentTokenColumn()-2,y=p.value;;){for(;v>=0;){var C=y.charAt(v);if(C==h){if(d-=1,d==0)return{row:f.getCurrentTokenRow(),column:v+f.getCurrentTokenColumn()}}else C==u&&(d+=1);v-=1}do p=f.stepBackward();while(p&&!a.test(p.type));if(p==null)break;y=p.value,v=y.length-1}return null}},this.$findClosingBracket=function(u,g,a){var h=this.$brackets[u],d=1,f=new o(this,g.row,g.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){a||(a=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var v=g.column-f.getCurrentTokenColumn();;){for(var y=p.value,C=y.length;v<C;){var A=y.charAt(v);if(A==h){if(d-=1,d==0)return{row:f.getCurrentTokenRow(),column:v+f.getCurrentTokenColumn()}}else A==u&&(d+=1);v+=1}do p=f.stepForward();while(p&&!a.test(p.type));if(p==null)break;v=0}return null}},this.getMatchingTags=function(u){var g=new o(this,u.row,u.column),a=this.$findTagName(g);if(a){var h=g.stepBackward();return h.value==="<"?this.$findClosingTag(g,a):this.$findOpeningTag(g,a)}},this.$findTagName=function(u){var g=u.getCurrentToken(),a=!1,h=!1;if(g&&g.type.indexOf("tag-name")===-1)do h?g=u.stepBackward():g=u.stepForward(),g&&(g.value==="/>"?h=!0:g.type.indexOf("tag-name")!==-1&&(a=!0));while(g&&!a);return g},this.$findClosingTag=function(u,g){var a,h=g.value,d=g.value,f=0,p=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);g=u.stepForward();var v=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+g.value.length),y=!1;do{if(a=g,a.type.indexOf("tag-close")!==-1&&!y){var C=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);y=!0}if(g=u.stepForward(),g){if(g.value===">"&&!y){var C=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);y=!0}if(g.type.indexOf("tag-name")!==-1){if(h=g.value,d===h){if(a.value==="<")f++;else if(a.value==="</"&&(f--,f<0)){u.stepBackward();var A=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+2);g=u.stepForward();var F=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+g.value.length);if(g.type.indexOf("tag-close")===-1&&(g=u.stepForward()),g&&g.value===">")var O=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);else return}}}else if(d===h&&g.value==="/>"&&(f--,f<0))var A=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+2),F=A,O=F,C=new c(v.end.row,v.end.column,v.end.row,v.end.column+1)}}while(g&&f>=0);if(p&&C&&A&&O&&v&&F)return{openTag:new c(p.start.row,p.start.column,C.end.row,C.end.column),closeTag:new c(A.start.row,A.start.column,O.end.row,O.end.column),openTagName:v,closeTagName:F}},this.$findOpeningTag=function(u,g){var a=u.getCurrentToken(),h=g.value,d=0,f=u.getCurrentTokenRow(),p=u.getCurrentTokenColumn(),v=p+2,y=new c(f,p,f,v);u.stepForward();var C=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+g.value.length);if(g.type.indexOf("tag-close")===-1&&(g=u.stepForward()),!(!g||g.value!==">")){var A=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);u.stepBackward(),u.stepBackward();do if(g=a,f=u.getCurrentTokenRow(),p=u.getCurrentTokenColumn(),v=p+g.value.length,a=u.stepBackward(),g){if(g.type.indexOf("tag-name")!==-1){if(h===g.value)if(a.value==="<"){if(d++,d>0){var F=new c(f,p,f,v),O=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);do g=u.stepForward();while(g&&g.value!==">");var $=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1)}}else a.value==="</"&&d--}else if(g.value==="/>"){for(var _=0,E=a;E;){if(E.type.indexOf("tag-name")!==-1&&E.value===h){d--;break}else if(E.value==="<")break;E=u.stepBackward(),_++}for(var I=0;I<_;I++)u.stepForward()}}while(a&&d<=0);if(O&&$&&y&&A&&F&&C)return{openTag:new c(O.start.row,O.start.column,$.end.row,$.end.column),closeTag:new c(y.start.row,y.start.column,A.end.row,A.end.column),openTagName:F,closeTagName:C}}}}r.BracketMatch=m}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,r,s){var o=t("./lib/oop"),c=t("./lib/lang"),m=t("./bidihandler").BidiHandler,u=t("./config"),g=t("./lib/event_emitter").EventEmitter,a=t("./selection").Selection,h=t("./mode/text").Mode,d=t("./range").Range,f=t("./line_widgets").LineWidgets,p=t("./document").Document,v=t("./background_tokenizer").BackgroundTokenizer,y=t("./search_highlight").SearchHighlight,C=t("./undomanager").UndoManager,A=function(){function S(w,L){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++S.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new v(new h().getTokenizer(),this);var N=this;this.bgTokenizer.on("update",function(z){N._signal("tokenizerUpdate",z)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof w!="object"||!w.getLine)&&(w=new p(w)),this.setDocument(w),this.selection=new a(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new m(this),u.resetOptions(this),this.setMode(L),u._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return S.prototype.$initOperationListeners=function(){var w=this;this.curOp=null,this.on("change",function(){w.curOp||(w.startOperation(),w.curOp.selectionBefore=w.$lastSel),w.curOp.docChanged=!0},!0),this.on("changeSelection",function(){w.curOp||(w.startOperation(),w.curOp.selectionBefore=w.$lastSel),w.curOp.selectionChanged=!0},!0),this.$operationResetTimer=c.delayedCall(this.endOperation.bind(this,!0))},S.prototype.startOperation=function(w){if(this.curOp){if(!w||this.curOp.command)return;this.prevOp=this.curOp}w||(w={}),this.$operationResetTimer.schedule(),this.curOp={command:w.command||{},args:w.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",w)},S.prototype.endOperation=function(w){if(this.curOp){if(w&&w.returnValue===!1){this.curOp=null,this._signal("endOperation",w);return}if(w==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var L=this.selection.toJSON();this.curOp.selectionAfter=L,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(L),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",w)}},S.prototype.setDocument=function(w){this.doc&&this.doc.off("change",this.$onChange),this.doc=w,w.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},S.prototype.getDocument=function(){return this.doc},Object.defineProperty(S.prototype,"widgetManager",{get:function(){var w=new f(this);return this.widgetManager=w,this.$editor&&w.attach(this.$editor),w},set:function(w){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:w})},enumerable:!1,configurable:!0}),S.prototype.$resetRowCache=function(w){if(!w){this.$docRowCache=[],this.$screenRowCache=[];return}var L=this.$docRowCache.length,N=this.$getRowCacheIndex(this.$docRowCache,w)+1;L>N&&(this.$docRowCache.splice(N,L),this.$screenRowCache.splice(N,L))},S.prototype.$getRowCacheIndex=function(w,L){for(var N=0,z=w.length-1;N<=z;){var q=N+z>>1,K=w[q];if(L>K)N=q+1;else if(L<K)z=q-1;else return q}return N-1},S.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},S.prototype.onChangeFold=function(w){var L=w.data;this.$resetRowCache(L.start.row)},S.prototype.onChange=function(w){this.$modified=!0,this.$bidiHandler.onChange(w),this.$resetRowCache(w.start.row);var L=this.$updateInternalDataOnChange(w);!this.$fromUndo&&this.$undoManager&&(L&&L.length&&(this.$undoManager.add({action:"removeFolds",folds:L},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(w,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(w),this._signal("change",w)},S.prototype.onSelectionChange=function(){this._signal("changeSelection")},S.prototype.setValue=function(w){this.doc.setValue(w),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},S.fromJSON=function(w){typeof w=="string"&&(w=JSON.parse(w));var L=new C;L.$undoStack=w.history.undo,L.$redoStack=w.history.redo,L.mark=w.history.mark,L.$rev=w.history.rev;var N=new S(w.value);return w.folds.forEach(function(z){N.addFold("...",d.fromPoints(z.start,z.end))}),N.setAnnotations(w.annotations),N.setBreakpoints(w.breakpoints),N.setMode(w.mode),N.setScrollLeft(w.scrollLeft),N.setScrollTop(w.scrollTop),N.setUndoManager(L),N.selection.fromJSON(w.selection),N},S.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(w){return w.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},S.prototype.toString=function(){return this.doc.getValue()},S.prototype.getSelection=function(){return this.selection},S.prototype.getState=function(w){return this.bgTokenizer.getState(w)},S.prototype.getTokens=function(w){return this.bgTokenizer.getTokens(w)},S.prototype.getTokenAt=function(w,L){var N=this.bgTokenizer.getTokens(w),z,q=0;if(L==null){var K=N.length-1;q=this.getLine(w).length}else for(var K=0;K<N.length&&(q+=N[K].value.length,!(q>=L));K++);return z=N[K],z?(z.index=K,z.start=q-z.value.length,z):null},S.prototype.setUndoManager=function(w){if(this.$undoManager=w,this.$informUndoManager&&this.$informUndoManager.cancel(),w){var L=this;w.addSession(this),this.$syncInformUndoManager=function(){L.$informUndoManager.cancel(),L.mergeUndoDeltas=!1},this.$informUndoManager=c.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},S.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},S.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},S.prototype.getTabString=function(){return this.getUseSoftTabs()?c.stringRepeat(" ",this.getTabSize()):"	"},S.prototype.setUseSoftTabs=function(w){this.setOption("useSoftTabs",w)},S.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},S.prototype.setTabSize=function(w){this.setOption("tabSize",w)},S.prototype.getTabSize=function(){return this.$tabSize},S.prototype.isTabStop=function(w){return this.$useSoftTabs&&w.column%this.$tabSize===0},S.prototype.setNavigateWithinSoftTabs=function(w){this.setOption("navigateWithinSoftTabs",w)},S.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},S.prototype.setOverwrite=function(w){this.setOption("overwrite",w)},S.prototype.getOverwrite=function(){return this.$overwrite},S.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},S.prototype.addGutterDecoration=function(w,L){this.$decorations[w]||(this.$decorations[w]=""),this.$decorations[w]+=" "+L,this._signal("changeBreakpoint",{})},S.prototype.removeGutterDecoration=function(w,L){this.$decorations[w]=(this.$decorations[w]||"").replace(" "+L,""),this._signal("changeBreakpoint",{})},S.prototype.getBreakpoints=function(){return this.$breakpoints},S.prototype.setBreakpoints=function(w){this.$breakpoints=[];for(var L=0;L<w.length;L++)this.$breakpoints[w[L]]="ace_breakpoint";this._signal("changeBreakpoint",{})},S.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},S.prototype.setBreakpoint=function(w,L){L===void 0&&(L="ace_breakpoint"),L?this.$breakpoints[w]=L:delete this.$breakpoints[w],this._signal("changeBreakpoint",{})},S.prototype.clearBreakpoint=function(w){delete this.$breakpoints[w],this._signal("changeBreakpoint",{})},S.prototype.addMarker=function(w,L,N,z){var q=this.$markerId++,K={range:w,type:N||"line",renderer:typeof N=="function"?N:null,clazz:L,inFront:!!z,id:q};return z?(this.$frontMarkers[q]=K,this._signal("changeFrontMarker")):(this.$backMarkers[q]=K,this._signal("changeBackMarker")),q},S.prototype.addDynamicMarker=function(w,L){if(w.update){var N=this.$markerId++;return w.id=N,w.inFront=!!L,L?(this.$frontMarkers[N]=w,this._signal("changeFrontMarker")):(this.$backMarkers[N]=w,this._signal("changeBackMarker")),w}},S.prototype.removeMarker=function(w){var L=this.$frontMarkers[w]||this.$backMarkers[w];if(L){var N=L.inFront?this.$frontMarkers:this.$backMarkers;delete N[w],this._signal(L.inFront?"changeFrontMarker":"changeBackMarker")}},S.prototype.getMarkers=function(w){return w?this.$frontMarkers:this.$backMarkers},S.prototype.highlight=function(w){if(!this.$searchHighlight){var L=new y(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(L)}this.$searchHighlight.setRegexp(w)},S.prototype.highlightLines=function(w,L,N,z){typeof L!="number"&&(N=L,L=w),N||(N="ace_step");var q=new d(w,0,L,1/0);return q.id=this.addMarker(q,N,"fullLine",z),q},S.prototype.setAnnotations=function(w){this.$annotations=w,this._signal("changeAnnotation",{})},S.prototype.getAnnotations=function(){return this.$annotations||[]},S.prototype.clearAnnotations=function(){this.setAnnotations([])},S.prototype.$detectNewLine=function(w){var L=w.match(/^.*?(\r?\n)/m);L?this.$autoNewLine=L[1]:this.$autoNewLine=`
`},S.prototype.getWordRange=function(w,L){var N=this.getLine(w),z=!1;if(L>0&&(z=!!N.charAt(L-1).match(this.tokenRe)),z||(z=!!N.charAt(L).match(this.tokenRe)),z)var q=this.tokenRe;else if(/^\s+$/.test(N.slice(L-1,L+1)))var q=/\s/;else var q=this.nonTokenRe;var K=L;if(K>0){do K--;while(K>=0&&N.charAt(K).match(q));K++}for(var J=L;J<N.length&&N.charAt(J).match(q);)J++;return new d(w,K,w,J)},S.prototype.getAWordRange=function(w,L){for(var N=this.getWordRange(w,L),z=this.getLine(N.end.row);z.charAt(N.end.column).match(/[ \t]/);)N.end.column+=1;return N},S.prototype.setNewLineMode=function(w){this.doc.setNewLineMode(w)},S.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},S.prototype.setUseWorker=function(w){this.setOption("useWorker",w)},S.prototype.getUseWorker=function(){return this.$useWorker},S.prototype.onReloadTokenizer=function(w){var L=w.data;this.bgTokenizer.start(L.first),this._signal("tokenizerUpdate",w)},S.prototype.setMode=function(w,L){if(w&&typeof w=="object"){if(w.getTokenizer)return this.$onChangeMode(w);var N=w,z=N.path}else z=w||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[z]&&!N){this.$onChangeMode(this.$modes[z]),L&&L();return}this.$modeId=z,u.loadModule(["mode",z],(function(q){if(this.$modeId!==z)return L&&L();this.$modes[z]&&!N?this.$onChangeMode(this.$modes[z]):q&&q.Mode&&(q=new q.Mode(N),N||(this.$modes[z]=q,q.$id=z),this.$onChangeMode(q)),L&&L()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},S.prototype.$onChangeMode=function(w,L){if(L||(this.$modeId=w.$id),this.$mode!==w){var N=this.$mode;this.$mode=w,this.$stopWorker(),this.$useWorker&&this.$startWorker();var z=w.getTokenizer();if(z.on!==void 0){var q=this.onReloadTokenizer.bind(this);z.on("update",q)}this.bgTokenizer.setTokenizer(z),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=w.tokenRe,this.nonTokenRe=w.nonTokenRe,L||(w.attachToSession&&w.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(w.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:N,mode:w}))}},S.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},S.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(w){u.warn("Could not load worker",w),this.$worker=null}},S.prototype.getMode=function(){return this.$mode},S.prototype.setScrollTop=function(w){this.$scrollTop===w||isNaN(w)||(this.$scrollTop=w,this._signal("changeScrollTop",w))},S.prototype.getScrollTop=function(){return this.$scrollTop},S.prototype.setScrollLeft=function(w){this.$scrollLeft===w||isNaN(w)||(this.$scrollLeft=w,this._signal("changeScrollLeft",w))},S.prototype.getScrollLeft=function(){return this.$scrollLeft},S.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},S.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var w=0;return this.lineWidgets.forEach(function(L){L&&L.screenWidth>w&&(w=L.screenWidth)}),this.lineWidgetWidth=w},S.prototype.$computeWidth=function(w){if(this.$modified||w){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var L=this.doc.getAllLines(),N=this.$rowLengthCache,z=0,q=0,K=this.$foldData[q],J=K?K.start.row:1/0,Q=L.length,U=0;U<Q;U++){if(U>J){if(U=K.end.row+1,U>=Q)break;K=this.$foldData[q++],J=K?K.start.row:1/0}N[U]==null&&(N[U]=this.$getStringScreenWidth(L[U])[0]),N[U]>z&&(z=N[U])}this.screenWidth=z}},S.prototype.getLine=function(w){return this.doc.getLine(w)},S.prototype.getLines=function(w,L){return this.doc.getLines(w,L)},S.prototype.getLength=function(){return this.doc.getLength()},S.prototype.getTextRange=function(w){return this.doc.getTextRange(w||this.selection.getRange())},S.prototype.insert=function(w,L){return this.doc.insert(w,L)},S.prototype.remove=function(w){return this.doc.remove(w)},S.prototype.removeFullLines=function(w,L){return this.doc.removeFullLines(w,L)},S.prototype.undoChanges=function(w,L){if(w.length){this.$fromUndo=!0;for(var N=w.length-1;N!=-1;N--){var z=w[N];z.action=="insert"||z.action=="remove"?this.doc.revertDelta(z):z.folds&&this.addFolds(z.folds)}!L&&this.$undoSelect&&(w.selectionBefore?this.selection.fromJSON(w.selectionBefore):this.selection.setRange(this.$getUndoSelection(w,!0))),this.$fromUndo=!1}},S.prototype.redoChanges=function(w,L){if(w.length){this.$fromUndo=!0;for(var N=0;N<w.length;N++){var z=w[N];(z.action=="insert"||z.action=="remove")&&this.doc.$safeApplyDelta(z)}!L&&this.$undoSelect&&(w.selectionAfter?this.selection.fromJSON(w.selectionAfter):this.selection.setRange(this.$getUndoSelection(w,!1))),this.$fromUndo=!1}},S.prototype.setUndoSelect=function(w){this.$undoSelect=w},S.prototype.$getUndoSelection=function(w,L){function N(Q){return L?Q.action!=="insert":Q.action==="insert"}for(var z,q,K=0;K<w.length;K++){var J=w[K];if(J.start){if(!z){N(J)?z=d.fromPoints(J.start,J.end):z=d.fromPoints(J.start,J.start);continue}N(J)?(q=J.start,z.compare(q.row,q.column)==-1&&z.setStart(q),q=J.end,z.compare(q.row,q.column)==1&&z.setEnd(q)):(q=J.start,z.compare(q.row,q.column)==-1&&(z=d.fromPoints(J.start,J.start)))}}return z},S.prototype.replace=function(w,L){return this.doc.replace(w,L)},S.prototype.moveText=function(w,L,N){var z=this.getTextRange(w),q=this.getFoldsInRange(w),K=d.fromPoints(L,L);if(!N){this.remove(w);var J=w.start.row-w.end.row,Q=J?-w.end.column:w.start.column-w.end.column;Q&&(K.start.row==w.end.row&&K.start.column>w.end.column&&(K.start.column+=Q),K.end.row==w.end.row&&K.end.column>w.end.column&&(K.end.column+=Q)),J&&K.start.row>=w.end.row&&(K.start.row+=J,K.end.row+=J)}if(K.end=this.insert(K.start,z),q.length){var U=w.start,re=K.start,J=re.row-U.row,Q=re.column-U.column;this.addFolds(q.map(function(ue){return ue=ue.clone(),ue.start.row==U.row&&(ue.start.column+=Q),ue.end.row==U.row&&(ue.end.column+=Q),ue.start.row+=J,ue.end.row+=J,ue}))}return K},S.prototype.indentRows=function(w,L,N){N=N.replace(/\t/g,this.getTabString());for(var z=w;z<=L;z++)this.doc.insertInLine({row:z,column:0},N)},S.prototype.outdentRows=function(w){for(var L=w.collapseRows(),N=new d(0,0,0,0),z=this.getTabSize(),q=L.start.row;q<=L.end.row;++q){var K=this.getLine(q);N.start.row=q,N.end.row=q;for(var J=0;J<z&&K.charAt(J)==" ";++J);J<z&&K.charAt(J)=="	"?(N.start.column=J,N.end.column=J+1):(N.start.column=0,N.end.column=J),this.remove(N)}},S.prototype.$moveLines=function(w,L,N){if(w=this.getRowFoldStart(w),L=this.getRowFoldEnd(L),N<0){var z=this.getRowFoldStart(w+N);if(z<0)return 0;var q=z-w}else if(N>0){var z=this.getRowFoldEnd(L+N);if(z>this.doc.getLength()-1)return 0;var q=z-L}else{w=this.$clipRowToDocument(w),L=this.$clipRowToDocument(L);var q=L-w+1}var K=new d(w,0,L,Number.MAX_VALUE),J=this.getFoldsInRange(K).map(function(U){return U=U.clone(),U.start.row+=q,U.end.row+=q,U}),Q=N==0?this.doc.getLines(w,L):this.doc.removeFullLines(w,L);return this.doc.insertFullLines(w+q,Q),J.length&&this.addFolds(J),q},S.prototype.moveLinesUp=function(w,L){return this.$moveLines(w,L,-1)},S.prototype.moveLinesDown=function(w,L){return this.$moveLines(w,L,1)},S.prototype.duplicateLines=function(w,L){return this.$moveLines(w,L,0)},S.prototype.$clipRowToDocument=function(w){return Math.max(0,Math.min(w,this.doc.getLength()-1))},S.prototype.$clipColumnToRow=function(w,L){return L<0?0:Math.min(this.doc.getLine(w).length,L)},S.prototype.$clipPositionToDocument=function(w,L){if(L=Math.max(0,L),w<0)w=0,L=0;else{var N=this.doc.getLength();w>=N?(w=N-1,L=this.doc.getLine(N-1).length):L=Math.min(this.doc.getLine(w).length,L)}return{row:w,column:L}},S.prototype.$clipRangeToDocument=function(w){w.start.row<0?(w.start.row=0,w.start.column=0):w.start.column=this.$clipColumnToRow(w.start.row,w.start.column);var L=this.doc.getLength()-1;return w.end.row>L?(w.end.row=L,w.end.column=this.doc.getLine(L).length):w.end.column=this.$clipColumnToRow(w.end.row,w.end.column),w},S.prototype.setUseWrapMode=function(w){if(w!=this.$useWrapMode){if(this.$useWrapMode=w,this.$modified=!0,this.$resetRowCache(0),w){var L=this.getLength();this.$wrapData=Array(L),this.$updateWrapData(0,L-1)}this._signal("changeWrapMode")}},S.prototype.getUseWrapMode=function(){return this.$useWrapMode},S.prototype.setWrapLimitRange=function(w,L){(this.$wrapLimitRange.min!==w||this.$wrapLimitRange.max!==L)&&(this.$wrapLimitRange={min:w,max:L},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},S.prototype.adjustWrapLimit=function(w,L){var N=this.$wrapLimitRange;N.max<0&&(N={min:L,max:L});var z=this.$constrainWrapLimit(w,N.min,N.max);return z!=this.$wrapLimit&&z>1?(this.$wrapLimit=z,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},S.prototype.$constrainWrapLimit=function(w,L,N){return L&&(w=Math.max(L,w)),N&&(w=Math.min(N,w)),w},S.prototype.getWrapLimit=function(){return this.$wrapLimit},S.prototype.setWrapLimit=function(w){this.setWrapLimitRange(w,w)},S.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},S.prototype.$updateInternalDataOnChange=function(w){var L=this.$useWrapMode,N=w.action,z=w.start,q=w.end,K=z.row,J=q.row,Q=J-K,U=null;if(this.$updating=!0,Q!=0)if(N==="remove"){this[L?"$wrapData":"$rowLengthCache"].splice(K,Q);var re=this.$foldData;U=this.getFoldsInRange(w),this.removeFolds(U);var Z=this.getFoldLine(q.row),he=0;if(Z){Z.addRemoveChars(q.row,q.column,z.column-q.column),Z.shiftRow(-Q);var ue=this.getFoldLine(K);ue&&ue!==Z&&(ue.merge(Z),Z=ue),he=re.indexOf(Z)+1}for(he;he<re.length;he++){var Z=re[he];Z.start.row>=q.row&&Z.shiftRow(-Q)}J=K}else{var ae=Array(Q);ae.unshift(K,0);var pe=L?this.$wrapData:this.$rowLengthCache;pe.splice.apply(pe,ae);var re=this.$foldData,Z=this.getFoldLine(K),he=0;if(Z){var Ee=Z.range.compareInside(z.row,z.column);Ee==0?(Z=Z.split(z.row,z.column),Z&&(Z.shiftRow(Q),Z.addRemoveChars(J,0,q.column-z.column))):Ee==-1&&(Z.addRemoveChars(K,0,q.column-z.column),Z.shiftRow(Q)),he=re.indexOf(Z)+1}for(he;he<re.length;he++){var Z=re[he];Z.start.row>=K&&Z.shiftRow(Q)}}else{Q=Math.abs(w.start.column-w.end.column),N==="remove"&&(U=this.getFoldsInRange(w),this.removeFolds(U),Q=-Q);var Z=this.getFoldLine(K);Z&&Z.addRemoveChars(K,z.column,Q)}return L&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,L?this.$updateWrapData(K,J):this.$updateRowLengthCache(K,J),U},S.prototype.$updateRowLengthCache=function(w,L){this.$rowLengthCache[w]=null,this.$rowLengthCache[L]=null},S.prototype.$updateWrapData=function(w,L){var N=this.doc.getAllLines(),z=this.getTabSize(),q=this.$wrapData,K=this.$wrapLimit,J,Q,U=w;for(L=Math.min(L,N.length-1);U<=L;)Q=this.getFoldLine(U,Q),Q?(J=[],Q.walk((function(re,Z,he,ue){var ae;if(re!=null){ae=this.$getDisplayTokens(re,J.length),ae[0]=$;for(var pe=1;pe<ae.length;pe++)ae[pe]=_}else ae=this.$getDisplayTokens(N[Z].substring(ue,he),J.length);J=J.concat(ae)}).bind(this),Q.end.row,N[Q.end.row].length+1),q[Q.start.row]=this.$computeWrapSplits(J,K,z),U=Q.end.row+1):(J=this.$getDisplayTokens(N[U]),q[U]=this.$computeWrapSplits(J,K,z),U++)},S.prototype.$computeWrapSplits=function(w,L,N){if(w.length==0)return[];var z=[],q=w.length,K=0,J=0,Q=this.$wrapAsCode,U=this.$indentedSoftWrap,re=L<=Math.max(2*N,8)||U===!1?0:Math.floor(L/2);function Z(){var Ee=0;if(re===0)return Ee;if(U)for(var me=0;me<w.length;me++){var Ae=w[me];if(Ae==I)Ee+=1;else if(Ae==M)Ee+=N;else{if(Ae==P)continue;break}}return Q&&U!==!1&&(Ee+=N),Math.min(Ee,re)}function he(Ee){for(var me=Ee-K,Ae=K;Ae<Ee;Ae++){var $e=w[Ae];($e===12||$e===2)&&(me-=1)}z.length||(ue=Z(),z.indent=ue),J+=me,z.push(J),K=Ee}for(var ue=0;q-K>L-ue;){var ae=K+L-ue;if(w[ae-1]>=I&&w[ae]>=I){he(ae);continue}if(w[ae]==$||w[ae]==_){for(ae;ae!=K-1&&w[ae]!=$;ae--);if(ae>K){he(ae);continue}for(ae=K+L,ae;ae<w.length&&w[ae]==_;ae++);if(ae==w.length)break;he(ae);continue}for(var pe=Math.max(ae-(L-(L>>2)),K-1);ae>pe&&w[ae]<$;)ae--;if(Q){for(;ae>pe&&w[ae]<$;)ae--;for(;ae>pe&&w[ae]==E;)ae--}else for(;ae>pe&&w[ae]<I;)ae--;if(ae>pe){he(++ae);continue}ae=K+L,w[ae]==O&&ae--,he(ae-ue)}return z},S.prototype.$getDisplayTokens=function(w,L){var N=[],z;L=L||0;for(var q=0;q<w.length;q++){var K=w.charCodeAt(q);if(K==9){z=this.getScreenTabSize(N.length+L),N.push(M);for(var J=1;J<z;J++)N.push(P)}else K==32?N.push(I):K>39&&K<48||K>57&&K<64?N.push(E):K>=4352&&V(K)?N.push(F,O):N.push(F)}return N},S.prototype.$getStringScreenWidth=function(w,L,N){if(L==0)return[0,0];L==null&&(L=1/0),N=N||0;var z,q;for(q=0;q<w.length&&(z=w.charCodeAt(q),z==9?N+=this.getScreenTabSize(N):z>=4352&&V(z)?N+=2:N+=1,!(N>L));q++);return[N,q]},S.prototype.getRowLength=function(w){var L=1;return this.lineWidgets&&(L+=this.lineWidgets[w]&&this.lineWidgets[w].rowCount||0),!this.$useWrapMode||!this.$wrapData[w]?L:this.$wrapData[w].length+L},S.prototype.getRowLineCount=function(w){return!this.$useWrapMode||!this.$wrapData[w]?1:this.$wrapData[w].length+1},S.prototype.getRowWrapIndent=function(w){if(this.$useWrapMode){var L=this.screenToDocumentPosition(w,Number.MAX_VALUE),N=this.$wrapData[L.row];return N.length&&N[0]<L.column?N.indent:0}else return 0},S.prototype.getScreenLastRowColumn=function(w){var L=this.screenToDocumentPosition(w,Number.MAX_VALUE);return this.documentToScreenColumn(L.row,L.column)},S.prototype.getDocumentLastRowColumn=function(w,L){var N=this.documentToScreenRow(w,L);return this.getScreenLastRowColumn(N)},S.prototype.getDocumentLastRowColumnPosition=function(w,L){var N=this.documentToScreenRow(w,L);return this.screenToDocumentPosition(N,Number.MAX_VALUE/10)},S.prototype.getRowSplitData=function(w){if(this.$useWrapMode)return this.$wrapData[w]},S.prototype.getScreenTabSize=function(w){return this.$tabSize-(w%this.$tabSize|0)},S.prototype.screenToDocumentRow=function(w,L){return this.screenToDocumentPosition(w,L).row},S.prototype.screenToDocumentColumn=function(w,L){return this.screenToDocumentPosition(w,L).column},S.prototype.screenToDocumentPosition=function(w,L,N){if(w<0)return{row:0,column:0};var z,q=0,K=0,J,Q=0,U=0,re=this.$screenRowCache,Z=this.$getRowCacheIndex(re,w),he=re.length;if(he&&Z>=0)var Q=re[Z],q=this.$docRowCache[Z],ue=w>re[he-1];else var ue=!he;for(var ae=this.getLength()-1,pe=this.getNextFoldLine(q),Ee=pe?pe.start.row:1/0;Q<=w&&(U=this.getRowLength(q),!(Q+U>w||q>=ae));)Q+=U,q++,q>Ee&&(q=pe.end.row+1,pe=this.getNextFoldLine(q,pe),Ee=pe?pe.start.row:1/0),ue&&(this.$docRowCache.push(q),this.$screenRowCache.push(Q));if(pe&&pe.start.row<=q)z=this.getFoldDisplayLine(pe),q=pe.start.row;else{if(Q+U<=w||q>ae)return{row:ae,column:this.getLine(ae).length};z=this.getLine(q),pe=null}var me=0,Ae=Math.floor(w-Q);if(this.$useWrapMode){var $e=this.$wrapData[q];$e&&(J=$e[Ae],Ae>0&&$e.length&&(me=$e.indent,K=$e[Ae-1]||$e[$e.length-1],z=z.substring(K)))}return N!==void 0&&this.$bidiHandler.isBidiRow(Q+Ae,q,Ae)&&(L=this.$bidiHandler.offsetToCol(N)),K+=this.$getStringScreenWidth(z,L-me)[1],this.$useWrapMode&&K>=J&&(K=J-1),pe?pe.idxToPosition(K):{row:q,column:K}},S.prototype.documentToScreenPosition=function(w,L){if(typeof L>"u")var N=this.$clipPositionToDocument(w.row,w.column);else N=this.$clipPositionToDocument(w,L);w=N.row,L=N.column;var z=0,q=null,K=null;K=this.getFoldAt(w,L,1),K&&(w=K.start.row,L=K.start.column);var J,Q=0,U=this.$docRowCache,re=this.$getRowCacheIndex(U,w),Z=U.length;if(Z&&re>=0)var Q=U[re],z=this.$screenRowCache[re],he=w>U[Z-1];else var he=!Z;for(var ue=this.getNextFoldLine(Q),ae=ue?ue.start.row:1/0;Q<w;){if(Q>=ae){if(J=ue.end.row+1,J>w)break;ue=this.getNextFoldLine(J,ue),ae=ue?ue.start.row:1/0}else J=Q+1;z+=this.getRowLength(Q),Q=J,he&&(this.$docRowCache.push(Q),this.$screenRowCache.push(z))}var pe="";ue&&Q>=ae?(pe=this.getFoldDisplayLine(ue,w,L),q=ue.start.row):(pe=this.getLine(w).substring(0,L),q=w);var Ee=0;if(this.$useWrapMode){var me=this.$wrapData[q];if(me){for(var Ae=0;pe.length>=me[Ae];)z++,Ae++;pe=pe.substring(me[Ae-1]||0,pe.length),Ee=Ae>0?me.indent:0}}return this.lineWidgets&&this.lineWidgets[Q]&&this.lineWidgets[Q].rowsAbove&&(z+=this.lineWidgets[Q].rowsAbove),{row:z,column:Ee+this.$getStringScreenWidth(pe)[0]}},S.prototype.documentToScreenColumn=function(w,L){return this.documentToScreenPosition(w,L).column},S.prototype.documentToScreenRow=function(w,L){return this.documentToScreenPosition(w,L).row},S.prototype.getScreenLength=function(){var w=0,L=null;if(this.$useWrapMode)for(var q=this.$wrapData.length,K=0,z=0,L=this.$foldData[z++],J=L?L.start.row:1/0;K<q;){var Q=this.$wrapData[K];w+=Q?Q.length+1:1,K++,K>J&&(K=L.end.row+1,L=this.$foldData[z++],J=L?L.start.row:1/0)}else{w=this.getLength();for(var N=this.$foldData,z=0;z<N.length;z++)L=N[z],w-=L.end.row-L.start.row}return this.lineWidgets&&(w+=this.$getWidgetScreenLength()),w},S.prototype.$setFontMetrics=function(w){this.$enableVarChar&&(this.$getStringScreenWidth=function(L,N,z){if(N===0)return[0,0];N||(N=1/0),z=z||0;var q,K;for(K=0;K<L.length&&(q=L.charAt(K),q==="	"?z+=this.getScreenTabSize(z):z+=w.getCharacterWidth(q),!(z>N));K++);return[z,K]})},S.prototype.getPrecedingCharacter=function(){var w=this.selection.getCursor();if(w.column===0)return w.row===0?"":this.doc.getNewLineCharacter();var L=this.getLine(w.row);return L[w.column-1]},S.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},S}();A.$uid=0,A.prototype.$modes=u.$modes,A.prototype.getValue=A.prototype.toString,A.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},A.prototype.$overwrite=!1,A.prototype.$mode=null,A.prototype.$modeId=null,A.prototype.$scrollTop=0,A.prototype.$scrollLeft=0,A.prototype.$wrapLimit=80,A.prototype.$useWrapMode=!1,A.prototype.$wrapLimitRange={min:null,max:null},A.prototype.lineWidgets=null,A.prototype.isFullWidth=V,o.implement(A.prototype,g);var F=1,O=2,$=3,_=4,E=9,I=10,M=11,P=12;function V(S){return S<4352?!1:S>=4352&&S<=4447||S>=4515&&S<=4519||S>=4602&&S<=4607||S>=9001&&S<=9002||S>=11904&&S<=11929||S>=11931&&S<=12019||S>=12032&&S<=12245||S>=12272&&S<=12283||S>=12288&&S<=12350||S>=12353&&S<=12438||S>=12441&&S<=12543||S>=12549&&S<=12589||S>=12593&&S<=12686||S>=12688&&S<=12730||S>=12736&&S<=12771||S>=12784&&S<=12830||S>=12832&&S<=12871||S>=12880&&S<=13054||S>=13056&&S<=19903||S>=19968&&S<=42124||S>=42128&&S<=42182||S>=43360&&S<=43388||S>=44032&&S<=55203||S>=55216&&S<=55238||S>=55243&&S<=55291||S>=63744&&S<=64255||S>=65040&&S<=65049||S>=65072&&S<=65106||S>=65108&&S<=65126||S>=65128&&S<=65131||S>=65281&&S<=65376||S>=65504&&S<=65510}t("./edit_session/folding").Folding.call(A.prototype),t("./edit_session/bracket_match").BracketMatch.call(A.prototype),u.defineOptions(A.prototype,"session",{wrap:{set:function(S){if(!S||S=="off"?S=!1:S=="free"?S=!0:S=="printMargin"?S=-1:typeof S=="string"&&(S=parseInt(S,10)||!1),this.$wrap!=S)if(this.$wrap=S,!S)this.setUseWrapMode(!1);else{var w=typeof S=="number"?S:null;this.setWrapLimitRange(w,w),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(S){S=S=="auto"?this.$mode.type!="text":S!="text",S!=this.$wrapAsCode&&(this.$wrapAsCode=S,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(S){this.$useWorker=S,this.$stopWorker(),S&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(S){S=parseInt(S),S>0&&this.$tabSize!==S&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=S,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(S){this.setFoldStyle(S)},handlesSet:!0},overwrite:{set:function(S){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(S){this.doc.setNewLineMode(S)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(S){this.setMode(S)},get:function(){return this.$modeId},handlesSet:!0}}),r.EditSession=A}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,r,s){var o=t("./lib/lang"),c=t("./lib/oop"),m=t("./range").Range,u=function(){function a(){this.$options={}}return a.prototype.set=function(h){return c.mixin(this.$options,h),this},a.prototype.getOptions=function(){return o.copyObject(this.$options)},a.prototype.setOptions=function(h){this.$options=h},a.prototype.find=function(h){var d=this.$options,f=this.$matchIterator(h,d);if(!f)return!1;var p=null;return f.forEach(function(v,y,C,A){return p=new m(v,y,C,A),y==A&&d.start&&d.start.start&&d.skipCurrent!=!1&&p.isEqual(d.start)?(p=null,!1):!0}),p},a.prototype.findAll=function(h){var d=this.$options;if(!d.needle)return[];this.$assembleRegExp(d);var f=d.range,p=f?h.getLines(f.start.row,f.end.row):h.doc.getAllLines(),v=[],y=d.re;if(d.$isMultiLine){var C=y.length,A=p.length-C,F;e:for(var O=y.offset||0;O<=A;O++){for(var $=0;$<C;$++)if(p[O+$].search(y[$])==-1)continue e;var _=p[O],E=p[O+C-1],I=_.length-_.match(y[0])[0].length,M=E.match(y[C-1])[0].length;F&&F.end.row===O&&F.end.column>I||(v.push(F=new m(O,I,O+C-1,M)),C>2&&(O=O+C-2))}}else for(var P=0;P<p.length;P++)for(var V=o.getMatchOffsets(p[P],y),$=0;$<V.length;$++){var S=V[$];v.push(new m(P,S.offset,P,S.offset+S.length))}if(f){for(var w=f.start.column,L=f.end.column,P=0,$=v.length-1;P<$&&v[P].start.column<w&&v[P].start.row==0;)P++;for(var N=f.end.row-f.start.row;P<$&&v[$].end.column>L&&v[$].end.row==N;)$--;for(v=v.slice(P,$+1),P=0,$=v.length;P<$;P++)v[P].start.row+=f.start.row,v[P].end.row+=f.start.row}return v},a.prototype.replace=function(h,d){var f=this.$options,p=this.$assembleRegExp(f);if(f.$isMultiLine)return d;if(p){var v=p.exec(h);if(!v||v[0].length!=h.length)return null;if(f.regExp||(d=d.replace(/\$/g,"$$$$")),d=h.replace(p,d),f.preserveCase){d=d.split("");for(var y=Math.min(h.length,h.length);y--;){var C=h[y];C&&C.toLowerCase()!=C?d[y]=d[y].toUpperCase():d[y]=d[y].toLowerCase()}d=d.join("")}return d}},a.prototype.$assembleRegExp=function(h,d){if(h.needle instanceof RegExp)return h.re=h.needle;var f=h.needle;if(!h.needle)return h.re=!1;h.regExp||(f=o.escapeRegExp(f));var p=h.caseSensitive?"gm":"gmi";try{new RegExp(f,"u"),h.$supportsUnicodeFlag=!0,p+="u"}catch{h.$supportsUnicodeFlag=!1}if(h.wholeWord&&(f=g(f,h)),h.$isMultiLine=!d&&/[\n\r]/.test(f),h.$isMultiLine)return h.re=this.$assembleMultilineRegExp(f,p);try{var v=new RegExp(f,p)}catch{v=!1}return h.re=v},a.prototype.$assembleMultilineRegExp=function(h,d){for(var f=h.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),p=[],v=0;v<f.length;v++)try{p.push(new RegExp(f[v],d))}catch{return!1}return p},a.prototype.$matchIterator=function(h,d){var f=this.$assembleRegExp(d);if(!f)return!1;var p=d.backwards==!0,v=d.skipCurrent!=!1,y=f.unicode,C=d.range,A=d.start;A||(A=C?C[p?"end":"start"]:h.selection.getRange()),A.start&&(A=A[v!=p?"end":"start"]);var F=C?C.start.row:0,O=C?C.end.row:h.getLength()-1;if(p)var $=function(I){var M=A.row;if(!E(M,A.column,I)){for(M--;M>=F;M--)if(E(M,Number.MAX_VALUE,I))return;if(d.wrap!=!1){for(M=O,F=A.row;M>=F;M--)if(E(M,Number.MAX_VALUE,I))return}}};else var $=function(M){var P=A.row;if(!E(P,A.column,M)){for(P=P+1;P<=O;P++)if(E(P,0,M))return;if(d.wrap!=!1){for(P=F,O=A.row;P<=O;P++)if(E(P,0,M))return}}};if(d.$isMultiLine)var _=f.length,E=function(I,M,P){var V=p?I-_+1:I;if(!(V<0||V+_>h.getLength())){var S=h.getLine(V),w=S.search(f[0]);if(!(!p&&w<M||w===-1)){for(var L=1;L<_;L++)if(S=h.getLine(V+L),S.search(f[L])==-1)return;var N=S.match(f[_-1])[0].length;if(!(p&&N>M)&&P(V,w,V+_-1,N))return!0}}};else if(p)var E=function(M,P,V){var S=h.getLine(M),w=[],L,N=0;for(f.lastIndex=0;L=f.exec(S);){var z=L[0].length;if(N=L.index,!z){if(N>=S.length)break;f.lastIndex=N+=o.skipEmptyMatch(S,N,y)}if(L.index+z>P)break;w.push(L.index,z)}for(var q=w.length-1;q>=0;q-=2){var K=w[q-1],z=w[q];if(V(M,K,M,K+z))return!0}};else var E=function(M,P,V){var S=h.getLine(M),w,L;for(f.lastIndex=P;L=f.exec(S);){var N=L[0].length;if(w=L.index,V(M,w,M,w+N))return!0;if(!N&&(f.lastIndex=w+=o.skipEmptyMatch(S,w,y),w>=S.length))return!1}};return{forEach:$}},a}();function g(a,h){var d=o.supportsLookbehind();function f(C,A){A===void 0&&(A=!0);var F=d&&h.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return F.test(C)||h.regExp?d&&h.$supportsUnicodeFlag?A?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var p=Array.from(a),v=p[0],y=p[p.length-1];return f(v)+a+f(y,!1)}r.Search=u}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,r,s){var o=this&&this.__extends||function(){var d=function(f,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(v[C]=y[C])},d(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(f,p);function v(){this.constructor=f}f.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}(),c=t("../lib/keys"),m=t("../lib/useragent"),u=c.KEY_MODS,g=function(){function d(f,p){this.$init(f,p,!1)}return d.prototype.$init=function(f,p,v){this.platform=p||(m.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(f),this.$singleCommand=v},d.prototype.addCommand=function(f){this.commands[f.name]&&this.removeCommand(f),this.commands[f.name]=f,f.bindKey&&this._buildKeyHash(f)},d.prototype.removeCommand=function(f,p){var v=f&&(typeof f=="string"?f:f.name);f=this.commands[v],p||delete this.commands[v];var y=this.commandKeyBinding;for(var C in y){var A=y[C];if(A==f)delete y[C];else if(Array.isArray(A)){var F=A.indexOf(f);F!=-1&&(A.splice(F,1),A.length==1&&(y[C]=A[0]))}}},d.prototype.bindKey=function(f,p,v){if(typeof f=="object"&&f&&(v==null&&(v=f.position),f=f[this.platform]),!!f){if(typeof p=="function")return this.addCommand({exec:p,bindKey:f,name:p.name||f});f.split("|").forEach(function(y){var C="";if(y.indexOf(" ")!=-1){var A=y.split(/\s+/);y=A.pop(),A.forEach(function($){var _=this.parseKeys($),E=u[_.hashId]+_.key;C+=(C?" ":"")+E,this._addCommandToBinding(C,"chainKeys")},this),C+=" "}var F=this.parseKeys(y),O=u[F.hashId]+F.key;this._addCommandToBinding(C+O,p,v)},this)}},d.prototype._addCommandToBinding=function(f,p,v){var y=this.commandKeyBinding,C;if(!p)delete y[f];else if(!y[f]||this.$singleCommand)y[f]=p;else{Array.isArray(y[f])?(C=y[f].indexOf(p))!=-1&&y[f].splice(C,1):y[f]=[y[f]],typeof v!="number"&&(v=a(p));var A=y[f];for(C=0;C<A.length;C++){var F=A[C],O=a(F);if(O>v)break}A.splice(C,0,p)}},d.prototype.addCommands=function(f){f&&Object.keys(f).forEach(function(p){var v=f[p];if(v){if(typeof v=="string")return this.bindKey(v,p);typeof v=="function"&&(v={exec:v}),typeof v=="object"&&(v.name||(v.name=p),this.addCommand(v))}},this)},d.prototype.removeCommands=function(f){Object.keys(f).forEach(function(p){this.removeCommand(f[p])},this)},d.prototype.bindKeys=function(f){Object.keys(f).forEach(function(p){this.bindKey(p,f[p])},this)},d.prototype._buildKeyHash=function(f){this.bindKey(f.bindKey,f)},d.prototype.parseKeys=function(f){var p=f.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(O){return O}),v=p.pop(),y=c[v];if(c.FUNCTION_KEYS[y])v=c.FUNCTION_KEYS[y].toLowerCase();else if(p.length){if(p.length==1&&p[0]=="shift")return{key:v.toUpperCase(),hashId:-1}}else return{key:v,hashId:-1};for(var C=0,A=p.length;A--;){var F=c.KEY_MODS[p[A]];if(F==null)return typeof console<"u"&&console.error("invalid modifier "+p[A]+" in "+f),!1;C|=F}return{key:v,hashId:C}},d.prototype.findKeyCommand=function(f,p){var v=u[f]+p;return this.commandKeyBinding[v]},d.prototype.handleKeyboard=function(f,p,v,y){if(!(y<0)){var C=u[p]+v,A=this.commandKeyBinding[C];return f.$keyChain&&(f.$keyChain+=" "+C,A=this.commandKeyBinding[f.$keyChain]||A),A&&(A=="chainKeys"||A[A.length-1]=="chainKeys")?(f.$keyChain=f.$keyChain||C,{command:"null"}):(f.$keyChain&&((!p||p==4)&&v.length==1?f.$keyChain=f.$keyChain.slice(0,-C.length-1):(p==-1||y>0)&&(f.$keyChain="")),{command:A})}},d.prototype.getStatusText=function(f,p){return p.$keyChain||""},d}();function a(d){return typeof d=="object"&&d.bindKey&&d.bindKey.position||(d.isDefault?-100:0)}var h=function(d){o(f,d);function f(p,v){var y=d.call(this,p,v)||this;return y.$singleCommand=!0,y}return f}(g);h.call=function(d,f,p){g.prototype.$init.call(d,f,p,!0)},g.call=function(d,f,p){g.prototype.$init.call(d,f,p,!1)},r.HashHandler=h,r.MultiHashHandler=g}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,r,s){var o=this&&this.__extends||function(){var a=function(h,d){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(f[v]=p[v])},a(h,d)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");a(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),c=t("../lib/oop"),m=t("../keyboard/hash_handler").MultiHashHandler,u=t("../lib/event_emitter").EventEmitter,g=function(a){o(h,a);function h(d,f){var p=a.call(this,f,d)||this;return p.byName=p.commands,p.setDefaultHandler("exec",function(v){return v.args?v.command.exec(v.editor,v.args,v.event,!1):v.command.exec(v.editor,{},v.event,!0)}),p}return h.prototype.exec=function(d,f,p){if(Array.isArray(d)){for(var v=d.length;v--;)if(this.exec(d[v],f,p))return!0;return!1}if(typeof d=="string"&&(d=this.commands[d]),!this.canExecute(d,f))return!1;var y={editor:f,command:d,args:p};return y.returnValue=this._emit("exec",y),this._signal("afterExec",y),y.returnValue!==!1},h.prototype.canExecute=function(d,f){return typeof d=="string"&&(d=this.commands[d]),!(!d||f&&f.$readOnly&&!d.readOnly||this.$checkCommandState!=!1&&d.isAvailable&&!d.isAvailable(f))},h.prototype.toggleRecording=function(d){if(!this.$inReplay)return d&&d._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(f){this.macro.push([f.command,f.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},h.prototype.replay=function(d){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(d);try{this.$inReplay=!0,this.macro.forEach(function(f){typeof f=="string"?this.exec(f,d):this.exec(f[0],d,f[1])},this)}finally{this.$inReplay=!1}}},h.prototype.trimMacro=function(d){return d.map(function(f){return typeof f[0]!="string"&&(f[0]=f[0].name),f[1]||(f=f[0]),f})},h}(m);c.implement(g.prototype,u),r.CommandManager=g}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,r,s){var o=t("../lib/lang"),c=t("../config"),m=t("../range").Range;function u(a,h){return{win:a,mac:h}}r.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:u("Ctrl-,","Command-,"),exec:function(a){c.loadModule("ace/ext/settings_menu",function(h){h.init(a),a.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:u("Alt-E","F4"),exec:function(a){c.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(a,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:u("Alt-Shift-E","Shift-F4"),exec:function(a){c.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(a,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:u("Ctrl-A","Command-A"),exec:function(a){a.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:u(null,"Ctrl-L"),exec:function(a){a.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:u("Ctrl-L","Command-L"),exec:function(a,h){typeof h=="number"&&!isNaN(h)&&a.gotoLine(h),a.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:u("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(a){a.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:u("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(a){a.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:u("F2","F2"),exec:function(a){a.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:u("Alt-F2","Alt-F2"),exec:function(a){a.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:u(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:u(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:u("Alt-0","Command-Option-0"),exec:function(a){a.session.foldAll(),a.session.unfold(a.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:u("Alt-Shift-0","Command-Option-Shift-0"),exec:function(a){a.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:u("Ctrl-K","Command-G"),exec:function(a){a.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:u("Ctrl-Shift-K","Command-Shift-G"),exec:function(a){a.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:u("Alt-K","Ctrl-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:u("Alt-Shift-K","Ctrl-Shift-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:u("Ctrl-F","Command-F"),exec:function(a){c.loadModule("ace/ext/searchbox",function(h){h.Search(a)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(a){a.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:u("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(a){a.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:u("Ctrl-Home","Command-Home|Command-Up"),exec:function(a){a.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:u("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(a){a.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:u("Up","Up|Ctrl-P"),exec:function(a,h){a.navigateUp(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:u("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(a){a.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:u("Ctrl-End","Command-End|Command-Down"),exec:function(a){a.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:u("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(a){a.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:u("Down","Down|Ctrl-N"),exec:function(a,h){a.navigateDown(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:u("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(a){a.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:u("Ctrl-Left","Option-Left"),exec:function(a){a.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:u("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:u("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(a){a.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:u("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(a){a.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:u("Left","Left|Ctrl-B"),exec:function(a,h){a.navigateLeft(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:u("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(a){a.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:u("Ctrl-Right","Option-Right"),exec:function(a){a.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:u("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:u("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(a){a.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:u("Shift-Right","Shift-Right"),exec:function(a){a.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:u("Right","Right|Ctrl-F"),exec:function(a,h){a.navigateRight(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(a){a.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:u(null,"Option-PageDown"),exec:function(a){a.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:u("PageDown","PageDown|Ctrl-V"),exec:function(a){a.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(a){a.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:u(null,"Option-PageUp"),exec:function(a){a.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(a){a.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:u("Ctrl-Up",null),exec:function(a){a.renderer.scrollBy(0,-2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:u("Ctrl-Down",null),exec:function(a){a.renderer.scrollBy(0,2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:u("Ctrl-Alt-E","Command-Option-E"),exec:function(a){a.commands.toggleRecording(a)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:u("Ctrl-Shift-E","Command-Shift-E"),exec:function(a){a.commands.replay(a)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:u("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(a){a.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:u("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(a){a.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:u("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(a){a.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:u(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(a){},readOnly:!0},{name:"cut",description:"Cut",exec:function(a){var h=a.$copyWithEmptySelection&&a.selection.isEmpty(),d=h?a.selection.getLineRange():a.selection.getRange();a._emit("cut",d),d.isEmpty()||a.session.remove(d),a.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(a,h){a.$handlePaste(h)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:u("Ctrl-D","Command-D"),exec:function(a){a.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:u("Ctrl-Shift-D","Command-Shift-D"),exec:function(a){a.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:u("Ctrl-Alt-S","Command-Alt-S"),exec:function(a){a.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:u("Ctrl-/","Command-/"),exec:function(a){a.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:u("Ctrl-Shift-/","Command-Shift-/"),exec:function(a){a.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:u("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(a){a.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:u("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(a){a.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:u("Ctrl-H","Command-Option-F"),exec:function(a){c.loadModule("ace/ext/searchbox",function(h){h.Search(a,!0)})}},{name:"undo",description:"Undo",bindKey:u("Ctrl-Z","Command-Z"),exec:function(a){a.undo()}},{name:"redo",description:"Redo",bindKey:u("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(a){a.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:u("Alt-Shift-Up","Command-Option-Up"),exec:function(a){a.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:u("Alt-Up","Option-Up"),exec:function(a){a.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:u("Alt-Shift-Down","Command-Option-Down"),exec:function(a){a.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:u("Alt-Down","Option-Down"),exec:function(a){a.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:u("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(a){a.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:u("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(a){a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:u("Shift-Delete",null),exec:function(a){if(a.selection.isEmpty())a.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:u("Alt-Backspace","Command-Backspace"),exec:function(a){a.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:u("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(a){a.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:u("Ctrl-Shift-Backspace",null),exec:function(a){var h=a.selection.getRange();h.start.column=0,a.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:u("Ctrl-Shift-Delete",null),exec:function(a){var h=a.selection.getRange();h.end.column=Number.MAX_VALUE,a.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:u("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(a){a.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:u("Ctrl-Delete","Alt-Delete"),exec:function(a){a.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:u("Shift-Tab","Shift-Tab"),exec:function(a){a.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:u("Tab","Tab"),exec:function(a){a.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:u("Ctrl-[","Ctrl-["),exec:function(a){a.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:u("Ctrl-]","Ctrl-]"),exec:function(a){a.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(a,h){a.insert(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(a,h){a.insert(o.stringRepeat(h.text||"",h.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:u(null,"Ctrl-O"),exec:function(a){a.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:u("Alt-Shift-X","Ctrl-T"),exec:function(a){a.transposeLetters()},multiSelectAction:function(a){a.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:u("Ctrl-U","Ctrl-U"),exec:function(a){a.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:u("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(a){a.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:u(null,null),exec:function(a){a.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:u("Ctrl-Shift-L","Command-Shift-L"),exec:function(a){var h=a.selection.getRange();h.start.column=h.end.column=0,h.end.row++,a.selection.setRange(h,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:u("Ctrl+F3","F3"),exec:function(a){a.openLink()}},{name:"joinlines",description:"Join lines",bindKey:u(null,null),exec:function(a){for(var h=a.selection.isBackwards(),d=h?a.selection.getSelectionLead():a.selection.getSelectionAnchor(),f=h?a.selection.getSelectionAnchor():a.selection.getSelectionLead(),p=a.session.doc.getLine(d.row).length,v=a.session.doc.getTextRange(a.selection.getRange()),y=v.replace(/\n\s*/," ").length,C=a.session.doc.getLine(d.row),A=d.row+1;A<=f.row+1;A++){var F=o.stringTrimLeft(o.stringTrimRight(a.session.doc.getLine(A)));F.length!==0&&(F=" "+F),C+=F}f.row+1<a.session.doc.getLength()-1&&(C+=a.session.doc.getNewLineCharacter()),a.clearSelection(),a.session.doc.replace(new m(d.row,0,f.row+2,0),C),y>0?(a.selection.moveCursorTo(d.row,d.column),a.selection.selectTo(d.row,d.column+y)):(p=a.session.doc.getLine(d.row).length>p?p+1:p,a.selection.moveCursorTo(d.row,p))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:u(null,null),exec:function(a){var h=a.session.doc.getLength()-1,d=a.session.doc.getLine(h).length,f=a.selection.rangeList.ranges,p=[];f.length<1&&(f=[a.selection.getRange()]);for(var v=0;v<f.length;v++)v==f.length-1&&(f[v].end.row===h&&f[v].end.column===d||p.push(new m(f[v].end.row,f[v].end.column,h,d))),v===0?f[v].start.row===0&&f[v].start.column===0||p.push(new m(0,0,f[v].start.row,f[v].start.column)):p.push(new m(f[v-1].end.row,f[v-1].end.column,f[v].start.row,f[v].start.column));a.exitMultiSelectMode(),a.clearSelection();for(var v=0;v<p.length;v++)a.selection.addRange(p[v],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(a){a.selection.clearSelection(),a.navigateLineEnd(),a.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(a){a.selection.clearSelection();var h=a.getCursorPosition();a.selection.moveTo(h.row-1,Number.MAX_VALUE),a.insert(`
`),h.row===0&&a.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(a){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),a.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:u("F1","F1"),exec:function(a){a.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:u(null,null),exec:function(a){a.prompt({$type:"modes"})},readOnly:!0}];for(var g=1;g<9;g++)r.commands.push({name:"foldToLevel"+g,description:"Fold To Level "+g,level:g,exec:function(a){a.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(t,r,s){var o=t("../lib/keys"),c=t("../mouse/default_gutter_handler").GutterTooltip,m=function(){function g(a){this.editor=a,this.gutterLayer=a.renderer.$gutterLayer,this.element=a.renderer.$gutter,this.lines=a.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new c(this.editor)}return g.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},g.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},g.prototype.$onGutterKeyDown=function(a){if(this.annotationTooltip.isOpen){a.preventDefault(),a.keyCode===o.escape&&this.annotationTooltip.hideTooltip();return}if(a.target===this.element){if(a.keyCode!=o.enter)return;a.preventDefault();var h=this.editor.getCursorPosition().row;this.editor.isRowVisible(h)||this.editor.scrollToLine(h,!0,!0),setTimeout((function(){var d=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),f=this.$findNearestFoldWidget(d),p=this.$findNearestAnnotation(d);if(!(f===null&&p===null)){if(f===null&&p!==null){this.activeRowIndex=p,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(f!==null&&p===null){this.activeRowIndex=f,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(p-d)<Math.abs(f-d)){this.activeRowIndex=p,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=f,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(a),setTimeout((function(){this.editor._signal("gutterkeydown",new u(a,this))}).bind(this),10)},g.prototype.$handleGutterKeyboardInteraction=function(a){if(a.keyCode===o.tab){a.preventDefault();return}if(a.keyCode===o.escape){a.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(a.keyCode===o.up){switch(a.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(a.keyCode===o.down){switch(a.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(a.keyCode===o.left){a.preventDefault(),this.$switchLane("annotation");return}if(a.keyCode===o.right){a.preventDefault(),this.$switchLane("fold");return}if(a.keyCode===o.enter||a.keyCode===o.space){switch(a.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var h=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),a),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==h&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(h),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var d=this.lines.cells[this.activeRowIndex].element.childNodes[2],f=d.getBoundingClientRect(),p=this.annotationTooltip.getElement().style;p.left=f.right+"px",p.top=f.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},g.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},g.prototype.$isFoldWidgetVisible=function(a){var h=this.editor.isRowFullyVisible(this.$rowIndexToRow(a)),d=this.$getFoldWidget(a).style.display!=="none";return h&&d},g.prototype.$isAnnotationVisible=function(a){var h=this.editor.isRowFullyVisible(this.$rowIndexToRow(a)),d=this.$getAnnotation(a).style.display!=="none";return h&&d},g.prototype.$getFoldWidget=function(a){var h=this.lines.get(a),d=h.element;return d.childNodes[1]},g.prototype.$getAnnotation=function(a){var h=this.lines.get(a),d=h.element;return d.childNodes[2]},g.prototype.$findNearestFoldWidget=function(a){if(this.$isFoldWidgetVisible(a))return a;for(var h=0;a-h>0||a+h<this.lines.getLength()-1;){if(h++,a-h>=0&&this.$isFoldWidgetVisible(a-h))return a-h;if(a+h<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(a+h))return a+h}return null},g.prototype.$findNearestAnnotation=function(a){if(this.$isAnnotationVisible(a))return a;for(var h=0;a-h>0||a+h<this.lines.getLength()-1;){if(h++,a-h>=0&&this.$isAnnotationVisible(a-h))return a-h;if(a+h<=this.lines.getLength()-1&&this.$isAnnotationVisible(a+h))return a+h}return null},g.prototype.$focusFoldWidget=function(a){if(a!=null){var h=this.$getFoldWidget(a);h.classList.add(this.editor.renderer.keyboardFocusClassName),h.focus()}},g.prototype.$focusAnnotation=function(a){if(a!=null){var h=this.$getAnnotation(a);h.classList.add(this.editor.renderer.keyboardFocusClassName),h.focus()}},g.prototype.$blurFoldWidget=function(a){var h=this.$getFoldWidget(a);h.classList.remove(this.editor.renderer.keyboardFocusClassName),h.blur()},g.prototype.$blurAnnotation=function(a){var h=this.$getAnnotation(a);h.classList.remove(this.editor.renderer.keyboardFocusClassName),h.blur()},g.prototype.$moveFoldWidgetUp=function(){for(var a=this.activeRowIndex;a>0;)if(a--,this.$isFoldWidgetVisible(a)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=a,this.$focusFoldWidget(this.activeRowIndex);return}},g.prototype.$moveFoldWidgetDown=function(){for(var a=this.activeRowIndex;a<this.lines.getLength()-1;)if(a++,this.$isFoldWidgetVisible(a)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=a,this.$focusFoldWidget(this.activeRowIndex);return}},g.prototype.$moveAnnotationUp=function(){for(var a=this.activeRowIndex;a>0;)if(a--,this.$isAnnotationVisible(a)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=a,this.$focusAnnotation(this.activeRowIndex);return}},g.prototype.$moveAnnotationDown=function(){for(var a=this.activeRowIndex;a<this.lines.getLength()-1;)if(a++,this.$isAnnotationVisible(a)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=a,this.$focusAnnotation(this.activeRowIndex);return}},g.prototype.$switchLane=function(a){switch(a){case"annotation":if(this.activeLane==="annotation")break;var h=this.$findNearestAnnotation(this.activeRowIndex);if(h==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var d=this.$findNearestFoldWidget(this.activeRowIndex);if(d==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=d,this.$focusFoldWidget(this.activeRowIndex);break}},g.prototype.$rowIndexToRow=function(a){var h=this.lines.get(a);return h?h.row:null},g.prototype.$rowToRowIndex=function(a){for(var h=0;h<this.lines.getLength();h++){var d=this.lines.get(h);if(d.row==a)return h}return null},g}();r.GutterKeyboardHandler=m;var u=function(){function g(a,h){this.gutterKeyboardHandler=h,this.domEvent=a}return g.prototype.getKey=function(){return o.keyCodeToString(this.domEvent.keyCode)},g.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},g.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},g.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},g}();r.GutterKeyboardEvent=u}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(t,r,s){var o=this&&this.__values||function(S){var w=typeof Symbol=="function"&&Symbol.iterator,L=w&&S[w],N=0;if(L)return L.call(S);if(S&&typeof S.length=="number")return{next:function(){return S&&N>=S.length&&(S=void 0),{value:S&&S[N++],done:!S}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},c=t("./lib/oop"),m=t("./lib/dom"),u=t("./lib/lang"),g=t("./lib/useragent"),a=t("./keyboard/textinput").TextInput,h=t("./mouse/mouse_handler").MouseHandler,d=t("./mouse/fold_handler").FoldHandler,f=t("./keyboard/keybinding").KeyBinding,p=t("./edit_session").EditSession,v=t("./search").Search,y=t("./range").Range,C=t("./lib/event_emitter").EventEmitter,A=t("./commands/command_manager").CommandManager,F=t("./commands/default_commands").commands,O=t("./config"),$=t("./token_iterator").TokenIterator,_=t("./keyboard/gutter_handler").GutterKeyboardHandler,E=t("./config").nls,I=t("./clipboard"),M=t("./lib/keys"),P=function(){function S(w,L,N){this.session,this.$toDestroy=[];var z=w.getContainerElement();this.container=z,this.renderer=w,this.id="editor"+ ++S.$uid,this.commands=new A(g.isMac?"mac":"win",F),typeof document=="object"&&(this.textInput=new a(w.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new h(this),new d(this)),this.keyBinding=new f(this),this.$search=new v().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=u.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(q,K){K._$emitInputEvent.schedule(31)}),this.setSession(L||N&&N.session||new p("")),O.resetOptions(this),N&&this.setOptions(N),O._signal("editor",this)}return S.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},S.prototype.startOperation=function(w){this.session.startOperation(w)},S.prototype.endOperation=function(w){this.session.endOperation(w)},S.prototype.onStartOperation=function(w){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,w||(this.previousCommand=null)},S.prototype.onEndOperation=function(w){if(this.curOp&&this.session){if(w&&w.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var L=this.curOp.command,N=L&&L.scrollIntoView;if(N){switch(N){case"center-animate":N="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var z=this.selection.getRange(),q=this.renderer.layerConfig;(z.start.row>=q.lastRow||z.end.row<=q.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}N=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},S.prototype.$historyTracker=function(w){if(this.$mergeUndoDeltas){var L=this.prevOp,N=this.$mergeableCommands,z=L.command&&w.command.name==L.command.name;if(w.command.name=="insertstring"){var q=w.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),z=z&&this.mergeNextCommand&&(!/\s/.test(q)||/\s/.test(L.args)),this.mergeNextCommand=!0}else z=z&&N.indexOf(w.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(z=!1),z?this.session.mergeUndoDeltas=!0:N.indexOf(w.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},S.prototype.setKeyboardHandler=function(w,L){if(w&&typeof w=="string"&&w!="ace"){this.$keybindingId=w;var N=this;O.loadModule(["keybinding",w],function(z){N.$keybindingId==w&&N.keyBinding.setKeyboardHandler(z&&z.handler),L&&L()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(w),L&&L()},S.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},S.prototype.setSession=function(w){if(this.session!=w){this.curOp&&this.endOperation(),this.curOp={};var L=this.session;if(L){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var N=this.session.getSelection();N.off("changeCursor",this.$onCursorChange),N.off("changeSelection",this.$onSelectionChange)}this.session=w,w?(this.$onDocumentChange=this.onDocumentChange.bind(this),w.on("change",this.$onDocumentChange),this.renderer.setSession(w),this.$onChangeMode=this.onChangeMode.bind(this),w.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),w.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),w.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),w.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),w.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),w.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=w.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(w)),this._signal("changeSession",{session:w,oldSession:L}),this.curOp=null,L&&L._signal("changeEditor",{oldEditor:this}),L&&(L.$editor=null),w&&w._signal("changeEditor",{editor:this}),w&&(w.$editor=this),w&&!w.destroyed&&w.bgTokenizer.scheduleStart()}},S.prototype.getSession=function(){return this.session},S.prototype.setValue=function(w,L){return this.session.doc.setValue(w),L?L==1?this.navigateFileEnd():L==-1&&this.navigateFileStart():this.selectAll(),w},S.prototype.getValue=function(){return this.session.getValue()},S.prototype.getSelection=function(){return this.selection},S.prototype.resize=function(w){this.renderer.onResize(w)},S.prototype.setTheme=function(w,L){this.renderer.setTheme(w,L)},S.prototype.getTheme=function(){return this.renderer.getTheme()},S.prototype.setStyle=function(w){this.renderer.setStyle(w)},S.prototype.unsetStyle=function(w){this.renderer.unsetStyle(w)},S.prototype.getFontSize=function(){return this.getOption("fontSize")||m.computedStyle(this.container).fontSize},S.prototype.setFontSize=function(w){this.setOption("fontSize",w)},S.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var w=this;this.$highlightPending=!0,setTimeout(function(){w.$highlightPending=!1;var L=w.session;if(!(!L||L.destroyed)){L.$bracketHighlight&&(L.$bracketHighlight.markerIds.forEach(function(Z){L.removeMarker(Z)}),L.$bracketHighlight=null);var N=w.getCursorPosition(),z=w.getKeyboardHandler(),q=z&&z.$getDirectionForHighlight&&z.$getDirectionForHighlight(w),K=L.getMatchingBracketRanges(N,q);if(!K){var J=new $(L,N.row,N.column),Q=J.getCurrentToken();if(Q&&/\b(?:tag-open|tag-name)/.test(Q.type)){var U=L.getMatchingTags(N);U&&(K=[U.openTagName.isEmpty()?U.openTag:U.openTagName,U.closeTagName.isEmpty()?U.closeTag:U.closeTagName])}}if(!K&&L.$mode.getMatching&&(K=L.$mode.getMatching(w.session)),!K){w.getHighlightIndentGuides()&&w.renderer.$textLayer.$highlightIndentGuide();return}var re="ace_bracket";Array.isArray(K)?K.length==1&&(re="ace_error_bracket"):K=[K],K.length==2&&(y.comparePoints(K[0].end,K[1].start)==0?K=[y.fromPoints(K[0].start,K[1].end)]:y.comparePoints(K[0].start,K[1].end)==0&&(K=[y.fromPoints(K[1].start,K[0].end)])),L.$bracketHighlight={ranges:K,markerIds:K.map(function(Z){return L.addMarker(Z,re,"text")})},w.getHighlightIndentGuides()&&w.renderer.$textLayer.$highlightIndentGuide()}},50)}},S.prototype.focus=function(){this.textInput.focus()},S.prototype.isFocused=function(){return this.textInput.isFocused()},S.prototype.blur=function(){this.textInput.blur()},S.prototype.onFocus=function(w){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",w))},S.prototype.onBlur=function(w){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",w))},S.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},S.prototype.onDocumentChange=function(w){var L=this.session.$useWrapMode,N=w.start.row==w.end.row?w.end.row:1/0;this.renderer.updateLines(w.start.row,N,L),this._signal("change",w),this.$cursorChange()},S.prototype.onTokenizerUpdate=function(w){var L=w.data;this.renderer.updateLines(L.first,L.last)},S.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},S.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},S.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},S.prototype.$updateHighlightActiveLine=function(){var w=this.getSession(),L;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(L=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(L=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(L=!1)),w.$highlightLineMarker&&!L)w.removeMarker(w.$highlightLineMarker.id),w.$highlightLineMarker=null;else if(!w.$highlightLineMarker&&L){var N=new y(L.row,L.column,L.row,1/0);N.id=w.addMarker(N,"ace_active-line","screenLine"),w.$highlightLineMarker=N}else L&&(w.$highlightLineMarker.start.row=L.row,w.$highlightLineMarker.end.row=L.row,w.$highlightLineMarker.start.column=L.column,w._signal("changeBackMarker"))},S.prototype.onSelectionChange=function(w){var L=this.session;if(L.$selectionMarker&&L.removeMarker(L.$selectionMarker),L.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var N=this.selection.getRange(),z=this.getSelectionStyle();L.$selectionMarker=L.addMarker(N,"ace_selection",z)}var q=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(q),this._signal("changeSelection")},S.prototype.$getSelectionHighLightRegexp=function(){var w=this.session,L=this.getSelectionRange();if(!(L.isEmpty()||L.isMultiLine())){var N=L.start.column,z=L.end.column,q=w.getLine(L.start.row),K=q.substring(N,z);if(!(K.length>5e3||!/[\w\d]/.test(K))){var J=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:K}),Q=q.substring(N-1,z+1);if(J.test(Q))return J}}},S.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},S.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},S.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},S.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},S.prototype.onChangeMode=function(w){this.renderer.updateText(),this._emit("changeMode",w)},S.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},S.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},S.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},S.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},S.prototype.getCopyText=function(){var w=this.getSelectedText(),L=this.session.doc.getNewLineCharacter(),N=!1;if(!w&&this.$copyWithEmptySelection){N=!0;for(var z=this.selection.getAllRanges(),q=0;q<z.length;q++){var K=z[q];q&&z[q-1].start.row==K.start.row||(w+=this.session.getLine(K.start.row)+L)}}var J={text:w};return this._signal("copy",J),I.lineMode=N?J.text:!1,J.text},S.prototype.onCopy=function(){this.commands.exec("copy",this)},S.prototype.onCut=function(){this.commands.exec("cut",this)},S.prototype.onPaste=function(w,L){var N={text:w,event:L};this.commands.exec("paste",this,N)},S.prototype.$handlePaste=function(w){typeof w=="string"&&(w={text:w}),this._signal("paste",w);var L=w.text,N=L===I.lineMode,z=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)N?z.insert({row:this.selection.lead.row,column:0},L):this.insert(L);else if(N)this.selection.rangeList.ranges.forEach(function(re){z.insert({row:re.start.row,column:0},L)});else{var q=L.split(/\r\n|\r|\n/),K=this.selection.rangeList.ranges,J=q.length==2&&(!q[0]||!q[1]);if(q.length!=K.length||J)return this.commands.exec("insertstring",this,L);for(var Q=K.length;Q--;){var U=K[Q];U.isEmpty()||z.remove(U),z.insert(U.start,q[Q])}}},S.prototype.execCommand=function(w,L){return this.commands.exec(w,this,L)},S.prototype.insert=function(w,L){var N=this.session,z=N.getMode(),q=this.getCursorPosition();if(this.getBehavioursEnabled()&&!L){var K=z.transformAction(N.getState(q.row),"insertion",this,N,w);K&&(w!==K.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),w=K.text)}if(w=="	"&&(w=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&w.indexOf(`
`)==-1){var J=y.fromPoints(q,q);J.end.column+=w.length,this.session.remove(J)}}else{var J=this.getSelectionRange();q=this.session.remove(J),this.clearSelection()}if(w==`
`||w==`\r
`){var Z=N.getLine(q.row);if(q.column>Z.search(/\S|$/)){var Q=Z.substr(q.column).search(/\S|$/);N.doc.removeInLine(q.row,q.column,q.column+Q)}}this.clearSelection();var U=q.column,re=N.getState(q.row),Z=N.getLine(q.row),he=z.checkOutdent(re,Z,w);if(N.insert(q,w),K&&K.selection&&(K.selection.length==2?this.selection.setSelectionRange(new y(q.row,U+K.selection[0],q.row,U+K.selection[1])):this.selection.setSelectionRange(new y(q.row+K.selection[0],K.selection[1],q.row+K.selection[2],K.selection[3]))),this.$enableAutoIndent){if(N.getDocument().isNewLine(w)){var ue=z.getNextLineIndent(re,Z.slice(0,q.column),N.getTabString());N.insert({row:q.row+1,column:0},ue)}he&&z.autoOutdent(re,N,q.row)}},S.prototype.autoIndent=function(){for(var w=this.session,L=w.getMode(),N=this.selection.isEmpty()?[new y(0,0,w.doc.getLength()-1,0)]:this.selection.getAllRanges(),z="",q="",K="",J=w.getTabString(),Q=0;Q<N.length;Q++)for(var U=N[Q].start.row,re=N[Q].end.row,Z=U;Z<=re;Z++){Z>0&&(z=w.getState(Z-1),q=w.getLine(Z-1),K=L.getNextLineIndent(z,q,J));var he=w.getLine(Z),ue=L.$getIndent(he);if(K!==ue){if(ue.length>0){var ae=new y(Z,0,Z,ue.length);w.remove(ae)}K.length>0&&w.insert({row:Z,column:0},K)}L.autoOutdent(z,w,Z)}},S.prototype.onTextInput=function(w,L){if(!L)return this.keyBinding.onTextInput(w);this.startOperation({command:{name:"insertstring"}});var N=this.applyComposition.bind(this,w,L);this.selection.rangeCount?this.forEachSelection(N):N(),this.endOperation()},S.prototype.applyComposition=function(w,L){if(L.extendLeft||L.extendRight){var N=this.selection.getRange();N.start.column-=L.extendLeft,N.end.column+=L.extendRight,N.start.column<0&&(N.start.row--,N.start.column+=this.session.getLine(N.start.row).length+1),this.selection.setRange(N),!w&&!N.isEmpty()&&this.remove()}if((w||!this.selection.isEmpty())&&this.insert(w,!0),L.restoreStart||L.restoreEnd){var N=this.selection.getRange();N.start.column-=L.restoreStart,N.end.column-=L.restoreEnd,this.selection.setRange(N)}},S.prototype.onCommandKey=function(w,L,N){return this.keyBinding.onCommandKey(w,L,N)},S.prototype.setOverwrite=function(w){this.session.setOverwrite(w)},S.prototype.getOverwrite=function(){return this.session.getOverwrite()},S.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},S.prototype.setScrollSpeed=function(w){this.setOption("scrollSpeed",w)},S.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},S.prototype.setDragDelay=function(w){this.setOption("dragDelay",w)},S.prototype.getDragDelay=function(){return this.getOption("dragDelay")},S.prototype.setSelectionStyle=function(w){this.setOption("selectionStyle",w)},S.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},S.prototype.setHighlightActiveLine=function(w){this.setOption("highlightActiveLine",w)},S.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},S.prototype.setHighlightGutterLine=function(w){this.setOption("highlightGutterLine",w)},S.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},S.prototype.setHighlightSelectedWord=function(w){this.setOption("highlightSelectedWord",w)},S.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},S.prototype.setAnimatedScroll=function(w){this.renderer.setAnimatedScroll(w)},S.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},S.prototype.setShowInvisibles=function(w){this.renderer.setShowInvisibles(w)},S.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},S.prototype.setDisplayIndentGuides=function(w){this.renderer.setDisplayIndentGuides(w)},S.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},S.prototype.setHighlightIndentGuides=function(w){this.renderer.setHighlightIndentGuides(w)},S.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},S.prototype.setShowPrintMargin=function(w){this.renderer.setShowPrintMargin(w)},S.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},S.prototype.setPrintMarginColumn=function(w){this.renderer.setPrintMarginColumn(w)},S.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},S.prototype.setReadOnly=function(w){this.setOption("readOnly",w)},S.prototype.getReadOnly=function(){return this.getOption("readOnly")},S.prototype.setBehavioursEnabled=function(w){this.setOption("behavioursEnabled",w)},S.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},S.prototype.setWrapBehavioursEnabled=function(w){this.setOption("wrapBehavioursEnabled",w)},S.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},S.prototype.setShowFoldWidgets=function(w){this.setOption("showFoldWidgets",w)},S.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},S.prototype.setFadeFoldWidgets=function(w){this.setOption("fadeFoldWidgets",w)},S.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},S.prototype.remove=function(w){this.selection.isEmpty()&&(w=="left"?this.selection.selectLeft():this.selection.selectRight());var L=this.getSelectionRange();if(this.getBehavioursEnabled()){var N=this.session,z=N.getState(L.start.row),q=N.getMode().transformAction(z,"deletion",this,N,L);if(L.end.column===0){var K=N.getTextRange(L);if(K[K.length-1]==`
`){var J=N.getLine(L.end.row);/^\s+$/.test(J)&&(L.end.column=J.length)}}q&&(L=q)}this.session.remove(L),this.clearSelection()},S.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},S.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},S.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},S.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var w=this.getSelectionRange();w.start.column==w.end.column&&w.start.row==w.end.row&&(w.end.column=0,w.end.row++),this.session.remove(w),this.clearSelection()},S.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var w=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(w)},S.prototype.setGhostText=function(w,L){this.renderer.setGhostText(w,L)},S.prototype.removeGhostText=function(){this.renderer.removeGhostText()},S.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var w=this.getCursorPosition(),L=w.column;if(L!==0){var N=this.session.getLine(w.row),z,q;L<N.length?(z=N.charAt(L)+N.charAt(L-1),q=new y(w.row,L-1,w.row,L+1)):(z=N.charAt(L-1)+N.charAt(L-2),q=new y(w.row,L-2,w.row,L)),this.session.replace(q,z),this.session.selection.moveToPosition(q.end)}}},S.prototype.toLowerCase=function(){var w=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var L=this.getSelectionRange(),N=this.session.getTextRange(L);this.session.replace(L,N.toLowerCase()),this.selection.setSelectionRange(w)},S.prototype.toUpperCase=function(){var w=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var L=this.getSelectionRange(),N=this.session.getTextRange(L);this.session.replace(L,N.toUpperCase()),this.selection.setSelectionRange(w)},S.prototype.indent=function(){var w=this.session,L=this.getSelectionRange();if(L.start.row<L.end.row){var N=this.$getSelectedRows();w.indentRows(N.first,N.last,"	");return}else if(L.start.column<L.end.column){var z=w.getTextRange(L);if(!/^\s+$/.test(z)){var N=this.$getSelectedRows();w.indentRows(N.first,N.last,"	");return}}var q=w.getLine(L.start.row),K=L.start,J=w.getTabSize(),Q=w.documentToScreenColumn(K.row,K.column);if(this.session.getUseSoftTabs())var U=J-Q%J,re=u.stringRepeat(" ",U);else{for(var U=Q%J;q[L.start.column-1]==" "&&U;)L.start.column--,U--;this.selection.setSelectionRange(L),re="	"}return this.insert(re)},S.prototype.blockIndent=function(){var w=this.$getSelectedRows();this.session.indentRows(w.first,w.last,"	")},S.prototype.blockOutdent=function(){var w=this.session.getSelection();this.session.outdentRows(w.getRange())},S.prototype.sortLines=function(){for(var w=this.$getSelectedRows(),L=this.session,N=[],z=w.first;z<=w.last;z++)N.push(L.getLine(z));N.sort(function(J,Q){return J.toLowerCase()<Q.toLowerCase()?-1:J.toLowerCase()>Q.toLowerCase()?1:0});for(var q=new y(0,0,0,0),z=w.first;z<=w.last;z++){var K=L.getLine(z);q.start.row=z,q.end.row=z,q.end.column=K.length,L.replace(q,N[z-w.first])}},S.prototype.toggleCommentLines=function(){var w=this.session.getState(this.getCursorPosition().row),L=this.$getSelectedRows();this.session.getMode().toggleCommentLines(w,this.session,L.first,L.last)},S.prototype.toggleBlockComment=function(){var w=this.getCursorPosition(),L=this.session.getState(w.row),N=this.getSelectionRange();this.session.getMode().toggleBlockComment(L,this.session,N,w)},S.prototype.getNumberAt=function(w,L){var N=/[\-]?[0-9]+(?:\.[0-9]+)?/g;N.lastIndex=0;for(var z=this.session.getLine(w);N.lastIndex<L;){var q=N.exec(z);if(q.index<=L&&q.index+q[0].length>=L){var K={value:q[0],start:q.index,end:q.index+q[0].length};return K}}return null},S.prototype.modifyNumber=function(w){var L=this.selection.getCursor().row,N=this.selection.getCursor().column,z=new y(L,N-1,L,N),q=this.session.getTextRange(z);if(!isNaN(parseFloat(q))&&isFinite(q)){var K=this.getNumberAt(L,N);if(K){var J=K.value.indexOf(".")>=0?K.start+K.value.indexOf(".")+1:K.end,Q=K.start+K.value.length-J,U=parseFloat(K.value);U*=Math.pow(10,Q),J!==K.end&&N<J?w*=Math.pow(10,K.end-N-1):w*=Math.pow(10,K.end-N),U+=w,U/=Math.pow(10,Q);var re=U.toFixed(Q),Z=new y(L,K.start,L,K.end);this.session.replace(Z,re),this.moveCursorTo(L,Math.max(K.start+1,N+re.length-K.value.length))}}else this.toggleWord()},S.prototype.toggleWord=function(){var w=this.selection.getCursor().row,L=this.selection.getCursor().column;this.selection.selectWord();var N=this.getSelectedText(),z=this.selection.getWordRange().start.column,q=N.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),K=L-z-1;K<0&&(K=0);var J=0,Q=0,U=this;N.match(/[A-Za-z0-9_]+/)&&q.forEach(function(Ae,$e){Q=J+Ae.length,K>=J&&K<=Q&&(N=Ae,U.selection.clearSelection(),U.moveCursorTo(w,J+z),U.selection.selectTo(w,Q+z)),J=Q});for(var re=this.$toggleWordPairs,Z,he=0;he<re.length;he++)for(var ue=re[he],ae=0;ae<=1;ae++){var pe=+!ae,Ee=N.match(new RegExp("^\\s?_?("+u.escapeRegExp(ue[ae])+")\\s?$","i"));if(Ee){var me=N.match(new RegExp("([_]|^|\\s)("+u.escapeRegExp(Ee[1])+")($|\\s)","g"));me&&(Z=N.replace(new RegExp(u.escapeRegExp(ue[ae]),"i"),function(Ae){var $e=ue[pe];return Ae.toUpperCase()==Ae?$e=$e.toUpperCase():Ae.charAt(0).toUpperCase()==Ae.charAt(0)&&($e=$e.substr(0,0)+ue[pe].charAt(0).toUpperCase()+$e.substr(1)),$e}),this.insert(Z),Z="")}}},S.prototype.findLinkAt=function(w,L){var N,z,q=this.session.getLine(w),K=q.split(/((?:https?|ftp):\/\/[\S]+)/),J=L;J<0&&(J=0);var Q=0,U=0,re;try{for(var Z=o(K),he=Z.next();!he.done;he=Z.next()){var ue=he.value;if(U=Q+ue.length,J>=Q&&J<=U&&ue.match(/((?:https?|ftp):\/\/[\S]+)/)){re=ue.replace(/[\s:.,'";}\]]+$/,"");break}Q=U}}catch(ae){N={error:ae}}finally{try{he&&!he.done&&(z=Z.return)&&z.call(Z)}finally{if(N)throw N.error}}return re},S.prototype.openLink=function(){var w=this.selection.getCursor(),L=this.findLinkAt(w.row,w.column);return L&&window.open(L,"_blank"),L!=null},S.prototype.removeLines=function(){var w=this.$getSelectedRows();this.session.removeFullLines(w.first,w.last),this.clearSelection()},S.prototype.duplicateSelection=function(){var w=this.selection,L=this.session,N=w.getRange(),z=w.isBackwards();if(N.isEmpty()){var q=N.start.row;L.duplicateLines(q,q)}else{var K=z?N.start:N.end,J=L.insert(K,L.getTextRange(N));N.start=K,N.end=J,w.setSelectionRange(N,z)}},S.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},S.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},S.prototype.moveText=function(w,L,N){return this.session.moveText(w,L,N)},S.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},S.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},S.prototype.$moveLines=function(w,L){var N,z,q=this.selection;if(!q.inMultiSelectMode||this.inVirtualSelectionMode){var K=q.toOrientedRange();N=this.$getSelectedRows(K),z=this.session.$moveLines(N.first,N.last,L?0:w),L&&w==-1&&(z=0),K.moveBy(z,0),q.fromOrientedRange(K)}else{var J=q.rangeList.ranges;q.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var Q=0,U=0,re=J.length,Z=0;Z<re;Z++){var he=Z;J[Z].moveBy(Q,0),N=this.$getSelectedRows(J[Z]);for(var ue=N.first,ae=N.last;++Z<re;){U&&J[Z].moveBy(U,0);var pe=this.$getSelectedRows(J[Z]);if(L&&pe.first!=ae)break;if(!L&&pe.first>ae+1)break;ae=pe.last}for(Z--,Q=this.session.$moveLines(ue,ae,L?0:w),L&&w==-1&&(he=Z+1);he<=Z;)J[he].moveBy(Q,0),he++;L||(Q=0),U+=Q}q.fromOrientedRange(q.ranges[0]),q.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},S.prototype.$getSelectedRows=function(w){return w=(w||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(w.start.row),last:this.session.getRowFoldEnd(w.end.row)}},S.prototype.onCompositionStart=function(w){this.renderer.showComposition(w)},S.prototype.onCompositionUpdate=function(w){this.renderer.setCompositionText(w)},S.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},S.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},S.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},S.prototype.isRowVisible=function(w){return w>=this.getFirstVisibleRow()&&w<=this.getLastVisibleRow()},S.prototype.isRowFullyVisible=function(w){return w>=this.renderer.getFirstFullyVisibleRow()&&w<=this.renderer.getLastFullyVisibleRow()},S.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},S.prototype.$moveByPage=function(w,L){var N=this.renderer,z=this.renderer.layerConfig,q=w*Math.floor(z.height/z.lineHeight);L===!0?this.selection.$moveSelection(function(){this.moveCursorBy(q,0)}):L===!1&&(this.selection.moveCursorBy(q,0),this.selection.clearSelection());var K=N.scrollTop;N.scrollBy(0,q*z.lineHeight),L!=null&&N.scrollCursorIntoView(null,.5),N.animateScrolling(K)},S.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},S.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},S.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},S.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},S.prototype.scrollPageDown=function(){this.$moveByPage(1)},S.prototype.scrollPageUp=function(){this.$moveByPage(-1)},S.prototype.scrollToRow=function(w){this.renderer.scrollToRow(w)},S.prototype.scrollToLine=function(w,L,N,z){this.renderer.scrollToLine(w,L,N,z)},S.prototype.centerSelection=function(){var w=this.getSelectionRange(),L={row:Math.floor(w.start.row+(w.end.row-w.start.row)/2),column:Math.floor(w.start.column+(w.end.column-w.start.column)/2)};this.renderer.alignCursor(L,.5)},S.prototype.getCursorPosition=function(){return this.selection.getCursor()},S.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},S.prototype.getSelectionRange=function(){return this.selection.getRange()},S.prototype.selectAll=function(){this.selection.selectAll()},S.prototype.clearSelection=function(){this.selection.clearSelection()},S.prototype.moveCursorTo=function(w,L){this.selection.moveCursorTo(w,L)},S.prototype.moveCursorToPosition=function(w){this.selection.moveCursorToPosition(w)},S.prototype.jumpToMatching=function(w,L){var N=this.getCursorPosition(),z=new $(this.session,N.row,N.column),q=z.getCurrentToken(),K=0;q&&q.type.indexOf("tag-name")!==-1&&(q=z.stepBackward());var J=q||z.stepForward();if(J){var Q,U=!1,re={},Z=N.column-J.start,he,ue={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(J.value.match(/[{}()\[\]]/g)){for(;Z<J.value.length&&!U;Z++)if(ue[J.value[Z]])switch(he=ue[J.value[Z]]+"."+J.type.replace("rparen","lparen"),isNaN(re[he])&&(re[he]=0),J.value[Z]){case"(":case"[":case"{":re[he]++;break;case")":case"]":case"}":re[he]--,re[he]===-1&&(Q="bracket",U=!0);break}}else J.type.indexOf("tag-name")!==-1&&(isNaN(re[J.value])&&(re[J.value]=0),q.value==="<"&&K>1?re[J.value]++:q.value==="</"&&re[J.value]--,re[J.value]===-1&&(Q="tag",U=!0));U||(q=J,K++,J=z.stepForward(),Z=0)}while(J&&!U);if(Q){var ae,pe;if(Q==="bracket")ae=this.session.getBracketRange(N),ae||(ae=new y(z.getCurrentTokenRow(),z.getCurrentTokenColumn()+Z-1,z.getCurrentTokenRow(),z.getCurrentTokenColumn()+Z-1),pe=ae.start,(L||pe.row===N.row&&Math.abs(pe.column-N.column)<2)&&(ae=this.session.getBracketRange(pe)));else if(Q==="tag"){if(!J||J.type.indexOf("tag-name")===-1)return;if(ae=new y(z.getCurrentTokenRow(),z.getCurrentTokenColumn()-2,z.getCurrentTokenRow(),z.getCurrentTokenColumn()-2),ae.compare(N.row,N.column)===0){var Ee=this.session.getMatchingTags(N);Ee&&(Ee.openTag.contains(N.row,N.column)?(ae=Ee.closeTag,pe=ae.start):(ae=Ee.openTag,Ee.closeTag.start.row===N.row&&Ee.closeTag.start.column===N.column?pe=ae.end:pe=ae.start))}pe=pe||ae.start}pe=ae&&ae.cursor||pe,pe&&(w?ae&&L?this.selection.setRange(ae):ae&&ae.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(pe.row,pe.column):this.selection.moveTo(pe.row,pe.column))}}},S.prototype.gotoLine=function(w,L,N){this.selection.clearSelection(),this.session.unfold({row:w-1,column:L||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(w-1,L||0),this.isRowFullyVisible(w-1)||this.scrollToLine(w-1,!0,N)},S.prototype.navigateTo=function(w,L){this.selection.moveTo(w,L)},S.prototype.navigateUp=function(w){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var L=this.selection.anchor.getPosition();return this.moveCursorToPosition(L)}this.selection.clearSelection(),this.selection.moveCursorBy(-w||-1,0)},S.prototype.navigateDown=function(w){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var L=this.selection.anchor.getPosition();return this.moveCursorToPosition(L)}this.selection.clearSelection(),this.selection.moveCursorBy(w||1,0)},S.prototype.navigateLeft=function(w){if(this.selection.isEmpty())for(w=w||1;w--;)this.selection.moveCursorLeft();else{var L=this.getSelectionRange().start;this.moveCursorToPosition(L)}this.clearSelection()},S.prototype.navigateRight=function(w){if(this.selection.isEmpty())for(w=w||1;w--;)this.selection.moveCursorRight();else{var L=this.getSelectionRange().end;this.moveCursorToPosition(L)}this.clearSelection()},S.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},S.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},S.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},S.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},S.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},S.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},S.prototype.replace=function(w,L){L&&this.$search.set(L);var N=this.$search.find(this.session),z=0;return N&&(this.$tryReplace(N,w)&&(z=1),this.selection.setSelectionRange(N),this.renderer.scrollSelectionIntoView(N.start,N.end)),z},S.prototype.replaceAll=function(w,L){L&&this.$search.set(L);var N=this.$search.findAll(this.session),z=0;if(!N.length)return z;var q=this.getSelectionRange();this.selection.moveTo(0,0);for(var K=N.length-1;K>=0;--K)this.$tryReplace(N[K],w)&&z++;return this.selection.setSelectionRange(q),z},S.prototype.$tryReplace=function(w,L){var N=this.session.getTextRange(w);return L=this.$search.replace(N,L),L!==null?(w.end=this.session.replace(w,L),w):null},S.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},S.prototype.find=function(w,L,N){L||(L={}),typeof w=="string"||w instanceof RegExp?L.needle=w:typeof w=="object"&&c.mixin(L,w);var z=this.selection.getRange();L.needle==null&&(w=this.session.getTextRange(z)||this.$search.$options.needle,w||(z=this.session.getWordRange(z.start.row,z.start.column),w=this.session.getTextRange(z)),this.$search.set({needle:w})),this.$search.set(L),L.start||this.$search.set({start:z});var q=this.$search.find(this.session);if(L.preventScroll)return q;if(q)return this.revealRange(q,N),q;L.backwards?z.start=z.end:z.end=z.start,this.selection.setRange(z)},S.prototype.findNext=function(w,L){this.find({skipCurrent:!0,backwards:!1},w,L)},S.prototype.findPrevious=function(w,L){this.find(w,{skipCurrent:!0,backwards:!0},L)},S.prototype.revealRange=function(w,L){this.session.unfold(w),this.selection.setSelectionRange(w);var N=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(w.start,w.end,.5),L!==!1&&this.renderer.animateScrolling(N)},S.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},S.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},S.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(w){w.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},S.prototype.setAutoScrollEditorIntoView=function(w){if(w){var L,N=this,z=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var q=this.$scrollAnchor;q.style.cssText="position:absolute",this.container.insertBefore(q,this.container.firstChild);var K=this.on("changeSelection",function(){z=!0}),J=this.renderer.on("beforeRender",function(){z&&(L=N.renderer.container.getBoundingClientRect())}),Q=this.renderer.on("afterRender",function(){if(z&&L&&(N.isFocused()||N.searchBox&&N.searchBox.isFocused())){var U=N.renderer,re=U.$cursorLayer.$pixelPos,Z=U.layerConfig,he=re.top-Z.offset;re.top>=0&&he+L.top<0?z=!0:re.top<Z.height&&re.top+L.top+Z.lineHeight>window.innerHeight?z=!1:z=null,z!=null&&(q.style.top=he+"px",q.style.left=re.left+"px",q.style.height=Z.lineHeight+"px",q.scrollIntoView(z)),z=L=null}});this.setAutoScrollEditorIntoView=function(U){U||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",K),this.renderer.off("afterRender",Q),this.renderer.off("beforeRender",J))}}},S.prototype.$resetCursorStyle=function(){var w=this.$cursorStyle||"ace",L=this.renderer.$cursorLayer;L&&(L.setSmoothBlinking(/smooth/.test(w)),L.isBlinking=!this.$readOnly&&w!="wide",m.setCssClass(L.element,"ace_slim-cursors",/slim/.test(w)))},S.prototype.prompt=function(w,L,N){var z=this;O.loadModule("ace/ext/prompt",function(q){q.prompt(z,w,L,N)})},S}();P.$uid=0,P.prototype.curOp=null,P.prototype.prevOp={},P.prototype.$mergeableCommands=["backspace","del","insertstring"],P.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],c.implement(P.prototype,C),O.defineOptions(P.prototype,"editor",{selectionStyle:{set:function(S){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:S})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(S){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(S){this.textInput.setReadOnly(S),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(S){this.textInput.setCopyWithEmptySelection(S)},initialValue:!1},cursorStyle:{set:function(S){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(S){this.setAutoScrollEditorIntoView(S)}},keyboardHandler:{set:function(S){this.setKeyboardHandler(S)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(S){this.session.setValue(S)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(S){this.setSession(S)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(S){this.renderer.$gutterLayer.setShowLineNumbers(S),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),S&&this.$relativeLineNumbers?V.attach(this):V.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(S){this.$showLineNumbers&&S?V.attach(this):V.detach(this)}},placeholder:{set:function(S){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var w=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(w&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),m.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!w&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),m.addCssClass(this.container,"ace_hasPlaceholder");var L=m.createElement("div");L.className="ace_placeholder",L.textContent=this.$placeholder||"",this.renderer.placeholderNode=L,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!w&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(S){var w={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(z){z.blur(),z.renderer.scroller.focus()},readOnly:!0},L=function(z){if(z.target==this.renderer.scroller&&z.keyCode===M.enter){z.preventDefault();var q=this.getCursorPosition().row;this.isRowVisible(q)||this.scrollToLine(q,!0,!0),this.focus()}},N;S?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(g.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",E("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",E("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",L.bind(this)),this.commands.addCommand(w),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",E("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",E("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),N||(N=new _(this)),N.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",L.bind(this)),this.commands.removeCommand(w),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),N&&N.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(S){this.$textInputAriaLabel=S},initialValue:""},enableMobileMenu:{set:function(S){this.$enableMobileMenu=S},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var V={getText:function(S,w){return(Math.abs(S.selection.lead.row-w)||w+1+(w<9?"·":""))+""},getWidth:function(S,w,L){return Math.max(w.toString().length,(L.lastRow+1).toString().length,2)*L.characterWidth},update:function(S,w){w.renderer.$loop.schedule(w.renderer.CHANGE_GUTTER)},attach:function(S){S.renderer.$gutterLayer.$renderer=this,S.on("changeSelection",this.update),this.update(null,S)},detach:function(S){S.renderer.$gutterLayer.$renderer==this&&(S.renderer.$gutterLayer.$renderer=null),S.off("changeSelection",this.update),this.update(null,S)}};r.Editor=P}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(t,r,s){var o=t("../lib/dom"),c=function(){function m(u,g){this.element=u,this.canvasHeight=g||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return m.prototype.moveContainer=function(u){o.translate(this.element,0,-(u.firstRowScreen*u.lineHeight%this.canvasHeight)-u.offset*this.$offsetCoefficient)},m.prototype.pageChanged=function(u,g){return Math.floor(u.firstRowScreen*u.lineHeight/this.canvasHeight)!==Math.floor(g.firstRowScreen*g.lineHeight/this.canvasHeight)},m.prototype.computeLineTop=function(u,g,a){var h=g.firstRowScreen*g.lineHeight,d=Math.floor(h/this.canvasHeight),f=a.documentToScreenRow(u,0)*g.lineHeight;return f-d*this.canvasHeight},m.prototype.computeLineHeight=function(u,g,a){return g.lineHeight*a.getRowLineCount(u)},m.prototype.getLength=function(){return this.cells.length},m.prototype.get=function(u){return this.cells[u]},m.prototype.shift=function(){this.$cacheCell(this.cells.shift())},m.prototype.pop=function(){this.$cacheCell(this.cells.pop())},m.prototype.push=function(u){if(Array.isArray(u)){this.cells.push.apply(this.cells,u);for(var g=o.createFragment(this.element),a=0;a<u.length;a++)g.appendChild(u[a].element);this.element.appendChild(g)}else this.cells.push(u),this.element.appendChild(u.element)},m.prototype.unshift=function(u){if(Array.isArray(u)){this.cells.unshift.apply(this.cells,u);for(var g=o.createFragment(this.element),a=0;a<u.length;a++)g.appendChild(u[a].element);this.element.firstChild?this.element.insertBefore(g,this.element.firstChild):this.element.appendChild(g)}else this.cells.unshift(u),this.element.insertAdjacentElement("afterbegin",u.element)},m.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},m.prototype.$cacheCell=function(u){u&&(u.element.remove(),this.cellCache.push(u))},m.prototype.createCell=function(u,g,a,h){var d=this.cellCache.pop();if(!d){var f=o.createElement("div");h&&h(f),this.element.appendChild(f),d={element:f,text:"",row:u}}return d.row=u,d},m}();r.Lines=c}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(t,r,s){var o=t("../lib/dom"),c=t("../lib/oop"),m=t("../lib/lang"),u=t("../lib/event_emitter").EventEmitter,g=t("./lines").Lines,a=t("../config").nls,h=function(){function f(p){this.element=o.createElement("div"),this.element.className="ace_layer ace_gutter-layer",p.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new g(this.element),this.$lines.$offsetCoefficient=1}return f.prototype.setSession=function(p){this.session&&this.session.off("change",this.$updateAnnotations),this.session=p,p&&p.on("change",this.$updateAnnotations)},f.prototype.addGutterDecoration=function(p,v){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(p,v)},f.prototype.removeGutterDecoration=function(p,v){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(p,v)},f.prototype.setAnnotations=function(p){this.$annotations=[];for(var v=0;v<p.length;v++){var y=p[v],C=y.row,A=this.$annotations[C];A||(A=this.$annotations[C]={text:[],type:[],displayText:[]});var F=y.text,O=y.text,$=y.type;F=F?m.escapeHTML(F):y.html||"",O=O||y.html||"",A.text.indexOf(F)===-1&&(A.text.push(F),A.type.push($),A.displayText.push(O));var _=y.className;_?A.className=_:$==="error"?A.className=" ace_error":$==="security"&&!/\bace_error\b/.test(A.className)?A.className=" ace_security":$==="warning"&&!/\bace_(error|security)\b/.test(A.className)?A.className=" ace_warning":$==="info"&&!A.className?A.className=" ace_info":$==="hint"&&!A.className&&(A.className=" ace_hint")}},f.prototype.$updateAnnotations=function(p){if(this.$annotations.length){var v=p.start.row,y=p.end.row-v;if(y!==0)if(p.action=="remove")this.$annotations.splice(v,y+1,null);else{var C=new Array(y+1);C.unshift(v,1),this.$annotations.splice.apply(this.$annotations,C)}}},f.prototype.update=function(p){this.config=p;var v=this.session,y=p.firstRow,C=Math.min(p.lastRow+p.gutterOffset,v.getLength()-1);this.oldLastRow=C,this.config=p,this.$lines.moveContainer(p),this.$updateCursorRow();for(var A=v.getNextFoldLine(y),F=A?A.start.row:1/0,O=null,$=-1,_=y;;){if(_>F&&(_=A.end.row+1,A=v.getNextFoldLine(_,A),F=A?A.start.row:1/0),_>C){for(;this.$lines.getLength()>$+1;)this.$lines.pop();break}O=this.$lines.get(++$),O?O.row=_:(O=this.$lines.createCell(_,p,this.session,d),this.$lines.push(O)),this.$renderCell(O,p,A,_),_++}this._signal("afterRender"),this.$updateGutterWidth(p)},f.prototype.$updateGutterWidth=function(p){var v=this.session,y=v.gutterRenderer||this.$renderer,C=v.$firstLineNumber,A=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||v.$useWrapMode)&&(A=v.getLength()+C-1);var F=y?y.getWidth(v,A,p):A.toString().length*p.characterWidth,O=this.$padding||this.$computePadding();F+=O.left+O.right,F!==this.gutterWidth&&!isNaN(F)&&(this.gutterWidth=F,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",F))},f.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var p=this.session.selection.getCursor();this.$cursorRow!==p.row&&(this.$cursorRow=p.row)}},f.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var p=this.session.selection.cursor.row;if(this.$cursorRow=p,!(this.$cursorCell&&this.$cursorCell.row==p)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var v=this.$lines.cells;this.$cursorCell=null;for(var y=0;y<v.length;y++){var C=v[y];if(C.row>=this.$cursorRow){if(C.row>this.$cursorRow){var A=this.session.getFoldLine(this.$cursorRow);if(y>0&&A&&A.start.row==v[y-1].row)C=v[y-1];else break}C.element.className="ace_gutter-active-line "+C.element.className,this.$cursorCell=C;break}}}}},f.prototype.scrollLines=function(p){var v=this.config;if(this.config=p,this.$updateCursorRow(),this.$lines.pageChanged(v,p))return this.update(p);this.$lines.moveContainer(p);var y=Math.min(p.lastRow+p.gutterOffset,this.session.getLength()-1),C=this.oldLastRow;if(this.oldLastRow=y,!v||C<p.firstRow)return this.update(p);if(y<v.firstRow)return this.update(p);if(v.firstRow<p.firstRow)for(var A=this.session.getFoldedRowCount(v.firstRow,p.firstRow-1);A>0;A--)this.$lines.shift();if(C>y)for(var A=this.session.getFoldedRowCount(y+1,C);A>0;A--)this.$lines.pop();p.firstRow<v.firstRow&&this.$lines.unshift(this.$renderLines(p,p.firstRow,v.firstRow-1)),y>C&&this.$lines.push(this.$renderLines(p,C+1,y)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(p)},f.prototype.$renderLines=function(p,v,y){for(var C=[],A=v,F=this.session.getNextFoldLine(A),O=F?F.start.row:1/0;A>O&&(A=F.end.row+1,F=this.session.getNextFoldLine(A,F),O=F?F.start.row:1/0),!(A>y);){var $=this.$lines.createCell(A,p,this.session,d);this.$renderCell($,p,F,A),C.push($),A++}return C},f.prototype.$renderCell=function(p,v,y,C){var A=p.element,F=this.session,O=A.childNodes[0],$=A.childNodes[1],_=A.childNodes[2],E=_.firstChild,I=F.$firstLineNumber,M=F.$breakpoints,P=F.$decorations,V=F.gutterRenderer||this.$renderer,S=this.$showFoldWidgets&&F.foldWidgets,w=y?y.start.row:Number.MAX_VALUE,L=v.lineHeight+"px",N=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",z=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",q=(V?V.getText(F,C):C+I).toString();if(this.$highlightGutterLine&&(C==this.$cursorRow||y&&C<this.$cursorRow&&C>=w&&this.$cursorRow<=y.end.row)&&(N+="ace_gutter-active-line ",this.$cursorCell!=p&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=p)),M[C]&&(N+=M[C]),P[C]&&(N+=P[C]),this.$annotations[C]&&C!==w&&(N+=this.$annotations[C].className),S){var K=S[C];K==null&&(K=S[C]=F.getFoldWidget(C))}if(K){var J="ace_fold-widget ace_"+K,Q=K=="start"&&C==w&&C<y.end.row;if(Q){J+=" ace_closed";for(var U="",re=!1,Z=C+1;Z<=y.end.row;Z++)if(this.$annotations[Z]){if(this.$annotations[Z].className===" ace_error"){re=!0,U=" ace_error_fold";break}this.$annotations[Z].className===" ace_security"?(re=!0,U=" ace_security_fold"):this.$annotations[Z].className===" ace_warning"&&U!==" ace_security_fold"&&(re=!0,U=" ace_warning_fold")}N+=U}else J+=" ace_open";$.className!=J&&($.className=J),o.setStyle($.style,"height",L),o.setStyle($.style,"display","inline-block"),$.setAttribute("role","button"),$.setAttribute("tabindex","-1");var he=F.getFoldWidgetRange(C);he?$.setAttribute("aria-label",a("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[he.start.row+1,he.end.row+1])):y?$.setAttribute("aria-label",a("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[y.start.row+1,y.end.row+1])):$.setAttribute("aria-label",a("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[C+1])),Q?($.setAttribute("aria-expanded","false"),$.setAttribute("title",a("gutter.code-folding.closed.title","Unfold code"))):($.setAttribute("aria-expanded","true"),$.setAttribute("title",a("gutter.code-folding.open.title","Fold code")))}else $&&(o.setStyle($.style,"display","none"),$.setAttribute("tabindex","0"),$.removeAttribute("role"),$.removeAttribute("aria-label"));if(re&&this.$showFoldedAnnotations){_.className="ace_gutter_annotation",E.className=z,E.className+=U,o.setStyle(E.style,"height",L),o.setStyle(_.style,"display","block"),o.setStyle(_.style,"height",L);var ue;switch(U){case" ace_error_fold":ue=a("gutter.annotation.aria-label.error","Error, read annotations row $0",[q]);break;case" ace_security_fold":ue=a("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[q]);break;case" ace_warning_fold":ue=a("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[q]);break}_.setAttribute("aria-label",ue),_.setAttribute("tabindex","-1"),_.setAttribute("role","button")}else if(this.$annotations[C]){_.className="ace_gutter_annotation",E.className=z,this.$useSvgGutterIcons?E.className+=this.$annotations[C].className:A.classList.add(this.$annotations[C].className.replace(" ","")),o.setStyle(E.style,"height",L),o.setStyle(_.style,"display","block"),o.setStyle(_.style,"height",L);var ue;switch(this.$annotations[C].className){case" ace_error":ue=a("gutter.annotation.aria-label.error","Error, read annotations row $0",[q]);break;case" ace_security":ue=a("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[q]);break;case" ace_warning":ue=a("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[q]);break;case" ace_info":ue=a("gutter.annotation.aria-label.info","Info, read annotations row $0",[q]);break;case" ace_hint":ue=a("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[q]);break}_.setAttribute("aria-label",ue),_.setAttribute("tabindex","-1"),_.setAttribute("role","button")}else o.setStyle(_.style,"display","none"),_.removeAttribute("aria-label"),_.removeAttribute("role"),_.setAttribute("tabindex","0");return q!==O.data&&(O.data=q),A.className!=N&&(A.className=N),o.setStyle(p.element.style,"height",this.$lines.computeLineHeight(C,v,F)+"px"),o.setStyle(p.element.style,"top",this.$lines.computeLineTop(C,v,F)+"px"),p.text=q,_.style.display==="none"&&$.style.display==="none"?p.element.setAttribute("aria-hidden",!0):p.element.setAttribute("aria-hidden",!1),p},f.prototype.setHighlightGutterLine=function(p){this.$highlightGutterLine=p},f.prototype.setShowLineNumbers=function(p){this.$renderer=!p&&{getWidth:function(){return 0},getText:function(){return""}}},f.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},f.prototype.setShowFoldWidgets=function(p){p?o.addCssClass(this.element,"ace_folding-enabled"):o.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=p,this.$padding=null},f.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},f.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var p=o.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(p.borderLeftWidth)||0)+(parseInt(p.paddingLeft)||0)+1,this.$padding.right=(parseInt(p.borderRightWidth)||0)+(parseInt(p.paddingRight)||0),this.$padding},f.prototype.getRegion=function(p){var v=this.$padding||this.$computePadding(),y=this.element.getBoundingClientRect();if(p.x<v.left+y.left)return"markers";if(this.$showFoldWidgets&&p.x>y.right-v.right)return"foldWidgets"},f}();h.prototype.$fixedWidth=!1,h.prototype.$highlightGutterLine=!0,h.prototype.$renderer="",h.prototype.$showLineNumbers=!0,h.prototype.$showFoldWidgets=!0,c.implement(h.prototype,u);function d(f){var p=document.createTextNode("");f.appendChild(p);var v=o.createElement("span");f.appendChild(v);var y=o.createElement("span");f.appendChild(y);var C=o.createElement("span");return y.appendChild(C),f}r.Gutter=h}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,r,s){var o=t("../range").Range,c=t("../lib/dom"),m=function(){function g(a){this.element=c.createElement("div"),this.element.className="ace_layer ace_marker-layer",a.appendChild(this.element)}return g.prototype.setPadding=function(a){this.$padding=a},g.prototype.setSession=function(a){this.session=a},g.prototype.setMarkers=function(a){this.markers=a},g.prototype.elt=function(a,h){var d=this.i!=-1&&this.element.childNodes[this.i];d?this.i++:(d=document.createElement("div"),this.element.appendChild(d),this.i=-1),d.style.cssText=h,d.className=a},g.prototype.update=function(a){if(a){this.config=a,this.i=0;var h;for(var d in this.markers){var f=this.markers[d];if(!f.range){f.update(h,this,this.session,a);continue}var p=f.range.clipRows(a.firstRow,a.lastRow);if(!p.isEmpty())if(p=p.toScreenRange(this.session),f.renderer){var v=this.$getTop(p.start.row,a),y=this.$padding+p.start.column*a.characterWidth;f.renderer(h,p,y,v,a)}else f.type=="fullLine"?this.drawFullLineMarker(h,p,f.clazz,a):f.type=="screenLine"?this.drawScreenLineMarker(h,p,f.clazz,a):p.isMultiLine()?f.type=="text"?this.drawTextMarker(h,p,f.clazz,a):this.drawMultiLineMarker(h,p,f.clazz,a):this.drawSingleLineMarker(h,p,f.clazz+" ace_start ace_br15",a)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},g.prototype.$getTop=function(a,h){return(a-h.firstRowScreen)*h.lineHeight},g.prototype.drawTextMarker=function(a,h,d,f,p){for(var v=this.session,y=h.start.row,C=h.end.row,A=y,F=0,O=0,$=v.getScreenLastRowColumn(A),_=new o(A,h.start.column,A,O);A<=C;A++)_.start.row=_.end.row=A,_.start.column=A==y?h.start.column:v.getRowWrapIndent(A),_.end.column=$,F=O,O=$,$=A+1<C?v.getScreenLastRowColumn(A+1):A==C?0:h.end.column,this.drawSingleLineMarker(a,_,d+(A==y?" ace_start":"")+" ace_br"+u(A==y||A==y+1&&h.start.column,F<O,O>$,A==C),f,A==C?0:1,p)},g.prototype.drawMultiLineMarker=function(a,h,d,f,p){var v=this.$padding,y=f.lineHeight,C=this.$getTop(h.start.row,f),A=v+h.start.column*f.characterWidth;if(p=p||"",this.session.$bidiHandler.isBidiRow(h.start.row)){var F=h.clone();F.end.row=F.start.row,F.end.column=this.session.getLine(F.start.row).length,this.drawBidiSingleLineMarker(a,F,d+" ace_br1 ace_start",f,null,p)}else this.elt(d+" ace_br1 ace_start","height:"+y+"px;right:"+v+"px;top:"+C+"px;left:"+A+"px;"+(p||""));if(this.session.$bidiHandler.isBidiRow(h.end.row)){var F=h.clone();F.start.row=F.end.row,F.start.column=0,this.drawBidiSingleLineMarker(a,F,d+" ace_br12",f,null,p)}else{C=this.$getTop(h.end.row,f);var O=h.end.column*f.characterWidth;this.elt(d+" ace_br12","height:"+y+"px;width:"+O+"px;top:"+C+"px;left:"+v+"px;"+(p||""))}if(y=(h.end.row-h.start.row-1)*f.lineHeight,!(y<=0)){C=this.$getTop(h.start.row+1,f);var $=(h.start.column?1:0)|(h.end.column?0:8);this.elt(d+($?" ace_br"+$:""),"height:"+y+"px;right:"+v+"px;top:"+C+"px;left:"+v+"px;"+(p||""))}},g.prototype.drawSingleLineMarker=function(a,h,d,f,p,v){if(this.session.$bidiHandler.isBidiRow(h.start.row))return this.drawBidiSingleLineMarker(a,h,d,f,p,v);var y=f.lineHeight,C=(h.end.column+(p||0)-h.start.column)*f.characterWidth,A=this.$getTop(h.start.row,f),F=this.$padding+h.start.column*f.characterWidth;this.elt(d,"height:"+y+"px;width:"+C+"px;top:"+A+"px;left:"+F+"px;"+(v||""))},g.prototype.drawBidiSingleLineMarker=function(a,h,d,f,p,v){var y=f.lineHeight,C=this.$getTop(h.start.row,f),A=this.$padding,F=this.session.$bidiHandler.getSelections(h.start.column,h.end.column);F.forEach(function(O){this.elt(d,"height:"+y+"px;width:"+(O.width+(p||0))+"px;top:"+C+"px;left:"+(A+O.left)+"px;"+(v||""))},this)},g.prototype.drawFullLineMarker=function(a,h,d,f,p){var v=this.$getTop(h.start.row,f),y=f.lineHeight;h.start.row!=h.end.row&&(y+=this.$getTop(h.end.row,f)-v),this.elt(d,"height:"+y+"px;top:"+v+"px;left:0;right:0;"+(p||""))},g.prototype.drawScreenLineMarker=function(a,h,d,f,p){var v=this.$getTop(h.start.row,f),y=f.lineHeight;this.elt(d,"height:"+y+"px;top:"+v+"px;left:0;right:0;"+(p||""))},g}();m.prototype.$padding=0;function u(g,a,h,d){return(g?1:0)|(a?2:0)|(h?4:0)|(d?8:0)}r.Marker=m}),ace.define("ace/layer/text_util",["require","exports","module"],function(t,r,s){var o=new Set(["text","rparen","lparen"]);r.isTextToken=function(c){return o.has(c)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(t,r,s){var o=t("../lib/oop"),c=t("../lib/dom"),m=t("../lib/lang"),u=t("./lines").Lines,g=t("../lib/event_emitter").EventEmitter,a=t("../config").nls,h=t("./text_util").isTextToken,d=function(){function f(p){this.dom=c,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",p.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new u(this.element)}return f.prototype.$updateEolChar=function(){var p=this.session.doc,v=p.getNewLineCharacter()==`
`&&p.getNewLineMode()!="windows",y=v?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=y)return this.EOL_CHAR=y,!0},f.prototype.setPadding=function(p){this.$padding=p,this.element.style.margin="0 "+p+"px"},f.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},f.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},f.prototype.$setFontMetrics=function(p){this.$fontMetrics=p,this.$fontMetrics.on("changeCharacterSize",(function(v){this._signal("changeCharacterSize",v)}).bind(this)),this.$pollSizeChanges()},f.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},f.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},f.prototype.setSession=function(p){this.session=p,p&&this.$computeTabString()},f.prototype.setShowInvisibles=function(p){return this.showInvisibles==p?!1:(this.showInvisibles=p,typeof p=="string"?(this.showSpaces=/tab/i.test(p),this.showTabs=/space/i.test(p),this.showEOL=/eol/i.test(p)):this.showSpaces=this.showTabs=this.showEOL=p,this.$computeTabString(),!0)},f.prototype.setDisplayIndentGuides=function(p){return this.displayIndentGuides==p?!1:(this.displayIndentGuides=p,this.$computeTabString(),!0)},f.prototype.setHighlightIndentGuides=function(p){return this.$highlightIndentGuides===p?!1:(this.$highlightIndentGuides=p,p)},f.prototype.$computeTabString=function(){var p=this.session.getTabSize();this.tabSize=p;for(var v=this.$tabStrings=[0],y=1;y<p+1;y++)if(this.showTabs){var C=this.dom.createElement("span");C.className="ace_invisible ace_invisible_tab",C.textContent=m.stringRepeat(this.TAB_CHAR,y),v.push(C)}else v.push(this.dom.createTextNode(m.stringRepeat(" ",y),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var A="ace_indent-guide",F=this.showSpaces?" ace_invisible ace_invisible_space":"",O=this.showSpaces?m.stringRepeat(this.SPACE_CHAR,this.tabSize):m.stringRepeat(" ",this.tabSize),$=this.showTabs?" ace_invisible ace_invisible_tab":"",_=this.showTabs?m.stringRepeat(this.TAB_CHAR,this.tabSize):O,C=this.dom.createElement("span");C.className=A+F,C.textContent=O,this.$tabStrings[" "]=C;var C=this.dom.createElement("span");C.className=A+$,C.textContent=_,this.$tabStrings["	"]=C}},f.prototype.updateLines=function(p,v,y){if(this.config.lastRow!=p.lastRow||this.config.firstRow!=p.firstRow)return this.update(p);this.config=p;for(var C=Math.max(v,p.firstRow),A=Math.min(y,p.lastRow),F=this.element.childNodes,O=0,_=p.firstRow;_<C;_++){var E=this.session.getFoldLine(_);if(E)if(E.containsRow(C)){C=E.start.row;break}else _=E.end.row;O++}for(var $=!1,_=C,E=this.session.getNextFoldLine(_),I=E?E.start.row:1/0;_>I&&(_=E.end.row+1,E=this.session.getNextFoldLine(_,E),I=E?E.start.row:1/0),!(_>A);){var M=F[O++];if(M){this.dom.removeChildren(M),this.$renderLine(M,_,_==I?E:!1),$&&(M.style.top=this.$lines.computeLineTop(_,p,this.session)+"px");var P=p.lineHeight*this.session.getRowLength(_)+"px";M.style.height!=P&&($=!0,M.style.height=P)}_++}if($)for(;O<this.$lines.cells.length;){var V=this.$lines.cells[O++];V.element.style.top=this.$lines.computeLineTop(V.row,p,this.session)+"px"}},f.prototype.scrollLines=function(p){var v=this.config;if(this.config=p,this.$lines.pageChanged(v,p))return this.update(p);this.$lines.moveContainer(p);var y=p.lastRow,C=v?v.lastRow:-1;if(!v||C<p.firstRow)return this.update(p);if(y<v.firstRow)return this.update(p);if(!v||v.lastRow<p.firstRow)return this.update(p);if(p.lastRow<v.firstRow)return this.update(p);if(v.firstRow<p.firstRow)for(var A=this.session.getFoldedRowCount(v.firstRow,p.firstRow-1);A>0;A--)this.$lines.shift();if(v.lastRow>p.lastRow)for(var A=this.session.getFoldedRowCount(p.lastRow+1,v.lastRow);A>0;A--)this.$lines.pop();p.firstRow<v.firstRow&&this.$lines.unshift(this.$renderLinesFragment(p,p.firstRow,v.firstRow-1)),p.lastRow>v.lastRow&&this.$lines.push(this.$renderLinesFragment(p,v.lastRow+1,p.lastRow)),this.$highlightIndentGuide()},f.prototype.$renderLinesFragment=function(p,v,y){for(var C=[],A=v,F=this.session.getNextFoldLine(A),O=F?F.start.row:1/0;A>O&&(A=F.end.row+1,F=this.session.getNextFoldLine(A,F),O=F?F.start.row:1/0),!(A>y);){var $=this.$lines.createCell(A,p,this.session),_=$.element;this.dom.removeChildren(_),c.setStyle(_.style,"height",this.$lines.computeLineHeight(A,p,this.session)+"px"),c.setStyle(_.style,"top",this.$lines.computeLineTop(A,p,this.session)+"px"),this.$renderLine(_,A,A==O?F:!1),this.$useLineGroups()?_.className="ace_line_group":_.className="ace_line",C.push($),A++}return C},f.prototype.update=function(p){this.$lines.moveContainer(p),this.config=p;for(var v=p.firstRow,y=p.lastRow,C=this.$lines;C.getLength();)C.pop();C.push(this.$renderLinesFragment(p,v,y))},f.prototype.$renderToken=function(p,v,y,C){for(var A=this,F=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,O=this.dom.createFragment(this.element),$,_=0;$=F.exec(C);){var E=$[1],I=$[2],M=$[3],P=$[4],V=$[5];if(!(!A.showSpaces&&I)){var S=_!=$.index?C.slice(_,$.index):"";if(_=$.index+$[0].length,S&&O.appendChild(this.dom.createTextNode(S,this.element)),E){var w=A.session.getScreenTabSize(v+$.index);O.appendChild(A.$tabStrings[w].cloneNode(!0)),v+=w-1}else if(I)if(A.showSpaces){var L=this.dom.createElement("span");L.className="ace_invisible ace_invisible_space",L.textContent=m.stringRepeat(A.SPACE_CHAR,I.length),O.appendChild(L)}else O.appendChild(this.dom.createTextNode(I,this.element));else if(M){var L=this.dom.createElement("span");L.className="ace_invisible ace_invisible_space ace_invalid",L.textContent=m.stringRepeat(A.SPACE_CHAR,M.length),O.appendChild(L)}else if(P){v+=1;var L=this.dom.createElement("span");L.style.width=A.config.characterWidth*2+"px",L.className=A.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",L.textContent=A.showSpaces?A.SPACE_CHAR:P,O.appendChild(L)}else if(V){v+=1;var L=this.dom.createElement("span");L.style.width=A.config.characterWidth*2+"px",L.className="ace_cjk",L.textContent=V,O.appendChild(L)}}}if(O.appendChild(this.dom.createTextNode(_?C.slice(_):C,this.element)),h(y.type))p.appendChild(O);else{var N="ace_"+y.type.replace(/\./g," ace_"),L=this.dom.createElement("span");y.type=="fold"&&(L.style.width=y.value.length*this.config.characterWidth+"px",L.setAttribute("title",a("inline-fold.closed.title","Unfold code"))),L.className=N,L.appendChild(O),p.appendChild(L)}return v+C.length},f.prototype.renderIndentGuide=function(p,v,y){var C=v.search(this.$indentGuideRe);if(C<=0||C>=y)return v;if(v[0]==" "){C-=C%this.tabSize;for(var A=C/this.tabSize,F=0;F<A;F++)p.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),v.substr(C)}else if(v[0]=="	"){for(var F=0;F<C;F++)p.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),v.substr(C)}return this.$highlightIndentGuide(),v},f.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var p=this.session.doc.$lines;if(p){var v=this.session.selection.getCursor(),y=/^\s*/.exec(this.session.doc.getLine(v.row))[0].length,C=Math.floor(y/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:C,start:v.row};var A=this.session.$bracketHighlight;if(A){for(var F=this.session.$bracketHighlight.ranges,O=0;O<F.length;O++)if(v.row!==F[O].start.row){this.$highlightIndentGuideMarker.end=F[O].start.row,v.row>F[O].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&p[v.row]!==""&&v.column===p[v.row].length){this.$highlightIndentGuideMarker.dir=1;for(var O=v.row+1;O<p.length;O++){var $=p[O],_=/^\s*/.exec($)[0].length;if($!==""&&(this.$highlightIndentGuideMarker.end=O,_<=y))break}}this.$renderHighlightIndentGuide()}}},f.prototype.$clearActiveIndentGuide=function(){for(var p=this.$lines.cells,v=0;v<p.length;v++){var y=p[v],C=y.element.childNodes;if(C.length>0){for(var A=0;A<C.length;A++)if(C[A].classList&&C[A].classList.contains("ace_indent-guide-active")){C[A].classList.remove("ace_indent-guide-active");break}}}},f.prototype.$setIndentGuideActive=function(p,v){var y=this.session.doc.getLine(p.row);if(y!==""){var C=p.element.childNodes;if(C){var A=C[v-1];A&&A.classList&&A.classList.contains("ace_indent-guide")&&A.classList.add("ace_indent-guide-active")}}},f.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var p=this.$lines.cells;this.$clearActiveIndentGuide();var v=this.$highlightIndentGuideMarker.indentLevel;if(v!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var y=0;y<p.length;y++){var C=p[y];if(this.$highlightIndentGuideMarker.end&&C.row>=this.$highlightIndentGuideMarker.start+1){if(C.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(C,v)}}else for(var y=p.length-1;y>=0;y--){var C=p[y];if(this.$highlightIndentGuideMarker.end&&C.row<this.$highlightIndentGuideMarker.start){if(C.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(C,v)}}}},f.prototype.$createLineElement=function(p){var v=this.dom.createElement("div");return v.className="ace_line",v.style.height=this.config.lineHeight+"px",v},f.prototype.$renderWrappedLine=function(p,v,y){var C=0,A=0,F=y[0],O=0,$=this.$createLineElement();p.appendChild($);for(var _=0;_<v.length;_++){var E=v[_],I=E.value;if(_==0&&this.displayIndentGuides){if(C=I.length,I=this.renderIndentGuide($,I,F),!I)continue;C-=I.length}if(C+I.length<F)O=this.$renderToken($,O,E,I),C+=I.length;else{for(;C+I.length>=F;)O=this.$renderToken($,O,E,I.substring(0,F-C)),I=I.substring(F-C),C=F,$=this.$createLineElement(),p.appendChild($),$.appendChild(this.dom.createTextNode(m.stringRepeat(" ",y.indent),this.element)),A++,O=0,F=y[A]||Number.MAX_VALUE;I.length!=0&&(C+=I.length,O=this.$renderToken($,O,E,I))}}y[y.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage($,O,null,"",!0)},f.prototype.$renderSimpleLine=function(p,v){for(var y=0,C=0;C<v.length;C++){var A=v[C],F=A.value;if(!(C==0&&this.displayIndentGuides&&(F=this.renderIndentGuide(p,F),!F))){if(y+F.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(p,y,A,F);y=this.$renderToken(p,y,A,F)}}},f.prototype.$renderOverflowMessage=function(p,v,y,C,A){y&&this.$renderToken(p,v,y,C.slice(0,this.MAX_LINE_LENGTH-v));var F=this.dom.createElement("span");F.className="ace_inline_button ace_keyword ace_toggle_wrap",F.textContent=A?"<hide>":"<click to see more...>",p.appendChild(F)},f.prototype.$renderLine=function(p,v,y){if(!y&&y!=!1&&(y=this.session.getFoldLine(v)),y)var C=this.$getFoldLineTokens(v,y);else var C=this.session.getTokens(v);var A=p;if(C.length){var F=this.session.getRowSplitData(v);if(F&&F.length){this.$renderWrappedLine(p,C,F);var A=p.lastChild}else{var A=p;this.$useLineGroups()&&(A=this.$createLineElement(),p.appendChild(A)),this.$renderSimpleLine(A,C)}}else this.$useLineGroups()&&(A=this.$createLineElement(),p.appendChild(A));if(this.showEOL&&A){y&&(v=y.end.row);var O=this.dom.createElement("span");O.className="ace_invisible ace_invisible_eol",O.textContent=v==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,A.appendChild(O)}},f.prototype.$getFoldLineTokens=function(p,v){var y=this.session,C=[];function A(O,$,_){for(var E=0,I=0;I+O[E].value.length<$;)if(I+=O[E].value.length,E++,E==O.length)return;if(I!=$){var M=O[E].value.substring($-I);M.length>_-$&&(M=M.substring(0,_-$)),C.push({type:O[E].type,value:M}),I=$+M.length,E+=1}for(;I<_&&E<O.length;){var M=O[E].value;M.length+I>_?C.push({type:O[E].type,value:M.substring(0,_-I)}):C.push(O[E]),I+=M.length,E+=1}}var F=y.getTokens(p);return v.walk(function(O,$,_,E,I){O!=null?C.push({type:"fold",value:O}):(I&&(F=y.getTokens($)),F.length&&A(F,E,_))},v.end.row,this.session.getLine(v.end.row).length),C},f.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},f}();d.prototype.EOF_CHAR="¶",d.prototype.EOL_CHAR_LF="¬",d.prototype.EOL_CHAR_CRLF="¤",d.prototype.EOL_CHAR=d.prototype.EOL_CHAR_LF,d.prototype.TAB_CHAR="—",d.prototype.SPACE_CHAR="·",d.prototype.$padding=0,d.prototype.MAX_LINE_LENGTH=1e4,d.prototype.showInvisibles=!1,d.prototype.showSpaces=!1,d.prototype.showTabs=!1,d.prototype.showEOL=!1,d.prototype.displayIndentGuides=!0,d.prototype.$highlightIndentGuides=!0,d.prototype.$tabStrings=[],d.prototype.destroy={},d.prototype.onChangeTabSize=d.prototype.$computeTabString,o.implement(d.prototype,g),r.Text=d}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,r,s){var o=t("../lib/dom"),c=function(){function m(u){this.element=o.createElement("div"),this.element.className="ace_layer ace_cursor-layer",u.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),o.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return m.prototype.$updateOpacity=function(u){for(var g=this.cursors,a=g.length;a--;)o.setStyle(g[a].style,"opacity",u?"":"0")},m.prototype.$startCssAnimation=function(){for(var u=this.cursors,g=u.length;g--;)u[g].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&o.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},m.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,o.removeCssClass(this.element,"ace_animate-blinking")},m.prototype.setPadding=function(u){this.$padding=u},m.prototype.setSession=function(u){this.session=u},m.prototype.setBlinking=function(u){u!=this.isBlinking&&(this.isBlinking=u,this.restartTimer())},m.prototype.setBlinkInterval=function(u){u!=this.blinkInterval&&(this.blinkInterval=u,this.restartTimer())},m.prototype.setSmoothBlinking=function(u){u!=this.smoothBlinking&&(this.smoothBlinking=u,o.setCssClass(this.element,"ace_smooth-blinking",u),this.$updateCursors(!0),this.restartTimer())},m.prototype.addCursor=function(){var u=o.createElement("div");return u.className="ace_cursor",this.element.appendChild(u),this.cursors.push(u),u},m.prototype.removeCursor=function(){if(this.cursors.length>1){var u=this.cursors.pop();return u.parentNode.removeChild(u),u}},m.prototype.hideCursor=function(){this.isVisible=!1,o.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},m.prototype.showCursor=function(){this.isVisible=!0,o.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},m.prototype.restartTimer=function(){var u=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,o.removeCssClass(this.element,"ace_smooth-blinking")),u(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&o.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),o.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var g=(function(){this.timeoutId=setTimeout(function(){u(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){u(!0),g()},this.blinkInterval),g()}},m.prototype.getPixelPosition=function(u,g){if(!this.config||!this.session)return{left:0,top:0};u||(u=this.session.selection.getCursor());var a=this.session.documentToScreenPosition(u),h=this.$padding+(this.session.$bidiHandler.isBidiRow(a.row,u.row)?this.session.$bidiHandler.getPosLeft(a.column):a.column*this.config.characterWidth),d=(a.row-(g?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:h,top:d}},m.prototype.isCursorInView=function(u,g){return u.top>=0&&u.top<g.maxHeight},m.prototype.update=function(u){this.config=u;var g=this.session.$selectionMarkers,a=0,h=0;(g===void 0||g.length===0)&&(g=[{cursor:null}]);for(var a=0,d=g.length;a<d;a++){var f=this.getPixelPosition(g[a].cursor,!0);if(!((f.top>u.height+u.offset||f.top<0)&&a>1)){var p=this.cursors[h++]||this.addCursor(),v=p.style;this.drawCursor?this.drawCursor(p,f,u,g[a],this.session):this.isCursorInView(f,u)?(o.setStyle(v,"display","block"),o.translate(p,f.left,f.top),o.setStyle(v,"width",Math.round(u.characterWidth)+"px"),o.setStyle(v,"height",u.lineHeight+"px")):o.setStyle(v,"display","none")}}for(;this.cursors.length>h;)this.removeCursor();var y=this.session.getOverwrite();this.$setOverwrite(y),this.$pixelPos=f,this.restartTimer()},m.prototype.$setOverwrite=function(u){u!=this.overwrite&&(this.overwrite=u,u?o.addCssClass(this.element,"ace_overwrite-cursors"):o.removeCssClass(this.element,"ace_overwrite-cursors"))},m.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},m}();c.prototype.$padding=0,c.prototype.drawCursor=null,r.Cursor=c}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,r,s){var o=this&&this.__extends||function(){var p=function(v,y){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,A){C.__proto__=A}||function(C,A){for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&(C[F]=A[F])},p(v,y)};return function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");p(v,y);function C(){this.constructor=v}v.prototype=y===null?Object.create(y):(C.prototype=y.prototype,new C)}}(),c=t("./lib/oop"),m=t("./lib/dom"),u=t("./lib/event"),g=t("./lib/event_emitter").EventEmitter,a=32768,h=function(){function p(v,y){this.element=m.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+y,this.inner=m.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),v.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,u.addListener(this.element,"scroll",this.onScroll.bind(this)),u.addListener(this.element,"mousedown",u.preventDefault)}return p.prototype.setVisible=function(v){this.element.style.display=v?"":"none",this.isVisible=v,this.coeff=1},p}();c.implement(h.prototype,g);var d=function(p){o(v,p);function v(y,C){var A=p.call(this,y,"-v")||this;return A.scrollTop=0,A.scrollHeight=0,C.$scrollbarWidth=A.width=m.scrollbarWidth(y.ownerDocument),A.inner.style.width=A.element.style.width=(A.width||15)+5+"px",A.$minWidth=0,A}return v.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var y=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-y)/(this.coeff-y)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},v.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},v.prototype.setHeight=function(y){this.element.style.height=y+"px"},v.prototype.setScrollHeight=function(y){this.scrollHeight=y,y>a?(this.coeff=a/y,y=a):this.coeff!=1&&(this.coeff=1),this.inner.style.height=y+"px"},v.prototype.setScrollTop=function(y){this.scrollTop!=y&&(this.skipEvent=!0,this.scrollTop=y,this.element.scrollTop=y*this.coeff)},v}(h);d.prototype.setInnerHeight=d.prototype.setScrollHeight;var f=function(p){o(v,p);function v(y,C){var A=p.call(this,y,"-h")||this;return A.scrollLeft=0,A.height=C.$scrollbarWidth,A.inner.style.height=A.element.style.height=(A.height||15)+5+"px",A}return v.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},v.prototype.getHeight=function(){return this.isVisible?this.height:0},v.prototype.setWidth=function(y){this.element.style.width=y+"px"},v.prototype.setInnerWidth=function(y){this.inner.style.width=y+"px"},v.prototype.setScrollWidth=function(y){this.inner.style.width=y+"px"},v.prototype.setScrollLeft=function(y){this.scrollLeft!=y&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=y)},v}(h);r.ScrollBar=d,r.ScrollBarV=d,r.ScrollBarH=f,r.VScrollBar=d,r.HScrollBar=f}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,r,s){var o=this&&this.__extends||function(){var f=function(p,v){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var A in C)Object.prototype.hasOwnProperty.call(C,A)&&(y[A]=C[A])},f(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");f(p,v);function y(){this.constructor=p}p.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),c=t("./lib/oop"),m=t("./lib/dom"),u=t("./lib/event"),g=t("./lib/event_emitter").EventEmitter;m.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var a=function(){function f(p,v){this.element=m.createElement("div"),this.element.className="ace_sb"+v,this.inner=m.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,p.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,u.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return f.prototype.setVisible=function(p){this.element.style.display=p?"":"none",this.isVisible=p,this.coeff=1},f}();c.implement(a.prototype,g);var h=function(f){o(p,f);function p(v,y){var C=f.call(this,v,"-v")||this;return C.scrollTop=0,C.scrollHeight=0,C.parent=v,C.width=C.VScrollWidth,C.renderer=y,C.inner.style.width=C.element.style.width=(C.width||15)+"px",C.$minWidth=0,C}return p.prototype.onMouseDown=function(v,y){if(v==="mousedown"&&!(u.getButton(y)!==0||y.detail===2)){if(y.target===this.inner){var C=this,A=y.clientY,F=function(P){A=P.clientY},O=function(){clearInterval(I)},$=y.clientY,_=this.thumbTop,E=function(){if(A!==void 0){var P=C.scrollTopFromThumbTop(_+A-$);P!==C.scrollTop&&C._emit("scroll",{data:P})}};u.capture(this.inner,F,O);var I=setInterval(E,20);return u.preventDefault(y)}var M=y.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(M)}),u.preventDefault(y)}},p.prototype.getHeight=function(){return this.height},p.prototype.scrollTopFromThumbTop=function(v){var y=v*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return y=y>>0,y<0?y=0:y>this.pageHeight-this.viewHeight&&(y=this.pageHeight-this.viewHeight),y},p.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},p.prototype.setHeight=function(v){this.height=Math.max(0,v),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},p.prototype.setScrollHeight=function(v,y){this.pageHeight===v&&!y||(this.pageHeight=v,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},p.prototype.setScrollTop=function(v){this.scrollTop=v,v<0&&(v=0),this.thumbTop=v*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},p}(a);h.prototype.setInnerHeight=h.prototype.setScrollHeight;var d=function(f){o(p,f);function p(v,y){var C=f.call(this,v,"-h")||this;return C.scrollLeft=0,C.scrollWidth=0,C.height=C.HScrollHeight,C.inner.style.height=C.element.style.height=(C.height||12)+"px",C.renderer=y,C}return p.prototype.onMouseDown=function(v,y){if(v==="mousedown"&&!(u.getButton(y)!==0||y.detail===2)){if(y.target===this.inner){var C=this,A=y.clientX,F=function(P){A=P.clientX},O=function(){clearInterval(I)},$=y.clientX,_=this.thumbLeft,E=function(){if(A!==void 0){var P=C.scrollLeftFromThumbLeft(_+A-$);P!==C.scrollLeft&&C._emit("scroll",{data:P})}};u.capture(this.inner,F,O);var I=setInterval(E,20);return u.preventDefault(y)}var M=y.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(M)}),u.preventDefault(y)}},p.prototype.getHeight=function(){return this.isVisible?this.height:0},p.prototype.scrollLeftFromThumbLeft=function(v){var y=v*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return y=y>>0,y<0?y=0:y>this.pageWidth-this.viewWidth&&(y=this.pageWidth-this.viewWidth),y},p.prototype.setWidth=function(v){this.width=Math.max(0,v),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},p.prototype.setScrollWidth=function(v,y){this.pageWidth===v&&!y||(this.pageWidth=v,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},p.prototype.setScrollLeft=function(v){this.scrollLeft=v,v<0&&(v=0),this.thumbLeft=v*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},p}(a);d.prototype.setInnerWidth=d.prototype.setScrollWidth,r.ScrollBar=h,r.ScrollBarV=h,r.ScrollBarH=d,r.VScrollBar=h,r.HScrollBar=d}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,r,s){var o=t("./lib/event"),c=function(){function m(u,g){this.onRender=u,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=g||window;var a=this;this._flush=function(h){a.pending=!1;var d=a.changes;if(d&&(o.blockIdle(100),a.changes=0,a.onRender(d)),a.changes){if(a.$recursionLimit--<0)return;a.schedule()}else a.$recursionLimit=2}}return m.prototype.schedule=function(u){this.changes=this.changes|u,this.changes&&!this.pending&&(o.nextFrame(this._flush),this.pending=!0)},m.prototype.clear=function(u){var g=this.changes;return this.changes=0,g},m}();r.RenderLoop=c}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(t,r,s){var o=t("../lib/oop"),c=t("../lib/dom"),m=t("../lib/lang"),u=t("../lib/event"),g=t("../lib/useragent"),a=t("../lib/event_emitter").EventEmitter,h=512,d=typeof ResizeObserver=="function",f=200,p=function(){function v(y){this.el=c.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=c.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=c.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),y.appendChild(this.el),this.$measureNode.textContent=m.stringRepeat("X",h),this.$characterSize={width:0,height:0},d?this.$addObserver():this.checkForSizeChanges()}return v.prototype.$setMeasureNodeStyles=function(y,C){y.width=y.height="auto",y.left=y.top="0px",y.visibility="hidden",y.position="absolute",y.whiteSpace="pre",g.isIE<8?y["font-family"]="inherit":y.font="inherit",y.overflow=C?"hidden":"visible"},v.prototype.checkForSizeChanges=function(y){if(y===void 0&&(y=this.$measureSizes()),y&&(this.$characterSize.width!==y.width||this.$characterSize.height!==y.height)){this.$measureNode.style.fontWeight="bold";var C=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=y,this.charSizes=Object.create(null),this.allowBoldFonts=C&&C.width===y.width&&C.height===y.height,this._emit("changeCharacterSize",{data:y})}},v.prototype.$addObserver=function(){var y=this;this.$observer=new window.ResizeObserver(function(C){y.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},v.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var y=this;return this.$pollSizeChangesTimer=u.onIdle(function C(){y.checkForSizeChanges(),u.onIdle(C,500)},500)},v.prototype.setPolling=function(y){y?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},v.prototype.$measureSizes=function(y){var C={height:(y||this.$measureNode).clientHeight,width:(y||this.$measureNode).clientWidth/h};return C.width===0||C.height===0?null:C},v.prototype.$measureCharWidth=function(y){this.$main.textContent=m.stringRepeat(y,h);var C=this.$main.getBoundingClientRect();return C.width/h},v.prototype.getCharacterWidth=function(y){var C=this.charSizes[y];return C===void 0&&(C=this.charSizes[y]=this.$measureCharWidth(y)/this.$characterSize.width),C},v.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},v.prototype.$getZoom=function(y){return!y||!y.parentElement?1:(Number(window.getComputedStyle(y).zoom)||1)*this.$getZoom(y.parentElement)},v.prototype.$initTransformMeasureNodes=function(){var y=function(C,A){return["div",{style:"position: absolute;top:"+C+"px;left:"+A+"px;"}]};this.els=c.buildDom([y(0,0),y(f,0),y(0,f),y(f,f)],this.el)},v.prototype.transformCoordinates=function(y,C){if(y){var A=this.$getZoom(this.el);y=_(1/A,y)}function F(Q,U,re){var Z=Q[1]*U[0]-Q[0]*U[1];return[(-U[1]*re[0]+U[0]*re[1])/Z,(+Q[1]*re[0]-Q[0]*re[1])/Z]}function O(Q,U){return[Q[0]-U[0],Q[1]-U[1]]}function $(Q,U){return[Q[0]+U[0],Q[1]+U[1]]}function _(Q,U){return[Q*U[0],Q*U[1]]}this.els||this.$initTransformMeasureNodes();function E(Q){var U=Q.getBoundingClientRect();return[U.left,U.top]}var I=E(this.els[0]),M=E(this.els[1]),P=E(this.els[2]),V=E(this.els[3]),S=F(O(V,M),O(V,P),O($(M,P),$(V,I))),w=_(1+S[0],O(M,I)),L=_(1+S[1],O(P,I));if(C){var N=C,z=S[0]*N[0]/f+S[1]*N[1]/f+1,q=$(_(N[0],w),_(N[1],L));return $(_(1/z/f,q),I)}var K=O(y,I),J=F(O(w,_(S[0],K)),O(L,_(S[1],K)),K);return _(f,J)},v}();p.prototype.$characterSize={width:0,height:0},o.implement(p.prototype,a),r.FontMetrics=p}),ace.define("ace/css/editor-css",["require","exports","module"],function(t,r,s){s.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "↩";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(t,r,s){var o=t("../lib/dom"),c=t("../lib/oop"),m=t("../lib/event_emitter").EventEmitter,u=function(){function g(a,h){this.canvas=o.createElement("canvas"),this.renderer=h,this.pixelRatio=1,this.maxHeight=h.layerConfig.maxHeight,this.lineHeight=h.layerConfig.lineHeight,this.canvasHeight=a.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=a.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},a.element.appendChild(this.canvas)}return g.prototype.$updateDecorators=function(a){var h=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(a){this.maxHeight=a.maxHeight,this.lineHeight=a.lineHeight,this.canvasHeight=a.height;var d=(a.lastRow+1)*this.lineHeight;d<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var f=this.canvas.getContext("2d");function p(V,S){return V.priority<S.priority?-1:V.priority>S.priority?1:0}var v=this.renderer.session.$annotations;if(f.clearRect(0,0,this.canvas.width,this.canvas.height),v){var y={info:1,warning:2,error:3};v.forEach(function(V){V.priority=y[V.type]||null}),v=v.sort(p);for(var C=this.renderer.session.$foldData,A=0;A<v.length;A++){var F=v[A].row,O=this.compensateFoldRows(F,C),$=Math.round((F-O)*this.lineHeight*this.heightRatio),_=Math.round((F-O)*this.lineHeight*this.heightRatio),E=Math.round(((F-O)*this.lineHeight+this.lineHeight)*this.heightRatio),I=E-_;if(I<this.minDecorationHeight){var M=(_+E)/2|0;M<this.halfMinDecorationHeight?M=this.halfMinDecorationHeight:M+this.halfMinDecorationHeight>this.canvasHeight&&(M=this.canvasHeight-this.halfMinDecorationHeight),_=Math.round(M-this.halfMinDecorationHeight),E=Math.round(M+this.halfMinDecorationHeight)}f.fillStyle=h[v[A].type]||null,f.fillRect(0,$,this.canvasWidth,E-_)}}var P=this.renderer.session.selection.getCursor();if(P){var O=this.compensateFoldRows(P.row,C),$=Math.round((P.row-O)*this.lineHeight*this.heightRatio);f.fillStyle="rgba(0, 0, 0, 0.5)",f.fillRect(0,$,this.canvasWidth,2)}},g.prototype.compensateFoldRows=function(a,h){var d=0;if(h&&h.length>0)for(var f=0;f<h.length;f++)a>h[f].start.row&&a<h[f].end.row?d+=a-h[f].start.row:a>=h[f].end.row&&(d+=h[f].end.row-h[f].start.row);return d},g}();c.implement(u.prototype,m),r.Decorator=u}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(t,r,s){var o=t("./lib/oop"),c=t("./lib/dom"),m=t("./lib/lang"),u=t("./config"),g=t("./layer/gutter").Gutter,a=t("./layer/marker").Marker,h=t("./layer/text").Text,d=t("./layer/cursor").Cursor,f=t("./scrollbar").HScrollBar,p=t("./scrollbar").VScrollBar,v=t("./scrollbar_custom").HScrollBar,y=t("./scrollbar_custom").VScrollBar,C=t("./renderloop").RenderLoop,A=t("./layer/font_metrics").FontMetrics,F=t("./lib/event_emitter").EventEmitter,O=t("./css/editor-css"),$=t("./layer/decorators").Decorator,_=t("./lib/useragent"),E=t("./layer/text_util").isTextToken;c.importCssString(O,"ace_editor.css",!1);var I=function(){function M(P,V){var S=this;this.container=P||c.createElement("div"),c.addCssClass(this.container,"ace_editor"),c.HI_DPI&&c.addCssClass(this.container,"ace_hidpi"),this.setTheme(V),u.get("useStrictCSP")==null&&u.set("useStrictCSP",!1),this.$gutter=c.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=c.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=c.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new g(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var w=this.$textLayer=new h(this.content);this.canvas=w.element,this.$markerFront=new a(this.content),this.$cursorLayer=new d(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.on("scroll",function(L){S.$scrollAnimation||S.session.setScrollTop(L.data-S.scrollMargin.top)}),this.scrollBarH.on("scroll",function(L){S.$scrollAnimation||S.session.setScrollLeft(L.data-S.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new A(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(L){S.updateCharacterSize(),S.onResize(!0,S.gutterWidth,S.$size.width,S.$size.height),S._signal("changeCharacterSize",L)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!_.isIOS,this.$loop=new C(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),u.resetOptions(this),u._signal("renderer",this)}return M.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),c.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},M.prototype.setSession=function(P){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=P,P&&this.scrollMargin.top&&P.getScrollTop()<=0&&P.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(P),this.$markerBack.setSession(P),this.$markerFront.setSession(P),this.$gutterLayer.setSession(P),this.$textLayer.setSession(P),P&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},M.prototype.updateLines=function(P,V,S){if(V===void 0&&(V=1/0),this.$changedLines?(this.$changedLines.firstRow>P&&(this.$changedLines.firstRow=P),this.$changedLines.lastRow<V&&(this.$changedLines.lastRow=V)):this.$changedLines={firstRow:P,lastRow:V},this.$changedLines.lastRow<this.layerConfig.firstRow)if(S)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},M.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},M.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},M.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},M.prototype.updateFull=function(P){P?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},M.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},M.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},M.prototype.onResize=function(P,V,S,w){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=P?1:0;var L=this.container;w||(w=L.clientHeight||L.scrollHeight),!w&&this.$maxLines&&this.lineHeight>1&&(!L.style.height||L.style.height=="0px")&&(L.style.height="1px",w=L.clientHeight||L.scrollHeight),S||(S=L.clientWidth||L.scrollWidth);var N=this.$updateCachedSize(P,V,S,w);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!S&&!w)return this.resizing=0;P&&(this.$gutterLayer.$padding=null),P?this.$renderChanges(N|this.$changes,!0):this.$loop.schedule(N|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},M.prototype.$updateCachedSize=function(P,V,S,w){w-=this.$extraHeight||0;var L=0,N=this.$size,z={width:N.width,height:N.height,scrollerHeight:N.scrollerHeight,scrollerWidth:N.scrollerWidth};if(w&&(P||N.height!=w)&&(N.height=w,L|=this.CHANGE_SIZE,N.scrollerHeight=N.height,this.$horizScroll&&(N.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(N.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",L=L|this.CHANGE_SCROLL),S&&(P||N.width!=S)){L|=this.CHANGE_SIZE,N.width=S,V==null&&(V=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=V,c.setStyle(this.scrollBarH.element.style,"left",V+"px"),c.setStyle(this.scroller.style,"left",V+this.margin.left+"px"),N.scrollerWidth=Math.max(0,S-V-this.scrollBarV.getWidth()-this.margin.h),c.setStyle(this.$gutter.style,"left",this.margin.left+"px");var q=this.scrollBarV.getWidth()+"px";c.setStyle(this.scrollBarH.element.style,"right",q),c.setStyle(this.scroller.style,"right",q),c.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(N.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||P)&&(L|=this.CHANGE_FULL)}return N.$dirty=!S||!w,L&&this._signal("resize",z),L},M.prototype.onGutterResize=function(P){var V=this.$showGutter?P:0;V!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,V,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},M.prototype.adjustWrapLimit=function(){var P=this.$size.scrollerWidth-this.$padding*2,V=Math.floor(P/this.characterWidth);return this.session.adjustWrapLimit(V,this.$showPrintMargin&&this.$printMarginColumn)},M.prototype.setAnimatedScroll=function(P){this.setOption("animatedScroll",P)},M.prototype.getAnimatedScroll=function(){return this.$animatedScroll},M.prototype.setShowInvisibles=function(P){this.setOption("showInvisibles",P),this.session.$bidiHandler.setShowInvisibles(P)},M.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},M.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},M.prototype.setDisplayIndentGuides=function(P){this.setOption("displayIndentGuides",P)},M.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},M.prototype.setHighlightIndentGuides=function(P){this.setOption("highlightIndentGuides",P)},M.prototype.setShowPrintMargin=function(P){this.setOption("showPrintMargin",P)},M.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},M.prototype.setPrintMarginColumn=function(P){this.setOption("printMarginColumn",P)},M.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},M.prototype.getShowGutter=function(){return this.getOption("showGutter")},M.prototype.setShowGutter=function(P){return this.setOption("showGutter",P)},M.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},M.prototype.setFadeFoldWidgets=function(P){this.setOption("fadeFoldWidgets",P)},M.prototype.setHighlightGutterLine=function(P){this.setOption("highlightGutterLine",P)},M.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},M.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var P=c.createElement("div");P.className="ace_layer ace_print-margin-layer",this.$printMarginEl=c.createElement("div"),this.$printMarginEl.className="ace_print-margin",P.appendChild(this.$printMarginEl),this.content.insertBefore(P,this.content.firstChild)}var V=this.$printMarginEl.style;V.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",V.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},M.prototype.getContainerElement=function(){return this.container},M.prototype.getMouseEventTarget=function(){return this.scroller},M.prototype.getTextAreaContainer=function(){return this.container},M.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var P=this.textarea.style,V=this.$composition;if(!this.$keepTextAreaAtCursor&&!V){c.translate(this.textarea,-100,0);return}var S=this.$cursorLayer.$pixelPos;if(S){V&&V.markerRange&&(S=this.$cursorLayer.getPixelPosition(V.markerRange.start,!0));var w=this.layerConfig,L=S.top,N=S.left;L-=w.offset;var z=V&&V.useTextareaForIME||_.isMobile?this.lineHeight:1;if(L<0||L>w.height-z){c.translate(this.textarea,0,0);return}var q=1,K=this.$size.height-z;if(!V)L+=this.lineHeight;else if(V.useTextareaForIME){var J=this.textarea.value;q=this.characterWidth*this.session.$getStringScreenWidth(J)[0]}else L+=this.lineHeight+2;N-=this.scrollLeft,N>this.$size.scrollerWidth-q&&(N=this.$size.scrollerWidth-q),N+=this.gutterWidth+this.margin.left,c.setStyle(P,"height",z+"px"),c.setStyle(P,"width",q+"px"),c.translate(this.textarea,Math.min(N,this.$size.scrollerWidth-q),Math.min(L,K))}}},M.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},M.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},M.prototype.getLastFullyVisibleRow=function(){var P=this.layerConfig,V=P.lastRow,S=this.session.documentToScreenRow(V,0)*P.lineHeight;return S-this.session.getScrollTop()>P.height-P.lineHeight?V-1:V},M.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},M.prototype.setPadding=function(P){this.$padding=P,this.$textLayer.setPadding(P),this.$cursorLayer.setPadding(P),this.$markerFront.setPadding(P),this.$markerBack.setPadding(P),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},M.prototype.setScrollMargin=function(P,V,S,w){var L=this.scrollMargin;L.top=P|0,L.bottom=V|0,L.right=w|0,L.left=S|0,L.v=L.top+L.bottom,L.h=L.left+L.right,L.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-L.top),this.updateFull()},M.prototype.setMargin=function(P,V,S,w){var L=this.margin;L.top=P|0,L.bottom=V|0,L.right=w|0,L.left=S|0,L.v=L.top+L.bottom,L.h=L.left+L.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},M.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},M.prototype.setHScrollBarAlwaysVisible=function(P){this.setOption("hScrollBarAlwaysVisible",P)},M.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},M.prototype.setVScrollBarAlwaysVisible=function(P){this.setOption("vScrollBarAlwaysVisible",P)},M.prototype.$updateScrollBarV=function(){var P=this.layerConfig.maxHeight,V=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(P-=(V-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>P-V&&(P=this.scrollTop+V,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(P+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},M.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},M.prototype.freeze=function(){this.$frozen=!0},M.prototype.unfreeze=function(){this.$frozen=!1},M.prototype.$renderChanges=function(P,V){if(this.$changes&&(P|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!P&&!V){this.$changes|=P;return}if(this.$size.$dirty)return this.$changes|=P,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",P),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var S=this.layerConfig;if(P&this.CHANGE_FULL||P&this.CHANGE_SIZE||P&this.CHANGE_TEXT||P&this.CHANGE_LINES||P&this.CHANGE_SCROLL||P&this.CHANGE_H_SCROLL){if(P|=this.$computeLayerConfig()|this.$loop.clear(),S.firstRow!=this.layerConfig.firstRow&&S.firstRowScreen==this.layerConfig.firstRowScreen){var w=this.scrollTop+(S.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;w>0&&(this.scrollTop=w,P=P|this.CHANGE_SCROLL,P|=this.$computeLayerConfig()|this.$loop.clear())}S=this.layerConfig,this.$updateScrollBarV(),P&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),c.translate(this.content,-this.scrollLeft,-S.offset);var L=S.width+2*this.$padding+"px",N=S.minHeight+"px";c.setStyle(this.content.style,"width",L),c.setStyle(this.content.style,"height",N)}if(P&this.CHANGE_H_SCROLL&&(c.translate(this.content,-this.scrollLeft,-S.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),P&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(S),this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S),this.$markerBack.update(S),this.$markerFront.update(S),this.$cursorLayer.update(S),this.$moveTextAreaToCursor(),this._signal("afterRender",P);return}if(P&this.CHANGE_SCROLL){this.$changedLines=null,P&this.CHANGE_TEXT||P&this.CHANGE_LINES?this.$textLayer.update(S):this.$textLayer.scrollLines(S),this.$showGutter&&(P&this.CHANGE_GUTTER||P&this.CHANGE_LINES?this.$gutterLayer.update(S):this.$gutterLayer.scrollLines(S)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S),this.$markerBack.update(S),this.$markerFront.update(S),this.$cursorLayer.update(S),this.$moveTextAreaToCursor(),this._signal("afterRender",P);return}P&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(S),this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):P&this.CHANGE_LINES?((this.$updateLines()||P&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):P&this.CHANGE_TEXT||P&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)):P&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(S),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(S)),P&this.CHANGE_CURSOR&&(this.$cursorLayer.update(S),this.$moveTextAreaToCursor()),P&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(S),P&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(S),this._signal("afterRender",P)},M.prototype.$autosize=function(){var P=this.session.getScreenLength()*this.lineHeight,V=this.$maxLines*this.lineHeight,S=Math.min(V,Math.max((this.$minLines||1)*this.lineHeight,P))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(S+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&S>this.$maxPixelHeight&&(S=this.$maxPixelHeight);var w=S<=2*this.lineHeight,L=!w&&P>V;if(S!=this.desiredHeight||this.$size.height!=this.desiredHeight||L!=this.$vScroll){L!=this.$vScroll&&(this.$vScroll=L,this.scrollBarV.setVisible(L));var N=this.container.clientWidth;this.container.style.height=S+"px",this.$updateCachedSize(!0,this.$gutterWidth,N,S),this.desiredHeight=S,this._signal("autosize")}},M.prototype.$computeLayerConfig=function(){var P=this.session,V=this.$size,S=V.height<=2*this.lineHeight,w=this.session.getScreenLength(),L=w*this.lineHeight,N=this.$getLongestLine(),z=!S&&(this.$hScrollBarAlwaysVisible||V.scrollerWidth-N-2*this.$padding<0),q=this.$horizScroll!==z;q&&(this.$horizScroll=z,this.scrollBarH.setVisible(z));var K=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var J=V.scrollerHeight+this.lineHeight,Q=!this.$maxLines&&this.$scrollPastEnd?(V.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;L+=Q;var U=this.scrollMargin;this.session.setScrollTop(Math.max(-U.top,Math.min(this.scrollTop,L-V.scrollerHeight+U.bottom))),this.session.setScrollLeft(Math.max(-U.left,Math.min(this.scrollLeft,N+2*this.$padding-V.scrollerWidth+U.right)));var re=!S&&(this.$vScrollBarAlwaysVisible||V.scrollerHeight-L+Q<0||this.scrollTop>U.top),Z=K!==re;Z&&(this.$vScroll=re,this.scrollBarV.setVisible(re));var he=this.scrollTop%this.lineHeight,ue=Math.ceil(J/this.lineHeight)-1,ae=Math.max(0,Math.round((this.scrollTop-he)/this.lineHeight)),pe=ae+ue,Ee,me,Ae=this.lineHeight;ae=P.screenToDocumentRow(ae,0);var $e=P.getFoldLine(ae);$e&&(ae=$e.start.row),Ee=P.documentToScreenRow(ae,0),me=P.getRowLength(ae)*Ae,pe=Math.min(P.screenToDocumentRow(pe,0),P.getLength()-1),J=V.scrollerHeight+P.getRowLength(pe)*Ae+me,he=this.scrollTop-Ee*Ae;var Qe=0;return(this.layerConfig.width!=N||q)&&(Qe=this.CHANGE_H_SCROLL),(q||Z)&&(Qe|=this.$updateCachedSize(!0,this.gutterWidth,V.width,V.height),this._signal("scrollbarVisibilityChanged"),Z&&(N=this.$getLongestLine())),this.layerConfig={width:N,padding:this.$padding,firstRow:ae,firstRowScreen:Ee,lastRow:pe,lineHeight:Ae,characterWidth:this.characterWidth,minHeight:J,maxHeight:L,offset:he,gutterOffset:Ae?Math.max(0,Math.ceil((he+V.height-V.scrollerHeight)/Ae)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(N-this.$padding),Qe},M.prototype.$updateLines=function(){if(this.$changedLines){var P=this.$changedLines.firstRow,V=this.$changedLines.lastRow;this.$changedLines=null;var S=this.layerConfig;if(!(P>S.lastRow+1)&&!(V<S.firstRow)){if(V===1/0){this.$showGutter&&this.$gutterLayer.update(S),this.$textLayer.update(S);return}return this.$textLayer.updateLines(S,P,V),!0}}},M.prototype.$getLongestLine=function(){var P=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(P+=1),this.$textLayer&&P>this.$textLayer.MAX_LINE_LENGTH&&(P=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(P*this.characterWidth))},M.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},M.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},M.prototype.addGutterDecoration=function(P,V){this.$gutterLayer.addGutterDecoration(P,V)},M.prototype.removeGutterDecoration=function(P,V){this.$gutterLayer.removeGutterDecoration(P,V)},M.prototype.updateBreakpoints=function(P){this._rows=P,this.$loop.schedule(this.CHANGE_GUTTER)},M.prototype.setAnnotations=function(P){this.$gutterLayer.setAnnotations(P),this.$loop.schedule(this.CHANGE_GUTTER)},M.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},M.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},M.prototype.showCursor=function(){this.$cursorLayer.showCursor()},M.prototype.scrollSelectionIntoView=function(P,V,S){this.scrollCursorIntoView(P,S),this.scrollCursorIntoView(V,S)},M.prototype.scrollCursorIntoView=function(P,V,S){if(this.$size.scrollerHeight!==0){var w=this.$cursorLayer.getPixelPosition(P),L=w.left,N=w.top,z=S&&S.top||0,q=S&&S.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var K=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;K+z>N?(V&&K+z>N+this.lineHeight&&(N-=V*this.$size.scrollerHeight),N===0&&(N=-this.scrollMargin.top),this.session.setScrollTop(N)):K+this.$size.scrollerHeight-q<N+this.lineHeight&&(V&&K+this.$size.scrollerHeight-q<N-this.lineHeight&&(N+=V*this.$size.scrollerHeight),this.session.setScrollTop(N+this.lineHeight+q-this.$size.scrollerHeight));var J=this.scrollLeft,Q=2*this.layerConfig.characterWidth;L-Q<J?(L-=Q,L<this.$padding+Q&&(L=-this.scrollMargin.left),this.session.setScrollLeft(L)):(L+=Q,J+this.$size.scrollerWidth<L+this.characterWidth?this.session.setScrollLeft(Math.round(L+this.characterWidth-this.$size.scrollerWidth)):J<=this.$padding&&L-J<this.characterWidth&&this.session.setScrollLeft(0))}},M.prototype.getScrollTop=function(){return this.session.getScrollTop()},M.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},M.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},M.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},M.prototype.scrollToRow=function(P){this.session.setScrollTop(P*this.lineHeight)},M.prototype.alignCursor=function(P,V){typeof P=="number"&&(P={row:P,column:0});var S=this.$cursorLayer.getPixelPosition(P),w=this.$size.scrollerHeight-this.lineHeight,L=S.top-w*(V||0);return this.session.setScrollTop(L),L},M.prototype.$calcSteps=function(P,V){var S=0,w=this.STEPS,L=[],N=function(z,q,K){return K*(Math.pow(z-1,3)+1)+q};for(S=0;S<w;++S)L.push(N(S/this.STEPS,P,V-P));return L},M.prototype.scrollToLine=function(P,V,S,w){var L=this.$cursorLayer.getPixelPosition({row:P,column:0}),N=L.top;V&&(N-=this.$size.scrollerHeight/2);var z=this.scrollTop;this.session.setScrollTop(N),S!==!1&&this.animateScrolling(z,w)},M.prototype.animateScrolling=function(P,V){var S=this.scrollTop;if(!this.$animatedScroll)return;var w=this;if(P==S)return;if(this.$scrollAnimation){var L=this.$scrollAnimation.steps;if(L.length&&(P=L[0],P==S))return}var N=w.$calcSteps(P,S);this.$scrollAnimation={from:P,to:S,steps:N},clearInterval(this.$timer),w.session.setScrollTop(N.shift()),w.session.$scrollTop=S;function z(){w.$timer=clearInterval(w.$timer),w.$scrollAnimation=null,w.$stopAnimation=!1,V&&V()}this.$timer=setInterval(function(){if(w.$stopAnimation){z();return}if(!w.session)return clearInterval(w.$timer);N.length?(w.session.setScrollTop(N.shift()),w.session.$scrollTop=S):S!=null?(w.session.$scrollTop=-1,w.session.setScrollTop(S),S=null):z()},10)},M.prototype.scrollToY=function(P){this.scrollTop!==P&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=P)},M.prototype.scrollToX=function(P){this.scrollLeft!==P&&(this.scrollLeft=P),this.$loop.schedule(this.CHANGE_H_SCROLL)},M.prototype.scrollTo=function(P,V){this.session.setScrollTop(V),this.session.setScrollLeft(P)},M.prototype.scrollBy=function(P,V){V&&this.session.setScrollTop(this.session.getScrollTop()+V),P&&this.session.setScrollLeft(this.session.getScrollLeft()+P)},M.prototype.isScrollableBy=function(P,V){if(V<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||V>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||P<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||P>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},M.prototype.pixelToScreenCoordinates=function(P,V){var S;if(this.$hasCssTransforms){S={top:0,left:0};var w=this.$fontMetrics.transformCoordinates([P,V]);P=w[1]-this.gutterWidth-this.margin.left,V=w[0]}else S=this.scroller.getBoundingClientRect();var L=P+this.scrollLeft-S.left-this.$padding,N=L/this.characterWidth,z=Math.floor((V+this.scrollTop-S.top)/this.lineHeight),q=this.$blockCursor?Math.floor(N):Math.round(N);return{row:z,column:q,side:N-q>0?1:-1,offsetX:L}},M.prototype.screenToTextCoordinates=function(P,V){var S;if(this.$hasCssTransforms){S={top:0,left:0};var w=this.$fontMetrics.transformCoordinates([P,V]);P=w[1]-this.gutterWidth-this.margin.left,V=w[0]}else S=this.scroller.getBoundingClientRect();var L=P+this.scrollLeft-S.left-this.$padding,N=L/this.characterWidth,z=this.$blockCursor?Math.floor(N):Math.round(N),q=Math.floor((V+this.scrollTop-S.top)/this.lineHeight);return this.session.screenToDocumentPosition(q,Math.max(z,0),L)},M.prototype.textToScreenCoordinates=function(P,V){var S=this.scroller.getBoundingClientRect(),w=this.session.documentToScreenPosition(P,V),L=this.$padding+(this.session.$bidiHandler.isBidiRow(w.row,P)?this.session.$bidiHandler.getPosLeft(w.column):Math.round(w.column*this.characterWidth)),N=w.row*this.lineHeight;return{pageX:S.left+L-this.scrollLeft,pageY:S.top+N-this.scrollTop}},M.prototype.visualizeFocus=function(){c.addCssClass(this.container,"ace_focus")},M.prototype.visualizeBlur=function(){c.removeCssClass(this.container,"ace_focus")},M.prototype.showComposition=function(P){this.$composition=P,P.cssText||(P.cssText=this.textarea.style.cssText),P.useTextareaForIME==null&&(P.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(c.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):P.markerId=this.session.addMarker(P.markerRange,"ace_composition_marker","text")},M.prototype.setCompositionText=function(P){var V=this.session.selection.cursor;this.addToken(P,"composition_placeholder",V.row,V.column),this.$moveTextAreaToCursor()},M.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),c.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var P=this.session.selection.cursor;this.removeExtraToken(P.row,P.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},M.prototype.setGhostText=function(P,V){var S=this.session.selection.cursor,w=V||{row:S.row,column:S.column};this.removeGhostText();var L=this.$calculateWrappedTextChunks(P,w);this.addToken(L[0].text,"ghost_text",w.row,w.column),this.$ghostText={text:P,position:{row:w.row,column:w.column}};var N=c.createElement("div");if(L.length>1){var z=this.hideTokensAfterPosition(w.row,w.column),q;L.slice(1).forEach(function(Z){var he=c.createElement("div"),ue=c.createElement("span");ue.className="ace_ghost_text",Z.wrapped&&(he.className="ghost_text_line_wrapped"),Z.text.length===0&&(Z.text=" "),ue.appendChild(c.createTextNode(Z.text)),he.appendChild(ue),N.appendChild(he),q=he}),z.forEach(function(Z){var he=c.createElement("span");E(Z.type)||(he.className="ace_"+Z.type.replace(/\./g," ace_")),he.appendChild(c.createTextNode(Z.value)),q.appendChild(he)}),this.$ghostTextWidget={el:N,row:w.row,column:w.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var K=this.$cursorLayer.getPixelPosition(w,!0),J=this.container,Q=J.getBoundingClientRect().height,U=L.length*this.lineHeight,re=U<Q-K.top;if(re)return;U<Q?this.scrollBy(0,(L.length-1)*this.lineHeight):this.scrollToRow(w.row)}},M.prototype.$calculateWrappedTextChunks=function(P,V){var S=this.$size.scrollerWidth-this.$padding*2,w=Math.floor(S/this.characterWidth)-2;w=w<=0?60:w;for(var L=P.split(/\r?\n/),N=[],z=0;z<L.length;z++){var q=this.session.$getDisplayTokens(L[z],V.column),K=this.session.$computeWrapSplits(q,w,this.session.$tabSize);if(K.length>0){var J=0;K.push(L[z].length);for(var Q=0;Q<K.length;Q++){var U=L[z].slice(J,K[Q]);N.push({text:U,wrapped:!0}),J=K[Q]}}else N.push({text:L[z],wrapped:!1})}return N},M.prototype.removeGhostText=function(){if(this.$ghostText){var P=this.$ghostText.position;this.removeExtraToken(P.row,P.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},M.prototype.addToken=function(P,V,S,w){var L=this.session;L.bgTokenizer.lines[S]=null;var N={type:V,value:P},z=L.getTokens(S);if(w==null||!z.length)z.push(N);else for(var q=0,K=0;K<z.length;K++){var J=z[K];if(q+=J.value.length,w<=q){var Q=J.value.length-(q-w),U=J.value.slice(0,Q),re=J.value.slice(Q);z.splice(K,1,{type:J.type,value:U},N,{type:J.type,value:re});break}}this.updateLines(S,S)},M.prototype.hideTokensAfterPosition=function(P,V){for(var S=this.session.getTokens(P),w=0,L=!1,N=[],z=0;z<S.length;z++){var q=S[z];if(w+=q.value.length,q.type!=="ghost_text"){if(L){N.push({type:q.type,value:q.value}),q.type="hidden_token";continue}w===V&&(L=!0)}}return this.updateLines(P,P),N},M.prototype.removeExtraToken=function(P,V){this.session.bgTokenizer.lines[P]=null,this.updateLines(P,P)},M.prototype.setTheme=function(P,V){var S=this;if(this.$themeId=P,S._dispatchEvent("themeChange",{theme:P}),!P||typeof P=="string"){var w=P||this.$options.theme.initialValue;u.loadModule(["theme",w],L)}else L(P);function L(N){if(S.$themeId!=P)return V&&V();if(!N||!N.cssClass)throw new Error("couldn't load module "+P+" or it didn't call define");N.$id&&(S.$themeId=N.$id),c.importCssString(N.cssText,N.cssClass,S.container),S.theme&&c.removeCssClass(S.container,S.theme.cssClass);var z="padding"in N?N.padding:"padding"in(S.theme||{})?4:S.$padding;S.$padding&&z!=S.$padding&&S.setPadding(z),S.$theme=N.cssClass,S.theme=N,c.addCssClass(S.container,N.cssClass),c.setCssClass(S.container,"ace_dark",N.isDark),S.$size&&(S.$size.width=0,S.$updateSizeAsync()),S._dispatchEvent("themeLoaded",{theme:N}),V&&V(),_.isSafari&&S.scroller&&(S.scroller.style.background="red",S.scroller.style.background="")}},M.prototype.getTheme=function(){return this.$themeId},M.prototype.setStyle=function(P,V){c.setCssClass(this.container,P,V!==!1)},M.prototype.unsetStyle=function(P){c.removeCssClass(this.container,P)},M.prototype.setCursorStyle=function(P){c.setStyle(this.scroller.style,"cursor",P)},M.prototype.setMouseCursor=function(P){c.setStyle(this.scroller.style,"cursor",P)},M.prototype.attachToShadowRoot=function(){c.importCssString(O,"ace_editor.css",this.container)},M.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},M.prototype.$updateCustomScrollbar=function(P){var V=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,P===!0?(this.scrollBarV=new y(this.container,this),this.scrollBarH=new v(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(S){V.$scrollAnimation||V.session.setScrollTop(S.data-V.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){V.$scrollAnimation||V.session.setScrollLeft(S.data-V.scrollMargin.left)}),this.$scrollDecorator=new $(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.addEventListener("scroll",function(S){V.$scrollAnimation||V.session.setScrollTop(S.data-V.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(S){V.$scrollAnimation||V.session.setScrollLeft(S.data-V.scrollMargin.left)}))},M.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var P=this;this.$resizeTimer=m.delayedCall(function(){P.destroyed||P.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(V){var S=V[0].contentRect.width,w=V[0].contentRect.height;Math.abs(P.$size.width-S)>1||Math.abs(P.$size.height-w)>1?P.$resizeTimer.delay():P.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},M}();I.prototype.CHANGE_CURSOR=1,I.prototype.CHANGE_MARKER=2,I.prototype.CHANGE_GUTTER=4,I.prototype.CHANGE_SCROLL=8,I.prototype.CHANGE_LINES=16,I.prototype.CHANGE_TEXT=32,I.prototype.CHANGE_SIZE=64,I.prototype.CHANGE_MARKER_BACK=128,I.prototype.CHANGE_MARKER_FRONT=256,I.prototype.CHANGE_FULL=512,I.prototype.CHANGE_H_SCROLL=1024,I.prototype.$changes=0,I.prototype.$padding=null,I.prototype.$frozen=!1,I.prototype.STEPS=8,o.implement(I.prototype,F),u.defineOptions(I.prototype,"renderer",{useResizeObserver:{set:function(M){!M&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):M&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(M){this.$textLayer.setShowInvisibles(M)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(M){typeof M=="number"&&(this.$printMarginColumn=M),this.$showPrintMargin=!!M,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(M){this.$gutter.style.display=M?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(M){this.$gutterLayer.$useSvgGutterIcons=M},initialValue:!1},showFoldedAnnotations:{set:function(M){this.$gutterLayer.$showFoldedAnnotations=M},initialValue:!1},fadeFoldWidgets:{set:function(M){c.setCssClass(this.$gutter,"ace_fade-fold-widgets",M)},initialValue:!1},showFoldWidgets:{set:function(M){this.$gutterLayer.setShowFoldWidgets(M),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(M){this.$textLayer.setDisplayIndentGuides(M)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(M){this.$textLayer.setHighlightIndentGuides(M)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(M){this.$gutterLayer.setHighlightGutterLine(M),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(M){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(M){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(M){typeof M=="number"&&(M=M+"px"),this.container.style.fontSize=M,this.updateFontSize()},initialValue:12},fontFamily:{set:function(M){this.container.style.fontFamily=M,this.updateFontSize()}},maxLines:{set:function(M){this.updateFull()}},minLines:{set:function(M){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(M){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(M){M=+M||0,this.$scrollPastEnd!=M&&(this.$scrollPastEnd=M,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(M){this.$gutterLayer.$fixedWidth=!!M,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(M){this.$updateCustomScrollbar(M)},initialValue:!1},theme:{set:function(M){this.setTheme(M)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!_.isMobile&&!_.isIE}}),r.VirtualRenderer=I}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,r,s){var o=t("../lib/oop"),c=t("../lib/net"),m=t("../lib/event_emitter").EventEmitter,u=t("../config");function g(f){var p="importScripts('"+c.qualifyURL(f)+"');";try{return new Blob([p],{type:"application/javascript"})}catch{var v=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,y=new v;return y.append(p),y.getBlob("application/javascript")}}function a(f){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(u.get("loadWorkerFromBlob")){var p=g(f),v=window.URL||window.webkitURL,y=v.createObjectURL(p);return new Worker(y)}return new Worker(f)}var h=function(f){f.postMessage||(f=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=f,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){o.implement(this,m),this.$createWorkerFromOldConfig=function(f,p,v,y,C){if(t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),u.get("packaged")||!t.toUrl)y=y||u.moduleUrl(p,"worker");else{var A=this.$normalizePath;y=y||A(t.toUrl("ace/worker/worker.js",null,"_"));var F={};f.forEach(function(O){F[O]=A(t.toUrl(O,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=a(y),C&&this.send("importScripts",C),this.$worker.postMessage({init:!0,tlns:F,module:p,classname:v}),this.$worker},this.onMessage=function(f){var p=f.data;switch(p.type){case"event":this._signal(p.name,{data:p.data});break;case"call":var v=this.callbacks[p.id];v&&(v(p.data),delete this.callbacks[p.id]);break;case"error":this.reportError(p.data);break;case"log":window.console&&console.log&&console.log.apply(console,p.data);break}},this.reportError=function(f){window.console&&console.error&&console.error(f)},this.$normalizePath=function(f){return c.qualifyURL(f)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(f){f.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(f,p){this.$worker.postMessage({command:f,args:p})},this.call=function(f,p,v){if(v){var y=this.callbackId++;this.callbacks[y]=v,p.push(y)}this.send(f,p)},this.emit=function(f,p){try{p.data&&p.data.err&&(p.data.err={message:p.data.err.message,stack:p.data.err.stack,code:p.data.err.code}),this.$worker&&this.$worker.postMessage({event:f,data:{data:p.data}})}catch(v){console.error(v.stack)}},this.attachToDocument=function(f){this.$doc&&this.terminate(),this.$doc=f,this.call("setValue",[f.getValue()]),f.on("change",this.changeListener,!0)},this.changeListener=function(f){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),f.action=="insert"?this.deltaQueue.push(f.start,f.lines):this.deltaQueue.push(f.start,f.end)},this.$sendDeltaQueue=function(){var f=this.deltaQueue;f&&(this.deltaQueue=null,f.length>50&&f.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:f}))}}).call(h.prototype);var d=function(f,p,v){var y=null,C=!1,A=Object.create(m),F=[],O=new h({messageBuffer:F,terminate:function(){},postMessage:function(_){F.push(_),y&&(C?setTimeout($):$())}});O.setEmitSync=function(_){C=_};var $=function(){var _=F.shift();_.command?y[_.command].apply(y,_.args):_.event&&A._signal(_.event,_.data)};return A.postMessage=function(_){O.onMessage({data:_})},A.callback=function(_,E){this.postMessage({type:"call",id:E,data:_})},A.emit=function(_,E){this.postMessage({type:"event",name:_,data:E})},u.loadModule(["worker",p],function(_){for(y=new _[v](A);F.length;)$()}),O};r.UIWorkerClient=d,r.WorkerClient=h,r.createWorker=a}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,r,s){var o=t("./range").Range,c=t("./lib/event_emitter").EventEmitter,m=t("./lib/oop"),u=function(){function g(a,h,d,f,p,v){var y=this;this.length=h,this.session=a,this.doc=a.getDocument(),this.mainClass=p,this.othersClass=v,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=f,this.$onCursorChange=function(){setTimeout(function(){y.onCursorChange()})},this.$pos=d;var C=a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=C.length,this.setup(),a.selection.on("changeCursor",this.$onCursorChange)}return g.prototype.setup=function(){var a=this,h=this.doc,d=this.session;this.selectionBefore=d.selection.toJSON(),d.selection.inMultiSelectMode&&d.selection.toSingleRange(),this.pos=h.createAnchor(this.$pos.row,this.$pos.column);var f=this.pos;f.$insertRight=!0,f.detach(),f.markerId=d.addMarker(new o(f.row,f.column,f.row,f.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(p){var v=h.createAnchor(p.row,p.column);v.$insertRight=!0,v.detach(),a.others.push(v)}),d.setUndoSelect(!1)},g.prototype.showOtherMarkers=function(){if(!this.othersActive){var a=this.session,h=this;this.othersActive=!0,this.others.forEach(function(d){d.markerId=a.addMarker(new o(d.row,d.column,d.row,d.column+h.length),h.othersClass,null,!1)})}},g.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)}},g.prototype.onUpdate=function(a){if(this.$updating)return this.updateAnchors(a);var h=a;if(h.start.row===h.end.row&&h.start.row===this.pos.row){this.$updating=!0;var d=a.action==="insert"?h.end.column-h.start.column:h.start.column-h.end.column,f=h.start.column>=this.pos.column&&h.start.column<=this.pos.column+this.length+1,p=h.start.column-this.pos.column;if(this.updateAnchors(a),f&&(this.length+=d),f&&!this.session.$fromUndo){if(a.action==="insert")for(var v=this.others.length-1;v>=0;v--){var y=this.others[v],C={row:y.row,column:y.column+p};this.doc.insertMergedLines(C,a.lines)}else if(a.action==="remove")for(var v=this.others.length-1;v>=0;v--){var y=this.others[v],C={row:y.row,column:y.column+p};this.doc.remove(new o(C.row,C.column,C.row,C.column-d))}}this.$updating=!1,this.updateMarkers()}},g.prototype.updateAnchors=function(a){this.pos.onChange(a);for(var h=this.others.length;h--;)this.others[h].onChange(a);this.updateMarkers()},g.prototype.updateMarkers=function(){if(!this.$updating){var a=this,h=this.session,d=function(p,v){h.removeMarker(p.markerId),p.markerId=h.addMarker(new o(p.row,p.column,p.row,p.column+a.length),v,null,!1)};d(this.pos,this.mainClass);for(var f=this.others.length;f--;)d(this.others[f],this.othersClass)}},g.prototype.onCursorChange=function(a){if(!(this.$updating||!this.session)){var h=this.session.selection.getCursor();h.row===this.pos.row&&h.column>=this.pos.column&&h.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",a)):(this.hideOtherMarkers(),this._emit("cursorLeave",a))}},g.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},g.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var a=this.session.getUndoManager(),h=(a.$undoStack||a.$undostack).length-this.$undoStackDepth,d=0;d<h;d++)a.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},g}();m.implement(u.prototype,c),r.PlaceHolder=u}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,r,s){var o=t("../lib/event"),c=t("../lib/useragent");function m(g,a){return g.row==a.row&&g.column==a.column}function u(g){var a=g.domEvent,h=a.altKey,d=a.shiftKey,f=a.ctrlKey,p=g.getAccelKey(),v=g.getButton();if(f&&c.isMac&&(v=a.button),g.editor.inMultiSelectMode&&v==2){g.editor.textInput.onContextMenu(g.domEvent);return}if(!f&&!h&&!p){v===0&&g.editor.inMultiSelectMode&&g.editor.exitMultiSelectMode();return}if(v===0){var y=g.editor,C=y.selection,A=y.inMultiSelectMode,F=g.getDocumentPosition(),O=C.getCursor(),$=g.inSelection()||C.isEmpty()&&m(F,O),_=g.x,E=g.y,I=function(U){_=U.clientX,E=U.clientY},M=y.session,P=y.renderer.pixelToScreenCoordinates(_,E),V=P,S;if(y.$mouseHandler.$enableJumpToDef)f&&h||p&&h?S=d?"block":"add":h&&y.$blockSelectEnabled&&(S="block");else if(p&&!h){if(S="add",!A&&d)return}else h&&y.$blockSelectEnabled&&(S="block");if(S&&c.isMac&&a.ctrlKey&&y.$mouseHandler.cancelContextMenu(),S=="add"){if(!A&&$)return;if(!A){var w=C.toOrientedRange();y.addSelectionMarker(w)}var L=C.rangeList.rangeAtPoint(F);y.inVirtualSelectionMode=!0,d&&(L=null,w=C.ranges[0]||w,y.removeSelectionMarker(w)),y.once("mouseup",function(){var U=C.toOrientedRange();L&&U.isEmpty()&&m(L.cursor,U.cursor)?C.substractPoint(U.cursor):(d?C.substractPoint(w.cursor):w&&(y.removeSelectionMarker(w),C.addRange(w)),C.addRange(U)),y.inVirtualSelectionMode=!1})}else if(S=="block"){g.stop(),y.inVirtualSelectionMode=!0;var N,z=[],q=function(){var U=y.renderer.pixelToScreenCoordinates(_,E),re=M.screenToDocumentPosition(U.row,U.column,U.offsetX);m(V,U)&&m(re,C.lead)||(V=U,y.selection.moveToPosition(re),y.renderer.scrollCursorIntoView(),y.removeSelectionMarkers(z),z=C.rectangularRangeBlock(V,P),y.$mouseHandler.$clickSelection&&z.length==1&&z[0].isEmpty()&&(z[0]=y.$mouseHandler.$clickSelection.clone()),z.forEach(y.addSelectionMarker,y),y.updateSelectionMarkers())};A&&!p?C.toSingleRange():!A&&p&&(N=C.toOrientedRange(),y.addSelectionMarker(N)),d?P=M.documentToScreenPosition(C.lead):C.moveToPosition(F),V={row:-1,column:-1};var K=function(U){q(),clearInterval(Q),y.removeSelectionMarkers(z),z.length||(z=[C.toOrientedRange()]),N&&(y.removeSelectionMarker(N),C.toSingleRange(N));for(var re=0;re<z.length;re++)C.addRange(z[re]);y.inVirtualSelectionMode=!1,y.$mouseHandler.$clickSelection=null},J=q;o.capture(y.container,I,K);var Q=setInterval(function(){J()},20);return g.preventDefault()}}}r.onMouseDown=u}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,r,s){r.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(c){c.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(c){c.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(c){c.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(c){c.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(c){c.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(c){c.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(c){c.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(c){c.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(c){c.multiSelect.rangeCount>1?c.multiSelect.joinSelections():c.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(c){c.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(c){c.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(c){c.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],r.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(c){c.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(c){return c&&c.inMultiSelectMode}}];var o=t("../keyboard/hash_handler").HashHandler;r.keyboardHandler=new o(r.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,r,s){var o=t("./range_list").RangeList,c=t("./range").Range,m=t("./selection").Selection,u=t("./mouse/multi_select_handler").onMouseDown,g=t("./lib/event"),a=t("./lib/lang"),h=t("./commands/multi_select_commands");r.commands=h.defaultCommands.concat(h.multiSelectCommands);var d=t("./search").Search,f=new d;function p(O,$,_){return f.$options.wrap=!0,f.$options.needle=$,f.$options.backwards=_==-1,f.find(O)}var v=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(v.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(O,$){if(O){if(!this.inMultiSelectMode&&this.rangeCount===0){var _=this.toOrientedRange();if(this.rangeList.add(_),this.rangeList.add(O),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),$||this.fromOrientedRange(O);this.rangeList.removeAll(),this.rangeList.add(_),this.$onAddRange(_)}O.cursor||(O.cursor=O.end);var E=this.rangeList.add(O);return this.$onAddRange(O),E.length&&this.$onRemoveRange(E),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),$||this.fromOrientedRange(O)}},this.toSingleRange=function(O){O=O||this.ranges[0];var $=this.rangeList.removeAll();$.length&&this.$onRemoveRange($),O&&this.fromOrientedRange(O)},this.substractPoint=function(O){var $=this.rangeList.substractPoint(O);if($)return this.$onRemoveRange($),$[0]},this.mergeOverlappingRanges=function(){var O=this.rangeList.merge();O.length&&this.$onRemoveRange(O)},this.$onAddRange=function(O){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(O),this._signal("addRange",{range:O})},this.$onRemoveRange=function(O){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var $=this.rangeList.ranges.pop();O.push($),this.rangeCount=0}for(var _=O.length;_--;){var E=this.ranges.indexOf(O[_]);this.ranges.splice(E,1)}this._signal("removeRange",{ranges:O}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),$=$||this.ranges[0],$&&!$.isEqual(this.getRange())&&this.fromOrientedRange($)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var O=this.ranges.length?this.ranges:[this.getRange()],$=[],_=0;_<O.length;_++){var E=O[_],I=E.start.row,M=E.end.row;if(I===M)$.push(E.clone());else{for($.push(new c(I,E.start.column,I,this.session.getLine(I).length));++I<M;)$.push(this.getLineRange(I,!0));$.push(new c(M,0,M,E.end.column))}_==0&&!this.isBackwards()&&($=$.reverse())}this.toSingleRange();for(var _=$.length;_--;)this.addRange($[_])},this.joinSelections=function(){var O=this.rangeList.ranges,$=O[O.length-1],_=c.fromPoints(O[0].start,$.end);this.toSingleRange(),this.setSelectionRange(_,$.cursor==$.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var O=this.rangeList.ranges,$=O[O.length-1],_=c.fromPoints(O[0].start,$.end);this.toSingleRange(),this.setSelectionRange(_,$.cursor==$.start)}else{var E=this.session.documentToScreenPosition(this.cursor),I=this.session.documentToScreenPosition(this.anchor),M=this.rectangularRangeBlock(E,I);M.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(O,$,_){var E=[],I=O.column<$.column;if(I)var M=O.column,P=$.column,V=O.offsetX,S=$.offsetX;else var M=$.column,P=O.column,V=$.offsetX,S=O.offsetX;var w=O.row<$.row;if(w)var L=O.row,N=$.row;else var L=$.row,N=O.row;M<0&&(M=0),L<0&&(L=0),L==N&&(_=!0);for(var z,q=L;q<=N;q++){var K=c.fromPoints(this.session.screenToDocumentPosition(q,M,V),this.session.screenToDocumentPosition(q,P,S));if(K.isEmpty()){if(z&&C(K.end,z))break;z=K.end}K.cursor=I?K.start:K.end,E.push(K)}if(w&&E.reverse(),!_){for(var J=E.length-1;E[J].isEmpty()&&J>0;)J--;if(J>0)for(var Q=0;E[Q].isEmpty();)Q++;for(var U=J;U>=Q;U--)E[U].isEmpty()&&E.splice(U,1)}return E}}).call(m.prototype);var y=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(O){O.cursor||(O.cursor=O.end);var $=this.getSelectionStyle();return O.marker=this.session.addMarker(O,"ace_selection",$),this.session.$selectionMarkers.push(O),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,O},this.removeSelectionMarker=function(O){if(O.marker){this.session.removeMarker(O.marker);var $=this.session.$selectionMarkers.indexOf(O);$!=-1&&this.session.$selectionMarkers.splice($,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(O){for(var $=this.session.$selectionMarkers,_=O.length;_--;){var E=O[_];if(E.marker){this.session.removeMarker(E.marker);var I=$.indexOf(E);I!=-1&&$.splice(I,1)}}this.session.selectionMarkerCount=$.length},this.$onAddRange=function(O){this.addSelectionMarker(O.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(O){this.removeSelectionMarkers(O.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(O){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(O){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(O){var $=O.command,_=O.editor;if(_.multiSelect){if($.multiSelectAction)$.multiSelectAction=="forEach"?E=_.forEachSelection($,O.args):$.multiSelectAction=="forEachLine"?E=_.forEachSelection($,O.args,!0):$.multiSelectAction=="single"?(_.exitMultiSelectMode(),E=$.exec(_,O.args||{})):E=$.multiSelectAction(_,O.args||{});else{var E=$.exec(_,O.args||{});_.multiSelect.addRange(_.multiSelect.toOrientedRange()),_.multiSelect.mergeOverlappingRanges()}return E}},this.forEachSelection=function(O,$,_){if(!this.inVirtualSelectionMode){var E=_&&_.keepOrder,I=_==!0||_&&_.$byLines,M=this.session,P=this.selection,V=P.rangeList,S=(E?P:V).ranges,w;if(!S.length)return O.exec?O.exec(this,$||{}):O(this,$||{});var L=P._eventRegistry;P._eventRegistry={};var N=new m(M);this.inVirtualSelectionMode=!0;for(var z=S.length;z--;){if(I)for(;z>0&&S[z].start.row==S[z-1].end.row;)z--;N.fromOrientedRange(S[z]),N.index=z,this.selection=M.selection=N;var q=O.exec?O.exec(this,$||{}):O(this,$||{});!w&&q!==void 0&&(w=q),N.toOrientedRange(S[z])}N.detach(),this.selection=M.selection=P,this.inVirtualSelectionMode=!1,P._eventRegistry=L,P.mergeOverlappingRanges(),P.ranges[0]&&P.fromOrientedRange(P.ranges[0]);var K=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),K&&K.from==K.to&&this.renderer.animateScrolling(K.from),w}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var O="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var $=this.multiSelect.rangeList.ranges,_=[],E=0;E<$.length;E++)_.push(this.session.getTextRange($[E]));var I=this.session.getDocument().getNewLineCharacter();O=_.join(I),O.length==(_.length-1)*I.length&&(O="")}else this.selection.isEmpty()||(O=this.session.getTextRange(this.getSelectionRange()));return O},this.$checkMultiselectChange=function(O,$){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var _=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&$==this.multiSelect.anchor)return;var E=$==this.multiSelect.anchor?_.cursor==_.start?_.end:_.start:_.cursor;E.row!=$.row||this.session.$clipPositionToDocument(E.row,E.column).column!=$.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(O,$,_){if($=$||{},$.needle=O||$.needle,$.needle==null){var E=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();$.needle=this.session.getTextRange(E)}this.$search.set($);var I=this.$search.findAll(this.session);if(!I.length)return 0;var M=this.multiSelect;_||M.toSingleRange(I[0]);for(var P=I.length;P--;)M.addRange(I[P],!0);return E&&M.rangeList.rangeAtPoint(E.start)&&M.addRange(E,!0),I.length},this.selectMoreLines=function(O,$){var _=this.selection.toOrientedRange(),E=_.cursor==_.end,I=this.session.documentToScreenPosition(_.cursor);this.selection.$desiredColumn&&(I.column=this.selection.$desiredColumn);var M=this.session.screenToDocumentPosition(I.row+O,I.column);if(_.isEmpty())var V=M;else var P=this.session.documentToScreenPosition(E?_.end:_.start),V=this.session.screenToDocumentPosition(P.row+O,P.column);if(E){var S=c.fromPoints(M,V);S.cursor=S.start}else{var S=c.fromPoints(V,M);S.cursor=S.end}if(S.desiredColumn=I.column,!this.selection.inMultiSelectMode)this.selection.addRange(_);else if($)var w=_.cursor;this.selection.addRange(S),w&&this.selection.substractPoint(w)},this.transposeSelections=function(O){for(var $=this.session,_=$.multiSelect,E=_.ranges,I=E.length;I--;){var M=E[I];if(M.isEmpty()){var P=$.getWordRange(M.start.row,M.start.column);M.start.row=P.start.row,M.start.column=P.start.column,M.end.row=P.end.row,M.end.column=P.end.column}}_.mergeOverlappingRanges();for(var V=[],I=E.length;I--;){var M=E[I];V.unshift($.getTextRange(M))}O<0?V.unshift(V.pop()):V.push(V.shift());for(var I=E.length;I--;){var M=E[I],S=M.clone();$.replace(M,V[I]),M.start.row=S.start.row,M.start.column=S.start.column}_.fromOrientedRange(_.ranges[0])},this.selectMore=function(O,$,_){var E=this.session,I=E.multiSelect,M=I.toOrientedRange();if(!(M.isEmpty()&&(M=E.getWordRange(M.start.row,M.start.column),M.cursor=O==-1?M.start:M.end,this.multiSelect.addRange(M),_))){var P=E.getTextRange(M),V=p(E,P,O);V&&(V.cursor=O==-1?V.start:V.end,this.session.unfold(V),this.multiSelect.addRange(V),this.renderer.scrollCursorIntoView(null,.5)),$&&this.multiSelect.substractPoint(M.cursor)}},this.alignCursors=function(){var O=this.session,$=O.multiSelect,_=$.ranges,E=-1,I=_.filter(function(J){if(J.cursor.row==E)return!0;E=J.cursor.row});if(!_.length||I.length==_.length-1){var M=this.selection.getRange(),P=M.start.row,V=M.end.row,S=P==V;if(S){var w=this.session.getLength(),L;do L=this.session.getLine(V);while(/[=:]/.test(L)&&++V<w);do L=this.session.getLine(P);while(/[=:]/.test(L)&&--P>0);P<0&&(P=0),V>=w&&(V=w-1)}var N=this.session.removeFullLines(P,V);N=this.$reAlignText(N,S),this.session.insert({row:P,column:0},N.join(`
`)+`
`),S||(M.start.column=0,M.end.column=N[N.length-1].length),this.selection.setRange(M)}else{I.forEach(function(J){$.substractPoint(J.cursor)});var z=0,q=1/0,K=_.map(function(J){var Q=J.cursor,U=O.getLine(Q.row),re=U.substr(Q.column).search(/\S/g);return re==-1&&(re=0),Q.column>z&&(z=Q.column),re<q&&(q=re),re});_.forEach(function(J,Q){var U=J.cursor,re=z-U.column,Z=K[Q]-q;re>Z?O.insert(U,a.stringRepeat(" ",re-Z)):O.remove(new c(U.row,U.column,U.row,U.column-re+Z)),J.start.column=J.end.column=z,J.start.row=J.end.row=U.row,J.cursor=J.end}),$.fromOrientedRange(_[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(O,$){var _=!0,E=!0,I,M,P;return O.map(function(N){var z=N.match(/(\s*)(.*?)(\s*)([=:].*)/);return z?I==null?(I=z[1].length,M=z[2].length,P=z[3].length,z):(I+M+P!=z[1].length+z[2].length+z[3].length&&(E=!1),I!=z[1].length&&(_=!1),I>z[1].length&&(I=z[1].length),M<z[2].length&&(M=z[2].length),P>z[3].length&&(P=z[3].length),z):[N]}).map($?S:_?E?w:S:L);function V(N){return a.stringRepeat(" ",N)}function S(N){return N[2]?V(I)+N[2]+V(M-N[2].length+P)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}function w(N){return N[2]?V(I+M-N[2].length)+N[2]+V(P)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}function L(N){return N[2]?V(I)+N[2]+V(P)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}}}).call(y.prototype);function C(O,$){return O.row==$.row&&O.column==$.column}r.onSessionChange=function(O){var $=O.session;$&&!$.multiSelect&&($.$selectionMarkers=[],$.selection.$initRangeList(),$.multiSelect=$.selection),this.multiSelect=$&&$.multiSelect;var _=O.oldSession;_&&(_.multiSelect.off("addRange",this.$onAddRange),_.multiSelect.off("removeRange",this.$onRemoveRange),_.multiSelect.off("multiSelect",this.$onMultiSelect),_.multiSelect.off("singleSelect",this.$onSingleSelect),_.multiSelect.lead.off("change",this.$checkMultiselectChange),_.multiSelect.anchor.off("change",this.$checkMultiselectChange)),$&&($.multiSelect.on("addRange",this.$onAddRange),$.multiSelect.on("removeRange",this.$onRemoveRange),$.multiSelect.on("multiSelect",this.$onMultiSelect),$.multiSelect.on("singleSelect",this.$onSingleSelect),$.multiSelect.lead.on("change",this.$checkMultiselectChange),$.multiSelect.anchor.on("change",this.$checkMultiselectChange)),$&&this.inMultiSelectMode!=$.selection.inMultiSelectMode&&($.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function A(O){O.$multiselectOnSessionChange||(O.$onAddRange=O.$onAddRange.bind(O),O.$onRemoveRange=O.$onRemoveRange.bind(O),O.$onMultiSelect=O.$onMultiSelect.bind(O),O.$onSingleSelect=O.$onSingleSelect.bind(O),O.$multiselectOnSessionChange=r.onSessionChange.bind(O),O.$checkMultiselectChange=O.$checkMultiselectChange.bind(O),O.$multiselectOnSessionChange(O),O.on("changeSession",O.$multiselectOnSessionChange),O.on("mousedown",u),O.commands.addCommands(h.defaultCommands),F(O))}function F(O){if(!O.textInput)return;var $=O.textInput.getElement(),_=!1;g.addListener($,"keydown",function(I){var M=I.keyCode==18&&!(I.ctrlKey||I.shiftKey||I.metaKey);O.$blockSelectEnabled&&M?_||(O.renderer.setMouseCursor("crosshair"),_=!0):_&&E()},O),g.addListener($,"keyup",E,O),g.addListener($,"blur",E,O);function E(I){_&&(O.renderer.setMouseCursor(""),_=!1)}}r.MultiSelect=A,t("./config").defineOptions(y.prototype,"editor",{enableMultiselect:{set:function(O){A(this),O?this.on("mousedown",u):this.off("mousedown",u)},value:!0},enableBlockSelect:{set:function(O){this.$blockSelectEnabled=O},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,r,s){var o=t("../../range").Range,c=r.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(m,u,g){var a=m.getLine(g);return this.foldingStartMarker.test(a)?"start":u=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(a)?"end":""},this.getFoldWidgetRange=function(m,u,g){return null},this.indentationBlock=function(m,u,g){var a=/\S/,h=m.getLine(u),d=h.search(a);if(d!=-1){for(var f=g||h.length,p=m.getLength(),v=u,y=u;++u<p;){var C=m.getLine(u).search(a);if(C!=-1){if(C<=d){var A=m.getTokenAt(u,0);if(!A||A.type!=="string")break}y=u}}if(y>v){var F=m.getLine(y).length;return new o(v,f,y,F)}}},this.openingBracketBlock=function(m,u,g,a,h){var d={row:g,column:a+1},f=m.$findClosingBracket(u,d,h);if(f){var p=m.foldWidgets[f.row];return p==null&&(p=m.getFoldWidget(f.row)),p=="start"&&f.row>d.row&&(f.row--,f.column=m.getLine(f.row).length),o.fromPoints(d,f)}},this.closingBracketBlock=function(m,u,g,a,h){var d={row:g,column:a},f=m.$findOpeningBracket(u,d);if(f)return f.column++,d.column--,o.fromPoints(f,d)}}).call(c.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(t,r,s){var o=t("../lib/dom"),c=t("../range").Range,m=t("../config").nls;function u(a,h,d){for(var f=0,p=a.length-1;f<=p;){var v=f+p>>1,y=d(h,a[v]);if(y>0)f=v+1;else if(y<0)p=v-1;else return v}return-(f+1)}function g(a,h,d){var f=a.getAnnotations().sort(c.comparePoints);if(f.length){var p=u(f,{row:h,column:-1},c.comparePoints);p<0&&(p=-p-1),p>=f.length?p=d>0?0:f.length-1:p===0&&d<0&&(p=f.length-1);var v=f[p];if(!(!v||!d)){if(v.row===h){do v=f[p+=d];while(v&&v.row===h);if(!v)return f.slice()}var y=[];h=v.row;do y[d<0?"unshift":"push"](v),v=f[p+=d];while(v&&v.row==h);return y.length&&y}}}r.showErrorMarker=function(a,h){var d=a.session,f=a.getCursorPosition(),p=f.row,v=d.widgetManager.getWidgetsAtRow(p).filter(function(I){return I.type=="errorMarker"})[0];v?v.destroy():p-=h;var y=g(d,p,h),C;if(y){var A=y[0];f.column=(A.pos&&typeof A.column!="number"?A.pos.sc:A.column)||0,f.row=A.row,C=a.renderer.$gutterLayer.$annotations[f.row]}else{if(v)return;C={displayText:[m("error-marker.good-state","Looks good!")],className:"ace_ok"}}a.session.unfold(f.row),a.selection.moveToPosition(f);var F={row:f.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},O=F.el.appendChild(o.createElement("div")),$=F.el.appendChild(o.createElement("div"));$.className="error_widget_arrow "+C.className;var _=a.renderer.$cursorLayer.getPixelPosition(f).left;$.style.left=_+a.renderer.gutterWidth-5+"px",F.el.className="error_widget_wrapper",O.className="error_widget "+C.className,C.displayText.forEach(function(I,M){O.appendChild(o.createTextNode(I)),M<C.displayText.length-1&&O.appendChild(o.createElement("br"))}),O.appendChild(o.createElement("div"));var E=function(I,M,P){if(M===0&&(P==="esc"||P==="return"))return F.destroy(),{command:"null"}};F.destroy=function(){a.$mouseHandler.isMousePressed||(a.keyBinding.removeKeyboardHandler(E),d.widgetManager.removeLineWidget(F),a.off("changeSelection",F.destroy),a.off("changeSession",F.destroy),a.off("mouseup",F.destroy),a.off("change",F.destroy))},a.keyBinding.addKeyboardHandler(E),a.on("changeSelection",F.destroy),a.on("changeSession",F.destroy),a.on("mouseup",F.destroy),a.on("change",F.destroy),a.session.widgetManager.addLineWidget(F),F.el.onmousedown=a.focus.bind(a),a.renderer.scrollCursorIntoView(null,.5,{bottom:F.el.offsetHeight})},o.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(t,r,s){t("./loader_build")(r);var o=t("./lib/dom"),c=t("./range").Range,m=t("./editor").Editor,u=t("./edit_session").EditSession,g=t("./undomanager").UndoManager,a=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),r.config=t("./config"),r.edit=function(d,f){if(typeof d=="string"){var p=d;if(d=document.getElementById(p),!d)throw new Error("ace.edit can't find div #"+p)}if(d&&d.env&&d.env.editor instanceof m)return d.env.editor;var v="";if(d&&/input|textarea/i.test(d.tagName)){var y=d;v=y.value,d=o.createElement("pre"),y.parentNode.replaceChild(d,y)}else d&&(v=d.textContent,d.innerHTML="");var C=r.createEditSession(v),A=new m(new a(d),C,f),F={document:C,editor:A,onResize:A.resize.bind(A,null)};return y&&(F.textarea=y),A.on("destroy",function(){F.editor.container.env=null}),A.container.env=A.env=F,A},r.createEditSession=function(d,f){var p=new u(d,f);return p.setUndoManager(new g),p},r.Range=c,r.Editor=m,r.EditSession=u,r.UndoManager=g,r.VirtualRenderer=a;var h=r.config.version;r.version=h}),function(){ace.require(["ace/ace"],function(t){t&&(t.config.init(!0),t.define=ace.define);var r=function(){return this}();!r&&typeof window<"u"&&(r=window),!r&&typeof self<"u"&&(r=self),r.ace||(r.ace=t);for(var s in t)t.hasOwnProperty(s)&&(r.ace[s]=t[s]);r.ace.default=r.ace,n.exports=r.ace})}()}(Og)),Og.exports}var hu={exports:{}};hu.exports;var t_;function IT(){return t_||(t_=1,function(n,e){var t=200,r="__lodash_hash_undefined__",s=1,o=2,c=9007199254740991,m="[object Arguments]",u="[object Array]",g="[object AsyncFunction]",a="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",v="[object Map]",y="[object Number]",C="[object Null]",A="[object Object]",F="[object Promise]",O="[object Proxy]",$="[object RegExp]",_="[object Set]",E="[object String]",I="[object Symbol]",M="[object Undefined]",P="[object WeakMap]",V="[object ArrayBuffer]",S="[object DataView]",w="[object Float32Array]",L="[object Float64Array]",N="[object Int8Array]",z="[object Int16Array]",q="[object Int32Array]",K="[object Uint8Array]",J="[object Uint8ClampedArray]",Q="[object Uint16Array]",U="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,Z=/^\[object .+?Constructor\]$/,he=/^(?:0|[1-9]\d*)$/,ue={};ue[w]=ue[L]=ue[N]=ue[z]=ue[q]=ue[K]=ue[J]=ue[Q]=ue[U]=!0,ue[m]=ue[u]=ue[V]=ue[a]=ue[S]=ue[h]=ue[d]=ue[f]=ue[v]=ue[y]=ue[A]=ue[$]=ue[_]=ue[E]=ue[P]=!1;var ae=typeof Vo=="object"&&Vo&&Vo.Object===Object&&Vo,pe=typeof self=="object"&&self&&self.Object===Object&&self,Ee=ae||pe||Function("return this")(),me=e&&!e.nodeType&&e,Ae=me&&!0&&n&&!n.nodeType&&n,$e=Ae&&Ae.exports===me,Qe=$e&&ae.process,ut=function(){try{return Qe&&Qe.binding&&Qe.binding("util")}catch{}}(),qe=ut&&ut.isTypedArray;function Ge(le,we){for(var Le=-1,Ye=le==null?0:le.length,Wt=0,pt=[];++Le<Ye;){var qt=le[Le];we(qt,Le,le)&&(pt[Wt++]=qt)}return pt}function yt(le,we){for(var Le=-1,Ye=we.length,Wt=le.length;++Le<Ye;)le[Wt+Le]=we[Le];return le}function Ot(le,we){for(var Le=-1,Ye=le==null?0:le.length;++Le<Ye;)if(we(le[Le],Le,le))return!0;return!1}function Ht(le,we){for(var Le=-1,Ye=Array(le);++Le<le;)Ye[Le]=we(Le);return Ye}function pn(le){return function(we){return le(we)}}function Nt(le,we){return le.has(we)}function wn(le,we){return le==null?void 0:le[we]}function Wn(le){var we=-1,Le=Array(le.size);return le.forEach(function(Ye,Wt){Le[++we]=[Wt,Ye]}),Le}function Pn(le,we){return function(Le){return le(we(Le))}}function bn(le){var we=-1,Le=Array(le.size);return le.forEach(function(Ye){Le[++we]=Ye}),Le}var ur=Array.prototype,be=Function.prototype,ze=Object.prototype,Ke=Ee["__core-js_shared__"],ft=be.toString,lt=ze.hasOwnProperty,kt=function(){var le=/[^.]+$/.exec(Ke&&Ke.keys&&Ke.keys.IE_PROTO||"");return le?"Symbol(src)_1."+le:""}(),Lt=ze.toString,Ft=RegExp("^"+ft.call(lt).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t=$e?Ee.Buffer:void 0,_t=Ee.Symbol,ln=Ee.Uint8Array,Te=ze.propertyIsEnumerable,De=ur.splice,Ze=_t?_t.toStringTag:void 0,Rt=Object.getOwnPropertySymbols,An=$t?$t.isBuffer:void 0,On=Pn(Object.keys,Object),$r=rr(Ee,"DataView"),Gn=rr(Ee,"Map"),Ai=rr(Ee,"Promise"),ci=rr(Ee,"Set"),Bi=rr(Ee,"WeakMap"),Er=rr(Object,"create"),so=kn($r),hn=kn(Gn),Eo=kn(Ai),Xr=kn(ci),Vi=kn(Bi),Kn=_t?_t.prototype:void 0,hr=Kn?Kn.valueOf:void 0;function sn(le){var we=-1,Le=le==null?0:le.length;for(this.clear();++we<Le;){var Ye=le[we];this.set(Ye[0],Ye[1])}}function Zo(){this.__data__=Er?Er(null):{},this.size=0}function Ma(le){var we=this.has(le)&&delete this.__data__[le];return this.size-=we?1:0,we}function ao(le){var we=this.__data__;if(Er){var Le=we[le];return Le===r?void 0:Le}return lt.call(we,le)?we[le]:void 0}function Zr(le){var we=this.__data__;return Er?we[le]!==void 0:lt.call(we,le)}function st(le,we){var Le=this.__data__;return this.size+=this.has(le)?0:1,Le[le]=Er&&we===void 0?r:we,this}sn.prototype.clear=Zo,sn.prototype.delete=Ma,sn.prototype.get=ao,sn.prototype.has=Zr,sn.prototype.set=st;function qn(le){var we=-1,Le=le==null?0:le.length;for(this.clear();++we<Le;){var Ye=le[we];this.set(Ye[0],Ye[1])}}function Pr(){this.__data__=[],this.size=0}function Rs(le){var we=this.__data__,Le=co(we,le);if(Le<0)return!1;var Ye=we.length-1;return Le==Ye?we.pop():De.call(we,Le,1),--this.size,!0}function Jo(le){var we=this.__data__,Le=co(we,le);return Le<0?void 0:we[Le][1]}function ui(le){return co(this.__data__,le)>-1}function zi(le,we){var Le=this.__data__,Ye=co(Le,le);return Ye<0?(++this.size,Le.push([le,we])):Le[Ye][1]=we,this}qn.prototype.clear=Pr,qn.prototype.delete=Rs,qn.prototype.get=Jo,qn.prototype.has=ui,qn.prototype.set=zi;function Jr(le){var we=-1,Le=le==null?0:le.length;for(this.clear();++we<Le;){var Ye=le[we];this.set(Ye[0],Ye[1])}}function Ms(){this.size=0,this.__data__={hash:new sn,map:new(Gn||qn),string:new sn}}function La(le){var we=It(this,le).delete(le);return this.size-=we?1:0,we}function en(le){return It(this,le).get(le)}function Ls(le){return It(this,le).has(le)}function ji(le,we){var Le=It(this,le),Ye=Le.size;return Le.set(le,we),this.size+=Le.size==Ye?0:1,this}Jr.prototype.clear=Ms,Jr.prototype.delete=La,Jr.prototype.get=en,Jr.prototype.has=Ls,Jr.prototype.set=ji;function Or(le){var we=-1,Le=le==null?0:le.length;for(this.__data__=new Jr;++we<Le;)this.add(le[we])}function er(le){return this.__data__.set(le,r),this}function So(le){return this.__data__.has(le)}Or.prototype.add=Or.prototype.push=er,Or.prototype.has=So;function Sr(le){var we=this.__data__=new qn(le);this.size=we.size}function Ui(){this.__data__=new qn,this.size=0}function Cr(le){var we=this.__data__,Le=we.delete(le);return this.size=we.size,Le}function Co(le){return this.__data__.get(le)}function tr(le){return this.__data__.has(le)}function lo(le,we){var Le=this.__data__;if(Le instanceof qn){var Ye=Le.__data__;if(!Gn||Ye.length<t-1)return Ye.push([le,we]),this.size=++Le.size,this;Le=this.__data__=new Jr(Ye)}return Le.set(le,we),this.size=Le.size,this}Sr.prototype.clear=Ui,Sr.prototype.delete=Cr,Sr.prototype.get=Co,Sr.prototype.has=tr,Sr.prototype.set=lo;function $s(le,we){var Le=ir(le),Ye=!Le&&Ri(le),Wt=!Le&&!Ye&&es(le),pt=!Le&&!Ye&&!Wt&&Hi(le),qt=Le||Ye||Wt||pt,gn=qt?Ht(le.length,String):[],Qt=gn.length;for(var Pt in le)lt.call(le,Pt)&&!(qt&&(Pt=="length"||Wt&&(Pt=="offset"||Pt=="parent")||pt&&(Pt=="buffer"||Pt=="byteLength"||Pt=="byteOffset")||Os(Pt,Qt)))&&gn.push(Pt);return gn}function co(le,we){for(var Le=le.length;Le--;)if(Fr(le[Le][0],we))return Le;return-1}function To(le,we,Le){var Ye=we(le);return ir(le)?Ye:yt(Ye,Le(le))}function hi(le){return le==null?le===void 0?M:C:Ze&&Ze in Object(le)?Ps(le):Bn(le)}function ki(le){return fr(le)&&hi(le)==m}function Ii(le,we,Le,Ye,Wt){return le===we?!0:le==null||we==null||!fr(le)&&!fr(we)?le!==le&&we!==we:xo(le,we,Le,Ye,Ii,Wt)}function xo(le,we,Le,Ye,Wt,pt){var qt=ir(le),gn=ir(we),Qt=qt?u:Nr(le),Pt=gn?u:Nr(we);Qt=Qt==m?A:Qt,Pt=Pt==m?A:Pt;var rn=Qt==A,or=Pt==A,_n=Qt==Pt;if(_n&&es(le)){if(!es(we))return!1;qt=!0,rn=!1}if(_n&&!rn)return pt||(pt=new Sr),qt||Hi(le)?Qn(le,we,Le,Ye,Wt,pt):Dr(le,we,Qt,Le,Ye,Wt,pt);if(!(Le&s)){var mn=rn&&lt.call(le,"__wrapped__"),Vn=or&&lt.call(we,"__wrapped__");if(mn||Vn){var Mt=mn?le.value():le,In=Vn?we.value():we;return pt||(pt=new Sr),Wt(Mt,In,Le,Ye,pt)}}return _n?(pt||(pt=new Sr),tn(le,we,Le,Ye,Wt,pt)):!1}function dr(le){if(!Io(le)||ko(le))return!1;var we=Yn(le)?Ft:Z;return we.test(kn(le))}function nr(le){return fr(le)&&Ns(le.length)&&!!ue[hi(le)]}function di(le){if(!ei(le))return On(le);var we=[];for(var Le in Object(le))lt.call(le,Le)&&Le!="constructor"&&we.push(Le);return we}function Qn(le,we,Le,Ye,Wt,pt){var qt=Le&s,gn=le.length,Qt=we.length;if(gn!=Qt&&!(qt&&Qt>gn))return!1;var Pt=pt.get(le);if(Pt&&pt.get(we))return Pt==we;var rn=-1,or=!0,_n=Le&o?new Or:void 0;for(pt.set(le,we),pt.set(we,le);++rn<gn;){var mn=le[rn],Vn=we[rn];if(Ye)var Mt=qt?Ye(Vn,mn,rn,we,le,pt):Ye(mn,Vn,rn,le,we,pt);if(Mt!==void 0){if(Mt)continue;or=!1;break}if(_n){if(!Ot(we,function(In,Br){if(!Nt(_n,Br)&&(mn===In||Wt(mn,In,Le,Ye,pt)))return _n.push(Br)})){or=!1;break}}else if(!(mn===Vn||Wt(mn,Vn,Le,Ye,pt))){or=!1;break}}return pt.delete(le),pt.delete(we),or}function Dr(le,we,Le,Ye,Wt,pt,qt){switch(Le){case S:if(le.byteLength!=we.byteLength||le.byteOffset!=we.byteOffset)return!1;le=le.buffer,we=we.buffer;case V:return!(le.byteLength!=we.byteLength||!pt(new ln(le),new ln(we)));case a:case h:case y:return Fr(+le,+we);case d:return le.name==we.name&&le.message==we.message;case $:case E:return le==we+"";case v:var gn=Wn;case _:var Qt=Ye&s;if(gn||(gn=bn),le.size!=we.size&&!Qt)return!1;var Pt=qt.get(le);if(Pt)return Pt==we;Ye|=o,qt.set(le,we);var rn=Qn(gn(le),gn(we),Ye,Wt,pt,qt);return qt.delete(le),rn;case I:if(hr)return hr.call(le)==hr.call(we)}return!1}function tn(le,we,Le,Ye,Wt,pt){var qt=Le&s,gn=fi(le),Qt=gn.length,Pt=fi(we),rn=Pt.length;if(Qt!=rn&&!qt)return!1;for(var or=Qt;or--;){var _n=gn[or];if(!(qt?_n in we:lt.call(we,_n)))return!1}var mn=pt.get(le);if(mn&&pt.get(we))return mn==we;var Vn=!0;pt.set(le,we),pt.set(we,le);for(var Mt=qt;++or<Qt;){_n=gn[or];var In=le[_n],Br=we[_n];if(Ye)var ni=qt?Ye(Br,In,_n,we,le,pt):Ye(In,Br,_n,le,we,pt);if(!(ni===void 0?In===Br||Wt(In,Br,Le,Ye,pt):ni)){Vn=!1;break}Mt||(Mt=_n=="constructor")}if(Vn&&!Mt){var Ro=le.constructor,Mi=we.constructor;Ro!=Mi&&"constructor"in le&&"constructor"in we&&!(typeof Ro=="function"&&Ro instanceof Ro&&typeof Mi=="function"&&Mi instanceof Mi)&&(Vn=!1)}return pt.delete(le),pt.delete(we),Vn}function fi(le){return To(le,Wi,Ao)}function It(le,we){var Le=le.__data__;return Ds(we)?Le[typeof we=="string"?"string":"hash"]:Le.map}function rr(le,we){var Le=wn(le,we);return dr(Le)?Le:void 0}function Ps(le){var we=lt.call(le,Ze),Le=le[Ze];try{le[Ze]=void 0;var Ye=!0}catch{}var Wt=Lt.call(le);return Ye&&(we?le[Ze]=Le:delete le[Ze]),Wt}var Ao=Rt?function(le){return le==null?[]:(le=Object(le),Ge(Rt(le),function(we){return Te.call(le,we)}))}:pr,Nr=hi;($r&&Nr(new $r(new ArrayBuffer(1)))!=S||Gn&&Nr(new Gn)!=v||Ai&&Nr(Ai.resolve())!=F||ci&&Nr(new ci)!=_||Bi&&Nr(new Bi)!=P)&&(Nr=function(le){var we=hi(le),Le=we==A?le.constructor:void 0,Ye=Le?kn(Le):"";if(Ye)switch(Ye){case so:return S;case hn:return v;case Eo:return F;case Xr:return _;case Vi:return P}return we});function Os(le,we){return we=we??c,!!we&&(typeof le=="number"||he.test(le))&&le>-1&&le%1==0&&le<we}function Ds(le){var we=typeof le;return we=="string"||we=="number"||we=="symbol"||we=="boolean"?le!=="__proto__":le===null}function ko(le){return!!kt&&kt in le}function ei(le){var we=le&&le.constructor,Le=typeof we=="function"&&we.prototype||ze;return le===Le}function Bn(le){return Lt.call(le)}function kn(le){if(le!=null){try{return ft.call(le)}catch{}try{return le+""}catch{}}return""}function Fr(le,we){return le===we||le!==le&&we!==we}var Ri=ki(function(){return arguments}())?ki:function(le){return fr(le)&&lt.call(le,"callee")&&!Te.call(le,"callee")},ir=Array.isArray;function Tr(le){return le!=null&&Ns(le.length)&&!Yn(le)}var es=An||ti;function ts(le,we){return Ii(le,we)}function Yn(le){if(!Io(le))return!1;var we=hi(le);return we==f||we==p||we==g||we==O}function Ns(le){return typeof le=="number"&&le>-1&&le%1==0&&le<=c}function Io(le){var we=typeof le;return le!=null&&(we=="object"||we=="function")}function fr(le){return le!=null&&typeof le=="object"}var Hi=qe?pn(qe):nr;function Wi(le){return Tr(le)?$s(le):di(le)}function pr(){return[]}function ti(){return!1}n.exports=ts}(hu,hu.exports)),hu.exports}var wo={},n_;function RT(){if(n_)return wo;n_=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.getAceInstance=wo.debounce=wo.editorEvents=wo.editorOptions=void 0;var n=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];wo.editorOptions=n;var e=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];wo.editorEvents=e;var t=function(){var s;return typeof window>"u"?(Vo.window={},s=$u(),delete Vo.window):window.ace?(s=window.ace,s.acequire=window.ace.require||window.ace.acequire):s=$u(),s};wo.getAceInstance=t;var r=function(s,o){var c=null;return function(){var m=this,u=arguments;clearTimeout(c),c=setTimeout(function(){s.apply(m,u)},o)}};return wo.debounce=r,wo}var r_;function XN(){if(r_)return Gl;r_=1;var n=Gl.__extends||function(){var g=function(a,h){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(d[p]=f[p])},g(a,h)};return function(a,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");g(a,h);function d(){this.constructor=a}a.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}(),e=Gl.__assign||function(){return e=Object.assign||function(g){for(var a,h=1,d=arguments.length;h<d;h++){a=arguments[h];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(g[f]=a[f])}return g},e.apply(this,arguments)};Object.defineProperty(Gl,"__esModule",{value:!0});var t=$u(),r=Af(),s=mc(),o=IT(),c=RT(),m=(0,c.getAceInstance)(),u=function(g){n(a,g);function a(h){var d=g.call(this,h)||this;return c.editorEvents.forEach(function(f){d[f]=d[f].bind(d)}),d.debounce=c.debounce,d}return a.prototype.isInShadow=function(h){for(var d=h&&h.parentNode;d;){if(d.toString()==="[object ShadowRoot]")return!0;d=d.parentNode}return!1},a.prototype.componentDidMount=function(){var h=this,d=this.props,f=d.className,p=d.onBeforeLoad,v=d.onValidate,y=d.mode,C=d.focus,A=d.theme,F=d.fontSize,O=d.lineHeight,$=d.value,_=d.defaultValue,E=d.showGutter,I=d.wrapEnabled,M=d.showPrintMargin,P=d.scrollMargin,V=P===void 0?[0,0,0,0]:P,S=d.keyboardHandler,w=d.onLoad,L=d.commands,N=d.annotations,z=d.markers,q=d.placeholder;this.editor=m.edit(this.refEditor),p&&p(m);for(var K=Object.keys(this.props.editorProps),J=0;J<K.length;J++)this.editor[K[J]]=this.props.editorProps[K[J]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(V[0],V[1],V[2],V[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof y=="string"?"ace/mode/".concat(y):y),A&&A!==""&&this.editor.setTheme("ace/theme/".concat(A)),this.editor.setFontSize(typeof F=="number"?"".concat(F,"px"):F),O&&(this.editor.container.style.lineHeight=typeof O=="number"?"".concat(O,"px"):"".concat(O),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(_||$||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(E),this.editor.getSession().setUseWrapMode(I),this.editor.setShowPrintMargin(M),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),q&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),v&&this.editor.getSession().on("changeAnnotation",function(){var U=h.editor.getSession().getAnnotations();h.props.onValidate(U)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(N||[]),z&&z.length>0&&this.handleMarkers(z);var Q=this.editor.$options;c.editorOptions.forEach(function(U){Q.hasOwnProperty(U)?h.editor.setOption(U,h.props[U]):h.props[U]&&console.warn("ReactAce: editor option ".concat(U," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(L)&&L.forEach(function(U){typeof U.exec=="string"?h.editor.commands.bindKey(U.bindKey,U.exec):h.editor.commands.addCommand(U)}),S&&this.editor.setKeyboardHandler("ace/keyboard/"+S),f&&(this.refEditor.className+=" "+f),w&&w(this.editor),this.editor.resize(),C&&this.editor.focus()},a.prototype.componentDidUpdate=function(h){for(var d=h,f=this.props,p=0;p<c.editorOptions.length;p++){var v=c.editorOptions[p];f[v]!==d[v]&&this.editor.setOption(v,f[v])}if(f.className!==d.className){var y=this.refEditor.className,C=y.trim().split(" "),A=d.className.trim().split(" ");A.forEach(function($){var _=C.indexOf($);C.splice(_,1)}),this.refEditor.className=" "+f.className+" "+C.join(" ")}var F=this.editor&&f.value!=null&&this.editor.getValue()!==f.value;if(F){this.silent=!0;var O=this.editor.session.selection.toJSON();this.editor.setValue(f.value,f.cursorStart),this.editor.session.selection.fromJSON(O),this.silent=!1}f.placeholder!==d.placeholder&&this.updatePlaceholder(),f.mode!==d.mode&&this.editor.getSession().setMode(typeof f.mode=="string"?"ace/mode/".concat(f.mode):f.mode),f.theme!==d.theme&&this.editor.setTheme("ace/theme/"+f.theme),f.keyboardHandler!==d.keyboardHandler&&(f.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+f.keyboardHandler):this.editor.setKeyboardHandler(null)),f.fontSize!==d.fontSize&&this.editor.setFontSize(typeof f.fontSize=="number"?"".concat(f.fontSize,"px"):f.fontSize),f.lineHeight!==d.lineHeight&&(this.editor.container.style.lineHeight=typeof f.lineHeight=="number"?"".concat(f.lineHeight,"px"):f.lineHeight,this.editor.renderer.updateFontSize()),f.wrapEnabled!==d.wrapEnabled&&this.editor.getSession().setUseWrapMode(f.wrapEnabled),f.showPrintMargin!==d.showPrintMargin&&this.editor.setShowPrintMargin(f.showPrintMargin),f.showGutter!==d.showGutter&&this.editor.renderer.setShowGutter(f.showGutter),o(f.setOptions,d.setOptions)||this.handleOptions(f),(F||!o(f.annotations,d.annotations))&&this.editor.getSession().setAnnotations(f.annotations||[]),!o(f.markers,d.markers)&&Array.isArray(f.markers)&&this.handleMarkers(f.markers),o(f.scrollMargin,d.scrollMargin)||this.handleScrollMargins(f.scrollMargin),(h.height!==this.props.height||h.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!h.focus&&this.editor.focus()},a.prototype.handleScrollMargins=function(h){h===void 0&&(h=[0,0,0,0]),this.editor.renderer.setScrollMargin(h[0],h[1],h[2],h[3])},a.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},a.prototype.onChange=function(h){if(this.editor&&this.props.onChange&&!this.silent){var d=this.editor.getValue();this.props.onChange(d,h)}},a.prototype.onSelectionChange=function(h){if(this.props.onSelectionChange){var d=this.editor.getSelection();this.props.onSelectionChange(d,h)}},a.prototype.onCursorChange=function(h){if(this.props.onCursorChange){var d=this.editor.getSelection();this.props.onCursorChange(d,h)}},a.prototype.onInput=function(h){this.props.onInput&&this.props.onInput(h),this.props.placeholder&&this.updatePlaceholder()},a.prototype.onFocus=function(h){this.props.onFocus&&this.props.onFocus(h,this.editor)},a.prototype.onBlur=function(h){this.props.onBlur&&this.props.onBlur(h,this.editor)},a.prototype.onCopy=function(h){var d=h.text;this.props.onCopy&&this.props.onCopy(d)},a.prototype.onPaste=function(h){var d=h.text;this.props.onPaste&&this.props.onPaste(d)},a.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},a.prototype.handleOptions=function(h){for(var d=Object.keys(h.setOptions),f=0;f<d.length;f++)this.editor.setOption(d[f],h.setOptions[d[f]])},a.prototype.handleMarkers=function(h){var d=this,f=this.editor.getSession().getMarkers(!0);for(var p in f)f.hasOwnProperty(p)&&this.editor.getSession().removeMarker(f[p].id);f=this.editor.getSession().getMarkers(!1);for(var p in f)f.hasOwnProperty(p)&&f[p].clazz!=="ace_active-line"&&f[p].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(f[p].id);h.forEach(function(v){var y=v.startRow,C=v.startCol,A=v.endRow,F=v.endCol,O=v.className,$=v.type,_=v.inFront,E=_===void 0?!1:_,I=new t.Range(y,C,A,F);d.editor.getSession().addMarker(I,O,$,E)})},a.prototype.updatePlaceholder=function(){var h=this.editor,d=this.props.placeholder,f=!h.session.getValue().length,p=h.renderer.placeholderNode;!f&&p?(h.renderer.scroller.removeChild(h.renderer.placeholderNode),h.renderer.placeholderNode=null):f&&!p?(p=h.renderer.placeholderNode=document.createElement("div"),p.textContent=d||"",p.className="ace_comment ace_placeholder",p.style.padding="0 9px",p.style.position="absolute",p.style.zIndex="3",h.renderer.scroller.appendChild(p)):f&&p&&(p.textContent=d)},a.prototype.updateRef=function(h){this.refEditor=h},a.prototype.render=function(){var h=this.props,d=h.name,f=h.width,p=h.height,v=h.style,y=e({width:f,height:p},v);return s.createElement("div",{ref:this.updateRef,id:d,style:y})},a.propTypes={mode:r.oneOfType([r.string,r.object]),focus:r.bool,theme:r.string,name:r.string,className:r.string,height:r.string,width:r.string,fontSize:r.oneOfType([r.number,r.string]),lineHeight:r.oneOfType([r.number,r.string]),showGutter:r.bool,onChange:r.func,onCopy:r.func,onPaste:r.func,onFocus:r.func,onInput:r.func,onBlur:r.func,onScroll:r.func,value:r.string,defaultValue:r.string,onLoad:r.func,onSelectionChange:r.func,onCursorChange:r.func,onBeforeLoad:r.func,onValidate:r.func,minLines:r.number,maxLines:r.number,readOnly:r.bool,highlightActiveLine:r.bool,tabSize:r.number,showPrintMargin:r.bool,cursorStart:r.number,debounceChangePeriod:r.number,editorProps:r.object,setOptions:r.object,style:r.object,scrollMargin:r.array,annotations:r.array,markers:r.array,keyboardHandler:r.string,wrapEnabled:r.bool,enableSnippets:r.bool,enableBasicAutocompletion:r.oneOfType([r.bool,r.array]),enableLiveAutocompletion:r.oneOfType([r.bool,r.array]),navigateToFileEnd:r.bool,commands:r.array,placeholder:r.string},a.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},a}(s.Component);return Gl.default=u,Gl}var eu={},Kl={},Dg={exports:{}},i_;function ZN(){return i_||(i_=1,function(n,e){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(t,r,s){var o=t("./lib/oop");t("./lib/lang");var c=t("./lib/event_emitter").EventEmitter,m=t("./editor").Editor,u=t("./virtual_renderer").VirtualRenderer,g=t("./edit_session").EditSession,a;a=function(h,d,f){this.BELOW=1,this.BESIDE=0,this.$container=h,this.$theme=d,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(f||1),this.$cEditor=this.$editors[0],this.on("focus",(function(p){this.$cEditor=p}).bind(this))},(function(){o.implement(this,c),this.$createEditor=function(){var h=document.createElement("div");h.className=this.$editorCSS,h.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(h);var d=new m(new u(h,this.$theme));return d.on("focus",(function(){this._emit("focus",d)}).bind(this)),this.$editors.push(d),d.setFontSize(this.$fontSize),d},this.setSplits=function(h){var d;if(h<1)throw"The number of splits have to be > 0!";if(h!=this.$splits){if(h>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<h;)d=this.$editors[this.$splits],this.$container.appendChild(d.container),d.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<h;)this.$createEditor(),this.$splits++}else for(;this.$splits>h;)d=this.$editors[this.$splits-1],this.$container.removeChild(d.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(h){return this.$editors[h]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(h){this.$editors.forEach(function(d){d.setTheme(h)})},this.setKeyboardHandler=function(h){this.$editors.forEach(function(d){d.setKeyboardHandler(h)})},this.forEach=function(h,d){this.$editors.forEach(h,d)},this.$fontSize="",this.setFontSize=function(h){this.$fontSize=h,this.forEach(function(d){d.setFontSize(h)})},this.$cloneSession=function(h){var d=new g(h.getDocument(),h.getMode()),f=h.getUndoManager();return d.setUndoManager(f),d.setTabSize(h.getTabSize()),d.setUseSoftTabs(h.getUseSoftTabs()),d.setOverwrite(h.getOverwrite()),d.setBreakpoints(h.getBreakpoints()),d.setUseWrapMode(h.getUseWrapMode()),d.setUseWorker(h.getUseWorker()),d.setWrapLimitRange(h.$wrapLimitRange.min,h.$wrapLimitRange.max),d.$foldData=h.$cloneFoldData(),d},this.setSession=function(h,d){var f;d==null?f=this.$cEditor:f=this.$editors[d];var p=this.$editors.some(function(v){return v.session===h});return p&&(h=this.$cloneSession(h)),f.setSession(h),h},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(h){this.$orientation!=h&&(this.$orientation=h,this.resize())},this.resize=function(){var h=this.$container.clientWidth,d=this.$container.clientHeight,f;if(this.$orientation==this.BESIDE)for(var p=h/this.$splits,v=0;v<this.$splits;v++)f=this.$editors[v],f.container.style.width=p+"px",f.container.style.top="0px",f.container.style.left=v*p+"px",f.container.style.height=d+"px",f.resize();else for(var y=d/this.$splits,v=0;v<this.$splits;v++)f=this.$editors[v],f.container.style.width=h+"px",f.container.style.top=v*y+"px",f.container.style.left="0px",f.container.style.height=y+"px",f.resize()}}).call(a.prototype),r.Split=a}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(t,r,s){s.exports=t("../split")}),function(){ace.require(["ace/ext/split"],function(t){n.exports=t})}()}(Dg)),Dg.exports}var Ng,o_;function JN(){if(o_)return Ng;o_=1;var n="Expected a function",e="__lodash_hash_undefined__",t=1/0,r="[object Function]",s="[object GeneratorFunction]",o="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/,u=/^\./,g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/[\\^$.*+?()[\]{}|]/g,h=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,f=typeof Vo=="object"&&Vo&&Vo.Object===Object&&Vo,p=typeof self=="object"&&self&&self.Object===Object&&self,v=f||p||Function("return this")();function y(Te,De){return Te==null?void 0:Te[De]}function C(Te){var De=!1;if(Te!=null&&typeof Te.toString!="function")try{De=!!(Te+"")}catch{}return De}var A=Array.prototype,F=Function.prototype,O=Object.prototype,$=v["__core-js_shared__"],_=function(){var Te=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return Te?"Symbol(src)_1."+Te:""}(),E=F.toString,I=O.hasOwnProperty,M=O.toString,P=RegExp("^"+E.call(I).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=v.Symbol,S=A.splice,w=wn(v,"Map"),L=wn(Object,"create"),N=V?V.prototype:void 0,z=N?N.toString:void 0;function q(Te){var De=-1,Ze=Te?Te.length:0;for(this.clear();++De<Ze;){var Rt=Te[De];this.set(Rt[0],Rt[1])}}function K(){this.__data__=L?L(null):{}}function J(Te){return this.has(Te)&&delete this.__data__[Te]}function Q(Te){var De=this.__data__;if(L){var Ze=De[Te];return Ze===e?void 0:Ze}return I.call(De,Te)?De[Te]:void 0}function U(Te){var De=this.__data__;return L?De[Te]!==void 0:I.call(De,Te)}function re(Te,De){var Ze=this.__data__;return Ze[Te]=L&&De===void 0?e:De,this}q.prototype.clear=K,q.prototype.delete=J,q.prototype.get=Q,q.prototype.has=U,q.prototype.set=re;function Z(Te){var De=-1,Ze=Te?Te.length:0;for(this.clear();++De<Ze;){var Rt=Te[De];this.set(Rt[0],Rt[1])}}function he(){this.__data__=[]}function ue(Te){var De=this.__data__,Ze=Ge(De,Te);if(Ze<0)return!1;var Rt=De.length-1;return Ze==Rt?De.pop():S.call(De,Ze,1),!0}function ae(Te){var De=this.__data__,Ze=Ge(De,Te);return Ze<0?void 0:De[Ze][1]}function pe(Te){return Ge(this.__data__,Te)>-1}function Ee(Te,De){var Ze=this.__data__,Rt=Ge(Ze,Te);return Rt<0?Ze.push([Te,De]):Ze[Rt][1]=De,this}Z.prototype.clear=he,Z.prototype.delete=ue,Z.prototype.get=ae,Z.prototype.has=pe,Z.prototype.set=Ee;function me(Te){var De=-1,Ze=Te?Te.length:0;for(this.clear();++De<Ze;){var Rt=Te[De];this.set(Rt[0],Rt[1])}}function Ae(){this.__data__={hash:new q,map:new(w||Z),string:new q}}function $e(Te){return Nt(this,Te).delete(Te)}function Qe(Te){return Nt(this,Te).get(Te)}function ut(Te){return Nt(this,Te).has(Te)}function qe(Te,De){return Nt(this,Te).set(Te,De),this}me.prototype.clear=Ae,me.prototype.delete=$e,me.prototype.get=Qe,me.prototype.has=ut,me.prototype.set=qe;function Ge(Te,De){for(var Ze=Te.length;Ze--;)if(ft(Te[Ze][0],De))return Ze;return-1}function yt(Te,De){De=Wn(De,Te)?[De]:pn(De);for(var Ze=0,Rt=De.length;Te!=null&&Ze<Rt;)Te=Te[be(De[Ze++])];return Ze&&Ze==Rt?Te:void 0}function Ot(Te){if(!Lt(Te)||bn(Te))return!1;var De=kt(Te)||C(Te)?P:d;return De.test(ze(Te))}function Ht(Te){if(typeof Te=="string")return Te;if($t(Te))return z?z.call(Te):"";var De=Te+"";return De=="0"&&1/Te==-t?"-0":De}function pn(Te){return lt(Te)?Te:ur(Te)}function Nt(Te,De){var Ze=Te.__data__;return Pn(De)?Ze[typeof De=="string"?"string":"hash"]:Ze.map}function wn(Te,De){var Ze=y(Te,De);return Ot(Ze)?Ze:void 0}function Wn(Te,De){if(lt(Te))return!1;var Ze=typeof Te;return Ze=="number"||Ze=="symbol"||Ze=="boolean"||Te==null||$t(Te)?!0:m.test(Te)||!c.test(Te)||De!=null&&Te in Object(De)}function Pn(Te){var De=typeof Te;return De=="string"||De=="number"||De=="symbol"||De=="boolean"?Te!=="__proto__":Te===null}function bn(Te){return!!_&&_ in Te}var ur=Ke(function(Te){Te=_t(Te);var De=[];return u.test(Te)&&De.push(""),Te.replace(g,function(Ze,Rt,An,On){De.push(An?On.replace(h,"$1"):Rt||Ze)}),De});function be(Te){if(typeof Te=="string"||$t(Te))return Te;var De=Te+"";return De=="0"&&1/Te==-t?"-0":De}function ze(Te){if(Te!=null){try{return E.call(Te)}catch{}try{return Te+""}catch{}}return""}function Ke(Te,De){if(typeof Te!="function"||De&&typeof De!="function")throw new TypeError(n);var Ze=function(){var Rt=arguments,An=De?De.apply(this,Rt):Rt[0],On=Ze.cache;if(On.has(An))return On.get(An);var $r=Te.apply(this,Rt);return Ze.cache=On.set(An,$r),$r};return Ze.cache=new(Ke.Cache||me),Ze}Ke.Cache=me;function ft(Te,De){return Te===De||Te!==Te&&De!==De}var lt=Array.isArray;function kt(Te){var De=Lt(Te)?M.call(Te):"";return De==r||De==s}function Lt(Te){var De=typeof Te;return!!Te&&(De=="object"||De=="function")}function Ft(Te){return!!Te&&typeof Te=="object"}function $t(Te){return typeof Te=="symbol"||Ft(Te)&&M.call(Te)==o}function _t(Te){return Te==null?"":Ht(Te)}function ln(Te,De,Ze){var Rt=Te==null?void 0:yt(Te,De);return Rt===void 0?Ze:Rt}return Ng=ln,Ng}var s_;function MT(){if(s_)return Kl;s_=1;var n=Kl.__extends||function(){var h=function(d,f){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(p[y]=v[y])},h(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),e=Kl.__assign||function(){return e=Object.assign||function(h){for(var d,f=1,p=arguments.length;f<p;f++){d=arguments[f];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(h[v]=d[v])}return h},e.apply(this,arguments)};Object.defineProperty(Kl,"__esModule",{value:!0});var t=RT(),r=(0,t.getAceInstance)(),s=$u(),o=ZN(),c=Af(),m=mc(),u=IT(),g=JN(),a=function(h){n(d,h);function d(f){var p=h.call(this,f)||this;return t.editorEvents.forEach(function(v){p[v]=p[v].bind(p)}),p.debounce=t.debounce,p}return d.prototype.isInShadow=function(f){for(var p=f&&f.parentNode;p;){if(p.toString()==="[object ShadowRoot]")return!0;p=p.parentNode}return!1},d.prototype.componentDidMount=function(){var f=this,p=this.props,v=p.className,y=p.onBeforeLoad,C=p.mode,A=p.focus,F=p.theme,O=p.fontSize,$=p.value,_=p.defaultValue,E=p.cursorStart,I=p.showGutter,M=p.wrapEnabled,P=p.showPrintMargin,V=p.scrollMargin,S=V===void 0?[0,0,0,0]:V,w=p.keyboardHandler,L=p.onLoad,N=p.commands,z=p.annotations,q=p.markers,K=p.splits;this.editor=r.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(F)),y&&y(r);var J=Object.keys(this.props.editorProps),Q=new o.Split(this.editor.container,"ace/theme/".concat(F),K);this.editor.env.split=Q,this.splitEditor=Q.getEditor(0),this.split=Q,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var U=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),Q.forEach(function(Z,he){for(var ue=0;ue<J.length;ue++)Z[J[ue]]=f.props.editorProps[J[ue]];var ae=g(_,he),pe=g($,he,"");Z.session.setUndoManager(new r.UndoManager),Z.setTheme("ace/theme/".concat(F)),Z.renderer.setScrollMargin(S[0],S[1],S[2],S[3]),Z.getSession().setMode("ace/mode/".concat(C)),Z.setFontSize(O),Z.renderer.setShowGutter(I),Z.getSession().setUseWrapMode(M),Z.setShowPrintMargin(P),Z.on("focus",f.onFocus),Z.on("blur",f.onBlur),Z.on("input",f.onInput),Z.on("copy",f.onCopy),Z.on("paste",f.onPaste),Z.on("change",f.onChange),Z.getSession().selection.on("changeSelection",f.onSelectionChange),Z.getSession().selection.on("changeCursor",f.onCursorChange),Z.session.on("changeScrollTop",f.onScroll),Z.setValue(ae===void 0?pe:ae,E);var Ee=g(z,he,[]),me=g(q,he,[]);Z.getSession().setAnnotations(Ee),me&&me.length>0&&f.handleMarkers(me,Z);for(var ue=0;ue<t.editorOptions.length;ue++){var Ae=t.editorOptions[ue];U.hasOwnProperty(Ae)?Z.setOption(Ae,f.props[Ae]):f.props[Ae]&&console.warn("ReaceAce: editor option ".concat(Ae," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}f.handleOptions(f.props,Z),Array.isArray(N)&&N.forEach(function($e){typeof $e.exec=="string"?Z.commands.bindKey($e.bindKey,$e.exec):Z.commands.addCommand($e)}),w&&Z.setKeyboardHandler("ace/keyboard/"+w)}),v&&(this.refEditor.className+=" "+v),A&&this.splitEditor.focus();var re=this.editor.env.split;re.setOrientation(this.props.orientation==="below"?re.BELOW:re.BESIDE),re.resize(!0),L&&L(re)},d.prototype.componentDidUpdate=function(f){var p=this,v=f,y=this.props,C=this.editor.env.split;if(y.splits!==v.splits&&C.setSplits(y.splits),y.orientation!==v.orientation&&C.setOrientation(y.orientation==="below"?C.BELOW:C.BESIDE),C.forEach(function($,_){y.mode!==v.mode&&$.getSession().setMode("ace/mode/"+y.mode),y.keyboardHandler!==v.keyboardHandler&&(y.keyboardHandler?$.setKeyboardHandler("ace/keyboard/"+y.keyboardHandler):$.setKeyboardHandler(null)),y.fontSize!==v.fontSize&&$.setFontSize(y.fontSize),y.wrapEnabled!==v.wrapEnabled&&$.getSession().setUseWrapMode(y.wrapEnabled),y.showPrintMargin!==v.showPrintMargin&&$.setShowPrintMargin(y.showPrintMargin),y.showGutter!==v.showGutter&&$.renderer.setShowGutter(y.showGutter);for(var E=0;E<t.editorOptions.length;E++){var I=t.editorOptions[E];y[I]!==v[I]&&$.setOption(I,y[I])}u(y.setOptions,v.setOptions)||p.handleOptions(y,$);var M=g(y.value,_,"");if($.getValue()!==M){p.silent=!0;var P=$.session.selection.toJSON();$.setValue(M,y.cursorStart),$.session.selection.fromJSON(P),p.silent=!1}var V=g(y.annotations,_,[]),S=g(v.annotations,_,[]);u(V,S)||$.getSession().setAnnotations(V);var w=g(y.markers,_,[]),L=g(v.markers,_,[]);!u(w,L)&&Array.isArray(w)&&p.handleMarkers(w,$)}),y.className!==v.className){var A=this.refEditor.className,F=A.trim().split(" "),O=v.className.trim().split(" ");O.forEach(function($){var _=F.indexOf($);F.splice(_,1)}),this.refEditor.className=" "+y.className+" "+F.join(" ")}y.theme!==v.theme&&C.setTheme("ace/theme/"+y.theme),y.focus&&!v.focus&&this.splitEditor.focus(),(y.height!==this.props.height||y.width!==this.props.width)&&this.editor.resize()},d.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},d.prototype.onChange=function(f){if(this.props.onChange&&!this.silent){var p=[];this.editor.env.split.forEach(function(v){p.push(v.getValue())}),this.props.onChange(p,f)}},d.prototype.onSelectionChange=function(f){if(this.props.onSelectionChange){var p=[];this.editor.env.split.forEach(function(v){p.push(v.getSelection())}),this.props.onSelectionChange(p,f)}},d.prototype.onCursorChange=function(f){if(this.props.onCursorChange){var p=[];this.editor.env.split.forEach(function(v){p.push(v.getSelection())}),this.props.onCursorChange(p,f)}},d.prototype.onFocus=function(f){this.props.onFocus&&this.props.onFocus(f)},d.prototype.onInput=function(f){this.props.onInput&&this.props.onInput(f)},d.prototype.onBlur=function(f){this.props.onBlur&&this.props.onBlur(f)},d.prototype.onCopy=function(f){this.props.onCopy&&this.props.onCopy(f)},d.prototype.onPaste=function(f){this.props.onPaste&&this.props.onPaste(f)},d.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},d.prototype.handleOptions=function(f,p){for(var v=Object.keys(f.setOptions),y=0;y<v.length;y++)p.setOption(v[y],f.setOptions[v[y]])},d.prototype.handleMarkers=function(f,p){var v=p.getSession().getMarkers(!0);for(var y in v)v.hasOwnProperty(y)&&p.getSession().removeMarker(v[y].id);v=p.getSession().getMarkers(!1);for(var y in v)v.hasOwnProperty(y)&&p.getSession().removeMarker(v[y].id);f.forEach(function(C){var A=C.startRow,F=C.startCol,O=C.endRow,$=C.endCol,_=C.className,E=C.type,I=C.inFront,M=I===void 0?!1:I,P=new s.Range(A,F,O,$);p.getSession().addMarker(P,_,E,M)})},d.prototype.updateRef=function(f){this.refEditor=f},d.prototype.render=function(){var f=this.props,p=f.name,v=f.width,y=f.height,C=f.style,A=e({width:v,height:y},C);return m.createElement("div",{ref:this.updateRef,id:p,style:A})},d.propTypes={className:c.string,debounceChangePeriod:c.number,defaultValue:c.arrayOf(c.string),focus:c.bool,fontSize:c.oneOfType([c.number,c.string]),height:c.string,mode:c.string,name:c.string,onBlur:c.func,onChange:c.func,onCopy:c.func,onFocus:c.func,onInput:c.func,onLoad:c.func,onPaste:c.func,onScroll:c.func,orientation:c.string,showGutter:c.bool,splits:c.number,theme:c.string,value:c.arrayOf(c.string),width:c.string,onSelectionChange:c.func,onCursorChange:c.func,onBeforeLoad:c.func,minLines:c.number,maxLines:c.number,readOnly:c.bool,highlightActiveLine:c.bool,tabSize:c.number,showPrintMargin:c.bool,cursorStart:c.number,editorProps:c.object,setOptions:c.object,style:c.object,scrollMargin:c.array,annotations:c.array,markers:c.array,keyboardHandler:c.string,wrapEnabled:c.bool,enableBasicAutocompletion:c.oneOfType([c.bool,c.array]),enableLiveAutocompletion:c.oneOfType([c.bool,c.array]),commands:c.array},d.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},d}(m.Component);return Kl.default=a,Kl}var Fg={exports:{}},a_;function eF(){return a_||(a_=1,function(n){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},t=-1,r=1,s=0;e.Diff=function(o,c){return[o,c]},e.prototype.diff_main=function(o,c,m,u){typeof u>"u"&&(this.Diff_Timeout<=0?u=Number.MAX_VALUE:u=new Date().getTime()+this.Diff_Timeout*1e3);var g=u;if(o==null||c==null)throw new Error("Null input. (diff_main)");if(o==c)return o?[new e.Diff(s,o)]:[];typeof m>"u"&&(m=!0);var a=m,h=this.diff_commonPrefix(o,c),d=o.substring(0,h);o=o.substring(h),c=c.substring(h),h=this.diff_commonSuffix(o,c);var f=o.substring(o.length-h);o=o.substring(0,o.length-h),c=c.substring(0,c.length-h);var p=this.diff_compute_(o,c,a,g);return d&&p.unshift(new e.Diff(s,d)),f&&p.push(new e.Diff(s,f)),this.diff_cleanupMerge(p),p},e.prototype.diff_compute_=function(o,c,m,u){var g;if(!o)return[new e.Diff(r,c)];if(!c)return[new e.Diff(t,o)];var a=o.length>c.length?o:c,h=o.length>c.length?c:o,d=a.indexOf(h);if(d!=-1)return g=[new e.Diff(r,a.substring(0,d)),new e.Diff(s,h),new e.Diff(r,a.substring(d+h.length))],o.length>c.length&&(g[0][0]=g[2][0]=t),g;if(h.length==1)return[new e.Diff(t,o),new e.Diff(r,c)];var f=this.diff_halfMatch_(o,c);if(f){var p=f[0],v=f[1],y=f[2],C=f[3],A=f[4],F=this.diff_main(p,y,m,u),O=this.diff_main(v,C,m,u);return F.concat([new e.Diff(s,A)],O)}return m&&o.length>100&&c.length>100?this.diff_lineMode_(o,c,u):this.diff_bisect_(o,c,u)},e.prototype.diff_lineMode_=function(o,c,m){var u=this.diff_linesToChars_(o,c);o=u.chars1,c=u.chars2;var g=u.lineArray,a=this.diff_main(o,c,!1,m);this.diff_charsToLines_(a,g),this.diff_cleanupSemantic(a),a.push(new e.Diff(s,""));for(var h=0,d=0,f=0,p="",v="";h<a.length;){switch(a[h][0]){case r:f++,v+=a[h][1];break;case t:d++,p+=a[h][1];break;case s:if(d>=1&&f>=1){a.splice(h-d-f,d+f),h=h-d-f;for(var y=this.diff_main(p,v,!1,m),C=y.length-1;C>=0;C--)a.splice(h,0,y[C]);h=h+y.length}f=0,d=0,p="",v="";break}h++}return a.pop(),a},e.prototype.diff_bisect_=function(o,c,m){for(var u=o.length,g=c.length,a=Math.ceil((u+g)/2),h=a,d=2*a,f=new Array(d),p=new Array(d),v=0;v<d;v++)f[v]=-1,p[v]=-1;f[h+1]=0,p[h+1]=0;for(var y=u-g,C=y%2!=0,A=0,F=0,O=0,$=0,_=0;_<a&&!(new Date().getTime()>m);_++){for(var E=-_+A;E<=_-F;E+=2){var I=h+E,M;E==-_||E!=_&&f[I-1]<f[I+1]?M=f[I+1]:M=f[I-1]+1;for(var P=M-E;M<u&&P<g&&o.charAt(M)==c.charAt(P);)M++,P++;if(f[I]=M,M>u)F+=2;else if(P>g)A+=2;else if(C){var V=h+y-E;if(V>=0&&V<d&&p[V]!=-1){var S=u-p[V];if(M>=S)return this.diff_bisectSplit_(o,c,M,P,m)}}}for(var w=-_+O;w<=_-$;w+=2){var V=h+w,S;w==-_||w!=_&&p[V-1]<p[V+1]?S=p[V+1]:S=p[V-1]+1;for(var L=S-w;S<u&&L<g&&o.charAt(u-S-1)==c.charAt(g-L-1);)S++,L++;if(p[V]=S,S>u)$+=2;else if(L>g)O+=2;else if(!C){var I=h+y-w;if(I>=0&&I<d&&f[I]!=-1){var M=f[I],P=h+M-I;if(S=u-S,M>=S)return this.diff_bisectSplit_(o,c,M,P,m)}}}}return[new e.Diff(t,o),new e.Diff(r,c)]},e.prototype.diff_bisectSplit_=function(o,c,m,u,g){var a=o.substring(0,m),h=c.substring(0,u),d=o.substring(m),f=c.substring(u),p=this.diff_main(a,h,!1,g),v=this.diff_main(d,f,!1,g);return p.concat(v)},e.prototype.diff_linesToChars_=function(o,c){var m=[],u={};m[0]="";function g(f){for(var p="",v=0,y=-1,C=m.length;y<f.length-1;){y=f.indexOf(`
`,v),y==-1&&(y=f.length-1);var A=f.substring(v,y+1);(u.hasOwnProperty?u.hasOwnProperty(A):u[A]!==void 0)?p+=String.fromCharCode(u[A]):(C==a&&(A=f.substring(v),y=f.length),p+=String.fromCharCode(C),u[A]=C,m[C++]=A),v=y+1}return p}var a=4e4,h=g(o);a=65535;var d=g(c);return{chars1:h,chars2:d,lineArray:m}},e.prototype.diff_charsToLines_=function(o,c){for(var m=0;m<o.length;m++){for(var u=o[m][1],g=[],a=0;a<u.length;a++)g[a]=c[u.charCodeAt(a)];o[m][1]=g.join("")}},e.prototype.diff_commonPrefix=function(o,c){if(!o||!c||o.charAt(0)!=c.charAt(0))return 0;for(var m=0,u=Math.min(o.length,c.length),g=u,a=0;m<g;)o.substring(a,g)==c.substring(a,g)?(m=g,a=m):u=g,g=Math.floor((u-m)/2+m);return g},e.prototype.diff_commonSuffix=function(o,c){if(!o||!c||o.charAt(o.length-1)!=c.charAt(c.length-1))return 0;for(var m=0,u=Math.min(o.length,c.length),g=u,a=0;m<g;)o.substring(o.length-g,o.length-a)==c.substring(c.length-g,c.length-a)?(m=g,a=m):u=g,g=Math.floor((u-m)/2+m);return g},e.prototype.diff_commonOverlap_=function(o,c){var m=o.length,u=c.length;if(m==0||u==0)return 0;m>u?o=o.substring(m-u):m<u&&(c=c.substring(0,m));var g=Math.min(m,u);if(o==c)return g;for(var a=0,h=1;;){var d=o.substring(g-h),f=c.indexOf(d);if(f==-1)return a;h+=f,(f==0||o.substring(g-h)==c.substring(0,h))&&(a=h,h++)}},e.prototype.diff_halfMatch_=function(o,c){if(this.Diff_Timeout<=0)return null;var m=o.length>c.length?o:c,u=o.length>c.length?c:o;if(m.length<4||u.length*2<m.length)return null;var g=this;function a(F,O,$){for(var _=F.substring($,$+Math.floor(F.length/4)),E=-1,I="",M,P,V,S;(E=O.indexOf(_,E+1))!=-1;){var w=g.diff_commonPrefix(F.substring($),O.substring(E)),L=g.diff_commonSuffix(F.substring(0,$),O.substring(0,E));I.length<L+w&&(I=O.substring(E-L,E)+O.substring(E,E+w),M=F.substring(0,$-L),P=F.substring($+w),V=O.substring(0,E-L),S=O.substring(E+w))}return I.length*2>=F.length?[M,P,V,S,I]:null}var h=a(m,u,Math.ceil(m.length/4)),d=a(m,u,Math.ceil(m.length/2)),f;if(!h&&!d)return null;d?h?f=h[4].length>d[4].length?h:d:f=d:f=h;var p,v,y,C;o.length>c.length?(p=f[0],v=f[1],y=f[2],C=f[3]):(y=f[0],C=f[1],p=f[2],v=f[3]);var A=f[4];return[p,v,y,C,A]},e.prototype.diff_cleanupSemantic=function(o){for(var c=!1,m=[],u=0,g=null,a=0,h=0,d=0,f=0,p=0;a<o.length;)o[a][0]==s?(m[u++]=a,h=f,d=p,f=0,p=0,g=o[a][1]):(o[a][0]==r?f+=o[a][1].length:p+=o[a][1].length,g&&g.length<=Math.max(h,d)&&g.length<=Math.max(f,p)&&(o.splice(m[u-1],0,new e.Diff(t,g)),o[m[u-1]+1][0]=r,u--,u--,a=u>0?m[u-1]:-1,h=0,d=0,f=0,p=0,g=null,c=!0)),a++;for(c&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),a=1;a<o.length;){if(o[a-1][0]==t&&o[a][0]==r){var v=o[a-1][1],y=o[a][1],C=this.diff_commonOverlap_(v,y),A=this.diff_commonOverlap_(y,v);C>=A?(C>=v.length/2||C>=y.length/2)&&(o.splice(a,0,new e.Diff(s,y.substring(0,C))),o[a-1][1]=v.substring(0,v.length-C),o[a+1][1]=y.substring(C),a++):(A>=v.length/2||A>=y.length/2)&&(o.splice(a,0,new e.Diff(s,v.substring(0,A))),o[a-1][0]=r,o[a-1][1]=y.substring(0,y.length-A),o[a+1][0]=t,o[a+1][1]=v.substring(A),a++),a++}a++}},e.prototype.diff_cleanupSemanticLossless=function(o){function c(A,F){if(!A||!F)return 6;var O=A.charAt(A.length-1),$=F.charAt(0),_=O.match(e.nonAlphaNumericRegex_),E=$.match(e.nonAlphaNumericRegex_),I=_&&O.match(e.whitespaceRegex_),M=E&&$.match(e.whitespaceRegex_),P=I&&O.match(e.linebreakRegex_),V=M&&$.match(e.linebreakRegex_),S=P&&A.match(e.blanklineEndRegex_),w=V&&F.match(e.blanklineStartRegex_);return S||w?5:P||V?4:_&&!I&&M?3:I||M?2:_||E?1:0}for(var m=1;m<o.length-1;){if(o[m-1][0]==s&&o[m+1][0]==s){var u=o[m-1][1],g=o[m][1],a=o[m+1][1],h=this.diff_commonSuffix(u,g);if(h){var d=g.substring(g.length-h);u=u.substring(0,u.length-h),g=d+g.substring(0,g.length-h),a=d+a}for(var f=u,p=g,v=a,y=c(u,g)+c(g,a);g.charAt(0)===a.charAt(0);){u+=g.charAt(0),g=g.substring(1)+a.charAt(0),a=a.substring(1);var C=c(u,g)+c(g,a);C>=y&&(y=C,f=u,p=g,v=a)}o[m-1][1]!=f&&(f?o[m-1][1]=f:(o.splice(m-1,1),m--),o[m][1]=p,v?o[m+1][1]=v:(o.splice(m+1,1),m--))}m++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(o){for(var c=!1,m=[],u=0,g=null,a=0,h=!1,d=!1,f=!1,p=!1;a<o.length;)o[a][0]==s?(o[a][1].length<this.Diff_EditCost&&(f||p)?(m[u++]=a,h=f,d=p,g=o[a][1]):(u=0,g=null),f=p=!1):(o[a][0]==t?p=!0:f=!0,g&&(h&&d&&f&&p||g.length<this.Diff_EditCost/2&&h+d+f+p==3)&&(o.splice(m[u-1],0,new e.Diff(t,g)),o[m[u-1]+1][0]=r,u--,g=null,h&&d?(f=p=!0,u=0):(u--,a=u>0?m[u-1]:-1,f=p=!1),c=!0)),a++;c&&this.diff_cleanupMerge(o)},e.prototype.diff_cleanupMerge=function(o){o.push(new e.Diff(s,""));for(var c=0,m=0,u=0,g="",a="",h;c<o.length;)switch(o[c][0]){case r:u++,a+=o[c][1],c++;break;case t:m++,g+=o[c][1],c++;break;case s:m+u>1?(m!==0&&u!==0&&(h=this.diff_commonPrefix(a,g),h!==0&&(c-m-u>0&&o[c-m-u-1][0]==s?o[c-m-u-1][1]+=a.substring(0,h):(o.splice(0,0,new e.Diff(s,a.substring(0,h))),c++),a=a.substring(h),g=g.substring(h)),h=this.diff_commonSuffix(a,g),h!==0&&(o[c][1]=a.substring(a.length-h)+o[c][1],a=a.substring(0,a.length-h),g=g.substring(0,g.length-h))),c-=m+u,o.splice(c,m+u),g.length&&(o.splice(c,0,new e.Diff(t,g)),c++),a.length&&(o.splice(c,0,new e.Diff(r,a)),c++),c++):c!==0&&o[c-1][0]==s?(o[c-1][1]+=o[c][1],o.splice(c,1)):c++,u=0,m=0,g="",a="";break}o[o.length-1][1]===""&&o.pop();var d=!1;for(c=1;c<o.length-1;)o[c-1][0]==s&&o[c+1][0]==s&&(o[c][1].substring(o[c][1].length-o[c-1][1].length)==o[c-1][1]?(o[c][1]=o[c-1][1]+o[c][1].substring(0,o[c][1].length-o[c-1][1].length),o[c+1][1]=o[c-1][1]+o[c+1][1],o.splice(c-1,1),d=!0):o[c][1].substring(0,o[c+1][1].length)==o[c+1][1]&&(o[c-1][1]+=o[c+1][1],o[c][1]=o[c][1].substring(o[c+1][1].length)+o[c+1][1],o.splice(c+1,1),d=!0)),c++;d&&this.diff_cleanupMerge(o)},e.prototype.diff_xIndex=function(o,c){var m=0,u=0,g=0,a=0,h;for(h=0;h<o.length&&(o[h][0]!==r&&(m+=o[h][1].length),o[h][0]!==t&&(u+=o[h][1].length),!(m>c));h++)g=m,a=u;return o.length!=h&&o[h][0]===t?a:a+(c-g)},e.prototype.diff_prettyHtml=function(o){for(var c=[],m=/&/g,u=/</g,g=/>/g,a=/\n/g,h=0;h<o.length;h++){var d=o[h][0],f=o[h][1],p=f.replace(m,"&amp;").replace(u,"&lt;").replace(g,"&gt;").replace(a,"&para;<br>");switch(d){case r:c[h]='<ins style="background:#e6ffe6;">'+p+"</ins>";break;case t:c[h]='<del style="background:#ffe6e6;">'+p+"</del>";break;case s:c[h]="<span>"+p+"</span>";break}}return c.join("")},e.prototype.diff_text1=function(o){for(var c=[],m=0;m<o.length;m++)o[m][0]!==r&&(c[m]=o[m][1]);return c.join("")},e.prototype.diff_text2=function(o){for(var c=[],m=0;m<o.length;m++)o[m][0]!==t&&(c[m]=o[m][1]);return c.join("")},e.prototype.diff_levenshtein=function(o){for(var c=0,m=0,u=0,g=0;g<o.length;g++){var a=o[g][0],h=o[g][1];switch(a){case r:m+=h.length;break;case t:u+=h.length;break;case s:c+=Math.max(m,u),m=0,u=0;break}}return c+=Math.max(m,u),c},e.prototype.diff_toDelta=function(o){for(var c=[],m=0;m<o.length;m++)switch(o[m][0]){case r:c[m]="+"+encodeURI(o[m][1]);break;case t:c[m]="-"+o[m][1].length;break;case s:c[m]="="+o[m][1].length;break}return c.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(o,c){for(var m=[],u=0,g=0,a=c.split(/\t/g),h=0;h<a.length;h++){var d=a[h].substring(1);switch(a[h].charAt(0)){case"+":try{m[u++]=new e.Diff(r,decodeURI(d))}catch{throw new Error("Illegal escape in diff_fromDelta: "+d)}break;case"-":case"=":var f=parseInt(d,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+d);var p=o.substring(g,g+=f);a[h].charAt(0)=="="?m[u++]=new e.Diff(s,p):m[u++]=new e.Diff(t,p);break;default:if(a[h])throw new Error("Invalid diff operation in diff_fromDelta: "+a[h])}}if(g!=o.length)throw new Error("Delta length ("+g+") does not equal source text length ("+o.length+").");return m},e.prototype.match_main=function(o,c,m){if(o==null||c==null||m==null)throw new Error("Null input. (match_main)");return m=Math.max(0,Math.min(m,o.length)),o==c?0:o.length?o.substring(m,m+c.length)==c?m:this.match_bitap_(o,c,m):-1},e.prototype.match_bitap_=function(o,c,m){if(c.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var u=this.match_alphabet_(c),g=this;function a(M,P){var V=M/c.length,S=Math.abs(m-P);return g.Match_Distance?V+S/g.Match_Distance:S?1:V}var h=this.Match_Threshold,d=o.indexOf(c,m);d!=-1&&(h=Math.min(a(0,d),h),d=o.lastIndexOf(c,m+c.length),d!=-1&&(h=Math.min(a(0,d),h)));var f=1<<c.length-1;d=-1;for(var p,v,y=c.length+o.length,C,A=0;A<c.length;A++){for(p=0,v=y;p<v;)a(A,m+v)<=h?p=v:y=v,v=Math.floor((y-p)/2+p);y=v;var F=Math.max(1,m-v+1),O=Math.min(m+v,o.length)+c.length,$=Array(O+2);$[O+1]=(1<<A)-1;for(var _=O;_>=F;_--){var E=u[o.charAt(_-1)];if(A===0?$[_]=($[_+1]<<1|1)&E:$[_]=($[_+1]<<1|1)&E|((C[_+1]|C[_])<<1|1)|C[_+1],$[_]&f){var I=a(A,_-1);if(I<=h)if(h=I,d=_-1,d>m)F=Math.max(1,2*m-d);else break}}if(a(A+1,m)>h)break;C=$}return d},e.prototype.match_alphabet_=function(o){for(var c={},m=0;m<o.length;m++)c[o.charAt(m)]=0;for(var m=0;m<o.length;m++)c[o.charAt(m)]|=1<<o.length-m-1;return c},e.prototype.patch_addContext_=function(o,c){if(c.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var m=c.substring(o.start2,o.start2+o.length1),u=0;c.indexOf(m)!=c.lastIndexOf(m)&&m.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)u+=this.Patch_Margin,m=c.substring(o.start2-u,o.start2+o.length1+u);u+=this.Patch_Margin;var g=c.substring(o.start2-u,o.start2);g&&o.diffs.unshift(new e.Diff(s,g));var a=c.substring(o.start2+o.length1,o.start2+o.length1+u);a&&o.diffs.push(new e.Diff(s,a)),o.start1-=g.length,o.start2-=g.length,o.length1+=g.length+a.length,o.length2+=g.length+a.length}},e.prototype.patch_make=function(o,c,m){var u,g;if(typeof o=="string"&&typeof c=="string"&&typeof m>"u")u=o,g=this.diff_main(u,c,!0),g.length>2&&(this.diff_cleanupSemantic(g),this.diff_cleanupEfficiency(g));else if(o&&typeof o=="object"&&typeof c>"u"&&typeof m>"u")g=o,u=this.diff_text1(g);else if(typeof o=="string"&&c&&typeof c=="object"&&typeof m>"u")u=o,g=c;else if(typeof o=="string"&&typeof c=="string"&&m&&typeof m=="object")u=o,g=m;else throw new Error("Unknown call format to patch_make.");if(g.length===0)return[];for(var a=[],h=new e.patch_obj,d=0,f=0,p=0,v=u,y=u,C=0;C<g.length;C++){var A=g[C][0],F=g[C][1];switch(!d&&A!==s&&(h.start1=f,h.start2=p),A){case r:h.diffs[d++]=g[C],h.length2+=F.length,y=y.substring(0,p)+F+y.substring(p);break;case t:h.length1+=F.length,h.diffs[d++]=g[C],y=y.substring(0,p)+y.substring(p+F.length);break;case s:F.length<=2*this.Patch_Margin&&d&&g.length!=C+1?(h.diffs[d++]=g[C],h.length1+=F.length,h.length2+=F.length):F.length>=2*this.Patch_Margin&&d&&(this.patch_addContext_(h,v),a.push(h),h=new e.patch_obj,d=0,v=y,f=p);break}A!==r&&(f+=F.length),A!==t&&(p+=F.length)}return d&&(this.patch_addContext_(h,v),a.push(h)),a},e.prototype.patch_deepCopy=function(o){for(var c=[],m=0;m<o.length;m++){var u=o[m],g=new e.patch_obj;g.diffs=[];for(var a=0;a<u.diffs.length;a++)g.diffs[a]=new e.Diff(u.diffs[a][0],u.diffs[a][1]);g.start1=u.start1,g.start2=u.start2,g.length1=u.length1,g.length2=u.length2,c[m]=g}return c},e.prototype.patch_apply=function(o,c){if(o.length==0)return[c,[]];o=this.patch_deepCopy(o);var m=this.patch_addPadding(o);c=m+c+m,this.patch_splitMax(o);for(var u=0,g=[],a=0;a<o.length;a++){var h=o[a].start2+u,d=this.diff_text1(o[a].diffs),f,p=-1;if(d.length>this.Match_MaxBits?(f=this.match_main(c,d.substring(0,this.Match_MaxBits),h),f!=-1&&(p=this.match_main(c,d.substring(d.length-this.Match_MaxBits),h+d.length-this.Match_MaxBits),(p==-1||f>=p)&&(f=-1))):f=this.match_main(c,d,h),f==-1)g[a]=!1,u-=o[a].length2-o[a].length1;else{g[a]=!0,u=f-h;var v;if(p==-1?v=c.substring(f,f+d.length):v=c.substring(f,p+this.Match_MaxBits),d==v)c=c.substring(0,f)+this.diff_text2(o[a].diffs)+c.substring(f+d.length);else{var y=this.diff_main(d,v,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(y)/d.length>this.Patch_DeleteThreshold)g[a]=!1;else{this.diff_cleanupSemanticLossless(y);for(var C=0,A,F=0;F<o[a].diffs.length;F++){var O=o[a].diffs[F];O[0]!==s&&(A=this.diff_xIndex(y,C)),O[0]===r?c=c.substring(0,f+A)+O[1]+c.substring(f+A):O[0]===t&&(c=c.substring(0,f+A)+c.substring(f+this.diff_xIndex(y,C+O[1].length))),O[0]!==t&&(C+=O[1].length)}}}}}return c=c.substring(m.length,c.length-m.length),[c,g]},e.prototype.patch_addPadding=function(o){for(var c=this.Patch_Margin,m="",u=1;u<=c;u++)m+=String.fromCharCode(u);for(var u=0;u<o.length;u++)o[u].start1+=c,o[u].start2+=c;var g=o[0],a=g.diffs;if(a.length==0||a[0][0]!=s)a.unshift(new e.Diff(s,m)),g.start1-=c,g.start2-=c,g.length1+=c,g.length2+=c;else if(c>a[0][1].length){var h=c-a[0][1].length;a[0][1]=m.substring(a[0][1].length)+a[0][1],g.start1-=h,g.start2-=h,g.length1+=h,g.length2+=h}if(g=o[o.length-1],a=g.diffs,a.length==0||a[a.length-1][0]!=s)a.push(new e.Diff(s,m)),g.length1+=c,g.length2+=c;else if(c>a[a.length-1][1].length){var h=c-a[a.length-1][1].length;a[a.length-1][1]+=m.substring(0,h),g.length1+=h,g.length2+=h}return m},e.prototype.patch_splitMax=function(o){for(var c=this.Match_MaxBits,m=0;m<o.length;m++)if(!(o[m].length1<=c)){var u=o[m];o.splice(m--,1);for(var g=u.start1,a=u.start2,h="";u.diffs.length!==0;){var d=new e.patch_obj,f=!0;for(d.start1=g-h.length,d.start2=a-h.length,h!==""&&(d.length1=d.length2=h.length,d.diffs.push(new e.Diff(s,h)));u.diffs.length!==0&&d.length1<c-this.Patch_Margin;){var p=u.diffs[0][0],v=u.diffs[0][1];p===r?(d.length2+=v.length,a+=v.length,d.diffs.push(u.diffs.shift()),f=!1):p===t&&d.diffs.length==1&&d.diffs[0][0]==s&&v.length>2*c?(d.length1+=v.length,g+=v.length,f=!1,d.diffs.push(new e.Diff(p,v)),u.diffs.shift()):(v=v.substring(0,c-d.length1-this.Patch_Margin),d.length1+=v.length,g+=v.length,p===s?(d.length2+=v.length,a+=v.length):f=!1,d.diffs.push(new e.Diff(p,v)),v==u.diffs[0][1]?u.diffs.shift():u.diffs[0][1]=u.diffs[0][1].substring(v.length))}h=this.diff_text2(d.diffs),h=h.substring(h.length-this.Patch_Margin);var y=this.diff_text1(u.diffs).substring(0,this.Patch_Margin);y!==""&&(d.length1+=y.length,d.length2+=y.length,d.diffs.length!==0&&d.diffs[d.diffs.length-1][0]===s?d.diffs[d.diffs.length-1][1]+=y:d.diffs.push(new e.Diff(s,y))),f||o.splice(++m,0,d)}}},e.prototype.patch_toText=function(o){for(var c=[],m=0;m<o.length;m++)c[m]=o[m];return c.join("")},e.prototype.patch_fromText=function(o){var c=[];if(!o)return c;for(var m=o.split(`
`),u=0,g=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;u<m.length;){var a=m[u].match(g);if(!a)throw new Error("Invalid patch string: "+m[u]);var h=new e.patch_obj;for(c.push(h),h.start1=parseInt(a[1],10),a[2]===""?(h.start1--,h.length1=1):a[2]=="0"?h.length1=0:(h.start1--,h.length1=parseInt(a[2],10)),h.start2=parseInt(a[3],10),a[4]===""?(h.start2--,h.length2=1):a[4]=="0"?h.length2=0:(h.start2--,h.length2=parseInt(a[4],10)),u++;u<m.length;){var d=m[u].charAt(0);try{var f=decodeURI(m[u].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+f)}if(d=="-")h.diffs.push(new e.Diff(t,f));else if(d=="+")h.diffs.push(new e.Diff(r,f));else if(d==" ")h.diffs.push(new e.Diff(s,f));else{if(d=="@")break;if(d!=="")throw new Error('Invalid patch mode "'+d+'" in: '+f)}u++}}return c},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var o,c;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?c=this.start2+",0":this.length2==1?c=this.start2+1:c=this.start2+1+","+this.length2;for(var m=["@@ -"+o+" +"+c+` @@
`],u,g=0;g<this.diffs.length;g++){switch(this.diffs[g][0]){case r:u="+";break;case t:u="-";break;case s:u=" ";break}m[g+1]=u+encodeURI(this.diffs[g][1])+`
`}return m.join("").replace(/%20/g," ")},n.exports=e,n.exports.diff_match_patch=e,n.exports.DIFF_DELETE=t,n.exports.DIFF_INSERT=r,n.exports.DIFF_EQUAL=s}(Fg)),Fg.exports}var l_;function tF(){if(l_)return eu;l_=1;var n=eu.__extends||function(){var c=function(m,u){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,a){g.__proto__=a}||function(g,a){for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(g[h]=a[h])},c(m,u)};return function(m,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");c(m,u);function g(){this.constructor=m}m.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}();Object.defineProperty(eu,"__esModule",{value:!0});var e=Af(),t=mc(),r=MT(),s=eF(),o=function(c){n(m,c);function m(u){var g=c.call(this,u)||this;return g.state={value:g.props.value},g.onChange=g.onChange.bind(g),g.diff=g.diff.bind(g),g}return m.prototype.componentDidUpdate=function(){var u=this.props.value;u!==this.state.value&&this.setState({value:u})},m.prototype.onChange=function(u){this.setState({value:u}),this.props.onChange&&this.props.onChange(u)},m.prototype.diff=function(){var u=new s,g=this.state.value[0],a=this.state.value[1];if(g.length===0&&a.length===0)return[];var h=u.diff_main(g,a);u.diff_cleanupSemantic(h);var d=this.generateDiffedLines(h),f=this.setCodeMarkers(d);return f},m.prototype.generateDiffedLines=function(u){var g={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},a={left:[],right:[]},h={left:1,right:1};return u.forEach(function(d){var f=d[0],p=d[1],v=p.split(`
`).length-1;if(p.length!==0){var y=p[0],C=p[p.length-1],A=0;switch(f){case g.DIFF_EQUAL:h.left+=v,h.right+=v;break;case g.DIFF_DELETE:y===`
`&&(h.left++,v--),A=v,A===0&&a.right.push({startLine:h.right,endLine:h.right}),C===`
`&&(A-=1),a.left.push({startLine:h.left,endLine:h.left+A}),h.left+=v;break;case g.DIFF_INSERT:y===`
`&&(h.right++,v--),A=v,A===0&&a.left.push({startLine:h.left,endLine:h.left}),C===`
`&&(A-=1),a.right.push({startLine:h.right,endLine:h.right+A}),h.right+=v;break;default:throw new Error("Diff type was not defined.")}}}),a},m.prototype.setCodeMarkers=function(u){u===void 0&&(u={left:[],right:[]});for(var g=[],a={left:[],right:[]},h=0;h<u.left.length;h++){var d={startRow:u.left[h].startLine-1,endRow:u.left[h].endLine,type:"text",className:"codeMarker"};a.left.push(d)}for(var h=0;h<u.right.length;h++){var d={startRow:u.right[h].startLine-1,endRow:u.right[h].endLine,type:"text",className:"codeMarker"};a.right.push(d)}return g[0]=a.left,g[1]=a.right,g},m.prototype.render=function(){var u=this.diff();return t.createElement(r.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:u})},m.propTypes={cursorStart:e.number,editorProps:e.object,enableBasicAutocompletion:e.bool,enableLiveAutocompletion:e.bool,focus:e.bool,fontSize:e.number,height:e.string,highlightActiveLine:e.bool,maxLines:e.number,minLines:e.number,mode:e.string,name:e.string,className:e.string,onLoad:e.func,onPaste:e.func,onScroll:e.func,onChange:e.func,orientation:e.string,readOnly:e.bool,scrollMargin:e.array,setOptions:e.object,showGutter:e.bool,showPrintMargin:e.bool,splits:e.number,style:e.object,tabSize:e.number,theme:e.string,value:e.array,width:e.string,wrapEnabled:e.bool},m.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},m}(t.Component);return eu.default=o,eu}var c_;function nF(){if(c_)return ra;c_=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.diff=ra.split=void 0;var n=XN(),e=tF();ra.diff=e.default;var t=MT();return ra.split=t.default,ra.default=n.default,ra}var rF=nF();const iF=dl(rF);var oF=$u();const sF=dl(oF),aF=async(n,e)=>{if(!n||!e)throw new Error("請填寫所有欄位！");try{const t=await nS($d(Cs,"lessons"),{title:n,content:e,createdAt:rl(),lastUpdated:rl()});return console.log("✅ 教材已成功上傳，文件 ID:",t.id),t.id}catch(t){return console.error("🔥 上傳教材失敗:",t),t}},lF=async(n,e,t,r,s)=>{if(!n||!e||!t||!r)throw new Error("請填寫所有欄位！");try{const o=await nS($d(Cs,"quiz"),{title:n,tag:e,question:t,code:r,codeLabels:s,createdAt:rl(),lastUpdated:rl()});return console.log("✅ 題目已成功上傳，文件 ID:",o.id),o.id}catch(o){throw console.error("🔥 上傳題目失敗:",o),o}},Hv=async(n,e)=>{if(!n||!e)throw new Error("請提供集合名稱和文件 ID！");try{const t=Ho(Cs,n,e);await IR(t),console.log("✅ 文件已成功刪除，文件 ID:",e)}catch(t){throw console.error("🔥 刪除文件失敗:",t),t}};async function cF(n){const e=Ho(Cs,"test",n),t=await zu(e);return t.exists()?t.data():null}var Bg={exports:{}},u_;function uF(){return u_||(u_=1,function(n,e){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,r,s){var o=t("../lib/oop"),c=t("./text_highlight_rules").TextHighlightRules,m=function(){var u="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",g="True|False|None|NotImplemented|Ellipsis|__debug__",a="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",h=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":a,"variable.language":"self|cls","constant.language":g,keyword:u},"identifier"),d="[uU]?",f="[rR]",p="[fF]",v="(?:[rR][fF]|[fF][rR])",y="(?:(?:[1-9]\\d*)|(?:0))",C="(?:0[oO]?[0-7]+)",A="(?:0[xX][\\dA-Fa-f]+)",F="(?:0[bB][01]+)",O="(?:"+y+"|"+C+"|"+A+"|"+F+")",$="(?:[eE][+-]?\\d+)",_="(?:\\.\\d+)",E="(?:\\d+)",I="(?:(?:"+E+"?"+_+")|(?:"+E+"\\.))",M="(?:(?:"+I+"|"+E+")"+$+")",P="(?:"+M+"|"+I+")",V=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:d+'"{3}',next:"qqstring3"},{token:"string",regex:d+'"(?=.)',next:"qqstring"},{token:"string",regex:d+"'{3}",next:"qstring3"},{token:"string",regex:d+"'(?=.)",next:"qstring"},{token:"string",regex:f+'"{3}',next:"rawqqstring3"},{token:"string",regex:f+'"(?=.)',next:"rawqqstring"},{token:"string",regex:f+"'{3}",next:"rawqstring3"},{token:"string",regex:f+"'(?=.)",next:"rawqstring"},{token:"string",regex:p+'"{3}',next:"fqqstring3"},{token:"string",regex:p+'"(?=.)',next:"fqqstring"},{token:"string",regex:p+"'{3}",next:"fqstring3"},{token:"string",regex:p+"'(?=.)",next:"fqstring"},{token:"string",regex:v+'"{3}',next:"rfqqstring3"},{token:"string",regex:v+'"(?=.)',next:"rfqqstring"},{token:"string",regex:v+"'{3}",next:"rfqstring3"},{token:"string",regex:v+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:V},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:V},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:V},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:V},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:V},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:V},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:V},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:V},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+P+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:P},{token:"constant.numeric",regex:O+"[lL]\\b"},{token:"constant.numeric",regex:O+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:h,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};o.inherits(m,c),r.PythonHighlightRules=m}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(t,r,s){var o=t("../../lib/oop"),c=t("./fold_mode").FoldMode,m=r.FoldMode=function(u){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+u+")(?:\\s*)(?:#.*)?$")};o.inherits(m,c),(function(){this.getFoldWidgetRange=function(u,g,a){var h=u.getLine(a),d=h.match(this.foldingStartMarker);if(d)return d[1]?this.openingBracketBlock(u,d[1],a,d.index):d[2]?this.indentationBlock(u,a,d.index+d[2].length):this.indentationBlock(u,a)}}).call(m.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(t,r,s){var o=t("../lib/oop"),c=t("./text").Mode,m=t("./python_highlight_rules").PythonHighlightRules,u=t("./folding/pythonic").FoldMode,g=t("../range").Range,a=function(){this.HighlightRules=m,this.foldingRules=new u("\\:"),this.$behaviour=this.$defaultBehaviour};o.inherits(a,c),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function(d,f,p){var v=this.$getIndent(f),y=this.getTokenizer().getLineTokens(f,d),C=y.tokens;if(C.length&&C[C.length-1].type=="comment")return v;if(d=="start"){var A=f.match(/^.*[\{\(\[:]\s*$/);A&&(v+=p)}return v};var h={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(d,f,p){if(p!==`\r
`&&p!=="\r"&&p!==`
`)return!1;var v=this.getTokenizer().getLineTokens(f.trim(),d).tokens;if(!v)return!1;do var y=v.pop();while(y&&(y.type=="comment"||y.type=="text"&&y.value.match(/^\s+$/)));return y?y.type=="keyword"&&h[y.value]:!1},this.autoOutdent=function(d,f,p){p+=1;var v=this.$getIndent(f.getLine(p)),y=f.getTabString();v.slice(-y.length)==y&&f.remove(new g(p,v.length-y.length,p,v.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(a.prototype),r.Mode=a}),function(){ace.require(["ace/mode/python"],function(t){n.exports=t})}()}(Bg)),Bg.exports}uF();var Vg={exports:{}},h_;function hF(){return h_||(h_=1,function(n,e){ace.define("ace/theme/github-css",["require","exports","module"],function(t,r,s){s.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],function(t,r,s){r.isDark=!1,r.cssClass="ace-github",r.cssText=t("./github-css");var o=t("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/github"],function(t){n.exports=t})}()}(Vg)),Vg.exports}hF();var zg={exports:{}},d_;function dF(){return d_||(d_=1,function(n,e){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(t,r,s){var o=t("./lib/dom"),c=t("./lib/oop"),m=t("./lib/event_emitter").EventEmitter,u=t("./lib/lang"),g=t("./range").Range,a=t("./range_list").RangeList,h=t("./keyboard/hash_handler").HashHandler,d=t("./tokenizer").Tokenizer,f=t("./clipboard"),p={CURRENT_WORD:function(_){return _.session.getTextRange(_.session.getWordRange())},SELECTION:function(_,E,I){var M=_.session.getTextRange();return I?M.replace(/\n\r?([ \t]*\S)/g,`
`+I+"$1"):M},CURRENT_LINE:function(_){return _.session.getLine(_.getCursorPosition().row)},PREV_LINE:function(_){return _.session.getLine(_.getCursorPosition().row-1)},LINE_INDEX:function(_){return _.getCursorPosition().row},LINE_NUMBER:function(_){return _.getCursorPosition().row+1},SOFT_TABS:function(_){return _.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(_){return _.session.getTabSize()},CLIPBOARD:function(_){return f.getText&&f.getText()},FILENAME:function(_){return/[^/\\]*$/.exec(this.FILEPATH(_))[0]},FILENAME_BASE:function(_){return/[^/\\]*$/.exec(this.FILEPATH(_))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(_){return this.FILEPATH(_).replace(/[^/\\]*$/,"")},FILEPATH:function(_){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(_){var E=_.session.$mode||{};return E.blockComment&&E.blockComment.start||""},BLOCK_COMMENT_END:function(_){var E=_.session.$mode||{};return E.blockComment&&E.blockComment.end||""},LINE_COMMENT:function(_){var E=_.session.$mode||{};return E.lineCommentStart||""},CURRENT_YEAR:v.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:v.bind(null,{year:"2-digit"}),CURRENT_MONTH:v.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:v.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:v.bind(null,{month:"short"}),CURRENT_DATE:v.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:v.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:v.bind(null,{weekday:"short"}),CURRENT_HOUR:v.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:v.bind(null,{minute:"2-digit"}),CURRENT_SECOND:v.bind(null,{second:"2-digit"})};p.SELECTED_TEXT=p.SELECTION;function v(_){var E=new Date().toLocaleString("en-us",_);return E.length==1?"0"+E:E}var y=function(){function _(){this.snippetMap={},this.snippetNameMap={},this.variables=p}return _.prototype.getTokenizer=function(){return _.$tokenizer||this.createTokenizer()},_.prototype.createTokenizer=function(){function E(P){return P=P.substr(1),/^\d+$/.test(P)?[{tabstopId:parseInt(P,10)}]:[{text:P}]}function I(P){return"(?:[^\\\\"+P+"]|\\\\.)"}var M={regex:"/("+I("/")+"+)/",onMatch:function(P,V,S){var w=S[0];return w.fmtString=!0,w.guard=P.slice(1,-1),w.flag="",""},next:"formatString"};return _.$tokenizer=new d({start:[{regex:/\\./,onMatch:function(P,V,S){var w=P[1];return(w=="}"&&S.length||"`$\\".indexOf(w)!=-1)&&(P=w),[P]}},{regex:/}/,onMatch:function(P,V,S){return[S.length?S.shift():P]}},{regex:/\$(?:\d+|\w+)/,onMatch:E},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(P,V,S){var w=E(P.substr(1));return S.unshift(w[0]),w},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+I("\\|")+"*\\|",onMatch:function(P,V,S){var w=P.slice(1,-1).replace(/\\[,|\\]|,/g,function(L){return L.length==2?L[1]:"\0"}).split("\0").map(function(L){return{value:L}});return S[0].choices=w,[w[0]]},next:"start"},M,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(P,V,S){return S.length&&S[0].expectElse?(S[0].expectElse=!1,S[0].ifEnd={elseEnd:S[0]},[S[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(P,V,S){var w=P[1];return w=="}"&&S.length||"`$\\".indexOf(w)!=-1?P=w:w=="n"?P=`
`:w=="t"?P="	":"ulULE".indexOf(w)!=-1&&(P={changeCase:w,local:w>"a"}),[P]}},{regex:"/\\w*}",onMatch:function(P,V,S){var w=S.shift();return w&&(w.flag=P.slice(1,-1)),this.next=w&&w.tabstopId?"start":"",[w||P]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(P,V,S){return[{text:P.slice(1)}]}},{regex:/\${\w+/,onMatch:function(P,V,S){var w={text:P.slice(2)};return S.unshift(w),[w]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(P,V,S){var w=S.shift();return this.next=w&&w.tabstopId?"start":"",[w||P]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(P,V,S){var w=S[0];return w.formatFunction=P.slice(2,-1),[S.shift()]},next:"formatString"},M,{regex:/:[\?\-+]?/,onMatch:function(P,V,S){P[1]=="+"&&(S[0].ifEnd=S[0]),P[1]=="?"&&(S[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),_.$tokenizer},_.prototype.tokenizeTmSnippet=function(E,I){return this.getTokenizer().getLineTokens(E,I).tokens.map(function(M){return M.value||M})},_.prototype.getVariableValue=function(E,I,M){if(/^\d+$/.test(I))return(this.variables.__||{})[I]||"";if(/^[A-Z]\d+$/.test(I))return(this.variables[I[0]+"__"]||{})[I.substr(1)]||"";if(I=I.replace(/^TM_/,""),!this.variables.hasOwnProperty(I))return"";var P=this.variables[I];return typeof P=="function"&&(P=this.variables[I](E,I,M)),P??""},_.prototype.tmStrFormat=function(E,I,M){if(!I.fmt)return E;var P=I.flag||"",V=I.guard;V=new RegExp(V,P.replace(/[^gim]/g,""));var S=typeof I.fmt=="string"?this.tokenizeTmSnippet(I.fmt,"formatString"):I.fmt,w=this,L=E.replace(V,function(){var N=w.variables.__;w.variables.__=[].slice.call(arguments);for(var z=w.resolveVariables(S,M),q="E",K=0;K<z.length;K++){var J=z[K];if(typeof J=="object")if(z[K]="",J.changeCase&&J.local){var Q=z[K+1];Q&&typeof Q=="string"&&(J.changeCase=="u"?z[K]=Q[0].toUpperCase():z[K]=Q[0].toLowerCase(),z[K+1]=Q.substr(1))}else J.changeCase&&(q=J.changeCase);else q=="U"?z[K]=J.toUpperCase():q=="L"&&(z[K]=J.toLowerCase())}return w.variables.__=N,z.join("")});return L},_.prototype.tmFormatFunction=function(E,I,M){return I.formatFunction=="upcase"?E.toUpperCase():I.formatFunction=="downcase"?E.toLowerCase():E},_.prototype.resolveVariables=function(E,I){for(var M=[],P="",V=!0,S=0;S<E.length;S++){var w=E[S];if(typeof w=="string"){M.push(w),w==`
`?(V=!0,P=""):V&&(P=/^\t*/.exec(w)[0],V=/\S/.test(w));continue}if(w){if(V=!1,w.fmtString){var L=E.indexOf(w,S+1);L==-1&&(L=E.length),w.fmt=E.slice(S+1,L),S=L}if(w.text){var N=this.getVariableValue(I,w.text,P)+"";w.fmtString&&(N=this.tmStrFormat(N,w,I)),w.formatFunction&&(N=this.tmFormatFunction(N,w,I)),N&&!w.ifEnd?(M.push(N),z(w)):!N&&w.ifEnd&&z(w.ifEnd)}else w.elseEnd?z(w.elseEnd):(w.tabstopId!=null||w.changeCase!=null)&&M.push(w)}}function z(q){var K=E.indexOf(q,S+1);K!=-1&&(S=K)}return M},_.prototype.getDisplayTextForSnippet=function(E,I){var M=C.call(this,E,I);return M.text},_.prototype.insertSnippetForSelection=function(E,I,M){M===void 0&&(M={});var P=C.call(this,E,I,M),V=E.getSelectionRange(),S=E.session.replace(V,P.text),w=new A(E),L=E.inVirtualSelectionMode&&E.selection.index;w.addTabstops(P.tabstops,V.start,S,L)},_.prototype.insertSnippet=function(E,I,M){M===void 0&&(M={});var P=this;if(E.inVirtualSelectionMode)return P.insertSnippetForSelection(E,I,M);E.forEachSelection(function(){P.insertSnippetForSelection(E,I,M)},null,{keepOrder:!0}),E.tabstopManager&&E.tabstopManager.tabNext()},_.prototype.$getScope=function(E){var I=E.session.$mode.$id||"";if(I=I.split("/").pop(),I==="html"||I==="php"){I==="php"&&!E.session.$mode.inlinePhp&&(I="html");var M=E.getCursorPosition(),P=E.session.getState(M.row);typeof P=="object"&&(P=P[0]),P.substring&&(P.substring(0,3)=="js-"?I="javascript":P.substring(0,4)=="css-"?I="css":P.substring(0,4)=="php-"&&(I="php"))}return I},_.prototype.getActiveScopes=function(E){var I=this.$getScope(E),M=[I],P=this.snippetMap;return P[I]&&P[I].includeScopes&&M.push.apply(M,P[I].includeScopes),M.push("_"),M},_.prototype.expandWithTab=function(E,I){var M=this,P=E.forEachSelection(function(){return M.expandSnippetForSelection(E,I)},null,{keepOrder:!0});return P&&E.tabstopManager&&E.tabstopManager.tabNext(),P},_.prototype.expandSnippetForSelection=function(E,I){var M=E.getCursorPosition(),P=E.session.getLine(M.row),V=P.substring(0,M.column),S=P.substr(M.column),w=this.snippetMap,L;return this.getActiveScopes(E).some(function(N){var z=w[N];return z&&(L=this.findMatchingSnippet(z,V,S)),!!L},this),L?(I&&I.dryRun||(E.session.doc.removeInLine(M.row,M.column-L.replaceBefore.length,M.column+L.replaceAfter.length),this.variables.M__=L.matchBefore,this.variables.T__=L.matchAfter,this.insertSnippetForSelection(E,L.content),this.variables.M__=this.variables.T__=null),!0):!1},_.prototype.findMatchingSnippet=function(E,I,M){for(var P=E.length;P--;){var V=E[P];if(!(V.startRe&&!V.startRe.test(I))&&!(V.endRe&&!V.endRe.test(M))&&!(!V.startRe&&!V.endRe))return V.matchBefore=V.startRe?V.startRe.exec(I):[""],V.matchAfter=V.endRe?V.endRe.exec(M):[""],V.replaceBefore=V.triggerRe?V.triggerRe.exec(I)[0]:"",V.replaceAfter=V.endTriggerRe?V.endTriggerRe.exec(M)[0]:"",V}},_.prototype.register=function(E,I){var M=this.snippetMap,P=this.snippetNameMap,V=this;E||(E=[]);function S(N){return N&&!/^\^?\(.*\)\$?$|^\\b$/.test(N)&&(N="(?:"+N+")"),N||""}function w(N,z,q){return N=S(N),z=S(z),N=z+N,N&&N[N.length-1]!="$"&&(N=N+"$"),new RegExp(N)}function L(N){N.scope||(N.scope=I||"_"),I=N.scope,M[I]||(M[I]=[],P[I]={});var z=P[I];if(N.name){var q=z[N.name];q&&V.unregister(q),z[N.name]=N}M[I].push(N),N.prefix&&(N.tabTrigger=N.prefix),!N.content&&N.body&&(N.content=Array.isArray(N.body)?N.body.join(`
`):N.body),N.tabTrigger&&!N.trigger&&(!N.guard&&/^\w/.test(N.tabTrigger)&&(N.guard="\\b"),N.trigger=u.escapeRegExp(N.tabTrigger)),!(!N.trigger&&!N.guard&&!N.endTrigger&&!N.endGuard)&&(N.startRe=w(N.trigger,N.guard),N.triggerRe=new RegExp(N.trigger),N.endRe=w(N.endTrigger,N.endGuard),N.endTriggerRe=new RegExp(N.endTrigger))}Array.isArray(E)?E.forEach(L):Object.keys(E).forEach(function(N){L(E[N])}),this._signal("registerSnippets",{scope:I})},_.prototype.unregister=function(E,I){var M=this.snippetMap,P=this.snippetNameMap;function V(S){var w=P[S.scope||I];if(w&&w[S.name]){delete w[S.name];var L=M[S.scope||I],N=L&&L.indexOf(S);N>=0&&L.splice(N,1)}}E.content?V(E):Array.isArray(E)&&E.forEach(V)},_.prototype.parseSnippetFile=function(E){E=E.replace(/\r/g,"");for(var I=[],M={},P=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,V;V=P.exec(E);){if(V[1])try{M=JSON.parse(V[1]),I.push(M)}catch{}if(V[4])M.content=V[4].replace(/^\t/gm,""),I.push(M),M={};else{var S=V[2],w=V[3];if(S=="regex"){var L=/\/((?:[^\/\\]|\\.)*)|$/g;M.guard=L.exec(w)[1],M.trigger=L.exec(w)[1],M.endTrigger=L.exec(w)[1],M.endGuard=L.exec(w)[1]}else S=="snippet"?(M.tabTrigger=w.match(/^\S*/)[0],M.name||(M.name=w)):S&&(M[S]=w)}}return I},_.prototype.getSnippetByName=function(E,I){var M=this.snippetNameMap,P;return this.getActiveScopes(I).some(function(V){var S=M[V];return S&&(P=S[E]),!!P},this),P},_}();c.implement(y.prototype,m);var C=function(_,E,I){I===void 0&&(I={});var M=_.getCursorPosition(),P=_.session.getLine(M.row),V=_.session.getTabString(),S=P.match(/^\s*/)[0];M.column<S.length&&(S=S.slice(0,M.column)),E=E.replace(/\r/g,"");var w=this.tokenizeTmSnippet(E);w=this.resolveVariables(w,_),w=w.map(function(ae){return ae==`
`&&!I.excludeExtraIndent?ae+S:typeof ae=="string"?ae.replace(/\t/g,V):ae});var L=[];w.forEach(function(ae,pe){if(typeof ae=="object"){var Ee=ae.tabstopId,me=L[Ee];if(me||(me=L[Ee]=[],me.index=Ee,me.value="",me.parents={}),me.indexOf(ae)===-1){ae.choices&&!me.choices&&(me.choices=ae.choices),me.push(ae);var Ae=w.indexOf(ae,pe+1);if(Ae!==-1){var $e=w.slice(pe+1,Ae),Qe=$e.some(function(ut){return typeof ut=="object"});Qe&&!me.value?me.value=$e:$e.length&&(!me.value||typeof me.value!="string")&&(me.value=$e.join(""))}}}}),L.forEach(function(ae){ae.length=0});var N={};function z(ae){for(var pe=[],Ee=0;Ee<ae.length;Ee++){var me=ae[Ee];if(typeof me=="object"){if(N[me.tabstopId])continue;var Ae=ae.lastIndexOf(me,Ee-1);me=pe[Ae]||{tabstopId:me.tabstopId}}pe[Ee]=me}return pe}for(var q=0;q<w.length;q++){var K=w[q];if(typeof K=="object"){var J=K.tabstopId,Q=L[J],U=w.indexOf(K,q+1);if(N[J]){N[J]===K&&(delete N[J],Object.keys(N).forEach(function(ae){Q.parents[ae]=!0}));continue}N[J]=K;var re=Q.value;typeof re!="string"?re=z(re):K.fmt&&(re=this.tmStrFormat(re,K,_)),w.splice.apply(w,[q+1,Math.max(0,U-q)].concat(re,K)),Q.indexOf(K)===-1&&Q.push(K)}}var Z=0,he=0,ue="";return w.forEach(function(ae){if(typeof ae=="string"){var pe=ae.split(`
`);pe.length>1?(he=pe[pe.length-1].length,Z+=pe.length-1):he+=ae.length,ue+=ae}else ae&&(ae.start?ae.end={row:Z,column:he}:ae.start={row:Z,column:he})}),{text:ue,tabstops:L,tokens:w}},A=function(){function _(E){if(this.index=0,this.ranges=[],this.tabstops=[],E.tabstopManager)return E.tabstopManager;E.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=u.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(E)}return _.prototype.attach=function(E){this.$openTabstops=null,this.selectedTabstop=null,this.editor=E,this.session=E.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},_.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},_.prototype.onChange=function(E){for(var I=E.action[0]=="r",M=this.selectedTabstop||{},P=M.parents||{},V=this.tabstops.slice(),S=0;S<V.length;S++){var w=V[S],L=w==M||P[w.index];if(w.rangeList.$bias=L?0:1,E.action=="remove"&&w!==M){var N=w.parents&&w.parents[M.index],z=w.rangeList.pointIndex(E.start,N);z=z<0?-z-1:z+1;var q=w.rangeList.pointIndex(E.end,N);q=q<0?-q-1:q-1;for(var K=w.rangeList.ranges.slice(z,q),J=0;J<K.length;J++)this.removeRange(K[J])}w.rangeList.$onChange(E)}var Q=this.session;!this.$inChange&&I&&Q.getLength()==1&&!Q.getValue()&&this.detach()},_.prototype.updateLinkedFields=function(){var E=this.selectedTabstop;if(!(!E||!E.hasLinkedRanges||!E.firstNonLinked)){this.$inChange=!0;for(var I=this.session,M=I.getTextRange(E.firstNonLinked),P=0;P<E.length;P++){var V=E[P];if(V.linked){var S=V.original,w=r.snippetManager.tmStrFormat(M,S,this.editor);I.replace(V,w)}}this.$inChange=!1}},_.prototype.onAfterExec=function(E){E.command&&!E.command.readOnly&&this.updateLinkedFields()},_.prototype.onChangeSelection=function(){if(this.editor){for(var E=this.editor.selection.lead,I=this.editor.selection.anchor,M=this.editor.selection.isEmpty(),P=0;P<this.ranges.length;P++)if(!this.ranges[P].linked){var V=this.ranges[P].contains(E.row,E.column),S=M||this.ranges[P].contains(I.row,I.column);if(V&&S)return}this.detach()}},_.prototype.onChangeSession=function(){this.detach()},_.prototype.tabNext=function(E){var I=this.tabstops.length,M=this.index+(E||1);M=Math.min(Math.max(M,1),I),M==I&&(M=0),this.selectTabstop(M),this.updateTabstopMarkers(),M===0&&this.detach()},_.prototype.selectTabstop=function(E){this.$openTabstops=null;var I=this.tabstops[this.index];if(I&&this.addTabstopMarkers(I),this.index=E,I=this.tabstops[this.index],!(!I||!I.length)){this.selectedTabstop=I;var M=I.firstNonLinked||I;if(I.choices&&(M.cursor=M.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(M);else{var P=this.editor.multiSelect;P.toSingleRange(M);for(var V=0;V<I.length;V++)I.hasLinkedRanges&&I[V].linked||P.addRange(I[V].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},_.prototype.addTabstops=function(E,I,M){var P=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!E[0]){var V=g.fromPoints(M,M);O(V.start,I),O(V.end,I),E[0]=[V],E[0].index=0}var S=this.index,w=[S+1,0],L=this.ranges,N=this.snippetId=(this.snippetId||0)+1;E.forEach(function(z,q){var K=this.$openTabstops[q]||z;K.snippetId=N;for(var J=0;J<z.length;J++){var Q=z[J],U=g.fromPoints(Q.start,Q.end||Q.start);F(U.start,I),F(U.end,I),U.original=Q,U.tabstop=K,L.push(U),K!=z?K.unshift(U):K[J]=U,Q.fmtString||K.firstNonLinked&&P?(U.linked=!0,K.hasLinkedRanges=!0):K.firstNonLinked||(K.firstNonLinked=U)}K.firstNonLinked||(K.hasLinkedRanges=!1),K===z&&(w.push(K),this.$openTabstops[q]=K),this.addTabstopMarkers(K),K.rangeList=K.rangeList||new a,K.rangeList.$bias=0,K.rangeList.addList(K)},this),w.length>2&&(this.tabstops.length&&w.push(w.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,w))},_.prototype.addTabstopMarkers=function(E){var I=this.session;E.forEach(function(M){M.markerId||(M.markerId=I.addMarker(M,"ace_snippet-marker","text"))})},_.prototype.removeTabstopMarkers=function(E){var I=this.session;E.forEach(function(M){I.removeMarker(M.markerId),M.markerId=null})},_.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var E=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&E--,this.tabstops.forEach(function(I){I.snippetId===E?this.addTabstopMarkers(I):this.removeTabstopMarkers(I)},this)}},_.prototype.removeRange=function(E){var I=E.tabstop.indexOf(E);I!=-1&&E.tabstop.splice(I,1),I=this.ranges.indexOf(E),I!=-1&&this.ranges.splice(I,1),I=E.tabstop.rangeList.ranges.indexOf(E),I!=-1&&E.tabstop.splice(I,1),this.session.removeMarker(E.markerId),E.tabstop.length||(I=this.tabstops.indexOf(E.tabstop),I!=-1&&this.tabstops.splice(I,1),this.tabstops.length||this.detach())},_}();A.prototype.keyboardHandler=new h,A.prototype.keyboardHandler.bindKeys({Tab:function(_){r.snippetManager&&r.snippetManager.expandWithTab(_)||(_.tabstopManager.tabNext(1),_.renderer.scrollCursorIntoView())},"Shift-Tab":function(_){_.tabstopManager.tabNext(-1),_.renderer.scrollCursorIntoView()},Esc:function(_){_.tabstopManager.detach()}});var F=function(_,E){_.row==0&&(_.column+=E.column),_.row+=E.row},O=function(_,E){_.row==E.row&&(_.column-=E.column),_.row-=E.row};o.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),r.snippetManager=new y;var $=t("./editor").Editor;(function(){this.insertSnippet=function(_,E){return r.snippetManager.insertSnippet(this,_,E)},this.expandSnippet=function(_){return r.snippetManager.expandWithTab(this,_)}}).call($.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(t,r,s){var o=t("../virtual_renderer").VirtualRenderer,c=t("../editor").Editor,m=t("../range").Range,u=t("../lib/event"),g=t("../lib/lang"),a=t("../lib/dom"),h=t("../config").nls,d=t("./../lib/useragent"),f=function(F){return"suggest-aria-id:".concat(F)},p=d.isSafari?"menu":"listbox",v=d.isSafari?"menuitem":"option",y=d.isSafari?"aria-current":"aria-selected",C=function(F){var O=new o(F);O.$maxLines=4;var $=new c(O);return $.setHighlightActiveLine(!1),$.setShowPrintMargin(!1),$.renderer.setShowGutter(!1),$.renderer.setHighlightGutterLine(!1),$.$mouseHandler.$focusTimeout=0,$.$highlightTagPending=!0,$},A=function(){function F(O){var $=a.createElement("div"),_=C($);O&&O.appendChild($),$.style.display="none",_.renderer.content.style.cursor="default",_.renderer.setStyle("ace_autocomplete"),_.renderer.$textLayer.element.setAttribute("role",p),_.renderer.$textLayer.element.setAttribute("aria-roledescription",h("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),_.renderer.$textLayer.element.setAttribute("aria-label",h("autocomplete.popup.aria-label","Autocomplete suggestions")),_.renderer.textarea.setAttribute("aria-hidden","true"),_.setOption("displayIndentGuides",!1),_.setOption("dragDelay",150);var E=function(){};_.focus=E,_.$isFocused=!0,_.renderer.$cursorLayer.restartTimer=E,_.renderer.$cursorLayer.element.style.opacity="0",_.renderer.$maxLines=8,_.renderer.$keepTextAreaAtCursor=!1,_.setHighlightActiveLine(!1),_.session.highlight(""),_.session.$searchHighlight.clazz="ace_highlight-marker",_.on("mousedown",function(L){var N=L.getDocumentPosition();_.selection.moveToPosition(N),P.start.row=P.end.row=N.row,L.stop()});var I,M=new m(-1,0,-1,1/0),P=new m(-1,0,-1,1/0);P.id=_.session.addMarker(P,"ace_active-line","fullLine"),_.setSelectOnHover=function(L){L?M.id&&(_.session.removeMarker(M.id),M.id=null):M.id=_.session.addMarker(M,"ace_line-hover","fullLine")},_.setSelectOnHover(!1),_.on("mousemove",function(L){if(!I){I=L;return}if(!(I.x==L.x&&I.y==L.y)){I=L,I.scrollTop=_.renderer.scrollTop,_.isMouseOver=!0;var N=I.getDocumentPosition().row;M.start.row!=N&&(M.id||_.setRow(N),S(N))}}),_.renderer.on("beforeRender",function(){if(I&&M.start.row!=-1){I.$pos=null;var L=I.getDocumentPosition().row;M.id||_.setRow(L),S(L,!0)}}),_.renderer.on("afterRender",function(){var L=_.getRow(),N=_.renderer.$textLayer,z=N.element.childNodes[L-N.config.firstRow],q=document.activeElement;if(z!==_.selectedNode&&_.selectedNode&&(a.removeCssClass(_.selectedNode,"ace_selected"),q.removeAttribute("aria-activedescendant"),_.selectedNode.removeAttribute(y),_.selectedNode.removeAttribute("id")),_.selectedNode=z,z){a.addCssClass(z,"ace_selected");var K=f(L);z.id=K,N.element.setAttribute("aria-activedescendant",K),q.setAttribute("aria-activedescendant",K),z.setAttribute("role",v),z.setAttribute("aria-roledescription",h("autocomplete.popup.item.aria-roledescription","item")),z.setAttribute("aria-label",_.getData(L).caption||_.getData(L).value),z.setAttribute("aria-setsize",_.data.length),z.setAttribute("aria-posinset",L+1),z.setAttribute("aria-describedby","doc-tooltip"),z.setAttribute(y,"true")}});var V=function(){S(-1)},S=function(L,N){L!==M.start.row&&(M.start.row=M.end.row=L,N||_.session._emit("changeBackMarker"),_._emit("changeHoverMarker"))};_.getHoveredRow=function(){return M.start.row},u.addListener(_.container,"mouseout",function(){_.isMouseOver=!1,V()}),_.on("hide",V),_.on("changeSelection",V),_.session.doc.getLength=function(){return _.data.length},_.session.doc.getLine=function(L){var N=_.data[L];return typeof N=="string"?N:N&&N.value||""};var w=_.session.bgTokenizer;return w.$tokenizeRow=function(L){var N=_.data[L],z=[];if(!N)return z;typeof N=="string"&&(N={value:N});var q=N.caption||N.value||N.name;function K(ae,pe){ae&&z.push({type:(N.className||"")+(pe||""),value:ae})}for(var J=q.toLowerCase(),Q=(_.filterText||"").toLowerCase(),U=0,re=0,Z=0;Z<=Q.length;Z++)if(Z!=re&&(N.matchMask&1<<Z||Z==Q.length)){var he=Q.slice(re,Z);re=Z;var ue=J.indexOf(he,U);if(ue==-1)continue;K(q.slice(U,ue),""),U=ue+he.length,K(q.slice(ue,U),"completion-highlight")}return K(q.slice(U,q.length),""),z.push({type:"completion-spacer",value:" "}),N.meta&&z.push({type:"completion-meta",value:N.meta}),N.message&&z.push({type:"completion-message",value:N.message}),z},w.$updateOnChange=E,w.start=E,_.session.$computeWidth=function(){return this.screenWidth=0},_.isOpen=!1,_.isTopdown=!1,_.autoSelect=!0,_.filterText="",_.isMouseOver=!1,_.data=[],_.setData=function(L,N){_.filterText=N||"",_.setValue(g.stringRepeat(`
`,L.length),-1),_.data=L||[],_.setRow(0)},_.getData=function(L){return _.data[L]},_.getRow=function(){return P.start.row},_.setRow=function(L){L=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,L)),P.start.row!=L&&(_.selection.clearSelection(),P.start.row=P.end.row=L||0,_.session._emit("changeBackMarker"),_.moveCursorTo(L||0,0),_.isOpen&&_._signal("select"))},_.on("changeSelection",function(){_.isOpen&&_.setRow(_.selection.lead.row),_.renderer.scrollCursorIntoView()}),_.hide=function(){this.container.style.display="none",_.anchorPos=null,_.anchor=null,_.isOpen&&(_.isOpen=!1,this._signal("hide"))},_.tryShow=function(L,N,z,q){if(!q&&_.isOpen&&_.anchorPos&&_.anchor&&_.anchorPos.top===L.top&&_.anchorPos.left===L.left&&_.anchor===z)return!0;var K=this.container,J=window.innerHeight,Q=window.innerWidth,U=this.renderer,re=U.$maxLines*N*1.4,Z={top:0,bottom:0,left:0},he=J-L.top-3*this.$borderSize-N,ue=L.top-3*this.$borderSize;z||(ue<=he||he>=re?z="bottom":z="top"),z==="top"?(Z.bottom=L.top-this.$borderSize,Z.top=Z.bottom-re):z==="bottom"&&(Z.top=L.top+N+this.$borderSize,Z.bottom=Z.top+re);var ae=Z.top>=0&&Z.bottom<=J;if(!q&&!ae)return!1;ae?U.$maxPixelHeight=null:z==="top"?U.$maxPixelHeight=ue:U.$maxPixelHeight=he,z==="top"?(K.style.top="",K.style.bottom=J-Z.bottom+"px",_.isTopdown=!1):(K.style.top=Z.top+"px",K.style.bottom="",_.isTopdown=!0),K.style.display="";var pe=L.left;return pe+K.offsetWidth>Q&&(pe=Q-K.offsetWidth),K.style.left=pe+"px",K.style.right="",_.isOpen||(_.isOpen=!0,this._signal("show"),I=null),_.anchorPos=L,_.anchor=z,!0},_.show=function(L,N,z){this.tryShow(L,N,z?"bottom":void 0,!0)},_.goTo=function(L){var N=this.getRow(),z=this.session.getLength()-1;switch(L){case"up":N=N<=0?z:N-1;break;case"down":N=N>=z?-1:N+1;break;case"start":N=0;break;case"end":N=z;break}this.setRow(N)},_.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},_.$imageSize=0,_.$borderSize=1,_}return F}();a.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),r.AcePopup=A,r.$singleLineEditor=C,r.getAriaId=f}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(t,r,s){var o=function(){function c(m){this.editor=m,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return c.prototype.setScreenReaderContent=function(m){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var g=this.popup.getRow(),a=this.popup.renderer.$textLayer,h=a.element.childNodes[g-a.config.firstRow];if(h){for(var d="doc-tooltip ",f=0;f<this._lines.length;f++)d+="ace-inline-screenreader-line-".concat(f," ");h.setAttribute("aria-describedby",d)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=m.split(/\r\n|\r|\n/);var u=this.createCodeBlock();this.screenReaderDiv.appendChild(u)},c.prototype.destroy=function(){this.screenReaderDiv.remove()},c.prototype.createCodeBlock=function(){var m=document.createElement("pre");m.setAttribute("id","ace-inline-screenreader");for(var u=0;u<this._lines.length;u++){var g=document.createElement("code");g.setAttribute("id","ace-inline-screenreader-line-".concat(u));var a=document.createTextNode(this._lines[u]);g.appendChild(a),m.appendChild(g)}return m},c}();r.AceInlineScreenReader=o}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(t,r,s){var o=t("../snippets").snippetManager,c=t("./inline_screenreader").AceInlineScreenReader,m=function(){function u(){this.editor=null}return u.prototype.show=function(g,a,h){if(h=h||"",g&&this.editor&&this.editor!==g&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!g||!a)return!1;this.inlineScreenReader||(this.inlineScreenReader=new c(g));var d=a.snippet?o.getDisplayTextForSnippet(g,a.snippet):a.value;return a.hideInlinePreview||!d||!d.startsWith(h)?!1:(this.editor=g,this.inlineScreenReader.setScreenReaderContent(d),d=d.slice(h.length),d===""?g.removeGhostText():g.setGhostText(d),!0)},u.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},u.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},u.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},u}();r.AceInline=m}),ace.define("ace/autocomplete/util",["require","exports","module"],function(t,r,s){r.parForEach=function(c,m,u){var g=0,a=c.length;a===0&&u();for(var h=0;h<a;h++)m(c[h],function(d,f){g++,g===a&&u(d,f)})};var o=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;r.retrievePrecedingIdentifier=function(c,m,u){u=u||o;for(var g=[],a=m-1;a>=0&&u.test(c[a]);a--)g.push(c[a]);return g.reverse().join("")},r.retrieveFollowingIdentifier=function(c,m,u){u=u||o;for(var g=[],a=m;a<c.length&&u.test(c[a]);a++)g.push(c[a]);return g},r.getCompletionPrefix=function(c){var m=c.getCursorPosition(),u=c.session.getLine(m.row),g;return c.completers.forEach((function(a){a.identifierRegexps&&a.identifierRegexps.forEach((function(h){!g&&h&&(g=this.retrievePrecedingIdentifier(u,m.column,h))}).bind(this))}).bind(this)),g||this.retrievePrecedingIdentifier(u,m.column)},r.triggerAutocomplete=function(c,u){var u=u??c.session.getPrecedingCharacter();return c.completers.some(function(g){if(g.triggerCharacters&&Array.isArray(g.triggerCharacters))return g.triggerCharacters.includes(u)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(t,r,s){var o=t("./keyboard/hash_handler").HashHandler,c=t("./autocomplete/popup").AcePopup,m=t("./autocomplete/inline").AceInline,u=t("./autocomplete/popup").getAriaId,g=t("./autocomplete/util"),a=t("./lib/lang"),h=t("./lib/dom"),d=t("./snippets").snippetManager,f=t("./config"),p=t("./lib/event"),v=t("./lib/scroll").preventParentScroll,y=function(O,$){$.completer&&$.completer.destroy()},C=function(){function O(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new o,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=a.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=a.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=a.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=a.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=a.delayedCall((function(){var $=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!$||this.editor.completers.length===0||(this.completions=new F(O.completionsForLoading),this.openPopup(this.editor,$.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(O,"completionsForLoading",{get:function(){return[{caption:f.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),O.prototype.$init=function(){return this.popup=new c(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function($){this.insertMatch(),$.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),p.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},O.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new m,this.inlineRenderer},O.prototype.getPopup=function(){return this.popup||this.$init()},O.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},O.prototype.$seen=function($){!this.hasSeen.has($)&&$&&$.completer&&$.completer.onSeen&&typeof $.completer.onSeen=="function"&&($.completer.onSeen(this.editor,$),this.hasSeen.add($))},O.prototype.$onPopupChange=function($){if(this.inlineRenderer&&this.inlineEnabled){var _=$?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(_),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},O.prototype.$updateGhostText=function($){var _=this.base.row,E=this.base.column,I=this.editor.getCursorPosition().column,M=this.editor.session.getLine(_).slice(E,I);this.inlineRenderer.show(this.editor,$,M)?this.$seen($):this.inlineRenderer.hide()},O.prototype.$onPopupRender=function(){var $=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var _=this.popup.getFirstVisibleRow();_<=this.popup.getLastVisibleRow();_++){var E=this.popup.getData(_);E&&(!$||E.hideInlinePreview)&&this.$seen(E)}},O.prototype.$onPopupShow=function($){this.$onPopupChange($),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},O.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var $=this.editor.container.parentNode,_=[];$;)_.push($),$.addEventListener("scroll",this.onLayoutChange,{passive:!0}),$=$.parentNode;this.$elements=_}},O.prototype.unObserveLayoutChanges=function(){var $=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(_){_.removeEventListener("scroll",$.onLayoutChange,{passive:!0})}),this.$elements=null},O.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},O.prototype.$updatePopupPosition=function(){var $=this.editor,_=$.renderer,E=_.layerConfig.lineHeight,I=_.$cursorLayer.getPixelPosition(this.base,!0);I.left-=this.popup.getTextLeftOffset();var M=$.container.getBoundingClientRect();I.top+=M.top-_.layerConfig.offset,I.left+=M.left-$.renderer.scrollLeft,I.left+=_.gutterWidth;var P={top:I.top,left:I.left};_.$ghostText&&_.$ghostTextWidget&&this.base.row===_.$ghostText.position.row&&(P.top+=_.$ghostTextWidget.el.offsetHeight);var V=$.container.getBoundingClientRect().bottom-E,S=V<P.top?{top:V,left:P.left}:P;this.popup.tryShow(S,E,"bottom")||this.popup.tryShow(I,E,"top")||this.popup.show(I,E)},O.prototype.openPopup=function($,_,E){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var I=this.popup.getRow(),M=this.popup.data[I];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:u(this.popup.getRow()),inline:this.inlineEnabled}),$.keyBinding.addKeyboardHandler(this.keyboardHandler);var P;this.stickySelection&&(P=this.popup.data.indexOf(M)),(!P||P===-1)&&(P=0),this.popup.setRow(this.autoSelect?P:-1),P===I&&M!==this.completions.filtered[P]&&this.$onPopupChange();var V=this.inlineRenderer&&this.inlineEnabled;if(P===I&&V){var S=this.popup.getData(this.popup.getRow());this.$updateGhostText(S)}E||(this.popup.setTheme($.getTheme()),this.popup.setFontSize($.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},O.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},O.prototype.changeListener=function($){var _=this.editor.selection.lead;(_.row!=this.base.row||_.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},O.prototype.blurListener=function($){var _=document.activeElement,E=this.editor.textInput.getElement(),I=$.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains($.relatedTarget),M=this.popup&&this.popup.container;_!=E&&_.parentNode!=M&&!I&&_!=this.tooltipNode&&$.relatedTarget!=E&&this.detach()},O.prototype.mousedownListener=function($){this.detach()},O.prototype.mousewheelListener=function($){this.popup&&!this.popup.isMouseOver&&this.detach()},O.prototype.mouseOutListener=function($){this.popup.isOpen&&this.$updatePopupPosition()},O.prototype.goTo=function($){this.popup.goTo($)},O.prototype.insertMatch=function($,_){if($||($=this.popup.getData(this.popup.getRow())),!$)return!1;if($.value==="")return this.detach();var E=this.completions,I=this.getCompletionProvider().insertMatch(this.editor,$,E.filterText,_);return this.completions==E&&this.detach(),I},O.prototype.showPopup=function($,_){this.editor&&this.detach(),this.activated=!0,this.editor=$,$.completer!=this&&($.completer&&$.completer.detach(),$.completer=this),$.on("changeSelection",this.changeListener),$.on("blur",this.blurListener),$.on("mousedown",this.mousedownListener),$.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,_)},O.prototype.getCompletionProvider=function($){return this.completionProvider||(this.completionProvider=new A($)),this.completionProvider},O.prototype.gatherCompletions=function($,_){return this.getCompletionProvider().gatherCompletions($,_)},O.prototype.updateCompletions=function($,_){if($&&this.base&&this.completions){var I=this.editor.getCursorPosition(),M=this.editor.session.getTextRange({start:this.base,end:I});if(M==this.completions.filterText)return;if(this.completions.setFilter(M),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==M&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,M,$);return}if(_&&_.matches){var I=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(I.row,I.column),this.base.$insertRight=!0,this.completions=new F(_.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",$)}var E=this.editor.getSession(),I=this.editor.getCursorPosition(),M=g.getCompletionPrefix(this.editor);this.base=E.doc.createAnchor(I.row,I.column-M.length),this.base.$insertRight=!0;var P={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:M,pos:I}).provideCompletions(this.editor,P,(function(V,S,w){var L=S.filtered,N=g.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),w){if(!L.length){var z=!this.autoShown&&this.emptyMessage;if(typeof z=="function"&&(z=this.emptyMessage(N)),z){var q=[{caption:z,value:""}];this.completions=new F(q),this.openPopup(this.editor,N,$),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(L.length==1&&L[0].value==N&&!L[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&L.length==1)return this.insertMatch(L[0])}this.completions=!w&&this.showLoadingState?new F(O.completionsForLoading.concat(L),S.filterText):S,this.openPopup(this.editor,N,$),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!w)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},O.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},O.prototype.updateDocTooltip=function(){var $=this.popup,_=this.completions.filtered,E=_&&(_[$.getHoveredRow()]||_[$.getRow()]),I=null;if(!E||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var M=this.editor.completers.length,P=0;P<M;P++){var V=this.editor.completers[P];if(V.getDocTooltip&&E.completerId===V.id){I=V.getDocTooltip(E);break}}if(!I&&typeof E!="string"&&(I=E),typeof I=="string"&&(I={docText:I}),!I||!(I.docHTML||I.docText))return this.hideDocTooltip();this.showDocTooltip(I)},O.prototype.showDocTooltip=function($){this.tooltipNode||(this.tooltipNode=h.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",v));var _=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(_.isDark?"ace_dark ":"")+(_.cssClass||"");var E=this.tooltipNode;$.docHTML?E.innerHTML=$.docHTML:$.docText&&(E.textContent=$.docText),E.parentNode||this.popup.container.appendChild(this.tooltipNode);var I=this.popup,M=I.container.getBoundingClientRect();E.style.top=I.container.style.top,E.style.bottom=I.container.style.bottom,E.style.display="block",window.innerWidth-M.right<320?M.left<320?I.isTopdown?(E.style.top=M.bottom+"px",E.style.left=M.left+"px",E.style.right="",E.style.bottom=""):(E.style.top=I.container.offsetTop-E.offsetHeight+"px",E.style.left=M.left+"px",E.style.right="",E.style.bottom=""):(E.style.right=window.innerWidth-M.left+"px",E.style.left=""):(E.style.left=M.right+1+"px",E.style.right="")},O.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var $=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==$&&this.editor.focus(),this.tooltipNode=null,$.parentNode&&$.parentNode.removeChild($)}},O.prototype.onTooltipClick=function($){for(var _=$.target;_&&_!=this.tooltipNode;){if(_.nodeName=="A"&&_.href){_.rel="noreferrer",_.target="_blank";break}_=_.parentNode}},O.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var $=this.popup.container;$&&$.parentNode&&$.parentNode.removeChild($)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",y),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},O.for=function($){return $.completer instanceof O||($.completer&&($.completer.destroy(),$.completer=null),f.get("sharedPopups")?(O.$sharedInstance||(O.$sharedInstance=new O),$.completer=O.$sharedInstance):($.completer=new O,$.once("destroy",y))),$.completer},O}();C.prototype.commands={Up:function(O){O.completer.goTo("up")},Down:function(O){O.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(O){O.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(O){O.completer.goTo("end")},Esc:function(O){O.completer.detach()},Return:function(O){return O.completer.insertMatch()},"Shift-Return":function(O){O.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(O){var $=O.completer.insertMatch();if(!$&&!O.tabstopManager)O.completer.goTo("down");else return $},Backspace:function(O){O.execCommand("backspace");var $=g.getCompletionPrefix(O);!$&&O.completer&&O.completer.detach()},PageUp:function(O){O.completer.popup.gotoPageUp()},PageDown:function(O){O.completer.popup.gotoPageDown()}},C.startCommand={name:"startAutocomplete",exec:function(O,$){var _=C.for(O);_.autoInsert=!1,_.autoSelect=!0,_.autoShown=!1,_.showPopup(O,$),_.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var A=function(){function O($){this.initialPosition=$,this.active=!0}return O.prototype.insertByIndex=function($,_,E){return!this.completions||!this.completions.filtered?!1:this.insertMatch($,this.completions.filtered[_],E)},O.prototype.insertMatch=function($,_,E){if(!_)return!1;if($.startOperation({command:{name:"insertMatch"}}),_.completer&&_.completer.insertMatch)_.completer.insertMatch($,_);else{if(!this.completions)return!1;var I=this.completions.filterText.length,M=0;if(_.range&&_.range.start.row===_.range.end.row&&(I-=this.initialPosition.prefix.length,I+=this.initialPosition.pos.column-_.range.start.column,M+=_.range.end.column-this.initialPosition.pos.column),I||M){var P;$.selection.getAllRanges?P=$.selection.getAllRanges():P=[$.getSelectionRange()];for(var V=0,S;S=P[V];V++)S.start.column-=I,S.end.column+=M,$.session.remove(S)}_.snippet?d.insertSnippet($,_.snippet):this.$insertString($,_),_.completer&&_.completer.onInsert&&typeof _.completer.onInsert=="function"&&_.completer.onInsert($,_),_.command&&_.command==="startAutocomplete"&&$.execCommand(_.command)}return $.endOperation(),!0},O.prototype.$insertString=function($,_){var E=_.value||_;$.execCommand("insertstring",E)},O.prototype.gatherCompletions=function($,_){var E=$.getSession(),I=$.getCursorPosition(),M=g.getCompletionPrefix($),P=[];this.completers=$.completers;var V=$.completers.length;return $.completers.forEach(function(S,w){S.getCompletions($,E,I,M,function(L,N){S.hideInlinePreview&&(N=N.map(function(z){return Object.assign(z,{hideInlinePreview:S.hideInlinePreview})})),!L&&N&&(P=P.concat(N)),_(null,{prefix:g.getCompletionPrefix($),matches:P,finished:--V===0})})}),!0},O.prototype.provideCompletions=function($,_,E){var I=(function(S){var w=S.prefix,L=S.matches;this.completions=new F(L),_.exactMatch&&(this.completions.exactMatch=!0),_.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(w),(S.finished||this.completions.filtered.length)&&E(null,this.completions,S.finished)}).bind(this),M=!0,P=null;if(this.gatherCompletions($,(function(S,w){if(this.active){S&&(E(S,[],!0),this.detach());var L=w.prefix;if(L.indexOf(w.prefix)===0){if(M){P=w;return}I(w)}}}).bind(this)),M=!1,P){var V=P;P=null,I(V)}},O.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function($){typeof $.cancel=="function"&&$.cancel()})},O}(),F=function(){function O($,_){this.all=$,this.filtered=$,this.filterText=_||"",this.exactMatch=!1,this.ignoreCaption=!1}return O.prototype.setFilter=function($){if($.length>this.filterText&&$.lastIndexOf(this.filterText,0)===0)var _=this.filtered;else var _=this.all;this.filterText=$,_=this.filterCompletions(_,this.filterText),_=_.sort(function(I,M){return M.exactMatch-I.exactMatch||M.$score-I.$score||(I.caption||I.value).localeCompare(M.caption||M.value)});var E=null;_=_.filter(function(I){var M=I.snippet||I.caption||I.value;return M===E?!1:(E=M,!0)}),this.filtered=_},O.prototype.filterCompletions=function($,_){var E=[],I=_.toUpperCase(),M=_.toLowerCase();e:for(var P=0,V;V=$[P];P++){var S=!this.ignoreCaption&&V.caption||V.value||V.snippet;if(S){var w=-1,L=0,N=0,z,q;if(this.exactMatch){if(_!==S.substr(0,_.length))continue e}else{var K=S.toLowerCase().indexOf(M);if(K>-1)N=K;else for(var J=0;J<_.length;J++){var Q=S.indexOf(M[J],w+1),U=S.indexOf(I[J],w+1);if(z=Q>=0&&(U<0||Q<U)?Q:U,z<0)continue e;q=z-w-1,q>0&&(w===-1&&(N+=10),N+=q,L=L|1<<J),w=z}}V.matchMask=L,V.exactMatch=N?0:1,V.$score=(V.score||0)-N,E.push(V)}}return E},O}();r.Autocomplete=C,r.CompletionProvider=A,r.FilteredList=F}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(t,r,s){var o=t("../range").Range,c=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function m(g,a){var h=g.getTextRange(o.fromPoints({row:0,column:0},a));return h.split(c).length-1}function u(g,a){var h=m(g,a),d=g.getValue().split(c),f=Object.create(null),p=d[h];return d.forEach(function(v,y){if(!(!v||v===p)){var C=Math.abs(h-y),A=d.length-C;f[v]?f[v]=Math.max(A,f[v]):f[v]=A}}),f}r.getCompletions=function(g,a,h,d,f){var p=u(a,h),v=Object.keys(p);f(null,v.map(function(y){return{caption:y,value:y,score:p[y],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(t,r,s){var o=t("../snippets").snippetManager,c=t("../autocomplete").Autocomplete,m=t("../config"),u=t("../lib/lang"),g=t("../autocomplete/util"),a=t("../autocomplete/text_completer"),h={getCompletions:function(I,M,P,V,S){if(M.$mode.completer)return M.$mode.completer.getCompletions(I,M,P,V,S);var w=I.session.getState(P.row),L=M.$mode.getCompletions(w,M,P,V);L=L.map(function(N){return N.completerId=h.id,N}),S(null,L)},id:"keywordCompleter"},d=function(I){var M={};return I.replace(/\${(\d+)(:(.*?))?}/g,function(P,V,S,w){return M[V]=w||""}).replace(/\$(\d+?)/g,function(P,V){return M[V]})},f={getCompletions:function(I,M,P,V,S){var w=[],L=M.getTokenAt(P.row,P.column);L&&L.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?w.push("html-tag"):w=o.getActiveScopes(I);var N=o.snippetMap,z=[];w.forEach(function(q){for(var K=N[q]||[],J=K.length;J--;){var Q=K[J],U=Q.name||Q.tabTrigger;U&&z.push({caption:U,snippet:Q.content,meta:Q.tabTrigger&&!Q.name?Q.tabTrigger+"⇥ ":"snippet",completerId:f.id})}},this),S(null,z)},getDocTooltip:function(I){I.snippet&&!I.docHTML&&(I.docHTML=["<b>",u.escapeHTML(I.caption),"</b>","<hr></hr>",u.escapeHTML(d(I.snippet))].join(""))},id:"snippetCompleter"},p=[f,a,h];r.setCompleters=function(I){p.length=0,I&&p.push.apply(p,I)},r.addCompleter=function(I){p.push(I)},r.textCompleter=a,r.keyWordCompleter=h,r.snippetCompleter=f;var v={name:"expandSnippet",exec:function(I){return o.expandWithTab(I)},bindKey:"Tab"},y=function(I,M){C(M.session.$mode)},C=function(I){typeof I=="string"&&(I=m.$modes[I]),I&&(o.files||(o.files={}),A(I.$id,I.snippetFileId),I.modes&&I.modes.forEach(C))},A=function(I,M){!M||!I||o.files[I]||(o.files[I]={},m.loadModule(M,function(P){P&&(o.files[I]=P,!P.snippets&&P.snippetText&&(P.snippets=o.parseSnippetFile(P.snippetText)),o.register(P.snippets||[],P.scope),P.includeScopes&&(o.snippetMap[P.scope].includeScopes=P.includeScopes,P.includeScopes.forEach(function(V){C("ace/mode/"+V)})))}))},F=function(I){var M=I.editor,P=M.completer&&M.completer.activated;if(I.command.name==="backspace")P&&!g.getCompletionPrefix(M)&&M.completer.detach();else if(I.command.name==="insertstring"&&!P){O=I;var V=I.editor.$liveAutocompletionDelay;V?$.delay(V):_(I)}},O,$=u.delayedCall(function(){_(O)},0),_=function(I){var M=I.editor,P=g.getCompletionPrefix(M),V=I.args,S=g.triggerAutocomplete(M,V);if(P&&P.length>=M.$liveAutocompletionThreshold||S){var w=c.for(M);w.autoShown=!0,w.showPopup(M)}},E=t("../editor").Editor;t("../config").defineOptions(E.prototype,"editor",{enableBasicAutocompletion:{set:function(I){I?(this.completers||(this.completers=Array.isArray(I)?I:p),this.commands.addCommand(c.startCommand)):this.commands.removeCommand(c.startCommand)},value:!1},enableLiveAutocompletion:{set:function(I){I?(this.completers||(this.completers=Array.isArray(I)?I:p),this.commands.on("afterExec",F)):this.commands.off("afterExec",F)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(I){I?(this.commands.addCommand(v),this.on("changeMode",y),y(null,this)):(this.commands.removeCommand(v),this.off("changeMode",y))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(t){n.exports=t})}()}(zg)),zg.exports}dF();sF.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.4.12/src-noconflict/");const fF=({isOpen:n,onClose:e,onSubmit:t})=>{const[r,s]=oe.useState(""),[o,c]=oe.useState(""),[m,u]=oe.useState(!1),g=async()=>{if(!r||!o){alert("請填寫所有必填欄位！");return}u(!0);try{const h=await aF(r,o);alert(h?`✅ 教材上傳成功！ID: ${h}`:"🔥 上傳失敗，請稍後再試！"),s(""),c(""),e()}catch(h){console.error("🔥 教材上傳失敗",h),alert("🔥 上傳失敗，請稍後再試！")}finally{u(!1)}},a=()=>{s(""),c(""),e()};return n?se.jsxs(ai,{show:n,onHide:a,centered:!0,className:"modal-lg",children:[se.jsx(ai.Header,{closeButton:!0,children:se.jsx(ai.Title,{children:"新增教材"})}),se.jsx(ai.Body,{children:se.jsxs(Xt,{children:[se.jsxs(Xt.Group,{className:"mb-3",children:[se.jsx(Xt.Label,{children:"教材標題："}),se.jsx(Xt.Control,{type:"text",value:r,onChange:h=>s(h.target.value),placeholder:"輸入教材標題",required:!0})]}),se.jsxs(Xt.Group,{className:"mb-3",children:[se.jsx(Xt.Label,{children:"教材內容 (Markdown)："}),se.jsx(Xt.Control,{as:"textarea",rows:10,value:o,onChange:h=>c(h.target.value),placeholder:"輸入教材內容",required:!0})]})]})}),se.jsxs(ai.Footer,{children:[se.jsx(br,{variant:"secondary",onClick:a,disabled:m,children:"取消"}),se.jsx(br,{variant:"primary",onClick:g,disabled:m,children:m?"上傳中...":"上傳教材"})]})]}):null},pF=({isOpen:n,onClose:e})=>{const[t,r]=oe.useState(""),[s,o]=oe.useState(""),[c,m]=oe.useState(""),[u,g]=oe.useState([]),[a,h]=oe.useState([]),[d,f]=oe.useState(!1),p=oe.useRef(null),v=oe.useRef([]),y=async()=>{if(!t||!s||!c||u.length===0||a.length!==u.length){alert("請填寫所有必填欄位！");return}f(!0);try{const _=await lF(t,s,c,u,a);alert(`✅ 題目上傳成功！ID: ${_}`),r(""),o(""),m(""),g([]),h([]),e()}catch(_){alert("🔥 上傳失敗，請稍後再試！"),console.error(_)}finally{f(!1)}},C=_=>{if(p.current){const E=p.current.getSession().getDocument().getAllLines().filter(I=>I.trim()!=="");h(I=>{const M=[...I],P=E.length-M.length;if(P>0)for(let V=0;V<P;V++)M.splice(_.start.row,0,"");else P<0&&M.splice(_.start.row+1,-P);return M}),g(E)}},A=(_,E)=>{h(I=>{const M=[...I];return M[_]=E,M})},F=_=>{p.current&&p.current.gotoLine(_+1,0,!0)},O=async()=>{try{const _=await fetch("YOUR_API_ENDPOINT",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({label:""})}),E=await _.json();_.ok?(h(I=>[...I,E.label]),g(I=>[...I,""])):alert("新增標籤失敗")}catch(_){console.error("新增標籤失敗",_),alert("新增標籤失敗")}},$=()=>{r(""),o(""),m(""),g([]),h([]),e()};return se.jsxs(ai,{show:n,onHide:$,centered:!0,className:"modal-lg",children:[se.jsx(ai.Header,{closeButton:!0,children:se.jsx(ai.Title,{children:"新增題目"})}),se.jsx(ai.Body,{children:se.jsxs(Xt,{children:[se.jsxs(Xt.Group,{className:"mb-3",children:[se.jsx(Xt.Label,{children:"題目標題："}),se.jsx(Xt.Control,{type:"text",value:t,onChange:_=>r(_.target.value),placeholder:"輸入題目標題",required:!0})]}),se.jsxs(Xt.Group,{className:"mb-3",children:[se.jsx(Xt.Label,{children:"題組類型："}),se.jsx(Xt.Control,{type:"text",value:s,onChange:_=>o(_.target.value),placeholder:"輸入題組類型",required:!0})]}),se.jsxs(Xt.Group,{className:"mb-3",children:[se.jsx(Xt.Label,{children:"題目內容："}),se.jsx(Xt.Control,{as:"textarea",rows:5,value:c,onChange:_=>m(_.target.value),placeholder:"輸入題目內容",required:!0})]}),se.jsx("div",{className:"d-flex",children:se.jsxs("div",{className:"flex-grow-1",children:[se.jsx(Xt.Label,{children:"正確答案："}),se.jsxs("div",{className:"d-flex",children:[se.jsx(iF,{mode:"python",theme:"github",onLoad:_=>{p.current=_},onChange:(_,E)=>C(E),name:"python-editor",editorProps:{$blockScrolling:!0},width:"100%",height:"300px",fontSize:20,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:4,useSoftTabs:!0}}),se.jsx("div",{className:"ms-3",style:{width:"200px"},children:u.map((_,E)=>se.jsx(Xt.Group,{className:"mb-3",children:se.jsx(Xt.Control,{type:"text",value:a[E]||"",onChange:I=>A(E,I.target.value),placeholder:`輸入第 ${E+1} 行標籤`,ref:I=>v.current[E]=I,onFocus:()=>F(E),required:!0})},`${_}-${E}`))})]})]})})]})}),se.jsxs(ai.Footer,{children:[se.jsx("div",{className:"me-auto",children:se.jsx(br,{variant:"primary",onClick:O,children:"新增標籤"})}),se.jsx(br,{variant:"secondary",onClick:$,disabled:d,children:"取消"}),se.jsx(br,{variant:"primary",onClick:y,disabled:d,children:d?"上傳中...":"上傳題目"})]})]})};function Wv(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let bl=Wv();function LT(n){bl=n}const yu={exec:()=>null};function un(n,e=""){let t=typeof n=="string"?n:n.source;const r={replace:(s,o)=>{let c=typeof o=="string"?o:o.source;return c=c.replace(li.caret,"$1"),t=t.replace(s,c),r},getRegex:()=>new RegExp(t,e)};return r}const li={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},gF=/^(?:[ \t]*(?:\n|$))+/,mF=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,vF=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,rh=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,yF=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,$T=/(?:[*+-]|\d{1,9}[.)])/,PT=un(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,$T).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Gv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,wF=/^[^\n]+/,Kv=/(?!\s*\])(?:\\.|[^\[\]\\])+/,bF=un(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Kv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),_F=un(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,$T).getRegex(),zf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",qv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,EF=un("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",qv).replace("tag",zf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),OT=un(Gv).replace("hr",rh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zf).getRegex(),SF=un(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",OT).getRegex(),Qv={blockquote:SF,code:mF,def:bF,fences:vF,heading:yF,hr:rh,html:EF,lheading:PT,list:_F,newline:gF,paragraph:OT,table:yu,text:wF},f_=un("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",rh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zf).getRegex(),CF={...Qv,table:f_,paragraph:un(Gv).replace("hr",rh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",f_).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zf).getRegex()},TF={...Qv,html:un(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",qv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:yu,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:un(Gv).replace("hr",rh).replace("heading",` *#{1,6} *[^
]`).replace("lheading",PT).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},DT=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,xF=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,NT=/^( {2,}|\\)\n(?!\s*$)/,AF=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,jf=/[\p{P}\p{S}]/u,Yv=/[\s\p{P}\p{S}]/u,FT=/[^\s\p{P}\p{S}]/u,kF=un(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Yv).getRegex(),IF=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,RF=un(/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,"u").replace(/punct/g,jf).getRegex(),MF=un("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)","gu").replace(/notPunctSpace/g,FT).replace(/punctSpace/g,Yv).replace(/punct/g,jf).getRegex(),LF=un("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,FT).replace(/punctSpace/g,Yv).replace(/punct/g,jf).getRegex(),$F=un(/\\(punct)/,"gu").replace(/punct/g,jf).getRegex(),PF=un(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),OF=un(qv).replace("(?:-->|$)","-->").getRegex(),DF=un("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",OF).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),tf=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,NF=un(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",tf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),BT=un(/^!?\[(label)\]\[(ref)\]/).replace("label",tf).replace("ref",Kv).getRegex(),VT=un(/^!?\[(ref)\](?:\[\])?/).replace("ref",Kv).getRegex(),FF=un("reflink|nolink(?!\\()","g").replace("reflink",BT).replace("nolink",VT).getRegex(),Xv={_backpedal:yu,anyPunctuation:$F,autolink:PF,blockSkip:IF,br:NT,code:xF,del:yu,emStrongLDelim:RF,emStrongRDelimAst:MF,emStrongRDelimUnd:LF,escape:DT,link:NF,nolink:VT,punctuation:kF,reflink:BT,reflinkSearch:FF,tag:DF,text:AF,url:yu},BF={...Xv,link:un(/^!?\[(label)\]\((.*?)\)/).replace("label",tf).getRegex(),reflink:un(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",tf).getRegex()},Cm={...Xv,escape:un(DT).replace("])","~|])").getRegex(),url:un(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},VF={...Cm,br:un(NT).replace("{2,}","*").getRegex(),text:un(Cm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},cd={normal:Qv,gfm:CF,pedantic:TF},tu={normal:Xv,gfm:Cm,breaks:VF,pedantic:BF},zF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p_=n=>zF[n];function Fo(n,e){if(e){if(li.escapeTest.test(n))return n.replace(li.escapeReplace,p_)}else if(li.escapeTestNoEncode.test(n))return n.replace(li.escapeReplaceNoEncode,p_);return n}function g_(n){try{n=encodeURI(n).replace(li.percentDecode,"%")}catch{return null}return n}function m_(n,e){var o;const t=n.replace(li.findPipe,(c,m,u)=>{let g=!1,a=m;for(;--a>=0&&u[a]==="\\";)g=!g;return g?"|":" |"}),r=t.split(li.splitPipe);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!((o=r.at(-1))!=null&&o.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(li.slashPipe,"|");return r}function nu(n,e,t){const r=n.length;if(r===0)return"";let s=0;for(;s<r&&(n.charAt(r-s-1)===e&&!t);)s++;return n.slice(0,r-s)}function jF(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return-1}function v_(n,e,t,r,s){const o=e.href,c=e.title||null,m=n[1].replace(s.other.outputLinkReplace,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const u={type:"link",raw:t,href:o,title:c,text:m,tokens:r.inlineTokens(m)};return r.state.inLink=!1,u}return{type:"image",raw:t,href:o,title:c,text:m}}function UF(n,e,t){const r=n.match(t.other.indentCodeCompensation);if(r===null)return e;const s=r[1];return e.split(`
`).map(o=>{const c=o.match(t.other.beginningSpace);if(c===null)return o;const[m]=c;return m.length>=s.length?o.slice(s.length):o}).join(`
`)}class nf{constructor(e){fn(this,"options");fn(this,"rules");fn(this,"lexer");this.options=e||bl}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:nu(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],s=UF(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){const s=nu(r,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(r=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:nu(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=nu(t[0],`
`).split(`
`),s="",o="";const c=[];for(;r.length>0;){let m=!1;const u=[];let g;for(g=0;g<r.length;g++)if(this.rules.other.blockquoteStart.test(r[g]))u.push(r[g]),m=!0;else if(!m)u.push(r[g]);else break;r=r.slice(g);const a=u.join(`
`),h=a.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${a}`:a,o=o?`${o}
${h}`:h;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,c,!0),this.lexer.state.top=d,r.length===0)break;const f=c.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const p=f,v=p.raw+`
`+r.join(`
`),y=this.blockquote(v);c[c.length-1]=y,s=s.substring(0,s.length-p.raw.length)+y.raw,o=o.substring(0,o.length-p.text.length)+y.text;break}else if((f==null?void 0:f.type)==="list"){const p=f,v=p.raw+`
`+r.join(`
`),y=this.list(v);c[c.length-1]=y,s=s.substring(0,s.length-f.raw.length)+y.raw,o=o.substring(0,o.length-p.raw.length)+y.raw,r=v.substring(c.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:c,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const s=r.length>1,o={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const c=this.rules.other.listItemRegex(r);let m=!1;for(;e;){let g=!1,a="",h="";if(!(t=c.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,A=>" ".repeat(3*A.length)),f=e.split(`
`,1)[0],p=!d.trim(),v=0;if(this.options.pedantic?(v=2,h=d.trimStart()):p?v=t[1].length+1:(v=t[2].search(this.rules.other.nonSpaceChar),v=v>4?1:v,h=d.slice(v),v+=t[1].length),p&&this.rules.other.blankLine.test(f)&&(a+=f+`
`,e=e.substring(f.length+1),g=!0),!g){const A=this.rules.other.nextBulletRegex(v),F=this.rules.other.hrRegex(v),O=this.rules.other.fencesBeginRegex(v),$=this.rules.other.headingBeginRegex(v),_=this.rules.other.htmlBeginRegex(v);for(;e;){const E=e.split(`
`,1)[0];let I;if(f=E,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),I=f):I=f.replace(this.rules.other.tabCharGlobal,"    "),O.test(f)||$.test(f)||_.test(f)||A.test(f)||F.test(f))break;if(I.search(this.rules.other.nonSpaceChar)>=v||!f.trim())h+=`
`+I.slice(v);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||O.test(d)||$.test(d)||F.test(d))break;h+=`
`+f}!p&&!f.trim()&&(p=!0),a+=E+`
`,e=e.substring(E.length+1),d=I.slice(v)}}o.loose||(m?o.loose=!0:this.rules.other.doubleBlankLine.test(a)&&(m=!0));let y=null,C;this.options.gfm&&(y=this.rules.other.listIsTask.exec(h),y&&(C=y[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:a,task:!!y,checked:C,loose:!1,text:h,tokens:[]}),o.raw+=a}const u=o.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let g=0;g<o.items.length;g++)if(this.lexer.state.top=!1,o.items[g].tokens=this.lexer.blockTokens(o.items[g].text,[]),!o.loose){const a=o.items[g].tokens.filter(d=>d.type==="space"),h=a.length>0&&a.some(d=>this.rules.other.anyLine.test(d.raw));o.loose=h}if(o.loose)for(let g=0;g<o.items.length;g++)o.items[g].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:s,title:o}}}table(e){var m;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const r=m_(t[1]),s=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(m=t[3])!=null&&m.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],c={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const u of s)this.rules.other.tableAlignRight.test(u)?c.align.push("right"):this.rules.other.tableAlignCenter.test(u)?c.align.push("center"):this.rules.other.tableAlignLeft.test(u)?c.align.push("left"):c.align.push(null);for(let u=0;u<r.length;u++)c.header.push({text:r[u],tokens:this.lexer.inline(r[u]),header:!0,align:c.align[u]});for(const u of o)c.rows.push(m_(u,c.header.length).map((g,a)=>({text:g,tokens:this.lexer.inline(g),header:!1,align:c.align[a]})));return c}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const c=nu(r.slice(0,-1),"\\");if((r.length-c.length)%2===0)return}else{const c=jF(t[2],"()");if(c>-1){const u=(t[0].indexOf("!")===0?5:4)+t[1].length+c;t[2]=t[2].substring(0,c),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let s=t[2],o="";if(this.options.pedantic){const c=this.rules.other.pedanticHrefTitle.exec(s);c&&(s=c[1],o=c[3])}else o=t[3]?t[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?s=s.slice(1):s=s.slice(1,-1)),v_(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[s.toLowerCase()];if(!o){const c=r[0].charAt(0);return{type:"text",raw:c,text:c}}return v_(r,o,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const c=[...s[0]].length-1;let m,u,g=c,a=0;const h=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+c);(s=h.exec(t))!=null;){if(m=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!m)continue;if(u=[...m].length,s[3]||s[4]){g+=u;continue}else if((s[5]||s[6])&&c%3&&!((c+u)%3)){a+=u;continue}if(g-=u,g>0)continue;u=Math.min(u,u+g+a);const d=[...s[0]][0].length,f=e.slice(0,c+s.index+d+u);if(Math.min(c,u)%2){const v=f.slice(1,-1);return{type:"em",raw:f,text:v,tokens:this.lexer.inlineTokens(v)}}const p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(r),o=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return s&&o&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,s;return t[2]==="@"?(r=t[1],s="mailto:"+r):(r=t[1],s=r),{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let s,o;if(t[2]==="@")s=t[0],o="mailto:"+s;else{let c;do c=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(c!==t[0]);s=t[0],t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}}class to{constructor(e){fn(this,"tokens");fn(this,"options");fn(this,"state");fn(this,"tokenizer");fn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||bl,this.options.tokenizer=this.options.tokenizer||new nf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:li,block:cd.normal,inline:tu.normal};this.options.pedantic?(t.block=cd.pedantic,t.inline=tu.pedantic):this.options.gfm&&(t.block=cd.gfm,this.options.breaks?t.inline=tu.breaks:t.inline=tu.gfm),this.tokenizer.rules=t}static get rules(){return{block:cd,inline:tu}}static lex(e,t){return new to(t).lex(e)}static lexInline(e,t){return new to(t).inlineTokens(e)}lex(e){e=e.replace(li.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){var s,o,c;for(this.options.pedantic&&(e=e.replace(li.tabCharGlobal,"    ").replace(li.spaceLine,""));e;){let m;if((o=(s=this.options.extensions)==null?void 0:s.block)!=null&&o.some(g=>(m=g.call({lexer:this},e,t))?(e=e.substring(m.raw.length),t.push(m),!0):!1))continue;if(m=this.tokenizer.space(e)){e=e.substring(m.raw.length);const g=t.at(-1);m.raw.length===1&&g!==void 0?g.raw+=`
`:t.push(m);continue}if(m=this.tokenizer.code(e)){e=e.substring(m.raw.length);const g=t.at(-1);(g==null?void 0:g.type)==="paragraph"||(g==null?void 0:g.type)==="text"?(g.raw+=`
`+m.raw,g.text+=`
`+m.text,this.inlineQueue.at(-1).src=g.text):t.push(m);continue}if(m=this.tokenizer.fences(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.heading(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.hr(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.blockquote(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.list(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.html(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.def(e)){e=e.substring(m.raw.length);const g=t.at(-1);(g==null?void 0:g.type)==="paragraph"||(g==null?void 0:g.type)==="text"?(g.raw+=`
`+m.raw,g.text+=`
`+m.raw,this.inlineQueue.at(-1).src=g.text):this.tokens.links[m.tag]||(this.tokens.links[m.tag]={href:m.href,title:m.title});continue}if(m=this.tokenizer.table(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.lheading(e)){e=e.substring(m.raw.length),t.push(m);continue}let u=e;if((c=this.options.extensions)!=null&&c.startBlock){let g=1/0;const a=e.slice(1);let h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},a),typeof h=="number"&&h>=0&&(g=Math.min(g,h))}),g<1/0&&g>=0&&(u=e.substring(0,g+1))}if(this.state.top&&(m=this.tokenizer.paragraph(u))){const g=t.at(-1);r&&(g==null?void 0:g.type)==="paragraph"?(g.raw+=`
`+m.raw,g.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=g.text):t.push(m),r=u.length!==e.length,e=e.substring(m.raw.length);continue}if(m=this.tokenizer.text(e)){e=e.substring(m.raw.length);const g=t.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=`
`+m.raw,g.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=g.text):t.push(m);continue}if(e){const g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var m,u,g;let r=e,s=null;if(this.tokens.links){const a=Object.keys(this.tokens.links);if(a.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)a.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o=!1,c="";for(;e;){o||(c=""),o=!1;let a;if((u=(m=this.options.extensions)==null?void 0:m.inline)!=null&&u.some(d=>(a=d.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);const d=t.at(-1);a.type==="text"&&(d==null?void 0:d.type)==="text"?(d.raw+=a.raw,d.text+=a.text):t.push(a);continue}if(a=this.tokenizer.emStrong(e,r,c)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),t.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),t.push(a);continue}let h=e;if((g=this.options.extensions)!=null&&g.startInline){let d=1/0;const f=e.slice(1);let p;this.options.extensions.startInline.forEach(v=>{p=v.call({lexer:this},f),typeof p=="number"&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(h=e.substring(0,d+1))}if(a=this.tokenizer.inlineText(h)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(c=a.raw.slice(-1)),o=!0;const d=t.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=a.raw,d.text+=a.text):t.push(a);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}}class rf{constructor(e){fn(this,"options");fn(this,"parser");this.options=e||bl}space(e){return""}code({text:e,lang:t,escaped:r}){var c;const s=(c=(t||"").match(li.notSpaceStart))==null?void 0:c[0],o=e.replace(li.endingNewline,"")+`
`;return s?'<pre><code class="language-'+Fo(s)+'">'+(r?o:Fo(o,!0))+`</code></pre>
`:"<pre><code>"+(r?o:Fo(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,r=e.start;let s="";for(let m=0;m<e.items.length;m++){const u=e.items[m];s+=this.listitem(u)}const o=t?"ol":"ul",c=t&&r!==1?' start="'+r+'"':"";return"<"+o+c+`>
`+s+"</"+o+`>
`}listitem(e){var r;let t="";if(e.task){const s=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+Fo(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):t+=s+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let o=0;o<e.header.length;o++)r+=this.tablecell(e.header[o]);t+=this.tablerow({text:r});let s="";for(let o=0;o<e.rows.length;o++){const c=e.rows[o];r="";for(let m=0;m<c.length;m++)r+=this.tablecell(c[m]);s+=this.tablerow({text:r})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Fo(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){const s=this.parser.parseInline(r),o=g_(e);if(o===null)return s;e=o;let c='<a href="'+e+'"';return t&&(c+=' title="'+Fo(t)+'"'),c+=">"+s+"</a>",c}image({href:e,title:t,text:r}){const s=g_(e);if(s===null)return Fo(r);e=s;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${Fo(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Fo(e.text)}}class Zv{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class no{constructor(e){fn(this,"options");fn(this,"renderer");fn(this,"textRenderer");this.options=e||bl,this.options.renderer=this.options.renderer||new rf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Zv}static parse(e,t){return new no(t).parse(e)}static parseInline(e,t){return new no(t).parseInline(e)}parse(e,t=!0){var s,o;let r="";for(let c=0;c<e.length;c++){const m=e[c];if((o=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&o[m.type]){const g=m,a=this.options.extensions.renderers[g.type].call({parser:this},g);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(g.type)){r+=a||"";continue}}const u=m;switch(u.type){case"space":{r+=this.renderer.space(u);continue}case"hr":{r+=this.renderer.hr(u);continue}case"heading":{r+=this.renderer.heading(u);continue}case"code":{r+=this.renderer.code(u);continue}case"table":{r+=this.renderer.table(u);continue}case"blockquote":{r+=this.renderer.blockquote(u);continue}case"list":{r+=this.renderer.list(u);continue}case"html":{r+=this.renderer.html(u);continue}case"paragraph":{r+=this.renderer.paragraph(u);continue}case"text":{let g=u,a=this.renderer.text(g);for(;c+1<e.length&&e[c+1].type==="text";)g=e[++c],a+=`
`+this.renderer.text(g);t?r+=this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):r+=a;continue}default:{const g='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(g),"";throw new Error(g)}}}return r}parseInline(e,t=this.renderer){var s,o;let r="";for(let c=0;c<e.length;c++){const m=e[c];if((o=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&o[m.type]){const g=this.options.extensions.renderers[m.type].call({parser:this},m);if(g!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(m.type)){r+=g||"";continue}}const u=m;switch(u.type){case"escape":{r+=t.text(u);break}case"html":{r+=t.html(u);break}case"link":{r+=t.link(u);break}case"image":{r+=t.image(u);break}case"strong":{r+=t.strong(u);break}case"em":{r+=t.em(u);break}case"codespan":{r+=t.codespan(u);break}case"br":{r+=t.br(u);break}case"del":{r+=t.del(u);break}case"text":{r+=t.text(u);break}default:{const g='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(g),"";throw new Error(g)}}}return r}}class wu{constructor(e){fn(this,"options");fn(this,"block");this.options=e||bl}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?to.lex:to.lexInline}provideParser(){return this.block?no.parse:no.parseInline}}fn(wu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class HF{constructor(...e){fn(this,"defaults",Wv());fn(this,"options",this.setOptions);fn(this,"parse",this.parseMarkdown(!0));fn(this,"parseInline",this.parseMarkdown(!1));fn(this,"Parser",no);fn(this,"Renderer",rf);fn(this,"TextRenderer",Zv);fn(this,"Lexer",to);fn(this,"Tokenizer",nf);fn(this,"Hooks",wu);this.use(...e)}walkTokens(e,t){var s,o;let r=[];for(const c of e)switch(r=r.concat(t.call(this,c)),c.type){case"table":{const m=c;for(const u of m.header)r=r.concat(this.walkTokens(u.tokens,t));for(const u of m.rows)for(const g of u)r=r.concat(this.walkTokens(g.tokens,t));break}case"list":{const m=c;r=r.concat(this.walkTokens(m.items,t));break}default:{const m=c;(o=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&o[m.type]?this.defaults.extensions.childTokens[m.type].forEach(u=>{const g=m[u].flat(1/0);r=r.concat(this.walkTokens(g,t))}):m.tokens&&(r=r.concat(this.walkTokens(m.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const s={...r};if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const c=t.renderers[o.name];c?t.renderers[o.name]=function(...m){let u=o.renderer.apply(this,m);return u===!1&&(u=c.apply(this,m)),u}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const c=t[o.level];c?c.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),s.extensions=t),r.renderer){const o=this.defaults.renderer||new rf(this.defaults);for(const c in r.renderer){if(!(c in o))throw new Error(`renderer '${c}' does not exist`);if(["options","parser"].includes(c))continue;const m=c,u=r.renderer[m],g=o[m];o[m]=(...a)=>{let h=u.apply(o,a);return h===!1&&(h=g.apply(o,a)),h||""}}s.renderer=o}if(r.tokenizer){const o=this.defaults.tokenizer||new nf(this.defaults);for(const c in r.tokenizer){if(!(c in o))throw new Error(`tokenizer '${c}' does not exist`);if(["options","rules","lexer"].includes(c))continue;const m=c,u=r.tokenizer[m],g=o[m];o[m]=(...a)=>{let h=u.apply(o,a);return h===!1&&(h=g.apply(o,a)),h}}s.tokenizer=o}if(r.hooks){const o=this.defaults.hooks||new wu;for(const c in r.hooks){if(!(c in o))throw new Error(`hook '${c}' does not exist`);if(["options","block"].includes(c))continue;const m=c,u=r.hooks[m],g=o[m];wu.passThroughHooks.has(c)?o[m]=a=>{if(this.defaults.async)return Promise.resolve(u.call(o,a)).then(d=>g.call(o,d));const h=u.call(o,a);return g.call(o,h)}:o[m]=(...a)=>{let h=u.apply(o,a);return h===!1&&(h=g.apply(o,a)),h}}s.hooks=o}if(r.walkTokens){const o=this.defaults.walkTokens,c=r.walkTokens;s.walkTokens=function(m){let u=[];return u.push(c.call(this,m)),o&&(u=u.concat(o.call(this,m))),u}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return to.lex(e,t??this.defaults)}parser(e,t){return no.parse(e,t??this.defaults)}parseMarkdown(e){return(r,s)=>{const o={...s},c={...this.defaults,...o},m=this.onError(!!c.silent,!!c.async);if(this.defaults.async===!0&&o.async===!1)return m(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));c.hooks&&(c.hooks.options=c,c.hooks.block=e);const u=c.hooks?c.hooks.provideLexer():e?to.lex:to.lexInline,g=c.hooks?c.hooks.provideParser():e?no.parse:no.parseInline;if(c.async)return Promise.resolve(c.hooks?c.hooks.preprocess(r):r).then(a=>u(a,c)).then(a=>c.hooks?c.hooks.processAllTokens(a):a).then(a=>c.walkTokens?Promise.all(this.walkTokens(a,c.walkTokens)).then(()=>a):a).then(a=>g(a,c)).then(a=>c.hooks?c.hooks.postprocess(a):a).catch(m);try{c.hooks&&(r=c.hooks.preprocess(r));let a=u(r,c);c.hooks&&(a=c.hooks.processAllTokens(a)),c.walkTokens&&this.walkTokens(a,c.walkTokens);let h=g(a,c);return c.hooks&&(h=c.hooks.postprocess(h)),h}catch(a){return m(a)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+Fo(r.message+"",!0)+"</pre>";return t?Promise.resolve(s):s}if(t)return Promise.reject(r);throw r}}}const hl=new HF;function an(n,e){return hl.parse(n,e)}an.options=an.setOptions=function(n){return hl.setOptions(n),an.defaults=hl.defaults,LT(an.defaults),an};an.getDefaults=Wv;an.defaults=bl;an.use=function(...n){return hl.use(...n),an.defaults=hl.defaults,LT(an.defaults),an};an.walkTokens=function(n,e){return hl.walkTokens(n,e)};an.parseInline=hl.parseInline;an.Parser=no;an.parser=no.parse;an.Renderer=rf;an.TextRenderer=Zv;an.Lexer=to;an.lexer=to.lex;an.Tokenizer=nf;an.Hooks=wu;an.parse=an;an.options;an.setOptions;an.use;an.walkTokens;an.parseInline;no.parse;to.lex;const WF=()=>{const[n,e]=oe.useState(!1),[t,r]=oe.useState(!1),[s,o]=oe.useState(null),{lessons:c}=oe.useContext(ml),{userInfo:m}=ka(),u=f=>{console.log("New material:",f)},g=f=>{console.log("New exercise:",f)},a=f=>{console.log("Edit lesson",f)},h=async f=>{console.log("Delete lesson",f);try{await Hv("lessons",f),console.log("Lesson deleted successfully")}catch(p){console.error("Failed to delete lesson:",p)}},d=f=>{o(s===f?null:f)};return!c||c.length===0?se.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"載入中..."}):se.jsxs("div",{className:"min-h-screen bg-gray-50",children:[se.jsx("h1",{children:"教材列表"}),se.jsxs("div",{className:"mx-auto",children:[(m==null?void 0:m.role)==="admin"&&se.jsxs("div",{className:"flex gap-2 mt-4",children:[se.jsx(br,{onClick:()=>e(!0),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 me-2",children:"新增教材"}),se.jsx(br,{onClick:()=>r(!0),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"新增題目"})]}),se.jsx("div",{id:"data-list",className:"mt-4",children:c.map(f=>se.jsxs("div",{className:"lesson-item bg-gray-50 rounded-lg shadow-sm mb-2",children:[se.jsxs(OS,{className:" display-flex p-3 hover:bg-gray-100 rounded-lg",onClick:()=>{d(f.id),window.scrollTo({top:0,behavior:"smooth"})},style:{cursor:"pointer"},children:[se.jsx(Nd,{children:se.jsx("span",{children:f.title})}),se.jsx(Nd,{className:"d-flex justify-content-end",children:(m==null?void 0:m.role)==="admin"&&se.jsxs("div",{className:"flex gap-2",children:[se.jsx(br,{variant:"secondary",size:"sm",onClick:p=>{p.stopPropagation(),a(f.id)},children:"編輯"}),se.jsx(br,{variant:"danger",className:"ms-2 ",size:"sm",onClick:p=>{p.stopPropagation(),h(f.id)},children:"刪除"})]})})]}),s===f.id&&se.jsx("div",{className:"lesson-details p-4 border-t border-gray-200",children:se.jsx("div",{className:"prose",dangerouslySetInnerHTML:{__html:an.parse(f.content)||"No description available"}})})]},f.id))}),se.jsx(fF,{isOpen:n,onClose:()=>e(!1),onSubmit:u}),se.jsx(pF,{isOpen:t,onClose:()=>r(!1),onSubmit:g})]})]})},GF=()=>{const n=qu(),{quizs:e}=oe.useContext(ml),{userInfo:t}=ka(),[r,s]=oe.useState(new Set),[o,c]=oe.useState([]),[m,u]=oe.useState(!1);oe.useEffect(()=>{const v=()=>u(window.innerWidth<768);return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),oe.useEffect(()=>{t!=null&&t.uid&&kT(t.uid,"grades").then(v=>{const y=[];v!=null&&v.materials&&Object.values(v.materials).forEach(C=>{Object.keys(C).forEach(A=>{y.push(A)})}),c(y)})},[t]);const g=(v,y)=>{n(`/exercise/${v.id}`)},a=async v=>{console.log("Delete exercise",v);try{await Hv("quiz",v),console.log("Exercise deleted successfully")}catch(y){console.error("Failed to delete exercise:",y)}},h=v=>{console.log("Edit exercise",v)},d=oe.useMemo(()=>[...e].sort((y,C)=>{const A=new Date(y.createdAt).getTime(),F=new Date(C.createdAt).getTime();return A-F}).reduce((y,C)=>(y[C.tag]||(y[C.tag]=[]),y[C.tag].push(C),y),{}),[e]),f=v=>{s(y=>{const C=new Set(y);return C.has(v)?C.delete(v):C.add(v),C})},p=["範例","輸入輸出","條件判斷","迴圈"];return se.jsxs(se.Fragment,{children:[se.jsx("h1",{children:"題目列表"}),se.jsx("div",{children:se.jsx("ul",{id:"data-list",className:"list-group",children:Object.entries(d).sort(([v],[y])=>{const C=p.indexOf(v),A=p.indexOf(y);return C===-1&&A===-1?v.localeCompare(y):C===-1?1:A===-1?-1:C-A}).map(([v,y])=>se.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-sm",children:[se.jsxs("div",{className:"tag-container",onClick:()=>f(v),children:[se.jsx("span",{className:"tag-title",children:v}),se.jsx("span",{className:`tag-icon ${r.has(v)?"rotate-180":""}`,children:"▼"})]}),r.has(v)&&se.jsx("ul",{className:"list-none p-0 m-0 border-t border-gray-200",children:y.map(C=>se.jsx("li",{className:"p-3 hover:bg-gray-100 cursor-pointer border-b border-gray-200 last:border-b-0",children:se.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[se.jsx("div",{className:"flex-grow-1",onClick:()=>g(C,d[v]),style:{cursor:"pointer"},children:C.title}),o.includes(C.id)&&(m?se.jsx("span",{style:{marginLeft:"16px",color:"#4CAF50",fontSize:"1.5em",display:"flex",alignItems:"center"},"aria-label":"已通關",children:se.jsx("i",{className:"fas fa-check"})}):se.jsx("span",{style:{marginLeft:"16px",color:"#fff",background:"#4CAF50",borderRadius:"12px",padding:"2px 12px",fontSize:"0.95em",fontWeight:"bold"},children:"已通關"})),(t==null?void 0:t.role)==="admin"&&se.jsxs("div",{className:"flex gap-2",children:[se.jsx(br,{variant:"secondary",size:"sm",onClick:A=>{A.stopPropagation(),h(C.id)},children:"編輯"}),se.jsx(br,{variant:"danger",className:"ms-2 ",size:"sm",onClick:A=>{A.stopPropagation(),a(C.id)},children:"刪除"})]})]})},C.id))})]},v))})})]})},KF=()=>{var $;const n=qu(),e=Is(),{quizs:t}=oe.useContext(ml),{userInfo:r}=ka(),[s,o]=oe.useState([]),[c,m]=oe.useState((($=e.state)==null?void 0:$.code)||""),[u,g]=oe.useState(!0),[a,h]=oe.useState(""),[d,f]=oe.useState([]),[p,v]=oe.useState(!1),y=async _=>{h("");const E=(_??c).trim(),I=await cF(E);I&&I.list?(o(I.list),g(!1)):h("找不到對應的題目列表，請確認代號是否正確")};oe.useEffect(()=>{const _=()=>v(window.innerWidth<768);return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),oe.useEffect(()=>{var _;(_=e.state)!=null&&_.code&&(m(e.state.code),y(e.state.code),g(!1))},[e.state]),oe.useEffect(()=>{r!=null&&r.uid&&kT(r.uid,"test").then(_=>{const E=[];_&&Object.keys(_).forEach(I=>{E.push(I)}),f(E)})},[r]);const C=s.map(_=>t.find(E=>E.id===_)).filter(Boolean),A=_=>{n(`/test/${_.id}`,{state:{code:c,testIds:s}})},F=async _=>{try{await Hv("quiz",_)}catch(E){console.error("Failed to delete exercise:",E)}},O=_=>{};return se.jsxs(se.Fragment,{children:[se.jsx("h1",{children:"測驗題目列表"}),u?se.jsxs("div",{style:{maxWidth:400,margin:"40px auto",textAlign:"center"},children:[se.jsx("input",{type:"text",placeholder:"請輸入題組代號",value:c,onChange:_=>m(_.target.value),style:{padding:"8px",width:"70%"}}),se.jsx(br,{variant:"primary",style:{marginLeft:8},onClick:()=>y(),children:"送出"}),a&&se.jsx("div",{style:{color:"red",marginTop:12},children:a})]}):se.jsxs("div",{children:[se.jsx("ul",{id:"data-list",className:"list-group",children:C.map(_=>se.jsx("li",{className:"p-3 hover:bg-gray-100 cursor-pointer border-bottom",children:se.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[se.jsx("div",{className:"flex-grow-1",onClick:()=>A(_),style:{cursor:"pointer"},children:_.title}),d.includes(_.id)&&(p?se.jsx("span",{style:{marginLeft:"16px",color:"#4CAF50",fontSize:"1.5em",display:"flex",alignItems:"center"},"aria-label":"已通關",children:se.jsx("i",{className:"fas fa-check"})}):se.jsx("span",{style:{marginLeft:"16px",color:"#fff",background:"#4CAF50",borderRadius:"12px",padding:"2px 12px",fontSize:"0.95em",fontWeight:"bold"},children:"已通關"})),(r==null?void 0:r.role)==="admin"&&se.jsxs("div",{className:"flex gap-2",children:[se.jsx(br,{variant:"secondary",size:"sm",onClick:E=>{E.stopPropagation(),O(_.id)},children:"編輯"}),se.jsx(br,{variant:"danger",className:"ms-2 ",size:"sm",onClick:E=>{E.stopPropagation(),F(_.id)},children:"刪除"})]})]})},_.id))}),se.jsx(br,{variant:"link",onClick:()=>{g(!0),o([])},children:"重新輸入代號"})]})]})},qF=()=>{var P,V;const{userInfo:n}=ka(),{id:e}=kC(),t=Is(),r=((P=t.state)==null?void 0:P.code)||"",s=((V=t.state)==null?void 0:V.testIds)||[],{quizs:o}=oe.useContext(ml)||{},c=s.map(S=>o.find(w=>w.id===S)).filter(Boolean),m=c.find(S=>S.id===e),u=qu(),g=oe.useRef(null),[a,h]=oe.useState(!1),[d,f]=oe.useState(0),[p,v]=oe.useState(0),y=oe.useRef(null),[C,A]=oe.useState(!1),[F,O]=oe.useState([]);oe.useEffect(()=>{if(v(0),f(0),m&&m.code){const S=m.code.map((w,L)=>({code:w,label:m.codeLabels?m.codeLabels[L]:null}));if(S.length>1){let w;do w=[...S].sort(()=>Math.random()-.5);while(w.map(L=>L.code).join("")===m.code.join(""));O(w)}else O(S)}return ha(".block").draggable({listeners:{move(S){const w=S.target,L=(parseFloat(w.getAttribute("data-x"))||0)+S.dx,N=(parseFloat(w.getAttribute("data-y"))||0)+S.dy;w.style.transform=`translate(${L}px, ${N}px)`,w.setAttribute("data-x",L),w.setAttribute("data-y",N)},end(S){const w=S.target;w.style.transform="",w.removeAttribute("data-x"),w.removeAttribute("data-y")}}}),ha(".zone").dropzone({ondragenter(S){S.target.classList.add("hover")},ondragleave(S){S.target.classList.remove("hover")},ondrop(S){const w=S.relatedTarget,L=S.target;L.classList.remove("hover");const N=Array.from(L.querySelectorAll(".block")),z=w.getBoundingClientRect();let q=!1;for(const K of N){const J=K.getBoundingClientRect();if(z.top<J.top){L.insertBefore(w,K),q=!0;break}}q||L.appendChild(w)},ondropdeactivate(S){S.target.classList.remove("hover")}}),y.current=setInterval(()=>{v(S=>S+1)},1e3),()=>{ha(".block").unset(),ha(".zone").unset(),clearInterval(y.current)}},[m]);const $=()=>{A(S=>!S)},_=()=>{const S=g.current.querySelectorAll(".block"),w=Array.from(S).map(L=>L.textContent);f(L=>{const N=L+1;return JSON.stringify(w)===JSON.stringify(m.code)?(h(!0),clearInterval(y.current),QN(n.uid,m,p,N).then(()=>console.log("🔥 Firebase 更新成功")).catch(q=>console.error("🔥 Firebase 更新失敗",q)),bs.fire({title:"答對了！",text:`恭喜你完成這個題目！
用時 ${p} 秒
作答次數：${N}`,icon:"success",confirmButtonText:"太棒了",confirmButtonColor:"#3085d6",didOpen:()=>{setTimeout(()=>{AT({particleCount:100,spread:70,origin:{y:.6},zIndex:9999})},100)}})):bs.fire({title:"答案不對喔",text:"再試試看吧！",icon:"error",confirmButtonText:"再來一次",confirmButtonColor:"#d33"}),N})},E=()=>{u("/te_list",{state:{code:r}})},I=()=>{const S=c.findIndex(w=>w.id===m.id);if(S<c.length-1){const w=c[S+1];h(!1),u(`/test/${w.id}`,{state:{code:r,testIds:s}})}else bs.fire({title:"恭喜！",text:"你已完成最後一題！",icon:"success",confirmButtonText:"返回題組"}).then(()=>{E()})},M=S=>{switch(S){case"賦值":return{backgroundColor:"#FFE8D6"};case"運算":return{backgroundColor:"#b5e8cb"};case"迴圈":return{backgroundColor:"#FFD6A5"};case"條件判斷":return{backgroundColor:"#FFDDB9"};case"函式定義":return{backgroundColor:"#FFE6EB"};case"輸出":return{backgroundColor:"#EFE6FF"};case"輸入":return{backgroundColor:"#E6F5FB"};case"函式呼叫":return{backgroundColor:"#FFF0F5"};default:return{backgroundColor:"#F9F9F9"}}};return!o||o.length===0?se.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"載入中..."}):se.jsxs(se.Fragment,{children:[se.jsxs("div",{className:"exercise-header",children:[se.jsxs("div",{className:"header-content",children:[se.jsx("h3",{className:"question-title",children:m.title}),se.jsxs("p",{className:"timer",children:["⏳ 時間：",p," 秒 | 📝 作答次數：",d]})]}),se.jsxs("div",{className:"question-description",children:[se.jsx("p",{children:se.jsx("strong",{children:"題目說明："})}),se.jsx("p",{children:m.question})]})]}),se.jsxs("div",{className:"answer-header",style:{justifycontent:"space-between",width:"100%"},children:[se.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[se.jsx("h2",{style:{marginBottom:0},children:"作答區"}),se.jsxs("div",{style:{position:"relative"},children:[se.jsx("button",{type:"button",onClick:$,style:{fontSize:"20px",background:"#fff",borderRadius:"8px",padding:"8px 16px",lineHeight:1.7,alignItems:"center",color:"#333",border:"none",cursor:"pointer"},children:se.jsx("i",{className:"fas fa-circle-question"})}),C&&se.jsxs("div",{style:{position:"absolute",top:"110%",right:0,left:"auto",zIndex:10,background:"#fff",border:"1px solid #eee",borderRadius:"8px",padding:"12px 16px",boxShadow:"0 2px 8px #ccc",minWidth:"120px",maxWidth:"90vw",overflowX:"auto"},children:[se.jsx("b",{children:"顏色說明："}),se.jsxs("div",{style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",gap:"12px",marginTop:"8px"},children:[se.jsx("span",{style:{background:"#FFE8D6",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"賦值"}),se.jsx("span",{style:{background:"#b5e8cb",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"運算"}),se.jsx("span",{style:{background:"#FFD6A5",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"迴圈"}),se.jsx("span",{style:{background:"#FFDDB9",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"條件判斷"}),se.jsx("span",{style:{background:"#FFE6EB",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"函式定義"}),se.jsx("span",{style:{background:"#EFE6FF",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"輸出"}),se.jsx("span",{style:{background:"#E6F5FB",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"輸入"}),se.jsx("span",{style:{background:"#FFF0F5",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"函式呼叫"})]})]})]})]}),se.jsx("div",{id:"answer-zone",className:"zone",ref:g,children:F.map((S,w)=>se.jsx("div",{className:"block block-content",draggable:"true","data-code":w,style:M(S.label),children:S.code},w))})]}),se.jsxs("div",{className:"button-group",style:{display:"flex",gap:"10px",marginTop:"20px",justifyContent:"center"},children:[se.jsx("button",{onClick:_,style:{padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"送出答案"}),se.jsx("button",{onClick:E,style:{padding:"8px 16px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"返回題組"}),a&&se.jsx("button",{onClick:I,style:{padding:"8px 16px",backgroundColor:"#FF9800",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"下一題"})]}),se.jsx("div",{style:{height:"40px",width:"100%"}})]})},QF=()=>se.jsxs(w2,{children:[se.jsx(Xa,{path:"/",element:se.jsx(eO,{})}),se.jsx(Xa,{path:"/exercise/:id",element:se.jsx(YN,{})}),se.jsx(Xa,{path:"/list",element:se.jsx(WF,{})}),se.jsx(Xa,{path:"/ex_list",element:se.jsx(GF,{})}),se.jsx(Xa,{path:"/test/:id",element:se.jsx(qF,{})}),se.jsx(Xa,{path:"/te_list",element:se.jsx(KF,{})})]});function YF(){return se.jsx(PR,{children:se.jsx(LR,{children:se.jsxs(U2,{basename:"/Client/",children:[se.jsx(J2,{}),se.jsx(IP,{}),se.jsx("div",{children:se.jsx(QF,{})})]})})})}z1.createRoot(document.getElementById("root")).render(se.jsx(oe.StrictMode,{children:se.jsx(YF,{})}))});export default XF();
