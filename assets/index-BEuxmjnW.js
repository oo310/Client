var k1=Object.defineProperty;var I1=(n,e,t)=>e in n?k1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var R1=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var fn=(n,e,t)=>I1(n,typeof e!="symbol"?e+"":e,t);var GF=R1((XF,Zu)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var Bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function il(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ng={exports:{}},qc={},rg={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function M1(){if(Hw)return Dt;Hw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),h=Symbol.iterator;function d(U){return U===null||typeof U!="object"?null:(U=h&&U[h]||U["@@iterator"],typeof U=="function"?U:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,v={};function y(U,re,Z){this.props=U,this.context=re,this.refs=v,this.updater=Z||f}y.prototype.isReactComponent={},y.prototype.setState=function(U,re){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,re,"setState")},y.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=y.prototype;function k(U,re,Z){this.props=U,this.context=re,this.refs=v,this.updater=Z||f}var F=k.prototype=new C;F.constructor=k,p(F,y.prototype),F.isPureReactComponent=!0;var O=Array.isArray,L=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(U,re,Z){var ue,ce={},oe=null,pe=null;if(re!=null)for(ue in re.ref!==void 0&&(pe=re.ref),re.key!==void 0&&(oe=""+re.key),re)L.call(re,ue)&&!_.hasOwnProperty(ue)&&(ce[ue]=re[ue]);var Ee=arguments.length-2;if(Ee===1)ce.children=Z;else if(1<Ee){for(var me=Array(Ee),Ae=0;Ae<Ee;Ae++)me[Ae]=arguments[Ae+2];ce.children=me}if(U&&U.defaultProps)for(ue in Ee=U.defaultProps,Ee)ce[ue]===void 0&&(ce[ue]=Ee[ue]);return{$$typeof:n,type:U,key:oe,ref:pe,props:ce,_owner:E.current}}function M(U,re){return{$$typeof:n,type:U.type,key:re,ref:U.ref,props:U.props,_owner:U._owner}}function $(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function B(U){var re={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Z){return re[Z]})}var T=/\/+/g;function b(U,re){return typeof U=="object"&&U!==null&&U.key!=null?B(""+U.key):re.toString(36)}function P(U,re,Z,ue,ce){var oe=typeof U;(oe==="undefined"||oe==="boolean")&&(U=null);var pe=!1;if(U===null)pe=!0;else switch(oe){case"string":case"number":pe=!0;break;case"object":switch(U.$$typeof){case n:case e:pe=!0}}if(pe)return pe=U,ce=ce(pe),U=ue===""?"."+b(pe,0):ue,O(ce)?(Z="",U!=null&&(Z=U.replace(T,"$&/")+"/"),P(ce,re,Z,"",function(Ae){return Ae})):ce!=null&&($(ce)&&(ce=M(ce,Z+(!ce.key||pe&&pe.key===ce.key?"":(""+ce.key).replace(T,"$&/")+"/")+U)),re.push(ce)),1;if(pe=0,ue=ue===""?".":ue+":",O(U))for(var Ee=0;Ee<U.length;Ee++){oe=U[Ee];var me=ue+b(oe,Ee);pe+=P(oe,re,Z,me,ce)}else if(me=d(U),typeof me=="function")for(U=me.call(U),Ee=0;!(oe=U.next()).done;)oe=oe.value,me=ue+b(oe,Ee++),pe+=P(oe,re,Z,me,ce);else if(oe==="object")throw re=String(U),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return pe}function N(U,re,Z){if(U==null)return U;var ue=[],ce=0;return P(U,ue,"","",function(oe){return re.call(Z,oe,ce++)}),ue}function z(U){if(U._status===-1){var re=U._result;re=re(),re.then(function(Z){(U._status===0||U._status===-1)&&(U._status=1,U._result=Z)},function(Z){(U._status===0||U._status===-1)&&(U._status=2,U._result=Z)}),U._status===-1&&(U._status=0,U._result=re)}if(U._status===1)return U._result.default;throw U._result}var q={current:null},K={transition:null},J={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:K,ReactCurrentOwner:E};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Dt.Children={map:N,forEach:function(U,re,Z){N(U,function(){re.apply(this,arguments)},Z)},count:function(U){var re=0;return N(U,function(){re++}),re},toArray:function(U){return N(U,function(re){return re})||[]},only:function(U){if(!$(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Dt.Component=y,Dt.Fragment=t,Dt.Profiler=s,Dt.PureComponent=k,Dt.StrictMode=r,Dt.Suspense=u,Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Dt.act=Q,Dt.cloneElement=function(U,re,Z){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ue=p({},U.props),ce=U.key,oe=U.ref,pe=U._owner;if(re!=null){if(re.ref!==void 0&&(oe=re.ref,pe=E.current),re.key!==void 0&&(ce=""+re.key),U.type&&U.type.defaultProps)var Ee=U.type.defaultProps;for(me in re)L.call(re,me)&&!_.hasOwnProperty(me)&&(ue[me]=re[me]===void 0&&Ee!==void 0?Ee[me]:re[me])}var me=arguments.length-2;if(me===1)ue.children=Z;else if(1<me){Ee=Array(me);for(var Ae=0;Ae<me;Ae++)Ee[Ae]=arguments[Ae+2];ue.children=Ee}return{$$typeof:n,type:U.type,key:ce,ref:oe,props:ue,_owner:pe}},Dt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},Dt.createElement=I,Dt.createFactory=function(U){var re=I.bind(null,U);return re.type=U,re},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(U){return{$$typeof:m,render:U}},Dt.isValidElement=$,Dt.lazy=function(U){return{$$typeof:l,_payload:{_status:-1,_result:U},_init:z}},Dt.memo=function(U,re){return{$$typeof:g,type:U,compare:re===void 0?null:re}},Dt.startTransition=function(U){var re=K.transition;K.transition={};try{U()}finally{K.transition=re}},Dt.unstable_act=Q,Dt.useCallback=function(U,re){return q.current.useCallback(U,re)},Dt.useContext=function(U){return q.current.useContext(U)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(U){return q.current.useDeferredValue(U)},Dt.useEffect=function(U,re){return q.current.useEffect(U,re)},Dt.useId=function(){return q.current.useId()},Dt.useImperativeHandle=function(U,re,Z){return q.current.useImperativeHandle(U,re,Z)},Dt.useInsertionEffect=function(U,re){return q.current.useInsertionEffect(U,re)},Dt.useLayoutEffect=function(U,re){return q.current.useLayoutEffect(U,re)},Dt.useMemo=function(U,re){return q.current.useMemo(U,re)},Dt.useReducer=function(U,re,Z){return q.current.useReducer(U,re,Z)},Dt.useRef=function(U){return q.current.useRef(U)},Dt.useState=function(U){return q.current.useState(U)},Dt.useSyncExternalStore=function(U,re,Z){return q.current.useSyncExternalStore(U,re,Z)},Dt.useTransition=function(){return q.current.useTransition()},Dt.version="18.3.1",Dt}var Ww;function dc(){return Ww||(Ww=1,rg.exports=M1()),rg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function L1(){if(Gw)return qc;Gw=1;var n=dc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(m,u,g){var l,h={},d=null,f=null;g!==void 0&&(d=""+g),u.key!==void 0&&(d=""+u.key),u.ref!==void 0&&(f=u.ref);for(l in u)r.call(u,l)&&!o.hasOwnProperty(l)&&(h[l]=u[l]);if(m&&m.defaultProps)for(l in u=m.defaultProps,u)h[l]===void 0&&(h[l]=u[l]);return{$$typeof:e,type:m,key:d,ref:f,props:h,_owner:s.current}}return qc.Fragment=t,qc.jsx=c,qc.jsxs=c,qc}var Kw;function $1(){return Kw||(Kw=1,ng.exports=L1()),ng.exports}var fe=$1(),se=dc();const Ga=il(se);var qh={},ig={exports:{}},bi={},og={exports:{}},sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function P1(){return qw||(qw=1,function(n){function e(K,J){var Q=K.length;K.push(J);e:for(;0<Q;){var U=Q-1>>>1,re=K[U];if(0<s(re,J))K[U]=J,K[Q]=re,Q=U;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var J=K[0],Q=K.pop();if(Q!==J){K[0]=Q;e:for(var U=0,re=K.length,Z=re>>>1;U<Z;){var ue=2*(U+1)-1,ce=K[ue],oe=ue+1,pe=K[oe];if(0>s(ce,Q))oe<re&&0>s(pe,ce)?(K[U]=pe,K[oe]=Q,U=oe):(K[U]=ce,K[ue]=Q,U=ue);else if(oe<re&&0>s(pe,Q))K[U]=pe,K[oe]=Q,U=oe;else break e}}return J}function s(K,J){var Q=K.sortIndex-J.sortIndex;return Q!==0?Q:K.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var u=[],g=[],l=1,h=null,d=3,f=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(K){for(var J=t(g);J!==null;){if(J.callback===null)r(g);else if(J.startTime<=K)r(g),J.sortIndex=J.expirationTime,e(u,J);else break;J=t(g)}}function O(K){if(v=!1,F(K),!p)if(t(u)!==null)p=!0,z(L);else{var J=t(g);J!==null&&q(O,J.startTime-K)}}function L(K,J){p=!1,v&&(v=!1,C(I),I=-1),f=!0;var Q=d;try{for(F(J),h=t(u);h!==null&&(!(h.expirationTime>J)||K&&!B());){var U=h.callback;if(typeof U=="function"){h.callback=null,d=h.priorityLevel;var re=U(h.expirationTime<=J);J=n.unstable_now(),typeof re=="function"?h.callback=re:h===t(u)&&r(u),F(J)}else r(u);h=t(u)}if(h!==null)var Z=!0;else{var ue=t(g);ue!==null&&q(O,ue.startTime-J),Z=!1}return Z}finally{h=null,d=Q,f=!1}}var E=!1,_=null,I=-1,M=5,$=-1;function B(){return!(n.unstable_now()-$<M)}function T(){if(_!==null){var K=n.unstable_now();$=K;var J=!0;try{J=_(!0,K)}finally{J?b():(E=!1,_=null)}}else E=!1}var b;if(typeof k=="function")b=function(){k(T)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,N=P.port2;P.port1.onmessage=T,b=function(){N.postMessage(null)}}else b=function(){y(T,0)};function z(K){_=K,E||(E=!0,b())}function q(K,J){I=y(function(){K(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){p||f||(p=!0,z(L))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(K){switch(d){case 1:case 2:case 3:var J=3;break;default:J=d}var Q=d;d=J;try{return K()}finally{d=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=d;d=K;try{return J()}finally{d=Q}},n.unstable_scheduleCallback=function(K,J,Q){var U=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?U+Q:U):Q=U,K){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Q+re,K={id:l++,callback:J,priorityLevel:K,startTime:Q,expirationTime:re,sortIndex:-1},Q>U?(K.sortIndex=Q,e(g,K),t(u)===null&&K===t(g)&&(v?(C(I),I=-1):v=!0,q(O,Q-U))):(K.sortIndex=re,e(u,K),p||f||(p=!0,z(L))),K},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(K){var J=d;return function(){var Q=d;d=J;try{return K.apply(this,arguments)}finally{d=Q}}}}(sg)),sg}var Qw;function O1(){return Qw||(Qw=1,og.exports=P1()),og.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function D1(){if(Yw)return bi;Yw=1;var n=dc(),e=O1();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,w=1;w<arguments.length;w++)a+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},h={};function d(i){return u.call(h,i)?!0:u.call(l,i)?!1:g.test(i)?h[i]=!0:(l[i]=!0,!1)}function f(i,a,w,R){if(w!==null&&w.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return R?!1:w!==null?!w.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function p(i,a,w,R){if(a===null||typeof a>"u"||f(i,a,w,R))return!0;if(R)return!1;if(w!==null)switch(w.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v(i,a,w,R,V,W,ee){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=R,this.attributeNamespace=V,this.mustUseProperty=w,this.propertyName=i,this.type=a,this.sanitizeURL=W,this.removeEmptyString=ee}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){y[i]=new v(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];y[a]=new v(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){y[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){y[i]=new v(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){y[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){y[i]=new v(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){y[i]=new v(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){y[i]=new v(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){y[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(C,k);y[a]=new v(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(C,k);y[a]=new v(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(C,k);y[a]=new v(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){y[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){y[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,a,w,R){var V=y.hasOwnProperty(a)?y[a]:null;(V!==null?V.type!==0:R||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(p(a,w,V,R)&&(w=null),R||V===null?d(a)&&(w===null?i.removeAttribute(a):i.setAttribute(a,""+w)):V.mustUseProperty?i[V.propertyName]=w===null?V.type===3?!1:"":w:(a=V.attributeName,R=V.attributeNamespace,w===null?i.removeAttribute(a):(V=V.type,w=V===3||V===4&&w===!0?"":""+w,R?i.setAttributeNS(R,a,w):i.setAttribute(a,w))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),B=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),K=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Object.assign,U;function re(i){if(U===void 0)try{throw Error()}catch(w){var a=w.stack.trim().match(/\n( *(at )?)/);U=a&&a[1]||""}return`
`+U+i}var Z=!1;function ue(i,a){if(!i||Z)return"";Z=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ke){var R=ke}Reflect.construct(i,[],a)}else{try{a.call()}catch(ke){R=ke}i.call(a.prototype)}else{try{throw Error()}catch(ke){R=ke}i()}}catch(ke){if(ke&&R&&typeof ke.stack=="string"){for(var V=ke.stack.split(`
`),W=R.stack.split(`
`),ee=V.length-1,de=W.length-1;1<=ee&&0<=de&&V[ee]!==W[de];)de--;for(;1<=ee&&0<=de;ee--,de--)if(V[ee]!==W[de]){if(ee!==1||de!==1)do if(ee--,de--,0>de||V[ee]!==W[de]){var ve=`
`+V[ee].replace(" at new "," at ");return i.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",i.displayName)),ve}while(1<=ee&&0<=de);break}}}finally{Z=!1,Error.prepareStackTrace=w}return(i=i?i.displayName||i.name:"")?re(i):""}function ce(i){switch(i.tag){case 5:return re(i.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return i=ue(i.type,!1),i;case 11:return i=ue(i.type.render,!1),i;case 1:return i=ue(i.type,!0),i;default:return""}}function oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case E:return"Portal";case M:return"Profiler";case I:return"StrictMode";case b:return"Suspense";case P:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case B:return(i.displayName||"Context")+".Consumer";case $:return(i._context.displayName||"Context")+".Provider";case T:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return a=i.displayName||null,a!==null?a:oe(i.type)||"Memo";case z:a=i._payload,i=i._init;try{return oe(i(a))}catch{}}return null}function pe(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(a);case 8:return a===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function me(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ae(i){var a=me(i)?"checked":"value",w=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),R=""+i[a];if(!i.hasOwnProperty(a)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var V=w.get,W=w.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return V.call(this)},set:function(ee){R=""+ee,W.call(this,ee)}}),Object.defineProperty(i,a,{enumerable:w.enumerable}),{getValue:function(){return R},setValue:function(ee){R=""+ee},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function $e(i){i._valueTracker||(i._valueTracker=Ae(i))}function Qe(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var w=a.getValue(),R="";return i&&(R=me(i)?i.checked?"true":"false":i.value),i=R,i!==w?(a.setValue(i),!0):!1}function ut(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function qe(i,a){var w=a.checked;return Q({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??i._wrapperState.initialChecked})}function Ge(i,a){var w=a.defaultValue==null?"":a.defaultValue,R=a.checked!=null?a.checked:a.defaultChecked;w=Ee(a.value!=null?a.value:w),i._wrapperState={initialChecked:R,initialValue:w,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function yt(i,a){a=a.checked,a!=null&&F(i,"checked",a,!1)}function Ot(i,a){yt(i,a);var w=Ee(a.value),R=a.type;if(w!=null)R==="number"?(w===0&&i.value===""||i.value!=w)&&(i.value=""+w):i.value!==""+w&&(i.value=""+w);else if(R==="submit"||R==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?pn(i,a.type,w):a.hasOwnProperty("defaultValue")&&pn(i,a.type,Ee(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Ht(i,a,w){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var R=a.type;if(!(R!=="submit"&&R!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,w||a===i.value||(i.value=a),i.defaultValue=a}w=i.name,w!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,w!==""&&(i.name=w)}function pn(i,a,w){(a!=="number"||ut(i.ownerDocument)!==i)&&(w==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+w&&(i.defaultValue=""+w))}var Nt=Array.isArray;function wn(i,a,w,R){if(i=i.options,a){a={};for(var V=0;V<w.length;V++)a["$"+w[V]]=!0;for(w=0;w<i.length;w++)V=a.hasOwnProperty("$"+i[w].value),i[w].selected!==V&&(i[w].selected=V),V&&R&&(i[w].defaultSelected=!0)}else{for(w=""+Ee(w),a=null,V=0;V<i.length;V++){if(i[V].value===w){i[V].selected=!0,R&&(i[V].defaultSelected=!0);return}a!==null||i[V].disabled||(a=i[V])}a!==null&&(a.selected=!0)}}function Wn(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Q({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Pn(i,a){var w=a.value;if(w==null){if(w=a.children,a=a.defaultValue,w!=null){if(a!=null)throw Error(t(92));if(Nt(w)){if(1<w.length)throw Error(t(93));w=w[0]}a=w}a==null&&(a=""),w=a}i._wrapperState={initialValue:Ee(w)}}function bn(i,a){var w=Ee(a.value),R=Ee(a.defaultValue);w!=null&&(w=""+w,w!==i.value&&(i.value=w),a.defaultValue==null&&i.defaultValue!==w&&(i.defaultValue=w)),R!=null&&(i.defaultValue=""+R)}function ur(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function be(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?be(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ke,ft=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,w,R,V){MSApp.execUnsafeLocalFunction(function(){return i(a,w,R,V)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Ke=Ke||document.createElement("div"),Ke.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ke.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function lt(i,a){if(a){var w=i.firstChild;if(w&&w===i.lastChild&&w.nodeType===3){w.nodeValue=a;return}}i.textContent=a}var kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lt=["Webkit","ms","Moz","O"];Object.keys(kt).forEach(function(i){Lt.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),kt[a]=kt[i]})});function Ft(i,a,w){return a==null||typeof a=="boolean"||a===""?"":w||typeof a!="number"||a===0||kt.hasOwnProperty(i)&&kt[i]?(""+a).trim():a+"px"}function $t(i,a){i=i.style;for(var w in a)if(a.hasOwnProperty(w)){var R=w.indexOf("--")===0,V=Ft(w,a[w],R);w==="float"&&(w="cssFloat"),R?i.setProperty(w,V):i[w]=V}}var _t=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ln(i,a){if(a){if(_t[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ce(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var De=null;function Ze(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rt=null,An=null,On=null;function Lr(i){if(i=$c(i)){if(typeof Rt!="function")throw Error(t(280));var a=i.stateNode;a&&(a=ch(a),Rt(i.stateNode,i.type,a))}}function Gn(i){An?On?On.push(i):On=[i]:An=i}function Ai(){if(An){var i=An,a=On;if(On=An=null,Lr(i),a)for(i=0;i<a.length;i++)Lr(a[i])}}function li(i,a){return i(a)}function Vi(){}var _r=!1;function so(i,a,w){if(_r)return i(a,w);_r=!0;try{return li(i,a,w)}finally{_r=!1,(An!==null||On!==null)&&(Vi(),Ai())}}function hn(i,a){var w=i.stateNode;if(w===null)return null;var R=ch(w);if(R===null)return null;w=R[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(i=i.type,R=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!R;break e;default:i=!1}if(i)return null;if(w&&typeof w!="function")throw Error(t(231,a,typeof w));return w}var Eo=!1;if(m)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{Eo=!1}function Bi(i,a,w,R,V,W,ee,de,ve){var ke=Array.prototype.slice.call(arguments,3);try{a.apply(w,ke)}catch(Be){this.onError(Be)}}var Kn=!1,hr=null,sn=!1,Xo=null,Ca={onError:function(i){Kn=!0,hr=i}};function ao(i,a,w,R,V,W,ee,de,ve){Kn=!1,hr=null,Bi.apply(Ca,arguments)}function Xr(i,a,w,R,V,W,ee,de,ve){if(ao.apply(this,arguments),Kn){if(Kn){var ke=hr;Kn=!1,hr=null}else throw Error(t(198));sn||(sn=!0,Xo=ke)}}function st(i){var a=i,w=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(w=a.return),i=a.return;while(i)}return a.tag===3?w:null}function qn(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function $r(i){if(st(i)!==i)throw Error(t(188))}function xs(i){var a=i.alternate;if(!a){if(a=st(i),a===null)throw Error(t(188));return a!==i?null:i}for(var w=i,R=a;;){var V=w.return;if(V===null)break;var W=V.alternate;if(W===null){if(R=V.return,R!==null){w=R;continue}break}if(V.child===W.child){for(W=V.child;W;){if(W===w)return $r(V),i;if(W===R)return $r(V),a;W=W.sibling}throw Error(t(188))}if(w.return!==R.return)w=V,R=W;else{for(var ee=!1,de=V.child;de;){if(de===w){ee=!0,w=V,R=W;break}if(de===R){ee=!0,R=V,w=W;break}de=de.sibling}if(!ee){for(de=W.child;de;){if(de===w){ee=!0,w=W,R=V;break}if(de===R){ee=!0,R=W,w=V;break}de=de.sibling}if(!ee)throw Error(t(189))}}if(w.alternate!==R)throw Error(t(190))}if(w.tag!==3)throw Error(t(188));return w.stateNode.current===w?i:a}function Zo(i){return i=xs(i),i!==null?ci(i):null}function ci(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=ci(i);if(a!==null)return a;i=i.sibling}return null}var zi=e.unstable_scheduleCallback,Zr=e.unstable_cancelCallback,As=e.unstable_shouldYield,xa=e.unstable_requestPaint,en=e.unstable_now,ks=e.unstable_getCurrentPriorityLevel,ji=e.unstable_ImmediatePriority,Pr=e.unstable_UserBlockingPriority,er=e.unstable_NormalPriority,So=e.unstable_LowPriority,Er=e.unstable_IdlePriority,Ui=null,Sr=null;function To(i){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Ui,i,void 0,(i.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:co,lo=Math.log,Is=Math.LN2;function co(i){return i>>>=0,i===0?32:31-(lo(i)/Is|0)|0}var Co=64,ui=4194304;function ki(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ii(i,a){var w=i.pendingLanes;if(w===0)return 0;var R=0,V=i.suspendedLanes,W=i.pingedLanes,ee=w&268435455;if(ee!==0){var de=ee&~V;de!==0?R=ki(de):(W&=ee,W!==0&&(R=ki(W)))}else ee=w&~V,ee!==0?R=ki(ee):W!==0&&(R=ki(W));if(R===0)return 0;if(a!==0&&a!==R&&!(a&V)&&(V=R&-R,W=a&-a,V>=W||V===16&&(W&4194240)!==0))return a;if(R&4&&(R|=w&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=R;0<a;)w=31-tr(a),V=1<<w,R|=i[w],a&=~V;return R}function xo(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dr(i,a){for(var w=i.suspendedLanes,R=i.pingedLanes,V=i.expirationTimes,W=i.pendingLanes;0<W;){var ee=31-tr(W),de=1<<ee,ve=V[ee];ve===-1?(!(de&w)||de&R)&&(V[ee]=xo(de,a)):ve<=a&&(i.expiredLanes|=de),W&=~de}}function nr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function hi(){var i=Co;return Co<<=1,!(Co&4194240)&&(Co=64),i}function Qn(i){for(var a=[],w=0;31>w;w++)a.push(i);return a}function Or(i,a,w){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-tr(a),i[a]=w}function tn(i,a){var w=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var R=i.eventTimes;for(i=i.expirationTimes;0<w;){var V=31-tr(w),W=1<<V;a[V]=0,R[V]=-1,i[V]=-1,w&=~W}}function di(i,a){var w=i.entangledLanes|=a;for(i=i.entanglements;w;){var R=31-tr(w),V=1<<R;V&a|i[R]&a&&(i[R]|=a),w&=~V}}var It=0;function rr(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Rs,Ao,Dr,Ms,Ls,ko=!1,Jr=[],Vn=null,kn=null,Nr=null,Ri=new Map,ir=new Map,Tr=[],Jo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function es(i,a){switch(i){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Ri.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(a.pointerId)}}function Yn(i,a,w,R,V,W){return i===null||i.nativeEvent!==W?(i={blockedOn:a,domEventName:w,eventSystemFlags:R,nativeEvent:W,targetContainers:[V]},a!==null&&(a=$c(a),a!==null&&Ao(a)),i):(i.eventSystemFlags|=R,a=i.targetContainers,V!==null&&a.indexOf(V)===-1&&a.push(V),i)}function $s(i,a,w,R,V){switch(a){case"focusin":return Vn=Yn(Vn,i,a,w,R,V),!0;case"dragenter":return kn=Yn(kn,i,a,w,R,V),!0;case"mouseover":return Nr=Yn(Nr,i,a,w,R,V),!0;case"pointerover":var W=V.pointerId;return Ri.set(W,Yn(Ri.get(W)||null,i,a,w,R,V)),!0;case"gotpointercapture":return W=V.pointerId,ir.set(W,Yn(ir.get(W)||null,i,a,w,R,V)),!0}return!1}function Io(i){var a=Ra(i.target);if(a!==null){var w=st(a);if(w!==null){if(a=w.tag,a===13){if(a=qn(w),a!==null){i.blockedOn=a,Ls(i.priority,function(){Dr(w)});return}}else if(a===3&&w.stateNode.current.memoizedState.isDehydrated){i.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fr(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var w=qt(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(w===null){w=i.nativeEvent;var R=new w.constructor(w.type,w);De=R,w.target.dispatchEvent(R),De=null}else return a=$c(w),a!==null&&Ao(a),i.blockedOn=w,!1;a.shift()}return!0}function Hi(i,a,w){fr(i)&&w.delete(a)}function Wi(){ko=!1,Vn!==null&&fr(Vn)&&(Vn=null),kn!==null&&fr(kn)&&(kn=null),Nr!==null&&fr(Nr)&&(Nr=null),Ri.forEach(Hi),ir.forEach(Hi)}function pr(i,a){i.blockedOn===a&&(i.blockedOn=null,ko||(ko=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wi)))}function ei(i){function a(V){return pr(V,i)}if(0<Jr.length){pr(Jr[0],i);for(var w=1;w<Jr.length;w++){var R=Jr[w];R.blockedOn===i&&(R.blockedOn=null)}}for(Vn!==null&&pr(Vn,i),kn!==null&&pr(kn,i),Nr!==null&&pr(Nr,i),Ri.forEach(a),ir.forEach(a),w=0;w<Tr.length;w++)R=Tr[w],R.blockedOn===i&&(R.blockedOn=null);for(;0<Tr.length&&(w=Tr[0],w.blockedOn===null);)Io(w),w.blockedOn===null&&Tr.shift()}var ae=O.ReactCurrentBatchConfig,we=!0;function Le(i,a,w,R){var V=It,W=ae.transition;ae.transition=null;try{It=1,Wt(i,a,w,R)}finally{It=V,ae.transition=W}}function Ye(i,a,w,R){var V=It,W=ae.transition;ae.transition=null;try{It=4,Wt(i,a,w,R)}finally{It=V,ae.transition=W}}function Wt(i,a,w,R){if(we){var V=qt(i,a,w,R);if(V===null)Gf(i,a,R,pt,w),es(i,R);else if($s(V,i,a,w,R))R.stopPropagation();else if(es(i,R),a&4&&-1<Jo.indexOf(i)){for(;V!==null;){var W=$c(V);if(W!==null&&Rs(W),W=qt(i,a,w,R),W===null&&Gf(i,a,R,pt,w),W===V)break;V=W}V!==null&&R.stopPropagation()}else Gf(i,a,R,null,w)}}var pt=null;function qt(i,a,w,R){if(pt=null,i=Ze(R),i=Ra(i),i!==null)if(a=st(i),a===null)i=null;else if(w=a.tag,w===13){if(i=qn(a),i!==null)return i;i=null}else if(w===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return pt=i,null}function gn(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ks()){case ji:return 1;case Pr:return 4;case er:case So:return 16;case Er:return 536870912;default:return 16}default:return 16}}var Qt=null,Pt=null,rn=null;function or(){if(rn)return rn;var i,a=Pt,w=a.length,R,V="value"in Qt?Qt.value:Qt.textContent,W=V.length;for(i=0;i<w&&a[i]===V[i];i++);var ee=w-i;for(R=1;R<=ee&&a[w-R]===V[W-R];R++);return rn=V.slice(i,1<R?1-R:void 0)}function _n(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function mn(){return!0}function Bn(){return!1}function Mt(i){function a(w,R,V,W,ee){this._reactName=w,this._targetInst=V,this.type=R,this.nativeEvent=W,this.target=ee,this.currentTarget=null;for(var de in i)i.hasOwnProperty(de)&&(w=i[de],this[de]=w?w(W):W[de]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?mn:Bn,this.isPropagationStopped=Bn,this}return Q(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),a}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fr=Mt(In),ti=Q({},In,{view:0,detail:0}),Ro=Mt(ti),Mi,uo,Mo,ts=Q({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fi,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Mo&&(Mo&&i.type==="mousemove"?(Mi=i.screenX-Mo.screenX,uo=i.screenY-Mo.screenY):uo=Mi=0,Mo=i),Mi)},movementY:function(i){return"movementY"in i?i.movementY:uo}}),ns=Mt(ts),Lo=Q({},ts,{dataTransfer:0}),Gi=Mt(Lo),ho=Q({},ti,{relatedTarget:0}),Ps=Mt(ho),Aa=Q({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),Ki=Mt(Aa),ka=Q({},In,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$o=Mt(ka),fl=Q({},In,{data:0}),Ia=Mt(fl),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=pl[i])?!!a[i]:!1}function fi(){return gl}var S=Q({},ti,{key:function(i){if(i.key){var a=Os[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=_n(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Cr[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fi,charCode:function(i){return i.type==="keypress"?_n(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_n(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),H=Mt(S),Y=Q({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ie=Mt(Y),Se=Q({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fi}),Ie=Mt(Se),We=Q({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),jt=Mt(We),cn=Q({},ts,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Vt=Mt(cn),Dn=[9,13,27,32],Nn=m&&"CompositionEvent"in window,pi=null;m&&"documentMode"in document&&(pi=document.documentMode);var ni=m&&"TextEvent"in window&&!pi,rs=m&&(!Nn||pi&&8<pi&&11>=pi),Ds=" ",eh=!1;function th(i,a){switch(i){case"keyup":return Dn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ns=!1;function Vf(i,a){switch(i){case"compositionend":return nh(a);case"keypress":return a.which!==32?null:(eh=!0,Ds);case"textInput":return i=a.data,i===Ds&&eh?null:i;default:return null}}function A(i,a){if(Ns)return i==="compositionend"||!Nn&&th(i,a)?(i=or(),rn=Pt=Qt=null,Ns=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return rs&&a.locale!=="ko"?null:a.data;default:return null}}var x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!x[i.type]:a==="textarea"}function j(i,a,w,R){Gn(R),a=sh(a,"onChange"),0<a.length&&(w=new Fr("onChange","change",null,w,R),i.push({event:w,listeners:a}))}var G=null,X=null;function te(i){sy(i,0)}function ne(i){var a=bl(i);if(Qe(a))return i}function le(i,a){if(i==="change")return a}var ge=!1;if(m){var he;if(m){var _e="oninput"in document;if(!_e){var Re=document.createElement("div");Re.setAttribute("oninput","return;"),_e=typeof Re.oninput=="function"}he=_e}else he=!1;ge=he&&(!document.documentMode||9<document.documentMode)}function Ve(){G&&(G.detachEvent("onpropertychange",Ne),X=G=null)}function Ne(i){if(i.propertyName==="value"&&ne(X)){var a=[];j(a,X,i,Ze(i)),so(te,a)}}function Ue(i,a,w){i==="focusin"?(Ve(),G=a,X=w,G.attachEvent("onpropertychange",Ne)):i==="focusout"&&Ve()}function et(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ne(X)}function Xe(i,a){if(i==="click")return ne(a)}function ct(i,a){if(i==="input"||i==="change")return ne(a)}function Ct(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var wt=typeof Object.is=="function"?Object.is:Ct;function ht(i,a){if(wt(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var w=Object.keys(i),R=Object.keys(a);if(w.length!==R.length)return!1;for(R=0;R<w.length;R++){var V=w[R];if(!u.call(a,V)||!wt(i[V],a[V]))return!1}return!0}function xt(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gr(i,a){var w=xt(i);i=0;for(var R;w;){if(w.nodeType===3){if(R=i+w.textContent.length,i<=a&&R>=a)return{node:w,offset:a-i};i=R}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=xt(w)}}function dn(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?dn(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Vr(){for(var i=window,a=ut();a instanceof i.HTMLIFrameElement;){try{var w=typeof a.contentWindow.location.href=="string"}catch{w=!1}if(w)i=a.contentWindow;else break;a=ut(i.document)}return a}function ri(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function fo(i){var a=Vr(),w=i.focusedElem,R=i.selectionRange;if(a!==w&&w&&w.ownerDocument&&dn(w.ownerDocument.documentElement,w)){if(R!==null&&ri(w)){if(a=R.start,i=R.end,i===void 0&&(i=a),"selectionStart"in w)w.selectionStart=a,w.selectionEnd=Math.min(i,w.value.length);else if(i=(a=w.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var V=w.textContent.length,W=Math.min(R.start,V);R=R.end===void 0?W:Math.min(R.end,V),!i.extend&&W>R&&(V=R,R=W,W=V),V=gr(w,W);var ee=gr(w,R);V&&ee&&(i.rangeCount!==1||i.anchorNode!==V.node||i.anchorOffset!==V.offset||i.focusNode!==ee.node||i.focusOffset!==ee.offset)&&(a=a.createRange(),a.setStart(V.node,V.offset),i.removeAllRanges(),W>R?(i.addRange(a),i.extend(ee.node,ee.offset)):(a.setEnd(ee.node,ee.offset),i.addRange(a)))}}for(a=[],i=w;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<a.length;w++)i=a[w],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ml=m&&"documentMode"in document&&11>=document.documentMode,qi=null,Bf=null,kc=null,zf=!1;function Xv(i,a,w){var R=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;zf||qi==null||qi!==ut(R)||(R=qi,"selectionStart"in R&&ri(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),kc&&ht(kc,R)||(kc=R,R=sh(Bf,"onSelect"),0<R.length&&(a=new Fr("onSelect","select",null,a,w),i.push({event:a,listeners:R}),a.target=qi)))}function rh(i,a){var w={};return w[i.toLowerCase()]=a.toLowerCase(),w["Webkit"+i]="webkit"+a,w["Moz"+i]="moz"+a,w}var vl={animationend:rh("Animation","AnimationEnd"),animationiteration:rh("Animation","AnimationIteration"),animationstart:rh("Animation","AnimationStart"),transitionend:rh("Transition","TransitionEnd")},jf={},Zv={};m&&(Zv=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function ih(i){if(jf[i])return jf[i];if(!vl[i])return i;var a=vl[i],w;for(w in a)if(a.hasOwnProperty(w)&&w in Zv)return jf[i]=a[w];return i}var Jv=ih("animationend"),ey=ih("animationiteration"),ty=ih("animationstart"),ny=ih("transitionend"),ry=new Map,iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(i,a){ry.set(i,a),o(a,[i])}for(var Uf=0;Uf<iy.length;Uf++){var Hf=iy[Uf],FC=Hf.toLowerCase(),VC=Hf[0].toUpperCase()+Hf.slice(1);Fs(FC,"on"+VC)}Fs(Jv,"onAnimationEnd"),Fs(ey,"onAnimationIteration"),Fs(ty,"onAnimationStart"),Fs("dblclick","onDoubleClick"),Fs("focusin","onFocus"),Fs("focusout","onBlur"),Fs(ny,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ic));function oy(i,a,w){var R=i.type||"unknown-event";i.currentTarget=w,Xr(R,a,void 0,i),i.currentTarget=null}function sy(i,a){a=(a&4)!==0;for(var w=0;w<i.length;w++){var R=i[w],V=R.event;R=R.listeners;e:{var W=void 0;if(a)for(var ee=R.length-1;0<=ee;ee--){var de=R[ee],ve=de.instance,ke=de.currentTarget;if(de=de.listener,ve!==W&&V.isPropagationStopped())break e;oy(V,de,ke),W=ve}else for(ee=0;ee<R.length;ee++){if(de=R[ee],ve=de.instance,ke=de.currentTarget,de=de.listener,ve!==W&&V.isPropagationStopped())break e;oy(V,de,ke),W=ve}}}if(sn)throw i=Xo,sn=!1,Xo=null,i}function En(i,a){var w=a[Zf];w===void 0&&(w=a[Zf]=new Set);var R=i+"__bubble";w.has(R)||(ay(a,i,2,!1),w.add(R))}function Wf(i,a,w){var R=0;a&&(R|=4),ay(w,i,R,a)}var oh="_reactListening"+Math.random().toString(36).slice(2);function Rc(i){if(!i[oh]){i[oh]=!0,r.forEach(function(w){w!=="selectionchange"&&(BC.has(w)||Wf(w,!1,i),Wf(w,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[oh]||(a[oh]=!0,Wf("selectionchange",!1,a))}}function ay(i,a,w,R){switch(gn(a)){case 1:var V=Le;break;case 4:V=Ye;break;default:V=Wt}w=V.bind(null,a,w,i),V=void 0,!Eo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(V=!0),R?V!==void 0?i.addEventListener(a,w,{capture:!0,passive:V}):i.addEventListener(a,w,!0):V!==void 0?i.addEventListener(a,w,{passive:V}):i.addEventListener(a,w,!1)}function Gf(i,a,w,R,V){var W=R;if(!(a&1)&&!(a&2)&&R!==null)e:for(;;){if(R===null)return;var ee=R.tag;if(ee===3||ee===4){var de=R.stateNode.containerInfo;if(de===V||de.nodeType===8&&de.parentNode===V)break;if(ee===4)for(ee=R.return;ee!==null;){var ve=ee.tag;if((ve===3||ve===4)&&(ve=ee.stateNode.containerInfo,ve===V||ve.nodeType===8&&ve.parentNode===V))return;ee=ee.return}for(;de!==null;){if(ee=Ra(de),ee===null)return;if(ve=ee.tag,ve===5||ve===6){R=W=ee;continue e}de=de.parentNode}}R=R.return}so(function(){var ke=W,Be=Ze(w),je=[];e:{var Fe=ry.get(i);if(Fe!==void 0){var Je=Fr,it=i;switch(i){case"keypress":if(_n(w)===0)break e;case"keydown":case"keyup":Je=H;break;case"focusin":it="focus",Je=Ps;break;case"focusout":it="blur",Je=Ps;break;case"beforeblur":case"afterblur":Je=Ps;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=Gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=Ie;break;case Jv:case ey:case ty:Je=Ki;break;case ny:Je=jt;break;case"scroll":Je=Ro;break;case"wheel":Je=Vt;break;case"copy":case"cut":case"paste":Je=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=ie}var ot=(a&4)!==0,zn=!ot&&i==="scroll",Te=ot?Fe!==null?Fe+"Capture":null:Fe;ot=[];for(var ye=ke,xe;ye!==null;){xe=ye;var He=xe.stateNode;if(xe.tag===5&&He!==null&&(xe=He,Te!==null&&(He=hn(ye,Te),He!=null&&ot.push(Mc(ye,He,xe)))),zn)break;ye=ye.return}0<ot.length&&(Fe=new Je(Fe,it,null,w,Be),je.push({event:Fe,listeners:ot}))}}if(!(a&7)){e:{if(Fe=i==="mouseover"||i==="pointerover",Je=i==="mouseout"||i==="pointerout",Fe&&w!==De&&(it=w.relatedTarget||w.fromElement)&&(Ra(it)||it[is]))break e;if((Je||Fe)&&(Fe=Be.window===Be?Be:(Fe=Be.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Je?(it=w.relatedTarget||w.toElement,Je=ke,it=it?Ra(it):null,it!==null&&(zn=st(it),it!==zn||it.tag!==5&&it.tag!==6)&&(it=null)):(Je=null,it=ke),Je!==it)){if(ot=ns,He="onMouseLeave",Te="onMouseEnter",ye="mouse",(i==="pointerout"||i==="pointerover")&&(ot=ie,He="onPointerLeave",Te="onPointerEnter",ye="pointer"),zn=Je==null?Fe:bl(Je),xe=it==null?Fe:bl(it),Fe=new ot(He,ye+"leave",Je,w,Be),Fe.target=zn,Fe.relatedTarget=xe,He=null,Ra(Be)===ke&&(ot=new ot(Te,ye+"enter",it,w,Be),ot.target=xe,ot.relatedTarget=zn,He=ot),zn=He,Je&&it)t:{for(ot=Je,Te=it,ye=0,xe=ot;xe;xe=yl(xe))ye++;for(xe=0,He=Te;He;He=yl(He))xe++;for(;0<ye-xe;)ot=yl(ot),ye--;for(;0<xe-ye;)Te=yl(Te),xe--;for(;ye--;){if(ot===Te||Te!==null&&ot===Te.alternate)break t;ot=yl(ot),Te=yl(Te)}ot=null}else ot=null;Je!==null&&ly(je,Fe,Je,ot,!1),it!==null&&zn!==null&&ly(je,zn,it,ot,!0)}}e:{if(Fe=ke?bl(ke):window,Je=Fe.nodeName&&Fe.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Fe.type==="file")var at=le;else if(D(Fe))if(ge)at=ct;else{at=et;var gt=Ue}else(Je=Fe.nodeName)&&Je.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(at=Xe);if(at&&(at=at(i,ke))){j(je,at,w,Be);break e}gt&&gt(i,Fe,ke),i==="focusout"&&(gt=Fe._wrapperState)&&gt.controlled&&Fe.type==="number"&&pn(Fe,"number",Fe.value)}switch(gt=ke?bl(ke):window,i){case"focusin":(D(gt)||gt.contentEditable==="true")&&(qi=gt,Bf=ke,kc=null);break;case"focusout":kc=Bf=qi=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,Xv(je,w,Be);break;case"selectionchange":if(ml)break;case"keydown":case"keyup":Xv(je,w,Be)}var mt;if(Nn)e:{switch(i){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Ns?th(i,w)&&(Et="onCompositionEnd"):i==="keydown"&&w.keyCode===229&&(Et="onCompositionStart");Et&&(rs&&w.locale!=="ko"&&(Ns||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Ns&&(mt=or()):(Qt=Be,Pt="value"in Qt?Qt.value:Qt.textContent,Ns=!0)),gt=sh(ke,Et),0<gt.length&&(Et=new Ia(Et,i,null,w,Be),je.push({event:Et,listeners:gt}),mt?Et.data=mt:(mt=nh(w),mt!==null&&(Et.data=mt)))),(mt=ni?Vf(i,w):A(i,w))&&(ke=sh(ke,"onBeforeInput"),0<ke.length&&(Be=new Ia("onBeforeInput","beforeinput",null,w,Be),je.push({event:Be,listeners:ke}),Be.data=mt))}sy(je,a)})}function Mc(i,a,w){return{instance:i,listener:a,currentTarget:w}}function sh(i,a){for(var w=a+"Capture",R=[];i!==null;){var V=i,W=V.stateNode;V.tag===5&&W!==null&&(V=W,W=hn(i,w),W!=null&&R.unshift(Mc(i,W,V)),W=hn(i,a),W!=null&&R.push(Mc(i,W,V))),i=i.return}return R}function yl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ly(i,a,w,R,V){for(var W=a._reactName,ee=[];w!==null&&w!==R;){var de=w,ve=de.alternate,ke=de.stateNode;if(ve!==null&&ve===R)break;de.tag===5&&ke!==null&&(de=ke,V?(ve=hn(w,W),ve!=null&&ee.unshift(Mc(w,ve,de))):V||(ve=hn(w,W),ve!=null&&ee.push(Mc(w,ve,de)))),w=w.return}ee.length!==0&&i.push({event:a,listeners:ee})}var zC=/\r\n?/g,jC=/\u0000|\uFFFD/g;function cy(i){return(typeof i=="string"?i:""+i).replace(zC,`
`).replace(jC,"")}function ah(i,a,w){if(a=cy(a),cy(i)!==a&&w)throw Error(t(425))}function lh(){}var Kf=null,qf=null;function Qf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,UC=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,HC=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(i){return uy.resolve(null).then(i).catch(WC)}:Yf;function WC(i){setTimeout(function(){throw i})}function Xf(i,a){var w=a,R=0;do{var V=w.nextSibling;if(i.removeChild(w),V&&V.nodeType===8)if(w=V.data,w==="/$"){if(R===0){i.removeChild(V),ei(a);return}R--}else w!=="$"&&w!=="$?"&&w!=="$!"||R++;w=V}while(w);ei(a)}function Vs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function hy(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var w=i.data;if(w==="$"||w==="$!"||w==="$?"){if(a===0)return i;a--}else w==="/$"&&a++}i=i.previousSibling}return null}var wl=Math.random().toString(36).slice(2),Po="__reactFiber$"+wl,Lc="__reactProps$"+wl,is="__reactContainer$"+wl,Zf="__reactEvents$"+wl,GC="__reactListeners$"+wl,KC="__reactHandles$"+wl;function Ra(i){var a=i[Po];if(a)return a;for(var w=i.parentNode;w;){if(a=w[is]||w[Po]){if(w=a.alternate,a.child!==null||w!==null&&w.child!==null)for(i=hy(i);i!==null;){if(w=i[Po])return w;i=hy(i)}return a}i=w,w=i.parentNode}return null}function $c(i){return i=i[Po]||i[is],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function bl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ch(i){return i[Lc]||null}var Jf=[],_l=-1;function Bs(i){return{current:i}}function Sn(i){0>_l||(i.current=Jf[_l],Jf[_l]=null,_l--)}function vn(i,a){_l++,Jf[_l]=i.current,i.current=a}var zs={},Br=Bs(zs),gi=Bs(!1),Ma=zs;function El(i,a){var w=i.type.contextTypes;if(!w)return zs;var R=i.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===a)return R.__reactInternalMemoizedMaskedChildContext;var V={},W;for(W in w)V[W]=a[W];return R&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=V),V}function mi(i){return i=i.childContextTypes,i!=null}function uh(){Sn(gi),Sn(Br)}function dy(i,a,w){if(Br.current!==zs)throw Error(t(168));vn(Br,a),vn(gi,w)}function fy(i,a,w){var R=i.stateNode;if(a=a.childContextTypes,typeof R.getChildContext!="function")return w;R=R.getChildContext();for(var V in R)if(!(V in a))throw Error(t(108,pe(i)||"Unknown",V));return Q({},w,R)}function hh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||zs,Ma=Br.current,vn(Br,i),vn(gi,gi.current),!0}function py(i,a,w){var R=i.stateNode;if(!R)throw Error(t(169));w?(i=fy(i,a,Ma),R.__reactInternalMemoizedMergedChildContext=i,Sn(gi),Sn(Br),vn(Br,i)):Sn(gi),vn(gi,w)}var os=null,dh=!1,ep=!1;function gy(i){os===null?os=[i]:os.push(i)}function qC(i){dh=!0,gy(i)}function js(){if(!ep&&os!==null){ep=!0;var i=0,a=It;try{var w=os;for(It=1;i<w.length;i++){var R=w[i];do R=R(!0);while(R!==null)}os=null,dh=!1}catch(V){throw os!==null&&(os=os.slice(i+1)),zi(ji,js),V}finally{It=a,ep=!1}}return null}var Sl=[],Tl=0,fh=null,ph=0,Qi=[],Yi=0,La=null,ss=1,as="";function $a(i,a){Sl[Tl++]=ph,Sl[Tl++]=fh,fh=i,ph=a}function my(i,a,w){Qi[Yi++]=ss,Qi[Yi++]=as,Qi[Yi++]=La,La=i;var R=ss;i=as;var V=32-tr(R)-1;R&=~(1<<V),w+=1;var W=32-tr(a)+V;if(30<W){var ee=V-V%5;W=(R&(1<<ee)-1).toString(32),R>>=ee,V-=ee,ss=1<<32-tr(a)+V|w<<V|R,as=W+i}else ss=1<<W|w<<V|R,as=i}function tp(i){i.return!==null&&($a(i,1),my(i,1,0))}function np(i){for(;i===fh;)fh=Sl[--Tl],Sl[Tl]=null,ph=Sl[--Tl],Sl[Tl]=null;for(;i===La;)La=Qi[--Yi],Qi[Yi]=null,as=Qi[--Yi],Qi[Yi]=null,ss=Qi[--Yi],Qi[Yi]=null}var Li=null,$i=null,Cn=!1,po=null;function vy(i,a){var w=eo(5,null,null,0);w.elementType="DELETED",w.stateNode=a,w.return=i,a=i.deletions,a===null?(i.deletions=[w],i.flags|=16):a.push(w)}function yy(i,a){switch(i.tag){case 5:var w=i.type;return a=a.nodeType!==1||w.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Li=i,$i=Vs(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Li=i,$i=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(w=La!==null?{id:ss,overflow:as}:null,i.memoizedState={dehydrated:a,treeContext:w,retryLane:1073741824},w=eo(18,null,null,0),w.stateNode=a,w.return=i,i.child=w,Li=i,$i=null,!0):!1;default:return!1}}function rp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ip(i){if(Cn){var a=$i;if(a){var w=a;if(!yy(i,a)){if(rp(i))throw Error(t(418));a=Vs(w.nextSibling);var R=Li;a&&yy(i,a)?vy(R,w):(i.flags=i.flags&-4097|2,Cn=!1,Li=i)}}else{if(rp(i))throw Error(t(418));i.flags=i.flags&-4097|2,Cn=!1,Li=i}}}function wy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Li=i}function gh(i){if(i!==Li)return!1;if(!Cn)return wy(i),Cn=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Qf(i.type,i.memoizedProps)),a&&(a=$i)){if(rp(i))throw by(),Error(t(418));for(;a;)vy(i,a),a=Vs(a.nextSibling)}if(wy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var w=i.data;if(w==="/$"){if(a===0){$i=Vs(i.nextSibling);break e}a--}else w!=="$"&&w!=="$!"&&w!=="$?"||a++}i=i.nextSibling}$i=null}}else $i=Li?Vs(i.stateNode.nextSibling):null;return!0}function by(){for(var i=$i;i;)i=Vs(i.nextSibling)}function Cl(){$i=Li=null,Cn=!1}function op(i){po===null?po=[i]:po.push(i)}var QC=O.ReactCurrentBatchConfig;function Pc(i,a,w){if(i=w.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(t(309));var R=w.stateNode}if(!R)throw Error(t(147,i));var V=R,W=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===W?a.ref:(a=function(ee){var de=V.refs;ee===null?delete de[W]:de[W]=ee},a._stringRef=W,a)}if(typeof i!="string")throw Error(t(284));if(!w._owner)throw Error(t(290,i))}return i}function mh(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function _y(i){var a=i._init;return a(i._payload)}function Ey(i){function a(Te,ye){if(i){var xe=Te.deletions;xe===null?(Te.deletions=[ye],Te.flags|=16):xe.push(ye)}}function w(Te,ye){if(!i)return null;for(;ye!==null;)a(Te,ye),ye=ye.sibling;return null}function R(Te,ye){for(Te=new Map;ye!==null;)ye.key!==null?Te.set(ye.key,ye):Te.set(ye.index,ye),ye=ye.sibling;return Te}function V(Te,ye){return Te=Ys(Te,ye),Te.index=0,Te.sibling=null,Te}function W(Te,ye,xe){return Te.index=xe,i?(xe=Te.alternate,xe!==null?(xe=xe.index,xe<ye?(Te.flags|=2,ye):xe):(Te.flags|=2,ye)):(Te.flags|=1048576,ye)}function ee(Te){return i&&Te.alternate===null&&(Te.flags|=2),Te}function de(Te,ye,xe,He){return ye===null||ye.tag!==6?(ye=Yp(xe,Te.mode,He),ye.return=Te,ye):(ye=V(ye,xe),ye.return=Te,ye)}function ve(Te,ye,xe,He){var at=xe.type;return at===_?Be(Te,ye,xe.props.children,He,xe.key):ye!==null&&(ye.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===z&&_y(at)===ye.type)?(He=V(ye,xe.props),He.ref=Pc(Te,ye,xe),He.return=Te,He):(He=Bh(xe.type,xe.key,xe.props,null,Te.mode,He),He.ref=Pc(Te,ye,xe),He.return=Te,He)}function ke(Te,ye,xe,He){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==xe.containerInfo||ye.stateNode.implementation!==xe.implementation?(ye=Xp(xe,Te.mode,He),ye.return=Te,ye):(ye=V(ye,xe.children||[]),ye.return=Te,ye)}function Be(Te,ye,xe,He,at){return ye===null||ye.tag!==7?(ye=za(xe,Te.mode,He,at),ye.return=Te,ye):(ye=V(ye,xe),ye.return=Te,ye)}function je(Te,ye,xe){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=Yp(""+ye,Te.mode,xe),ye.return=Te,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case L:return xe=Bh(ye.type,ye.key,ye.props,null,Te.mode,xe),xe.ref=Pc(Te,null,ye),xe.return=Te,xe;case E:return ye=Xp(ye,Te.mode,xe),ye.return=Te,ye;case z:var He=ye._init;return je(Te,He(ye._payload),xe)}if(Nt(ye)||J(ye))return ye=za(ye,Te.mode,xe,null),ye.return=Te,ye;mh(Te,ye)}return null}function Fe(Te,ye,xe,He){var at=ye!==null?ye.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return at!==null?null:de(Te,ye,""+xe,He);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case L:return xe.key===at?ve(Te,ye,xe,He):null;case E:return xe.key===at?ke(Te,ye,xe,He):null;case z:return at=xe._init,Fe(Te,ye,at(xe._payload),He)}if(Nt(xe)||J(xe))return at!==null?null:Be(Te,ye,xe,He,null);mh(Te,xe)}return null}function Je(Te,ye,xe,He,at){if(typeof He=="string"&&He!==""||typeof He=="number")return Te=Te.get(xe)||null,de(ye,Te,""+He,at);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case L:return Te=Te.get(He.key===null?xe:He.key)||null,ve(ye,Te,He,at);case E:return Te=Te.get(He.key===null?xe:He.key)||null,ke(ye,Te,He,at);case z:var gt=He._init;return Je(Te,ye,xe,gt(He._payload),at)}if(Nt(He)||J(He))return Te=Te.get(xe)||null,Be(ye,Te,He,at,null);mh(ye,He)}return null}function it(Te,ye,xe,He){for(var at=null,gt=null,mt=ye,Et=ye=0,yr=null;mt!==null&&Et<xe.length;Et++){mt.index>Et?(yr=mt,mt=null):yr=mt.sibling;var Zt=Fe(Te,mt,xe[Et],He);if(Zt===null){mt===null&&(mt=yr);break}i&&mt&&Zt.alternate===null&&a(Te,mt),ye=W(Zt,ye,Et),gt===null?at=Zt:gt.sibling=Zt,gt=Zt,mt=yr}if(Et===xe.length)return w(Te,mt),Cn&&$a(Te,Et),at;if(mt===null){for(;Et<xe.length;Et++)mt=je(Te,xe[Et],He),mt!==null&&(ye=W(mt,ye,Et),gt===null?at=mt:gt.sibling=mt,gt=mt);return Cn&&$a(Te,Et),at}for(mt=R(Te,mt);Et<xe.length;Et++)yr=Je(mt,Te,Et,xe[Et],He),yr!==null&&(i&&yr.alternate!==null&&mt.delete(yr.key===null?Et:yr.key),ye=W(yr,ye,Et),gt===null?at=yr:gt.sibling=yr,gt=yr);return i&&mt.forEach(function(Xs){return a(Te,Xs)}),Cn&&$a(Te,Et),at}function ot(Te,ye,xe,He){var at=J(xe);if(typeof at!="function")throw Error(t(150));if(xe=at.call(xe),xe==null)throw Error(t(151));for(var gt=at=null,mt=ye,Et=ye=0,yr=null,Zt=xe.next();mt!==null&&!Zt.done;Et++,Zt=xe.next()){mt.index>Et?(yr=mt,mt=null):yr=mt.sibling;var Xs=Fe(Te,mt,Zt.value,He);if(Xs===null){mt===null&&(mt=yr);break}i&&mt&&Xs.alternate===null&&a(Te,mt),ye=W(Xs,ye,Et),gt===null?at=Xs:gt.sibling=Xs,gt=Xs,mt=yr}if(Zt.done)return w(Te,mt),Cn&&$a(Te,Et),at;if(mt===null){for(;!Zt.done;Et++,Zt=xe.next())Zt=je(Te,Zt.value,He),Zt!==null&&(ye=W(Zt,ye,Et),gt===null?at=Zt:gt.sibling=Zt,gt=Zt);return Cn&&$a(Te,Et),at}for(mt=R(Te,mt);!Zt.done;Et++,Zt=xe.next())Zt=Je(mt,Te,Et,Zt.value,He),Zt!==null&&(i&&Zt.alternate!==null&&mt.delete(Zt.key===null?Et:Zt.key),ye=W(Zt,ye,Et),gt===null?at=Zt:gt.sibling=Zt,gt=Zt);return i&&mt.forEach(function(A1){return a(Te,A1)}),Cn&&$a(Te,Et),at}function zn(Te,ye,xe,He){if(typeof xe=="object"&&xe!==null&&xe.type===_&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case L:e:{for(var at=xe.key,gt=ye;gt!==null;){if(gt.key===at){if(at=xe.type,at===_){if(gt.tag===7){w(Te,gt.sibling),ye=V(gt,xe.props.children),ye.return=Te,Te=ye;break e}}else if(gt.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===z&&_y(at)===gt.type){w(Te,gt.sibling),ye=V(gt,xe.props),ye.ref=Pc(Te,gt,xe),ye.return=Te,Te=ye;break e}w(Te,gt);break}else a(Te,gt);gt=gt.sibling}xe.type===_?(ye=za(xe.props.children,Te.mode,He,xe.key),ye.return=Te,Te=ye):(He=Bh(xe.type,xe.key,xe.props,null,Te.mode,He),He.ref=Pc(Te,ye,xe),He.return=Te,Te=He)}return ee(Te);case E:e:{for(gt=xe.key;ye!==null;){if(ye.key===gt)if(ye.tag===4&&ye.stateNode.containerInfo===xe.containerInfo&&ye.stateNode.implementation===xe.implementation){w(Te,ye.sibling),ye=V(ye,xe.children||[]),ye.return=Te,Te=ye;break e}else{w(Te,ye);break}else a(Te,ye);ye=ye.sibling}ye=Xp(xe,Te.mode,He),ye.return=Te,Te=ye}return ee(Te);case z:return gt=xe._init,zn(Te,ye,gt(xe._payload),He)}if(Nt(xe))return it(Te,ye,xe,He);if(J(xe))return ot(Te,ye,xe,He);mh(Te,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,ye!==null&&ye.tag===6?(w(Te,ye.sibling),ye=V(ye,xe),ye.return=Te,Te=ye):(w(Te,ye),ye=Yp(xe,Te.mode,He),ye.return=Te,Te=ye),ee(Te)):w(Te,ye)}return zn}var xl=Ey(!0),Sy=Ey(!1),vh=Bs(null),yh=null,Al=null,sp=null;function ap(){sp=Al=yh=null}function lp(i){var a=vh.current;Sn(vh),i._currentValue=a}function cp(i,a,w){for(;i!==null;){var R=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,R!==null&&(R.childLanes|=a)):R!==null&&(R.childLanes&a)!==a&&(R.childLanes|=a),i===w)break;i=i.return}}function kl(i,a){yh=i,sp=Al=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&a&&(vi=!0),i.firstContext=null)}function Xi(i){var a=i._currentValue;if(sp!==i)if(i={context:i,memoizedValue:a,next:null},Al===null){if(yh===null)throw Error(t(308));Al=i,yh.dependencies={lanes:0,firstContext:i}}else Al=Al.next=i;return a}var Pa=null;function up(i){Pa===null?Pa=[i]:Pa.push(i)}function Ty(i,a,w,R){var V=a.interleaved;return V===null?(w.next=w,up(a)):(w.next=V.next,V.next=w),a.interleaved=w,ls(i,R)}function ls(i,a){i.lanes|=a;var w=i.alternate;for(w!==null&&(w.lanes|=a),w=i,i=i.return;i!==null;)i.childLanes|=a,w=i.alternate,w!==null&&(w.childLanes|=a),w=i,i=i.return;return w.tag===3?w.stateNode:null}var Us=!1;function hp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cy(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function cs(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Hs(i,a,w){var R=i.updateQueue;if(R===null)return null;if(R=R.shared,Yt&2){var V=R.pending;return V===null?a.next=a:(a.next=V.next,V.next=a),R.pending=a,ls(i,w)}return V=R.interleaved,V===null?(a.next=a,up(R)):(a.next=V.next,V.next=a),R.interleaved=a,ls(i,w)}function wh(i,a,w){if(a=a.updateQueue,a!==null&&(a=a.shared,(w&4194240)!==0)){var R=a.lanes;R&=i.pendingLanes,w|=R,a.lanes=w,di(i,w)}}function xy(i,a){var w=i.updateQueue,R=i.alternate;if(R!==null&&(R=R.updateQueue,w===R)){var V=null,W=null;if(w=w.firstBaseUpdate,w!==null){do{var ee={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};W===null?V=W=ee:W=W.next=ee,w=w.next}while(w!==null);W===null?V=W=a:W=W.next=a}else V=W=a;w={baseState:R.baseState,firstBaseUpdate:V,lastBaseUpdate:W,shared:R.shared,effects:R.effects},i.updateQueue=w;return}i=w.lastBaseUpdate,i===null?w.firstBaseUpdate=a:i.next=a,w.lastBaseUpdate=a}function bh(i,a,w,R){var V=i.updateQueue;Us=!1;var W=V.firstBaseUpdate,ee=V.lastBaseUpdate,de=V.shared.pending;if(de!==null){V.shared.pending=null;var ve=de,ke=ve.next;ve.next=null,ee===null?W=ke:ee.next=ke,ee=ve;var Be=i.alternate;Be!==null&&(Be=Be.updateQueue,de=Be.lastBaseUpdate,de!==ee&&(de===null?Be.firstBaseUpdate=ke:de.next=ke,Be.lastBaseUpdate=ve))}if(W!==null){var je=V.baseState;ee=0,Be=ke=ve=null,de=W;do{var Fe=de.lane,Je=de.eventTime;if((R&Fe)===Fe){Be!==null&&(Be=Be.next={eventTime:Je,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var it=i,ot=de;switch(Fe=a,Je=w,ot.tag){case 1:if(it=ot.payload,typeof it=="function"){je=it.call(Je,je,Fe);break e}je=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=ot.payload,Fe=typeof it=="function"?it.call(Je,je,Fe):it,Fe==null)break e;je=Q({},je,Fe);break e;case 2:Us=!0}}de.callback!==null&&de.lane!==0&&(i.flags|=64,Fe=V.effects,Fe===null?V.effects=[de]:Fe.push(de))}else Je={eventTime:Je,lane:Fe,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Be===null?(ke=Be=Je,ve=je):Be=Be.next=Je,ee|=Fe;if(de=de.next,de===null){if(de=V.shared.pending,de===null)break;Fe=de,de=Fe.next,Fe.next=null,V.lastBaseUpdate=Fe,V.shared.pending=null}}while(!0);if(Be===null&&(ve=je),V.baseState=ve,V.firstBaseUpdate=ke,V.lastBaseUpdate=Be,a=V.shared.interleaved,a!==null){V=a;do ee|=V.lane,V=V.next;while(V!==a)}else W===null&&(V.shared.lanes=0);Na|=ee,i.lanes=ee,i.memoizedState=je}}function Ay(i,a,w){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var R=i[a],V=R.callback;if(V!==null){if(R.callback=null,R=w,typeof V!="function")throw Error(t(191,V));V.call(R)}}}var Oc={},Oo=Bs(Oc),Dc=Bs(Oc),Nc=Bs(Oc);function Oa(i){if(i===Oc)throw Error(t(174));return i}function dp(i,a){switch(vn(Nc,a),vn(Dc,i),vn(Oo,Oc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ze(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=ze(a,i)}Sn(Oo),vn(Oo,a)}function Il(){Sn(Oo),Sn(Dc),Sn(Nc)}function ky(i){Oa(Nc.current);var a=Oa(Oo.current),w=ze(a,i.type);a!==w&&(vn(Dc,i),vn(Oo,w))}function fp(i){Dc.current===i&&(Sn(Oo),Sn(Dc))}var Rn=Bs(0);function _h(i){for(var a=i;a!==null;){if(a.tag===13){var w=a.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var pp=[];function gp(){for(var i=0;i<pp.length;i++)pp[i]._workInProgressVersionPrimary=null;pp.length=0}var Eh=O.ReactCurrentDispatcher,mp=O.ReactCurrentBatchConfig,Da=0,Mn=null,sr=null,mr=null,Sh=!1,Fc=!1,Vc=0,YC=0;function zr(){throw Error(t(321))}function vp(i,a){if(a===null)return!1;for(var w=0;w<a.length&&w<i.length;w++)if(!wt(i[w],a[w]))return!1;return!0}function yp(i,a,w,R,V,W){if(Da=W,Mn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Eh.current=i===null||i.memoizedState===null?e1:t1,i=w(R,V),Fc){W=0;do{if(Fc=!1,Vc=0,25<=W)throw Error(t(301));W+=1,mr=sr=null,a.updateQueue=null,Eh.current=n1,i=w(R,V)}while(Fc)}if(Eh.current=xh,a=sr!==null&&sr.next!==null,Da=0,mr=sr=Mn=null,Sh=!1,a)throw Error(t(300));return i}function wp(){var i=Vc!==0;return Vc=0,i}function Do(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Mn.memoizedState=mr=i:mr=mr.next=i,mr}function Zi(){if(sr===null){var i=Mn.alternate;i=i!==null?i.memoizedState:null}else i=sr.next;var a=mr===null?Mn.memoizedState:mr.next;if(a!==null)mr=a,sr=i;else{if(i===null)throw Error(t(310));sr=i,i={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},mr===null?Mn.memoizedState=mr=i:mr=mr.next=i}return mr}function Bc(i,a){return typeof a=="function"?a(i):a}function bp(i){var a=Zi(),w=a.queue;if(w===null)throw Error(t(311));w.lastRenderedReducer=i;var R=sr,V=R.baseQueue,W=w.pending;if(W!==null){if(V!==null){var ee=V.next;V.next=W.next,W.next=ee}R.baseQueue=V=W,w.pending=null}if(V!==null){W=V.next,R=R.baseState;var de=ee=null,ve=null,ke=W;do{var Be=ke.lane;if((Da&Be)===Be)ve!==null&&(ve=ve.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),R=ke.hasEagerState?ke.eagerState:i(R,ke.action);else{var je={lane:Be,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};ve===null?(de=ve=je,ee=R):ve=ve.next=je,Mn.lanes|=Be,Na|=Be}ke=ke.next}while(ke!==null&&ke!==W);ve===null?ee=R:ve.next=de,wt(R,a.memoizedState)||(vi=!0),a.memoizedState=R,a.baseState=ee,a.baseQueue=ve,w.lastRenderedState=R}if(i=w.interleaved,i!==null){V=i;do W=V.lane,Mn.lanes|=W,Na|=W,V=V.next;while(V!==i)}else V===null&&(w.lanes=0);return[a.memoizedState,w.dispatch]}function _p(i){var a=Zi(),w=a.queue;if(w===null)throw Error(t(311));w.lastRenderedReducer=i;var R=w.dispatch,V=w.pending,W=a.memoizedState;if(V!==null){w.pending=null;var ee=V=V.next;do W=i(W,ee.action),ee=ee.next;while(ee!==V);wt(W,a.memoizedState)||(vi=!0),a.memoizedState=W,a.baseQueue===null&&(a.baseState=W),w.lastRenderedState=W}return[W,R]}function Iy(){}function Ry(i,a){var w=Mn,R=Zi(),V=a(),W=!wt(R.memoizedState,V);if(W&&(R.memoizedState=V,vi=!0),R=R.queue,Ep($y.bind(null,w,R,i),[i]),R.getSnapshot!==a||W||mr!==null&&mr.memoizedState.tag&1){if(w.flags|=2048,zc(9,Ly.bind(null,w,R,V,a),void 0,null),vr===null)throw Error(t(349));Da&30||My(w,a,V)}return V}function My(i,a,w){i.flags|=16384,i={getSnapshot:a,value:w},a=Mn.updateQueue,a===null?(a={lastEffect:null,stores:null},Mn.updateQueue=a,a.stores=[i]):(w=a.stores,w===null?a.stores=[i]:w.push(i))}function Ly(i,a,w,R){a.value=w,a.getSnapshot=R,Py(a)&&Oy(i)}function $y(i,a,w){return w(function(){Py(a)&&Oy(i)})}function Py(i){var a=i.getSnapshot;i=i.value;try{var w=a();return!wt(i,w)}catch{return!0}}function Oy(i){var a=ls(i,1);a!==null&&yo(a,i,1,-1)}function Dy(i){var a=Do();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:i},a.queue=i,i=i.dispatch=JC.bind(null,Mn,i),[a.memoizedState,i]}function zc(i,a,w,R){return i={tag:i,create:a,destroy:w,deps:R,next:null},a=Mn.updateQueue,a===null?(a={lastEffect:null,stores:null},Mn.updateQueue=a,a.lastEffect=i.next=i):(w=a.lastEffect,w===null?a.lastEffect=i.next=i:(R=w.next,w.next=i,i.next=R,a.lastEffect=i)),i}function Ny(){return Zi().memoizedState}function Th(i,a,w,R){var V=Do();Mn.flags|=i,V.memoizedState=zc(1|a,w,void 0,R===void 0?null:R)}function Ch(i,a,w,R){var V=Zi();R=R===void 0?null:R;var W=void 0;if(sr!==null){var ee=sr.memoizedState;if(W=ee.destroy,R!==null&&vp(R,ee.deps)){V.memoizedState=zc(a,w,W,R);return}}Mn.flags|=i,V.memoizedState=zc(1|a,w,W,R)}function Fy(i,a){return Th(8390656,8,i,a)}function Ep(i,a){return Ch(2048,8,i,a)}function Vy(i,a){return Ch(4,2,i,a)}function By(i,a){return Ch(4,4,i,a)}function zy(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function jy(i,a,w){return w=w!=null?w.concat([i]):null,Ch(4,4,zy.bind(null,a,i),w)}function Sp(){}function Uy(i,a){var w=Zi();a=a===void 0?null:a;var R=w.memoizedState;return R!==null&&a!==null&&vp(a,R[1])?R[0]:(w.memoizedState=[i,a],i)}function Hy(i,a){var w=Zi();a=a===void 0?null:a;var R=w.memoizedState;return R!==null&&a!==null&&vp(a,R[1])?R[0]:(i=i(),w.memoizedState=[i,a],i)}function Wy(i,a,w){return Da&21?(wt(w,a)||(w=hi(),Mn.lanes|=w,Na|=w,i.baseState=!0),a):(i.baseState&&(i.baseState=!1,vi=!0),i.memoizedState=w)}function XC(i,a){var w=It;It=w!==0&&4>w?w:4,i(!0);var R=mp.transition;mp.transition={};try{i(!1),a()}finally{It=w,mp.transition=R}}function Gy(){return Zi().memoizedState}function ZC(i,a,w){var R=qs(i);if(w={lane:R,action:w,hasEagerState:!1,eagerState:null,next:null},Ky(i))qy(a,w);else if(w=Ty(i,a,w,R),w!==null){var V=oi();yo(w,i,R,V),Qy(w,a,R)}}function JC(i,a,w){var R=qs(i),V={lane:R,action:w,hasEagerState:!1,eagerState:null,next:null};if(Ky(i))qy(a,V);else{var W=i.alternate;if(i.lanes===0&&(W===null||W.lanes===0)&&(W=a.lastRenderedReducer,W!==null))try{var ee=a.lastRenderedState,de=W(ee,w);if(V.hasEagerState=!0,V.eagerState=de,wt(de,ee)){var ve=a.interleaved;ve===null?(V.next=V,up(a)):(V.next=ve.next,ve.next=V),a.interleaved=V;return}}catch{}finally{}w=Ty(i,a,V,R),w!==null&&(V=oi(),yo(w,i,R,V),Qy(w,a,R))}}function Ky(i){var a=i.alternate;return i===Mn||a!==null&&a===Mn}function qy(i,a){Fc=Sh=!0;var w=i.pending;w===null?a.next=a:(a.next=w.next,w.next=a),i.pending=a}function Qy(i,a,w){if(w&4194240){var R=a.lanes;R&=i.pendingLanes,w|=R,a.lanes=w,di(i,w)}}var xh={readContext:Xi,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},e1={readContext:Xi,useCallback:function(i,a){return Do().memoizedState=[i,a===void 0?null:a],i},useContext:Xi,useEffect:Fy,useImperativeHandle:function(i,a,w){return w=w!=null?w.concat([i]):null,Th(4194308,4,zy.bind(null,a,i),w)},useLayoutEffect:function(i,a){return Th(4194308,4,i,a)},useInsertionEffect:function(i,a){return Th(4,2,i,a)},useMemo:function(i,a){var w=Do();return a=a===void 0?null:a,i=i(),w.memoizedState=[i,a],i},useReducer:function(i,a,w){var R=Do();return a=w!==void 0?w(a):a,R.memoizedState=R.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},R.queue=i,i=i.dispatch=ZC.bind(null,Mn,i),[R.memoizedState,i]},useRef:function(i){var a=Do();return i={current:i},a.memoizedState=i},useState:Dy,useDebugValue:Sp,useDeferredValue:function(i){return Do().memoizedState=i},useTransition:function(){var i=Dy(!1),a=i[0];return i=XC.bind(null,i[1]),Do().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,w){var R=Mn,V=Do();if(Cn){if(w===void 0)throw Error(t(407));w=w()}else{if(w=a(),vr===null)throw Error(t(349));Da&30||My(R,a,w)}V.memoizedState=w;var W={value:w,getSnapshot:a};return V.queue=W,Fy($y.bind(null,R,W,i),[i]),R.flags|=2048,zc(9,Ly.bind(null,R,W,w,a),void 0,null),w},useId:function(){var i=Do(),a=vr.identifierPrefix;if(Cn){var w=as,R=ss;w=(R&~(1<<32-tr(R)-1)).toString(32)+w,a=":"+a+"R"+w,w=Vc++,0<w&&(a+="H"+w.toString(32)),a+=":"}else w=YC++,a=":"+a+"r"+w.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},t1={readContext:Xi,useCallback:Uy,useContext:Xi,useEffect:Ep,useImperativeHandle:jy,useInsertionEffect:Vy,useLayoutEffect:By,useMemo:Hy,useReducer:bp,useRef:Ny,useState:function(){return bp(Bc)},useDebugValue:Sp,useDeferredValue:function(i){var a=Zi();return Wy(a,sr.memoizedState,i)},useTransition:function(){var i=bp(Bc)[0],a=Zi().memoizedState;return[i,a]},useMutableSource:Iy,useSyncExternalStore:Ry,useId:Gy,unstable_isNewReconciler:!1},n1={readContext:Xi,useCallback:Uy,useContext:Xi,useEffect:Ep,useImperativeHandle:jy,useInsertionEffect:Vy,useLayoutEffect:By,useMemo:Hy,useReducer:_p,useRef:Ny,useState:function(){return _p(Bc)},useDebugValue:Sp,useDeferredValue:function(i){var a=Zi();return sr===null?a.memoizedState=i:Wy(a,sr.memoizedState,i)},useTransition:function(){var i=_p(Bc)[0],a=Zi().memoizedState;return[i,a]},useMutableSource:Iy,useSyncExternalStore:Ry,useId:Gy,unstable_isNewReconciler:!1};function go(i,a){if(i&&i.defaultProps){a=Q({},a),i=i.defaultProps;for(var w in i)a[w]===void 0&&(a[w]=i[w]);return a}return a}function Tp(i,a,w,R){a=i.memoizedState,w=w(R,a),w=w==null?a:Q({},a,w),i.memoizedState=w,i.lanes===0&&(i.updateQueue.baseState=w)}var Ah={isMounted:function(i){return(i=i._reactInternals)?st(i)===i:!1},enqueueSetState:function(i,a,w){i=i._reactInternals;var R=oi(),V=qs(i),W=cs(R,V);W.payload=a,w!=null&&(W.callback=w),a=Hs(i,W,V),a!==null&&(yo(a,i,V,R),wh(a,i,V))},enqueueReplaceState:function(i,a,w){i=i._reactInternals;var R=oi(),V=qs(i),W=cs(R,V);W.tag=1,W.payload=a,w!=null&&(W.callback=w),a=Hs(i,W,V),a!==null&&(yo(a,i,V,R),wh(a,i,V))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var w=oi(),R=qs(i),V=cs(w,R);V.tag=2,a!=null&&(V.callback=a),a=Hs(i,V,R),a!==null&&(yo(a,i,R,w),wh(a,i,R))}};function Yy(i,a,w,R,V,W,ee){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(R,W,ee):a.prototype&&a.prototype.isPureReactComponent?!ht(w,R)||!ht(V,W):!0}function Xy(i,a,w){var R=!1,V=zs,W=a.contextType;return typeof W=="object"&&W!==null?W=Xi(W):(V=mi(a)?Ma:Br.current,R=a.contextTypes,W=(R=R!=null)?El(i,V):zs),a=new a(w,W),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ah,i.stateNode=a,a._reactInternals=i,R&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=V,i.__reactInternalMemoizedMaskedChildContext=W),a}function Zy(i,a,w,R){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(w,R),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(w,R),a.state!==i&&Ah.enqueueReplaceState(a,a.state,null)}function Cp(i,a,w,R){var V=i.stateNode;V.props=w,V.state=i.memoizedState,V.refs={},hp(i);var W=a.contextType;typeof W=="object"&&W!==null?V.context=Xi(W):(W=mi(a)?Ma:Br.current,V.context=El(i,W)),V.state=i.memoizedState,W=a.getDerivedStateFromProps,typeof W=="function"&&(Tp(i,a,W,w),V.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(a=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),a!==V.state&&Ah.enqueueReplaceState(V,V.state,null),bh(i,w,V,R),V.state=i.memoizedState),typeof V.componentDidMount=="function"&&(i.flags|=4194308)}function Rl(i,a){try{var w="",R=a;do w+=ce(R),R=R.return;while(R);var V=w}catch(W){V=`
Error generating stack: `+W.message+`
`+W.stack}return{value:i,source:a,stack:V,digest:null}}function xp(i,a,w){return{value:i,source:null,stack:w??null,digest:a??null}}function Ap(i,a){try{console.error(a.value)}catch(w){setTimeout(function(){throw w})}}var r1=typeof WeakMap=="function"?WeakMap:Map;function Jy(i,a,w){w=cs(-1,w),w.tag=3,w.payload={element:null};var R=a.value;return w.callback=function(){Ph||(Ph=!0,jp=R),Ap(i,a)},w}function ew(i,a,w){w=cs(-1,w),w.tag=3;var R=i.type.getDerivedStateFromError;if(typeof R=="function"){var V=a.value;w.payload=function(){return R(V)},w.callback=function(){Ap(i,a)}}var W=i.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(w.callback=function(){Ap(i,a),typeof R!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var ee=a.stack;this.componentDidCatch(a.value,{componentStack:ee!==null?ee:""})}),w}function tw(i,a,w){var R=i.pingCache;if(R===null){R=i.pingCache=new r1;var V=new Set;R.set(a,V)}else V=R.get(a),V===void 0&&(V=new Set,R.set(a,V));V.has(w)||(V.add(w),i=v1.bind(null,i,a,w),a.then(i,i))}function nw(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function rw(i,a,w,R,V){return i.mode&1?(i.flags|=65536,i.lanes=V,i):(i===a?i.flags|=65536:(i.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(a=cs(-1,1),a.tag=2,Hs(w,a,1))),w.lanes|=1),i)}var i1=O.ReactCurrentOwner,vi=!1;function ii(i,a,w,R){a.child=i===null?Sy(a,null,w,R):xl(a,i.child,w,R)}function iw(i,a,w,R,V){w=w.render;var W=a.ref;return kl(a,V),R=yp(i,a,w,R,W,V),w=wp(),i!==null&&!vi?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~V,us(i,a,V)):(Cn&&w&&tp(a),a.flags|=1,ii(i,a,R,V),a.child)}function ow(i,a,w,R,V){if(i===null){var W=w.type;return typeof W=="function"&&!Qp(W)&&W.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(a.tag=15,a.type=W,sw(i,a,W,R,V)):(i=Bh(w.type,null,R,a,a.mode,V),i.ref=a.ref,i.return=a,a.child=i)}if(W=i.child,!(i.lanes&V)){var ee=W.memoizedProps;if(w=w.compare,w=w!==null?w:ht,w(ee,R)&&i.ref===a.ref)return us(i,a,V)}return a.flags|=1,i=Ys(W,R),i.ref=a.ref,i.return=a,a.child=i}function sw(i,a,w,R,V){if(i!==null){var W=i.memoizedProps;if(ht(W,R)&&i.ref===a.ref)if(vi=!1,a.pendingProps=R=W,(i.lanes&V)!==0)i.flags&131072&&(vi=!0);else return a.lanes=i.lanes,us(i,a,V)}return kp(i,a,w,R,V)}function aw(i,a,w){var R=a.pendingProps,V=R.children,W=i!==null?i.memoizedState:null;if(R.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(Ll,Pi),Pi|=w;else{if(!(w&1073741824))return i=W!==null?W.baseLanes|w:w,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,vn(Ll,Pi),Pi|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=W!==null?W.baseLanes:w,vn(Ll,Pi),Pi|=R}else W!==null?(R=W.baseLanes|w,a.memoizedState=null):R=w,vn(Ll,Pi),Pi|=R;return ii(i,a,V,w),a.child}function lw(i,a){var w=a.ref;(i===null&&w!==null||i!==null&&i.ref!==w)&&(a.flags|=512,a.flags|=2097152)}function kp(i,a,w,R,V){var W=mi(w)?Ma:Br.current;return W=El(a,W),kl(a,V),w=yp(i,a,w,R,W,V),R=wp(),i!==null&&!vi?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~V,us(i,a,V)):(Cn&&R&&tp(a),a.flags|=1,ii(i,a,w,V),a.child)}function cw(i,a,w,R,V){if(mi(w)){var W=!0;hh(a)}else W=!1;if(kl(a,V),a.stateNode===null)Ih(i,a),Xy(a,w,R),Cp(a,w,R,V),R=!0;else if(i===null){var ee=a.stateNode,de=a.memoizedProps;ee.props=de;var ve=ee.context,ke=w.contextType;typeof ke=="object"&&ke!==null?ke=Xi(ke):(ke=mi(w)?Ma:Br.current,ke=El(a,ke));var Be=w.getDerivedStateFromProps,je=typeof Be=="function"||typeof ee.getSnapshotBeforeUpdate=="function";je||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(de!==R||ve!==ke)&&Zy(a,ee,R,ke),Us=!1;var Fe=a.memoizedState;ee.state=Fe,bh(a,R,ee,V),ve=a.memoizedState,de!==R||Fe!==ve||gi.current||Us?(typeof Be=="function"&&(Tp(a,w,Be,R),ve=a.memoizedState),(de=Us||Yy(a,w,de,R,Fe,ve,ke))?(je||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(a.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=R,a.memoizedState=ve),ee.props=R,ee.state=ve,ee.context=ke,R=de):(typeof ee.componentDidMount=="function"&&(a.flags|=4194308),R=!1)}else{ee=a.stateNode,Cy(i,a),de=a.memoizedProps,ke=a.type===a.elementType?de:go(a.type,de),ee.props=ke,je=a.pendingProps,Fe=ee.context,ve=w.contextType,typeof ve=="object"&&ve!==null?ve=Xi(ve):(ve=mi(w)?Ma:Br.current,ve=El(a,ve));var Je=w.getDerivedStateFromProps;(Be=typeof Je=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(de!==je||Fe!==ve)&&Zy(a,ee,R,ve),Us=!1,Fe=a.memoizedState,ee.state=Fe,bh(a,R,ee,V);var it=a.memoizedState;de!==je||Fe!==it||gi.current||Us?(typeof Je=="function"&&(Tp(a,w,Je,R),it=a.memoizedState),(ke=Us||Yy(a,w,ke,R,Fe,it,ve)||!1)?(Be||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(R,it,ve),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(R,it,ve)),typeof ee.componentDidUpdate=="function"&&(a.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof ee.componentDidUpdate!="function"||de===i.memoizedProps&&Fe===i.memoizedState||(a.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||de===i.memoizedProps&&Fe===i.memoizedState||(a.flags|=1024),a.memoizedProps=R,a.memoizedState=it),ee.props=R,ee.state=it,ee.context=ve,R=ke):(typeof ee.componentDidUpdate!="function"||de===i.memoizedProps&&Fe===i.memoizedState||(a.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||de===i.memoizedProps&&Fe===i.memoizedState||(a.flags|=1024),R=!1)}return Ip(i,a,w,R,W,V)}function Ip(i,a,w,R,V,W){lw(i,a);var ee=(a.flags&128)!==0;if(!R&&!ee)return V&&py(a,w,!1),us(i,a,W);R=a.stateNode,i1.current=a;var de=ee&&typeof w.getDerivedStateFromError!="function"?null:R.render();return a.flags|=1,i!==null&&ee?(a.child=xl(a,i.child,null,W),a.child=xl(a,null,de,W)):ii(i,a,de,W),a.memoizedState=R.state,V&&py(a,w,!0),a.child}function uw(i){var a=i.stateNode;a.pendingContext?dy(i,a.pendingContext,a.pendingContext!==a.context):a.context&&dy(i,a.context,!1),dp(i,a.containerInfo)}function hw(i,a,w,R,V){return Cl(),op(V),a.flags|=256,ii(i,a,w,R),a.child}var Rp={dehydrated:null,treeContext:null,retryLane:0};function Mp(i){return{baseLanes:i,cachePool:null,transitions:null}}function dw(i,a,w){var R=a.pendingProps,V=Rn.current,W=!1,ee=(a.flags&128)!==0,de;if((de=ee)||(de=i!==null&&i.memoizedState===null?!1:(V&2)!==0),de?(W=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(V|=1),vn(Rn,V&1),i===null)return ip(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(a.mode&1?i.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(ee=R.children,i=R.fallback,W?(R=a.mode,W=a.child,ee={mode:"hidden",children:ee},!(R&1)&&W!==null?(W.childLanes=0,W.pendingProps=ee):W=zh(ee,R,0,null),i=za(i,R,w,null),W.return=a,i.return=a,W.sibling=i,a.child=W,a.child.memoizedState=Mp(w),a.memoizedState=Rp,i):Lp(a,ee));if(V=i.memoizedState,V!==null&&(de=V.dehydrated,de!==null))return o1(i,a,ee,R,de,V,w);if(W){W=R.fallback,ee=a.mode,V=i.child,de=V.sibling;var ve={mode:"hidden",children:R.children};return!(ee&1)&&a.child!==V?(R=a.child,R.childLanes=0,R.pendingProps=ve,a.deletions=null):(R=Ys(V,ve),R.subtreeFlags=V.subtreeFlags&14680064),de!==null?W=Ys(de,W):(W=za(W,ee,w,null),W.flags|=2),W.return=a,R.return=a,R.sibling=W,a.child=R,R=W,W=a.child,ee=i.child.memoizedState,ee=ee===null?Mp(w):{baseLanes:ee.baseLanes|w,cachePool:null,transitions:ee.transitions},W.memoizedState=ee,W.childLanes=i.childLanes&~w,a.memoizedState=Rp,R}return W=i.child,i=W.sibling,R=Ys(W,{mode:"visible",children:R.children}),!(a.mode&1)&&(R.lanes=w),R.return=a,R.sibling=null,i!==null&&(w=a.deletions,w===null?(a.deletions=[i],a.flags|=16):w.push(i)),a.child=R,a.memoizedState=null,R}function Lp(i,a){return a=zh({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function kh(i,a,w,R){return R!==null&&op(R),xl(a,i.child,null,w),i=Lp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function o1(i,a,w,R,V,W,ee){if(w)return a.flags&256?(a.flags&=-257,R=xp(Error(t(422))),kh(i,a,ee,R)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(W=R.fallback,V=a.mode,R=zh({mode:"visible",children:R.children},V,0,null),W=za(W,V,ee,null),W.flags|=2,R.return=a,W.return=a,R.sibling=W,a.child=R,a.mode&1&&xl(a,i.child,null,ee),a.child.memoizedState=Mp(ee),a.memoizedState=Rp,W);if(!(a.mode&1))return kh(i,a,ee,null);if(V.data==="$!"){if(R=V.nextSibling&&V.nextSibling.dataset,R)var de=R.dgst;return R=de,W=Error(t(419)),R=xp(W,R,void 0),kh(i,a,ee,R)}if(de=(ee&i.childLanes)!==0,vi||de){if(R=vr,R!==null){switch(ee&-ee){case 4:V=2;break;case 16:V=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:V=32;break;case 536870912:V=268435456;break;default:V=0}V=V&(R.suspendedLanes|ee)?0:V,V!==0&&V!==W.retryLane&&(W.retryLane=V,ls(i,V),yo(R,i,V,-1))}return qp(),R=xp(Error(t(421))),kh(i,a,ee,R)}return V.data==="$?"?(a.flags|=128,a.child=i.child,a=y1.bind(null,i),V._reactRetry=a,null):(i=W.treeContext,$i=Vs(V.nextSibling),Li=a,Cn=!0,po=null,i!==null&&(Qi[Yi++]=ss,Qi[Yi++]=as,Qi[Yi++]=La,ss=i.id,as=i.overflow,La=a),a=Lp(a,R.children),a.flags|=4096,a)}function fw(i,a,w){i.lanes|=a;var R=i.alternate;R!==null&&(R.lanes|=a),cp(i.return,a,w)}function $p(i,a,w,R,V){var W=i.memoizedState;W===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:R,tail:w,tailMode:V}:(W.isBackwards=a,W.rendering=null,W.renderingStartTime=0,W.last=R,W.tail=w,W.tailMode=V)}function pw(i,a,w){var R=a.pendingProps,V=R.revealOrder,W=R.tail;if(ii(i,a,R.children,w),R=Rn.current,R&2)R=R&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&fw(i,w,a);else if(i.tag===19)fw(i,w,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}R&=1}if(vn(Rn,R),!(a.mode&1))a.memoizedState=null;else switch(V){case"forwards":for(w=a.child,V=null;w!==null;)i=w.alternate,i!==null&&_h(i)===null&&(V=w),w=w.sibling;w=V,w===null?(V=a.child,a.child=null):(V=w.sibling,w.sibling=null),$p(a,!1,V,w,W);break;case"backwards":for(w=null,V=a.child,a.child=null;V!==null;){if(i=V.alternate,i!==null&&_h(i)===null){a.child=V;break}i=V.sibling,V.sibling=w,w=V,V=i}$p(a,!0,w,null,W);break;case"together":$p(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ih(i,a){!(a.mode&1)&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function us(i,a,w){if(i!==null&&(a.dependencies=i.dependencies),Na|=a.lanes,!(w&a.childLanes))return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,w=Ys(i,i.pendingProps),a.child=w,w.return=a;i.sibling!==null;)i=i.sibling,w=w.sibling=Ys(i,i.pendingProps),w.return=a;w.sibling=null}return a.child}function s1(i,a,w){switch(a.tag){case 3:uw(a),Cl();break;case 5:ky(a);break;case 1:mi(a.type)&&hh(a);break;case 4:dp(a,a.stateNode.containerInfo);break;case 10:var R=a.type._context,V=a.memoizedProps.value;vn(vh,R._currentValue),R._currentValue=V;break;case 13:if(R=a.memoizedState,R!==null)return R.dehydrated!==null?(vn(Rn,Rn.current&1),a.flags|=128,null):w&a.child.childLanes?dw(i,a,w):(vn(Rn,Rn.current&1),i=us(i,a,w),i!==null?i.sibling:null);vn(Rn,Rn.current&1);break;case 19:if(R=(w&a.childLanes)!==0,i.flags&128){if(R)return pw(i,a,w);a.flags|=128}if(V=a.memoizedState,V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),vn(Rn,Rn.current),R)break;return null;case 22:case 23:return a.lanes=0,aw(i,a,w)}return us(i,a,w)}var gw,Pp,mw,vw;gw=function(i,a){for(var w=a.child;w!==null;){if(w.tag===5||w.tag===6)i.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break;for(;w.sibling===null;){if(w.return===null||w.return===a)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Pp=function(){},mw=function(i,a,w,R){var V=i.memoizedProps;if(V!==R){i=a.stateNode,Oa(Oo.current);var W=null;switch(w){case"input":V=qe(i,V),R=qe(i,R),W=[];break;case"select":V=Q({},V,{value:void 0}),R=Q({},R,{value:void 0}),W=[];break;case"textarea":V=Wn(i,V),R=Wn(i,R),W=[];break;default:typeof V.onClick!="function"&&typeof R.onClick=="function"&&(i.onclick=lh)}ln(w,R);var ee;w=null;for(ke in V)if(!R.hasOwnProperty(ke)&&V.hasOwnProperty(ke)&&V[ke]!=null)if(ke==="style"){var de=V[ke];for(ee in de)de.hasOwnProperty(ee)&&(w||(w={}),w[ee]="")}else ke!=="dangerouslySetInnerHTML"&&ke!=="children"&&ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&ke!=="autoFocus"&&(s.hasOwnProperty(ke)?W||(W=[]):(W=W||[]).push(ke,null));for(ke in R){var ve=R[ke];if(de=V!=null?V[ke]:void 0,R.hasOwnProperty(ke)&&ve!==de&&(ve!=null||de!=null))if(ke==="style")if(de){for(ee in de)!de.hasOwnProperty(ee)||ve&&ve.hasOwnProperty(ee)||(w||(w={}),w[ee]="");for(ee in ve)ve.hasOwnProperty(ee)&&de[ee]!==ve[ee]&&(w||(w={}),w[ee]=ve[ee])}else w||(W||(W=[]),W.push(ke,w)),w=ve;else ke==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,de=de?de.__html:void 0,ve!=null&&de!==ve&&(W=W||[]).push(ke,ve)):ke==="children"?typeof ve!="string"&&typeof ve!="number"||(W=W||[]).push(ke,""+ve):ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&(s.hasOwnProperty(ke)?(ve!=null&&ke==="onScroll"&&En("scroll",i),W||de===ve||(W=[])):(W=W||[]).push(ke,ve))}w&&(W=W||[]).push("style",w);var ke=W;(a.updateQueue=ke)&&(a.flags|=4)}},vw=function(i,a,w,R){w!==R&&(a.flags|=4)};function jc(i,a){if(!Cn)switch(i.tailMode){case"hidden":a=i.tail;for(var w=null;a!==null;)a.alternate!==null&&(w=a),a=a.sibling;w===null?i.tail=null:w.sibling=null;break;case"collapsed":w=i.tail;for(var R=null;w!==null;)w.alternate!==null&&(R=w),w=w.sibling;R===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:R.sibling=null}}function jr(i){var a=i.alternate!==null&&i.alternate.child===i.child,w=0,R=0;if(a)for(var V=i.child;V!==null;)w|=V.lanes|V.childLanes,R|=V.subtreeFlags&14680064,R|=V.flags&14680064,V.return=i,V=V.sibling;else for(V=i.child;V!==null;)w|=V.lanes|V.childLanes,R|=V.subtreeFlags,R|=V.flags,V.return=i,V=V.sibling;return i.subtreeFlags|=R,i.childLanes=w,a}function a1(i,a,w){var R=a.pendingProps;switch(np(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(a),null;case 1:return mi(a.type)&&uh(),jr(a),null;case 3:return R=a.stateNode,Il(),Sn(gi),Sn(Br),gp(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(i===null||i.child===null)&&(gh(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,po!==null&&(Wp(po),po=null))),Pp(i,a),jr(a),null;case 5:fp(a);var V=Oa(Nc.current);if(w=a.type,i!==null&&a.stateNode!=null)mw(i,a,w,R,V),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!R){if(a.stateNode===null)throw Error(t(166));return jr(a),null}if(i=Oa(Oo.current),gh(a)){R=a.stateNode,w=a.type;var W=a.memoizedProps;switch(R[Po]=a,R[Lc]=W,i=(a.mode&1)!==0,w){case"dialog":En("cancel",R),En("close",R);break;case"iframe":case"object":case"embed":En("load",R);break;case"video":case"audio":for(V=0;V<Ic.length;V++)En(Ic[V],R);break;case"source":En("error",R);break;case"img":case"image":case"link":En("error",R),En("load",R);break;case"details":En("toggle",R);break;case"input":Ge(R,W),En("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!W.multiple},En("invalid",R);break;case"textarea":Pn(R,W),En("invalid",R)}ln(w,W),V=null;for(var ee in W)if(W.hasOwnProperty(ee)){var de=W[ee];ee==="children"?typeof de=="string"?R.textContent!==de&&(W.suppressHydrationWarning!==!0&&ah(R.textContent,de,i),V=["children",de]):typeof de=="number"&&R.textContent!==""+de&&(W.suppressHydrationWarning!==!0&&ah(R.textContent,de,i),V=["children",""+de]):s.hasOwnProperty(ee)&&de!=null&&ee==="onScroll"&&En("scroll",R)}switch(w){case"input":$e(R),Ht(R,W,!0);break;case"textarea":$e(R),ur(R);break;case"select":case"option":break;default:typeof W.onClick=="function"&&(R.onclick=lh)}R=V,a.updateQueue=R,R!==null&&(a.flags|=4)}else{ee=V.nodeType===9?V:V.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=be(w)),i==="http://www.w3.org/1999/xhtml"?w==="script"?(i=ee.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof R.is=="string"?i=ee.createElement(w,{is:R.is}):(i=ee.createElement(w),w==="select"&&(ee=i,R.multiple?ee.multiple=!0:R.size&&(ee.size=R.size))):i=ee.createElementNS(i,w),i[Po]=a,i[Lc]=R,gw(i,a,!1,!1),a.stateNode=i;e:{switch(ee=Ce(w,R),w){case"dialog":En("cancel",i),En("close",i),V=R;break;case"iframe":case"object":case"embed":En("load",i),V=R;break;case"video":case"audio":for(V=0;V<Ic.length;V++)En(Ic[V],i);V=R;break;case"source":En("error",i),V=R;break;case"img":case"image":case"link":En("error",i),En("load",i),V=R;break;case"details":En("toggle",i),V=R;break;case"input":Ge(i,R),V=qe(i,R),En("invalid",i);break;case"option":V=R;break;case"select":i._wrapperState={wasMultiple:!!R.multiple},V=Q({},R,{value:void 0}),En("invalid",i);break;case"textarea":Pn(i,R),V=Wn(i,R),En("invalid",i);break;default:V=R}ln(w,V),de=V;for(W in de)if(de.hasOwnProperty(W)){var ve=de[W];W==="style"?$t(i,ve):W==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&ft(i,ve)):W==="children"?typeof ve=="string"?(w!=="textarea"||ve!=="")&&lt(i,ve):typeof ve=="number"&&lt(i,""+ve):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(s.hasOwnProperty(W)?ve!=null&&W==="onScroll"&&En("scroll",i):ve!=null&&F(i,W,ve,ee))}switch(w){case"input":$e(i),Ht(i,R,!1);break;case"textarea":$e(i),ur(i);break;case"option":R.value!=null&&i.setAttribute("value",""+Ee(R.value));break;case"select":i.multiple=!!R.multiple,W=R.value,W!=null?wn(i,!!R.multiple,W,!1):R.defaultValue!=null&&wn(i,!!R.multiple,R.defaultValue,!0);break;default:typeof V.onClick=="function"&&(i.onclick=lh)}switch(w){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return jr(a),null;case 6:if(i&&a.stateNode!=null)vw(i,a,i.memoizedProps,R);else{if(typeof R!="string"&&a.stateNode===null)throw Error(t(166));if(w=Oa(Nc.current),Oa(Oo.current),gh(a)){if(R=a.stateNode,w=a.memoizedProps,R[Po]=a,(W=R.nodeValue!==w)&&(i=Li,i!==null))switch(i.tag){case 3:ah(R.nodeValue,w,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ah(R.nodeValue,w,(i.mode&1)!==0)}W&&(a.flags|=4)}else R=(w.nodeType===9?w:w.ownerDocument).createTextNode(R),R[Po]=a,a.stateNode=R}return jr(a),null;case 13:if(Sn(Rn),R=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Cn&&$i!==null&&a.mode&1&&!(a.flags&128))by(),Cl(),a.flags|=98560,W=!1;else if(W=gh(a),R!==null&&R.dehydrated!==null){if(i===null){if(!W)throw Error(t(318));if(W=a.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(t(317));W[Po]=a}else Cl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;jr(a),W=!1}else po!==null&&(Wp(po),po=null),W=!0;if(!W)return a.flags&65536?a:null}return a.flags&128?(a.lanes=w,a):(R=R!==null,R!==(i!==null&&i.memoizedState!==null)&&R&&(a.child.flags|=8192,a.mode&1&&(i===null||Rn.current&1?ar===0&&(ar=3):qp())),a.updateQueue!==null&&(a.flags|=4),jr(a),null);case 4:return Il(),Pp(i,a),i===null&&Rc(a.stateNode.containerInfo),jr(a),null;case 10:return lp(a.type._context),jr(a),null;case 17:return mi(a.type)&&uh(),jr(a),null;case 19:if(Sn(Rn),W=a.memoizedState,W===null)return jr(a),null;if(R=(a.flags&128)!==0,ee=W.rendering,ee===null)if(R)jc(W,!1);else{if(ar!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(ee=_h(i),ee!==null){for(a.flags|=128,jc(W,!1),R=ee.updateQueue,R!==null&&(a.updateQueue=R,a.flags|=4),a.subtreeFlags=0,R=w,w=a.child;w!==null;)W=w,i=R,W.flags&=14680066,ee=W.alternate,ee===null?(W.childLanes=0,W.lanes=i,W.child=null,W.subtreeFlags=0,W.memoizedProps=null,W.memoizedState=null,W.updateQueue=null,W.dependencies=null,W.stateNode=null):(W.childLanes=ee.childLanes,W.lanes=ee.lanes,W.child=ee.child,W.subtreeFlags=0,W.deletions=null,W.memoizedProps=ee.memoizedProps,W.memoizedState=ee.memoizedState,W.updateQueue=ee.updateQueue,W.type=ee.type,i=ee.dependencies,W.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),w=w.sibling;return vn(Rn,Rn.current&1|2),a.child}i=i.sibling}W.tail!==null&&en()>$l&&(a.flags|=128,R=!0,jc(W,!1),a.lanes=4194304)}else{if(!R)if(i=_h(ee),i!==null){if(a.flags|=128,R=!0,w=i.updateQueue,w!==null&&(a.updateQueue=w,a.flags|=4),jc(W,!0),W.tail===null&&W.tailMode==="hidden"&&!ee.alternate&&!Cn)return jr(a),null}else 2*en()-W.renderingStartTime>$l&&w!==1073741824&&(a.flags|=128,R=!0,jc(W,!1),a.lanes=4194304);W.isBackwards?(ee.sibling=a.child,a.child=ee):(w=W.last,w!==null?w.sibling=ee:a.child=ee,W.last=ee)}return W.tail!==null?(a=W.tail,W.rendering=a,W.tail=a.sibling,W.renderingStartTime=en(),a.sibling=null,w=Rn.current,vn(Rn,R?w&1|2:w&1),a):(jr(a),null);case 22:case 23:return Kp(),R=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==R&&(a.flags|=8192),R&&a.mode&1?Pi&1073741824&&(jr(a),a.subtreeFlags&6&&(a.flags|=8192)):jr(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function l1(i,a){switch(np(a),a.tag){case 1:return mi(a.type)&&uh(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Il(),Sn(gi),Sn(Br),gp(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 5:return fp(a),null;case 13:if(Sn(Rn),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Cl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Sn(Rn),null;case 4:return Il(),null;case 10:return lp(a.type._context),null;case 22:case 23:return Kp(),null;case 24:return null;default:return null}}var Rh=!1,Ur=!1,c1=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Ml(i,a){var w=i.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(R){Fn(i,a,R)}else w.current=null}function Op(i,a,w){try{w()}catch(R){Fn(i,a,R)}}var yw=!1;function u1(i,a){if(Kf=we,i=Vr(),ri(i)){if("selectionStart"in i)var w={start:i.selectionStart,end:i.selectionEnd};else e:{w=(w=i.ownerDocument)&&w.defaultView||window;var R=w.getSelection&&w.getSelection();if(R&&R.rangeCount!==0){w=R.anchorNode;var V=R.anchorOffset,W=R.focusNode;R=R.focusOffset;try{w.nodeType,W.nodeType}catch{w=null;break e}var ee=0,de=-1,ve=-1,ke=0,Be=0,je=i,Fe=null;t:for(;;){for(var Je;je!==w||V!==0&&je.nodeType!==3||(de=ee+V),je!==W||R!==0&&je.nodeType!==3||(ve=ee+R),je.nodeType===3&&(ee+=je.nodeValue.length),(Je=je.firstChild)!==null;)Fe=je,je=Je;for(;;){if(je===i)break t;if(Fe===w&&++ke===V&&(de=ee),Fe===W&&++Be===R&&(ve=ee),(Je=je.nextSibling)!==null)break;je=Fe,Fe=je.parentNode}je=Je}w=de===-1||ve===-1?null:{start:de,end:ve}}else w=null}w=w||{start:0,end:0}}else w=null;for(qf={focusedElem:i,selectionRange:w},we=!1,rt=a;rt!==null;)if(a=rt,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,rt=i;else for(;rt!==null;){a=rt;try{var it=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var ot=it.memoizedProps,zn=it.memoizedState,Te=a.stateNode,ye=Te.getSnapshotBeforeUpdate(a.elementType===a.type?ot:go(a.type,ot),zn);Te.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var xe=a.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(He){Fn(a,a.return,He)}if(i=a.sibling,i!==null){i.return=a.return,rt=i;break}rt=a.return}return it=yw,yw=!1,it}function Uc(i,a,w){var R=a.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var V=R=R.next;do{if((V.tag&i)===i){var W=V.destroy;V.destroy=void 0,W!==void 0&&Op(a,w,W)}V=V.next}while(V!==R)}}function Mh(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var w=a=a.next;do{if((w.tag&i)===i){var R=w.create;w.destroy=R()}w=w.next}while(w!==a)}}function Dp(i){var a=i.ref;if(a!==null){var w=i.stateNode;switch(i.tag){case 5:i=w;break;default:i=w}typeof a=="function"?a(i):a.current=i}}function ww(i){var a=i.alternate;a!==null&&(i.alternate=null,ww(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Po],delete a[Lc],delete a[Zf],delete a[GC],delete a[KC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function bw(i){return i.tag===5||i.tag===3||i.tag===4}function _w(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||bw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Np(i,a,w){var R=i.tag;if(R===5||R===6)i=i.stateNode,a?w.nodeType===8?w.parentNode.insertBefore(i,a):w.insertBefore(i,a):(w.nodeType===8?(a=w.parentNode,a.insertBefore(i,w)):(a=w,a.appendChild(i)),w=w._reactRootContainer,w!=null||a.onclick!==null||(a.onclick=lh));else if(R!==4&&(i=i.child,i!==null))for(Np(i,a,w),i=i.sibling;i!==null;)Np(i,a,w),i=i.sibling}function Fp(i,a,w){var R=i.tag;if(R===5||R===6)i=i.stateNode,a?w.insertBefore(i,a):w.appendChild(i);else if(R!==4&&(i=i.child,i!==null))for(Fp(i,a,w),i=i.sibling;i!==null;)Fp(i,a,w),i=i.sibling}var xr=null,mo=!1;function Ws(i,a,w){for(w=w.child;w!==null;)Ew(i,a,w),w=w.sibling}function Ew(i,a,w){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Ui,w)}catch{}switch(w.tag){case 5:Ur||Ml(w,a);case 6:var R=xr,V=mo;xr=null,Ws(i,a,w),xr=R,mo=V,xr!==null&&(mo?(i=xr,w=w.stateNode,i.nodeType===8?i.parentNode.removeChild(w):i.removeChild(w)):xr.removeChild(w.stateNode));break;case 18:xr!==null&&(mo?(i=xr,w=w.stateNode,i.nodeType===8?Xf(i.parentNode,w):i.nodeType===1&&Xf(i,w),ei(i)):Xf(xr,w.stateNode));break;case 4:R=xr,V=mo,xr=w.stateNode.containerInfo,mo=!0,Ws(i,a,w),xr=R,mo=V;break;case 0:case 11:case 14:case 15:if(!Ur&&(R=w.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){V=R=R.next;do{var W=V,ee=W.destroy;W=W.tag,ee!==void 0&&(W&2||W&4)&&Op(w,a,ee),V=V.next}while(V!==R)}Ws(i,a,w);break;case 1:if(!Ur&&(Ml(w,a),R=w.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=w.memoizedProps,R.state=w.memoizedState,R.componentWillUnmount()}catch(de){Fn(w,a,de)}Ws(i,a,w);break;case 21:Ws(i,a,w);break;case 22:w.mode&1?(Ur=(R=Ur)||w.memoizedState!==null,Ws(i,a,w),Ur=R):Ws(i,a,w);break;default:Ws(i,a,w)}}function Sw(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var w=i.stateNode;w===null&&(w=i.stateNode=new c1),a.forEach(function(R){var V=w1.bind(null,i,R);w.has(R)||(w.add(R),R.then(V,V))})}}function vo(i,a){var w=a.deletions;if(w!==null)for(var R=0;R<w.length;R++){var V=w[R];try{var W=i,ee=a,de=ee;e:for(;de!==null;){switch(de.tag){case 5:xr=de.stateNode,mo=!1;break e;case 3:xr=de.stateNode.containerInfo,mo=!0;break e;case 4:xr=de.stateNode.containerInfo,mo=!0;break e}de=de.return}if(xr===null)throw Error(t(160));Ew(W,ee,V),xr=null,mo=!1;var ve=V.alternate;ve!==null&&(ve.return=null),V.return=null}catch(ke){Fn(V,a,ke)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Tw(a,i),a=a.sibling}function Tw(i,a){var w=i.alternate,R=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(vo(a,i),No(i),R&4){try{Uc(3,i,i.return),Mh(3,i)}catch(ot){Fn(i,i.return,ot)}try{Uc(5,i,i.return)}catch(ot){Fn(i,i.return,ot)}}break;case 1:vo(a,i),No(i),R&512&&w!==null&&Ml(w,w.return);break;case 5:if(vo(a,i),No(i),R&512&&w!==null&&Ml(w,w.return),i.flags&32){var V=i.stateNode;try{lt(V,"")}catch(ot){Fn(i,i.return,ot)}}if(R&4&&(V=i.stateNode,V!=null)){var W=i.memoizedProps,ee=w!==null?w.memoizedProps:W,de=i.type,ve=i.updateQueue;if(i.updateQueue=null,ve!==null)try{de==="input"&&W.type==="radio"&&W.name!=null&&yt(V,W),Ce(de,ee);var ke=Ce(de,W);for(ee=0;ee<ve.length;ee+=2){var Be=ve[ee],je=ve[ee+1];Be==="style"?$t(V,je):Be==="dangerouslySetInnerHTML"?ft(V,je):Be==="children"?lt(V,je):F(V,Be,je,ke)}switch(de){case"input":Ot(V,W);break;case"textarea":bn(V,W);break;case"select":var Fe=V._wrapperState.wasMultiple;V._wrapperState.wasMultiple=!!W.multiple;var Je=W.value;Je!=null?wn(V,!!W.multiple,Je,!1):Fe!==!!W.multiple&&(W.defaultValue!=null?wn(V,!!W.multiple,W.defaultValue,!0):wn(V,!!W.multiple,W.multiple?[]:"",!1))}V[Lc]=W}catch(ot){Fn(i,i.return,ot)}}break;case 6:if(vo(a,i),No(i),R&4){if(i.stateNode===null)throw Error(t(162));V=i.stateNode,W=i.memoizedProps;try{V.nodeValue=W}catch(ot){Fn(i,i.return,ot)}}break;case 3:if(vo(a,i),No(i),R&4&&w!==null&&w.memoizedState.isDehydrated)try{ei(a.containerInfo)}catch(ot){Fn(i,i.return,ot)}break;case 4:vo(a,i),No(i);break;case 13:vo(a,i),No(i),V=i.child,V.flags&8192&&(W=V.memoizedState!==null,V.stateNode.isHidden=W,!W||V.alternate!==null&&V.alternate.memoizedState!==null||(zp=en())),R&4&&Sw(i);break;case 22:if(Be=w!==null&&w.memoizedState!==null,i.mode&1?(Ur=(ke=Ur)||Be,vo(a,i),Ur=ke):vo(a,i),No(i),R&8192){if(ke=i.memoizedState!==null,(i.stateNode.isHidden=ke)&&!Be&&i.mode&1)for(rt=i,Be=i.child;Be!==null;){for(je=rt=Be;rt!==null;){switch(Fe=rt,Je=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:Uc(4,Fe,Fe.return);break;case 1:Ml(Fe,Fe.return);var it=Fe.stateNode;if(typeof it.componentWillUnmount=="function"){R=Fe,w=Fe.return;try{a=R,it.props=a.memoizedProps,it.state=a.memoizedState,it.componentWillUnmount()}catch(ot){Fn(R,w,ot)}}break;case 5:Ml(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){Aw(je);continue}}Je!==null?(Je.return=Fe,rt=Je):Aw(je)}Be=Be.sibling}e:for(Be=null,je=i;;){if(je.tag===5){if(Be===null){Be=je;try{V=je.stateNode,ke?(W=V.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none"):(de=je.stateNode,ve=je.memoizedProps.style,ee=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,de.style.display=Ft("display",ee))}catch(ot){Fn(i,i.return,ot)}}}else if(je.tag===6){if(Be===null)try{je.stateNode.nodeValue=ke?"":je.memoizedProps}catch(ot){Fn(i,i.return,ot)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===i)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===i)break e;for(;je.sibling===null;){if(je.return===null||je.return===i)break e;Be===je&&(Be=null),je=je.return}Be===je&&(Be=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:vo(a,i),No(i),R&4&&Sw(i);break;case 21:break;default:vo(a,i),No(i)}}function No(i){var a=i.flags;if(a&2){try{e:{for(var w=i.return;w!==null;){if(bw(w)){var R=w;break e}w=w.return}throw Error(t(160))}switch(R.tag){case 5:var V=R.stateNode;R.flags&32&&(lt(V,""),R.flags&=-33);var W=_w(i);Fp(i,W,V);break;case 3:case 4:var ee=R.stateNode.containerInfo,de=_w(i);Np(i,de,ee);break;default:throw Error(t(161))}}catch(ve){Fn(i,i.return,ve)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function h1(i,a,w){rt=i,Cw(i)}function Cw(i,a,w){for(var R=(i.mode&1)!==0;rt!==null;){var V=rt,W=V.child;if(V.tag===22&&R){var ee=V.memoizedState!==null||Rh;if(!ee){var de=V.alternate,ve=de!==null&&de.memoizedState!==null||Ur;de=Rh;var ke=Ur;if(Rh=ee,(Ur=ve)&&!ke)for(rt=V;rt!==null;)ee=rt,ve=ee.child,ee.tag===22&&ee.memoizedState!==null?kw(V):ve!==null?(ve.return=ee,rt=ve):kw(V);for(;W!==null;)rt=W,Cw(W),W=W.sibling;rt=V,Rh=de,Ur=ke}xw(i)}else V.subtreeFlags&8772&&W!==null?(W.return=V,rt=W):xw(i)}}function xw(i){for(;rt!==null;){var a=rt;if(a.flags&8772){var w=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Ur||Mh(5,a);break;case 1:var R=a.stateNode;if(a.flags&4&&!Ur)if(w===null)R.componentDidMount();else{var V=a.elementType===a.type?w.memoizedProps:go(a.type,w.memoizedProps);R.componentDidUpdate(V,w.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var W=a.updateQueue;W!==null&&Ay(a,W,R);break;case 3:var ee=a.updateQueue;if(ee!==null){if(w=null,a.child!==null)switch(a.child.tag){case 5:w=a.child.stateNode;break;case 1:w=a.child.stateNode}Ay(a,ee,w)}break;case 5:var de=a.stateNode;if(w===null&&a.flags&4){w=de;var ve=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&w.focus();break;case"img":ve.src&&(w.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ke=a.alternate;if(ke!==null){var Be=ke.memoizedState;if(Be!==null){var je=Be.dehydrated;je!==null&&ei(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ur||a.flags&512&&Dp(a)}catch(Fe){Fn(a,a.return,Fe)}}if(a===i){rt=null;break}if(w=a.sibling,w!==null){w.return=a.return,rt=w;break}rt=a.return}}function Aw(i){for(;rt!==null;){var a=rt;if(a===i){rt=null;break}var w=a.sibling;if(w!==null){w.return=a.return,rt=w;break}rt=a.return}}function kw(i){for(;rt!==null;){var a=rt;try{switch(a.tag){case 0:case 11:case 15:var w=a.return;try{Mh(4,a)}catch(ve){Fn(a,w,ve)}break;case 1:var R=a.stateNode;if(typeof R.componentDidMount=="function"){var V=a.return;try{R.componentDidMount()}catch(ve){Fn(a,V,ve)}}var W=a.return;try{Dp(a)}catch(ve){Fn(a,W,ve)}break;case 5:var ee=a.return;try{Dp(a)}catch(ve){Fn(a,ee,ve)}}}catch(ve){Fn(a,a.return,ve)}if(a===i){rt=null;break}var de=a.sibling;if(de!==null){de.return=a.return,rt=de;break}rt=a.return}}var d1=Math.ceil,Lh=O.ReactCurrentDispatcher,Vp=O.ReactCurrentOwner,Ji=O.ReactCurrentBatchConfig,Yt=0,vr=null,Xn=null,Ar=0,Pi=0,Ll=Bs(0),ar=0,Hc=null,Na=0,$h=0,Bp=0,Wc=null,yi=null,zp=0,$l=1/0,hs=null,Ph=!1,jp=null,Gs=null,Oh=!1,Ks=null,Dh=0,Gc=0,Up=null,Nh=-1,Fh=0;function oi(){return Yt&6?en():Nh!==-1?Nh:Nh=en()}function qs(i){return i.mode&1?Yt&2&&Ar!==0?Ar&-Ar:QC.transition!==null?(Fh===0&&(Fh=hi()),Fh):(i=It,i!==0||(i=window.event,i=i===void 0?16:gn(i.type)),i):1}function yo(i,a,w,R){if(50<Gc)throw Gc=0,Up=null,Error(t(185));Or(i,w,R),(!(Yt&2)||i!==vr)&&(i===vr&&(!(Yt&2)&&($h|=w),ar===4&&Qs(i,Ar)),wi(i,R),w===1&&Yt===0&&!(a.mode&1)&&($l=en()+500,dh&&js()))}function wi(i,a){var w=i.callbackNode;dr(i,a);var R=Ii(i,i===vr?Ar:0);if(R===0)w!==null&&Zr(w),i.callbackNode=null,i.callbackPriority=0;else if(a=R&-R,i.callbackPriority!==a){if(w!=null&&Zr(w),a===1)i.tag===0?qC(Rw.bind(null,i)):gy(Rw.bind(null,i)),HC(function(){!(Yt&6)&&js()}),w=null;else{switch(rr(R)){case 1:w=ji;break;case 4:w=Pr;break;case 16:w=er;break;case 536870912:w=Er;break;default:w=er}w=Fw(w,Iw.bind(null,i))}i.callbackPriority=a,i.callbackNode=w}}function Iw(i,a){if(Nh=-1,Fh=0,Yt&6)throw Error(t(327));var w=i.callbackNode;if(Pl()&&i.callbackNode!==w)return null;var R=Ii(i,i===vr?Ar:0);if(R===0)return null;if(R&30||R&i.expiredLanes||a)a=Vh(i,R);else{a=R;var V=Yt;Yt|=2;var W=Lw();(vr!==i||Ar!==a)&&(hs=null,$l=en()+500,Va(i,a));do try{g1();break}catch(de){Mw(i,de)}while(!0);ap(),Lh.current=W,Yt=V,Xn!==null?a=0:(vr=null,Ar=0,a=ar)}if(a!==0){if(a===2&&(V=nr(i),V!==0&&(R=V,a=Hp(i,V))),a===1)throw w=Hc,Va(i,0),Qs(i,R),wi(i,en()),w;if(a===6)Qs(i,R);else{if(V=i.current.alternate,!(R&30)&&!f1(V)&&(a=Vh(i,R),a===2&&(W=nr(i),W!==0&&(R=W,a=Hp(i,W))),a===1))throw w=Hc,Va(i,0),Qs(i,R),wi(i,en()),w;switch(i.finishedWork=V,i.finishedLanes=R,a){case 0:case 1:throw Error(t(345));case 2:Ba(i,yi,hs);break;case 3:if(Qs(i,R),(R&130023424)===R&&(a=zp+500-en(),10<a)){if(Ii(i,0)!==0)break;if(V=i.suspendedLanes,(V&R)!==R){oi(),i.pingedLanes|=i.suspendedLanes&V;break}i.timeoutHandle=Yf(Ba.bind(null,i,yi,hs),a);break}Ba(i,yi,hs);break;case 4:if(Qs(i,R),(R&4194240)===R)break;for(a=i.eventTimes,V=-1;0<R;){var ee=31-tr(R);W=1<<ee,ee=a[ee],ee>V&&(V=ee),R&=~W}if(R=V,R=en()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*d1(R/1960))-R,10<R){i.timeoutHandle=Yf(Ba.bind(null,i,yi,hs),R);break}Ba(i,yi,hs);break;case 5:Ba(i,yi,hs);break;default:throw Error(t(329))}}}return wi(i,en()),i.callbackNode===w?Iw.bind(null,i):null}function Hp(i,a){var w=Wc;return i.current.memoizedState.isDehydrated&&(Va(i,a).flags|=256),i=Vh(i,a),i!==2&&(a=yi,yi=w,a!==null&&Wp(a)),i}function Wp(i){yi===null?yi=i:yi.push.apply(yi,i)}function f1(i){for(var a=i;;){if(a.flags&16384){var w=a.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var R=0;R<w.length;R++){var V=w[R],W=V.getSnapshot;V=V.value;try{if(!wt(W(),V))return!1}catch{return!1}}}if(w=a.child,a.subtreeFlags&16384&&w!==null)w.return=a,a=w;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Qs(i,a){for(a&=~Bp,a&=~$h,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var w=31-tr(a),R=1<<w;i[w]=-1,a&=~R}}function Rw(i){if(Yt&6)throw Error(t(327));Pl();var a=Ii(i,0);if(!(a&1))return wi(i,en()),null;var w=Vh(i,a);if(i.tag!==0&&w===2){var R=nr(i);R!==0&&(a=R,w=Hp(i,R))}if(w===1)throw w=Hc,Va(i,0),Qs(i,a),wi(i,en()),w;if(w===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ba(i,yi,hs),wi(i,en()),null}function Gp(i,a){var w=Yt;Yt|=1;try{return i(a)}finally{Yt=w,Yt===0&&($l=en()+500,dh&&js())}}function Fa(i){Ks!==null&&Ks.tag===0&&!(Yt&6)&&Pl();var a=Yt;Yt|=1;var w=Ji.transition,R=It;try{if(Ji.transition=null,It=1,i)return i()}finally{It=R,Ji.transition=w,Yt=a,!(Yt&6)&&js()}}function Kp(){Pi=Ll.current,Sn(Ll)}function Va(i,a){i.finishedWork=null,i.finishedLanes=0;var w=i.timeoutHandle;if(w!==-1&&(i.timeoutHandle=-1,UC(w)),Xn!==null)for(w=Xn.return;w!==null;){var R=w;switch(np(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&uh();break;case 3:Il(),Sn(gi),Sn(Br),gp();break;case 5:fp(R);break;case 4:Il();break;case 13:Sn(Rn);break;case 19:Sn(Rn);break;case 10:lp(R.type._context);break;case 22:case 23:Kp()}w=w.return}if(vr=i,Xn=i=Ys(i.current,null),Ar=Pi=a,ar=0,Hc=null,Bp=$h=Na=0,yi=Wc=null,Pa!==null){for(a=0;a<Pa.length;a++)if(w=Pa[a],R=w.interleaved,R!==null){w.interleaved=null;var V=R.next,W=w.pending;if(W!==null){var ee=W.next;W.next=V,R.next=ee}w.pending=R}Pa=null}return i}function Mw(i,a){do{var w=Xn;try{if(ap(),Eh.current=xh,Sh){for(var R=Mn.memoizedState;R!==null;){var V=R.queue;V!==null&&(V.pending=null),R=R.next}Sh=!1}if(Da=0,mr=sr=Mn=null,Fc=!1,Vc=0,Vp.current=null,w===null||w.return===null){ar=1,Hc=a,Xn=null;break}e:{var W=i,ee=w.return,de=w,ve=a;if(a=Ar,de.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var ke=ve,Be=de,je=Be.tag;if(!(Be.mode&1)&&(je===0||je===11||je===15)){var Fe=Be.alternate;Fe?(Be.updateQueue=Fe.updateQueue,Be.memoizedState=Fe.memoizedState,Be.lanes=Fe.lanes):(Be.updateQueue=null,Be.memoizedState=null)}var Je=nw(ee);if(Je!==null){Je.flags&=-257,rw(Je,ee,de,W,a),Je.mode&1&&tw(W,ke,a),a=Je,ve=ke;var it=a.updateQueue;if(it===null){var ot=new Set;ot.add(ve),a.updateQueue=ot}else it.add(ve);break e}else{if(!(a&1)){tw(W,ke,a),qp();break e}ve=Error(t(426))}}else if(Cn&&de.mode&1){var zn=nw(ee);if(zn!==null){!(zn.flags&65536)&&(zn.flags|=256),rw(zn,ee,de,W,a),op(Rl(ve,de));break e}}W=ve=Rl(ve,de),ar!==4&&(ar=2),Wc===null?Wc=[W]:Wc.push(W),W=ee;do{switch(W.tag){case 3:W.flags|=65536,a&=-a,W.lanes|=a;var Te=Jy(W,ve,a);xy(W,Te);break e;case 1:de=ve;var ye=W.type,xe=W.stateNode;if(!(W.flags&128)&&(typeof ye.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(Gs===null||!Gs.has(xe)))){W.flags|=65536,a&=-a,W.lanes|=a;var He=ew(W,de,a);xy(W,He);break e}}W=W.return}while(W!==null)}Pw(w)}catch(at){a=at,Xn===w&&w!==null&&(Xn=w=w.return);continue}break}while(!0)}function Lw(){var i=Lh.current;return Lh.current=xh,i===null?xh:i}function qp(){(ar===0||ar===3||ar===2)&&(ar=4),vr===null||!(Na&268435455)&&!($h&268435455)||Qs(vr,Ar)}function Vh(i,a){var w=Yt;Yt|=2;var R=Lw();(vr!==i||Ar!==a)&&(hs=null,Va(i,a));do try{p1();break}catch(V){Mw(i,V)}while(!0);if(ap(),Yt=w,Lh.current=R,Xn!==null)throw Error(t(261));return vr=null,Ar=0,ar}function p1(){for(;Xn!==null;)$w(Xn)}function g1(){for(;Xn!==null&&!As();)$w(Xn)}function $w(i){var a=Nw(i.alternate,i,Pi);i.memoizedProps=i.pendingProps,a===null?Pw(i):Xn=a,Vp.current=null}function Pw(i){var a=i;do{var w=a.alternate;if(i=a.return,a.flags&32768){if(w=l1(w,a),w!==null){w.flags&=32767,Xn=w;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ar=6,Xn=null;return}}else if(w=a1(w,a,Pi),w!==null){Xn=w;return}if(a=a.sibling,a!==null){Xn=a;return}Xn=a=i}while(a!==null);ar===0&&(ar=5)}function Ba(i,a,w){var R=It,V=Ji.transition;try{Ji.transition=null,It=1,m1(i,a,w,R)}finally{Ji.transition=V,It=R}return null}function m1(i,a,w,R){do Pl();while(Ks!==null);if(Yt&6)throw Error(t(327));w=i.finishedWork;var V=i.finishedLanes;if(w===null)return null;if(i.finishedWork=null,i.finishedLanes=0,w===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var W=w.lanes|w.childLanes;if(tn(i,W),i===vr&&(Xn=vr=null,Ar=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||Oh||(Oh=!0,Fw(er,function(){return Pl(),null})),W=(w.flags&15990)!==0,w.subtreeFlags&15990||W){W=Ji.transition,Ji.transition=null;var ee=It;It=1;var de=Yt;Yt|=4,Vp.current=null,u1(i,w),Tw(w,i),fo(qf),we=!!Kf,qf=Kf=null,i.current=w,h1(w),xa(),Yt=de,It=ee,Ji.transition=W}else i.current=w;if(Oh&&(Oh=!1,Ks=i,Dh=V),W=i.pendingLanes,W===0&&(Gs=null),To(w.stateNode),wi(i,en()),a!==null)for(R=i.onRecoverableError,w=0;w<a.length;w++)V=a[w],R(V.value,{componentStack:V.stack,digest:V.digest});if(Ph)throw Ph=!1,i=jp,jp=null,i;return Dh&1&&i.tag!==0&&Pl(),W=i.pendingLanes,W&1?i===Up?Gc++:(Gc=0,Up=i):Gc=0,js(),null}function Pl(){if(Ks!==null){var i=rr(Dh),a=Ji.transition,w=It;try{if(Ji.transition=null,It=16>i?16:i,Ks===null)var R=!1;else{if(i=Ks,Ks=null,Dh=0,Yt&6)throw Error(t(331));var V=Yt;for(Yt|=4,rt=i.current;rt!==null;){var W=rt,ee=W.child;if(rt.flags&16){var de=W.deletions;if(de!==null){for(var ve=0;ve<de.length;ve++){var ke=de[ve];for(rt=ke;rt!==null;){var Be=rt;switch(Be.tag){case 0:case 11:case 15:Uc(8,Be,W)}var je=Be.child;if(je!==null)je.return=Be,rt=je;else for(;rt!==null;){Be=rt;var Fe=Be.sibling,Je=Be.return;if(ww(Be),Be===ke){rt=null;break}if(Fe!==null){Fe.return=Je,rt=Fe;break}rt=Je}}}var it=W.alternate;if(it!==null){var ot=it.child;if(ot!==null){it.child=null;do{var zn=ot.sibling;ot.sibling=null,ot=zn}while(ot!==null)}}rt=W}}if(W.subtreeFlags&2064&&ee!==null)ee.return=W,rt=ee;else e:for(;rt!==null;){if(W=rt,W.flags&2048)switch(W.tag){case 0:case 11:case 15:Uc(9,W,W.return)}var Te=W.sibling;if(Te!==null){Te.return=W.return,rt=Te;break e}rt=W.return}}var ye=i.current;for(rt=ye;rt!==null;){ee=rt;var xe=ee.child;if(ee.subtreeFlags&2064&&xe!==null)xe.return=ee,rt=xe;else e:for(ee=ye;rt!==null;){if(de=rt,de.flags&2048)try{switch(de.tag){case 0:case 11:case 15:Mh(9,de)}}catch(at){Fn(de,de.return,at)}if(de===ee){rt=null;break e}var He=de.sibling;if(He!==null){He.return=de.return,rt=He;break e}rt=de.return}}if(Yt=V,js(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Ui,i)}catch{}R=!0}return R}finally{It=w,Ji.transition=a}}return!1}function Ow(i,a,w){a=Rl(w,a),a=Jy(i,a,1),i=Hs(i,a,1),a=oi(),i!==null&&(Or(i,1,a),wi(i,a))}function Fn(i,a,w){if(i.tag===3)Ow(i,i,w);else for(;a!==null;){if(a.tag===3){Ow(a,i,w);break}else if(a.tag===1){var R=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Gs===null||!Gs.has(R))){i=Rl(w,i),i=ew(a,i,1),a=Hs(a,i,1),i=oi(),a!==null&&(Or(a,1,i),wi(a,i));break}}a=a.return}}function v1(i,a,w){var R=i.pingCache;R!==null&&R.delete(a),a=oi(),i.pingedLanes|=i.suspendedLanes&w,vr===i&&(Ar&w)===w&&(ar===4||ar===3&&(Ar&130023424)===Ar&&500>en()-zp?Va(i,0):Bp|=w),wi(i,a)}function Dw(i,a){a===0&&(i.mode&1?(a=ui,ui<<=1,!(ui&130023424)&&(ui=4194304)):a=1);var w=oi();i=ls(i,a),i!==null&&(Or(i,a,w),wi(i,w))}function y1(i){var a=i.memoizedState,w=0;a!==null&&(w=a.retryLane),Dw(i,w)}function w1(i,a){var w=0;switch(i.tag){case 13:var R=i.stateNode,V=i.memoizedState;V!==null&&(w=V.retryLane);break;case 19:R=i.stateNode;break;default:throw Error(t(314))}R!==null&&R.delete(a),Dw(i,w)}var Nw;Nw=function(i,a,w){if(i!==null)if(i.memoizedProps!==a.pendingProps||gi.current)vi=!0;else{if(!(i.lanes&w)&&!(a.flags&128))return vi=!1,s1(i,a,w);vi=!!(i.flags&131072)}else vi=!1,Cn&&a.flags&1048576&&my(a,ph,a.index);switch(a.lanes=0,a.tag){case 2:var R=a.type;Ih(i,a),i=a.pendingProps;var V=El(a,Br.current);kl(a,w),V=yp(null,a,R,i,V,w);var W=wp();return a.flags|=1,typeof V=="object"&&V!==null&&typeof V.render=="function"&&V.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,mi(R)?(W=!0,hh(a)):W=!1,a.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,hp(a),V.updater=Ah,a.stateNode=V,V._reactInternals=a,Cp(a,R,i,w),a=Ip(null,a,R,!0,W,w)):(a.tag=0,Cn&&W&&tp(a),ii(null,a,V,w),a=a.child),a;case 16:R=a.elementType;e:{switch(Ih(i,a),i=a.pendingProps,V=R._init,R=V(R._payload),a.type=R,V=a.tag=_1(R),i=go(R,i),V){case 0:a=kp(null,a,R,i,w);break e;case 1:a=cw(null,a,R,i,w);break e;case 11:a=iw(null,a,R,i,w);break e;case 14:a=ow(null,a,R,go(R.type,i),w);break e}throw Error(t(306,R,""))}return a;case 0:return R=a.type,V=a.pendingProps,V=a.elementType===R?V:go(R,V),kp(i,a,R,V,w);case 1:return R=a.type,V=a.pendingProps,V=a.elementType===R?V:go(R,V),cw(i,a,R,V,w);case 3:e:{if(uw(a),i===null)throw Error(t(387));R=a.pendingProps,W=a.memoizedState,V=W.element,Cy(i,a),bh(a,R,null,w);var ee=a.memoizedState;if(R=ee.element,W.isDehydrated)if(W={element:R,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},a.updateQueue.baseState=W,a.memoizedState=W,a.flags&256){V=Rl(Error(t(423)),a),a=hw(i,a,R,w,V);break e}else if(R!==V){V=Rl(Error(t(424)),a),a=hw(i,a,R,w,V);break e}else for($i=Vs(a.stateNode.containerInfo.firstChild),Li=a,Cn=!0,po=null,w=Sy(a,null,R,w),a.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Cl(),R===V){a=us(i,a,w);break e}ii(i,a,R,w)}a=a.child}return a;case 5:return ky(a),i===null&&ip(a),R=a.type,V=a.pendingProps,W=i!==null?i.memoizedProps:null,ee=V.children,Qf(R,V)?ee=null:W!==null&&Qf(R,W)&&(a.flags|=32),lw(i,a),ii(i,a,ee,w),a.child;case 6:return i===null&&ip(a),null;case 13:return dw(i,a,w);case 4:return dp(a,a.stateNode.containerInfo),R=a.pendingProps,i===null?a.child=xl(a,null,R,w):ii(i,a,R,w),a.child;case 11:return R=a.type,V=a.pendingProps,V=a.elementType===R?V:go(R,V),iw(i,a,R,V,w);case 7:return ii(i,a,a.pendingProps,w),a.child;case 8:return ii(i,a,a.pendingProps.children,w),a.child;case 12:return ii(i,a,a.pendingProps.children,w),a.child;case 10:e:{if(R=a.type._context,V=a.pendingProps,W=a.memoizedProps,ee=V.value,vn(vh,R._currentValue),R._currentValue=ee,W!==null)if(wt(W.value,ee)){if(W.children===V.children&&!gi.current){a=us(i,a,w);break e}}else for(W=a.child,W!==null&&(W.return=a);W!==null;){var de=W.dependencies;if(de!==null){ee=W.child;for(var ve=de.firstContext;ve!==null;){if(ve.context===R){if(W.tag===1){ve=cs(-1,w&-w),ve.tag=2;var ke=W.updateQueue;if(ke!==null){ke=ke.shared;var Be=ke.pending;Be===null?ve.next=ve:(ve.next=Be.next,Be.next=ve),ke.pending=ve}}W.lanes|=w,ve=W.alternate,ve!==null&&(ve.lanes|=w),cp(W.return,w,a),de.lanes|=w;break}ve=ve.next}}else if(W.tag===10)ee=W.type===a.type?null:W.child;else if(W.tag===18){if(ee=W.return,ee===null)throw Error(t(341));ee.lanes|=w,de=ee.alternate,de!==null&&(de.lanes|=w),cp(ee,w,a),ee=W.sibling}else ee=W.child;if(ee!==null)ee.return=W;else for(ee=W;ee!==null;){if(ee===a){ee=null;break}if(W=ee.sibling,W!==null){W.return=ee.return,ee=W;break}ee=ee.return}W=ee}ii(i,a,V.children,w),a=a.child}return a;case 9:return V=a.type,R=a.pendingProps.children,kl(a,w),V=Xi(V),R=R(V),a.flags|=1,ii(i,a,R,w),a.child;case 14:return R=a.type,V=go(R,a.pendingProps),V=go(R.type,V),ow(i,a,R,V,w);case 15:return sw(i,a,a.type,a.pendingProps,w);case 17:return R=a.type,V=a.pendingProps,V=a.elementType===R?V:go(R,V),Ih(i,a),a.tag=1,mi(R)?(i=!0,hh(a)):i=!1,kl(a,w),Xy(a,R,V),Cp(a,R,V,w),Ip(null,a,R,!0,i,w);case 19:return pw(i,a,w);case 22:return aw(i,a,w)}throw Error(t(156,a.tag))};function Fw(i,a){return zi(i,a)}function b1(i,a,w,R){this.tag=i,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(i,a,w,R){return new b1(i,a,w,R)}function Qp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function _1(i){if(typeof i=="function")return Qp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===T)return 11;if(i===N)return 14}return 2}function Ys(i,a){var w=i.alternate;return w===null?(w=eo(i.tag,a,i.key,i.mode),w.elementType=i.elementType,w.type=i.type,w.stateNode=i.stateNode,w.alternate=i,i.alternate=w):(w.pendingProps=a,w.type=i.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=i.flags&14680064,w.childLanes=i.childLanes,w.lanes=i.lanes,w.child=i.child,w.memoizedProps=i.memoizedProps,w.memoizedState=i.memoizedState,w.updateQueue=i.updateQueue,a=i.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},w.sibling=i.sibling,w.index=i.index,w.ref=i.ref,w}function Bh(i,a,w,R,V,W){var ee=2;if(R=i,typeof i=="function")Qp(i)&&(ee=1);else if(typeof i=="string")ee=5;else e:switch(i){case _:return za(w.children,V,W,a);case I:ee=8,V|=8;break;case M:return i=eo(12,w,a,V|2),i.elementType=M,i.lanes=W,i;case b:return i=eo(13,w,a,V),i.elementType=b,i.lanes=W,i;case P:return i=eo(19,w,a,V),i.elementType=P,i.lanes=W,i;case q:return zh(w,V,W,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:ee=10;break e;case B:ee=9;break e;case T:ee=11;break e;case N:ee=14;break e;case z:ee=16,R=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=eo(ee,w,a,V),a.elementType=i,a.type=R,a.lanes=W,a}function za(i,a,w,R){return i=eo(7,i,R,a),i.lanes=w,i}function zh(i,a,w,R){return i=eo(22,i,R,a),i.elementType=q,i.lanes=w,i.stateNode={isHidden:!1},i}function Yp(i,a,w){return i=eo(6,i,null,a),i.lanes=w,i}function Xp(i,a,w){return a=eo(4,i.children!==null?i.children:[],i.key,a),a.lanes=w,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function E1(i,a,w,R,V){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qn(0),this.expirationTimes=Qn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.identifierPrefix=R,this.onRecoverableError=V,this.mutableSourceEagerHydrationData=null}function Zp(i,a,w,R,V,W,ee,de,ve){return i=new E1(i,a,w,de,ve),a===1?(a=1,W===!0&&(a|=8)):a=0,W=eo(3,null,null,a),i.current=W,W.stateNode=i,W.memoizedState={element:R,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},hp(W),i}function S1(i,a,w){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:R==null?null:""+R,children:i,containerInfo:a,implementation:w}}function Vw(i){if(!i)return zs;i=i._reactInternals;e:{if(st(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(mi(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var w=i.type;if(mi(w))return fy(i,w,a)}return a}function Bw(i,a,w,R,V,W,ee,de,ve){return i=Zp(w,R,!0,i,V,W,ee,de,ve),i.context=Vw(null),w=i.current,R=oi(),V=qs(w),W=cs(R,V),W.callback=a??null,Hs(w,W,V),i.current.lanes=V,Or(i,V,R),wi(i,R),i}function jh(i,a,w,R){var V=a.current,W=oi(),ee=qs(V);return w=Vw(w),a.context===null?a.context=w:a.pendingContext=w,a=cs(W,ee),a.payload={element:i},R=R===void 0?null:R,R!==null&&(a.callback=R),i=Hs(V,a,ee),i!==null&&(yo(i,V,ee,W),wh(i,V,ee)),ee}function Uh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function zw(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var w=i.retryLane;i.retryLane=w!==0&&w<a?w:a}}function Jp(i,a){zw(i,a),(i=i.alternate)&&zw(i,a)}var jw=typeof reportError=="function"?reportError:function(i){console.error(i)};function eg(i){this._internalRoot=i}Hh.prototype.render=eg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));jh(i,a,null,null)},Hh.prototype.unmount=eg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Fa(function(){jh(null,i,null,null)}),a[is]=null}};function Hh(i){this._internalRoot=i}Hh.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ms();i={blockedOn:null,target:i,priority:a};for(var w=0;w<Tr.length&&a!==0&&a<Tr[w].priority;w++);Tr.splice(w,0,i),w===0&&Io(i)}};function tg(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Wh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Uw(){}function T1(i,a,w,R,V){if(V){if(typeof R=="function"){var W=R;R=function(){var ke=Uh(ee);W.call(ke)}}var ee=Bw(a,R,i,0,null,!1,!1,"",Uw);return i._reactRootContainer=ee,i[is]=ee.current,Rc(i.nodeType===8?i.parentNode:i),Fa(),ee}for(;V=i.lastChild;)i.removeChild(V);if(typeof R=="function"){var de=R;R=function(){var ke=Uh(ve);de.call(ke)}}var ve=Zp(i,0,!1,null,null,!1,!1,"",Uw);return i._reactRootContainer=ve,i[is]=ve.current,Rc(i.nodeType===8?i.parentNode:i),Fa(function(){jh(a,ve,w,R)}),ve}function Gh(i,a,w,R,V){var W=w._reactRootContainer;if(W){var ee=W;if(typeof V=="function"){var de=V;V=function(){var ve=Uh(ee);de.call(ve)}}jh(a,ee,i,V)}else ee=T1(w,a,i,V,R);return Uh(ee)}Rs=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var w=ki(a.pendingLanes);w!==0&&(di(a,w|1),wi(a,en()),!(Yt&6)&&($l=en()+500,js()))}break;case 13:Fa(function(){var R=ls(i,1);if(R!==null){var V=oi();yo(R,i,1,V)}}),Jp(i,1)}},Ao=function(i){if(i.tag===13){var a=ls(i,134217728);if(a!==null){var w=oi();yo(a,i,134217728,w)}Jp(i,134217728)}},Dr=function(i){if(i.tag===13){var a=qs(i),w=ls(i,a);if(w!==null){var R=oi();yo(w,i,a,R)}Jp(i,a)}},Ms=function(){return It},Ls=function(i,a){var w=It;try{return It=i,a()}finally{It=w}},Rt=function(i,a,w){switch(a){case"input":if(Ot(i,w),a=w.name,w.type==="radio"&&a!=null){for(w=i;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<w.length;a++){var R=w[a];if(R!==i&&R.form===i.form){var V=ch(R);if(!V)throw Error(t(90));Qe(R),Ot(R,V)}}}break;case"textarea":bn(i,w);break;case"select":a=w.value,a!=null&&wn(i,!!w.multiple,a,!1)}},li=Gp,Vi=Fa;var C1={usingClientEntryPoint:!1,Events:[$c,bl,ch,Gn,Ai,Gp]},Kc={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x1={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zo(i),i===null?null:i.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{Ui=Kh.inject(x1),Sr=Kh}catch{}}return bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C1,bi.createPortal=function(i,a){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tg(a))throw Error(t(200));return S1(i,a,null,w)},bi.createRoot=function(i,a){if(!tg(i))throw Error(t(299));var w=!1,R="",V=jw;return a!=null&&(a.unstable_strictMode===!0&&(w=!0),a.identifierPrefix!==void 0&&(R=a.identifierPrefix),a.onRecoverableError!==void 0&&(V=a.onRecoverableError)),a=Zp(i,1,!1,null,null,w,!1,R,V),i[is]=a.current,Rc(i.nodeType===8?i.parentNode:i),new eg(a)},bi.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Zo(a),i=i===null?null:i.stateNode,i},bi.flushSync=function(i){return Fa(i)},bi.hydrate=function(i,a,w){if(!Wh(a))throw Error(t(200));return Gh(null,i,a,!0,w)},bi.hydrateRoot=function(i,a,w){if(!tg(i))throw Error(t(405));var R=w!=null&&w.hydratedSources||null,V=!1,W="",ee=jw;if(w!=null&&(w.unstable_strictMode===!0&&(V=!0),w.identifierPrefix!==void 0&&(W=w.identifierPrefix),w.onRecoverableError!==void 0&&(ee=w.onRecoverableError)),a=Bw(a,null,i,1,w??null,V,!1,W,ee),i[is]=a.current,Rc(i),R)for(i=0;i<R.length;i++)w=R[i],V=w._getVersion,V=V(w._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[w,V]:a.mutableSourceEagerHydrationData.push(w,V);return new Hh(a)},bi.render=function(i,a,w){if(!Wh(a))throw Error(t(200));return Gh(null,i,a,!1,w)},bi.unmountComponentAtNode=function(i){if(!Wh(i))throw Error(t(40));return i._reactRootContainer?(Fa(function(){Gh(null,null,i,!1,function(){i._reactRootContainer=null,i[is]=null})}),!0):!1},bi.unstable_batchedUpdates=Gp,bi.unstable_renderSubtreeIntoContainer=function(i,a,w,R){if(!Wh(w))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Gh(i,a,w,!1,R)},bi.version="18.3.1-next-f1338f8080-20240426",bi}var Xw;function m_(){if(Xw)return ig.exports;Xw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ig.exports=D1(),ig.exports}var Zw;function N1(){if(Zw)return qh;Zw=1;var n=m_();return qh.createRoot=n.createRoot,qh.hydrateRoot=n.hydrateRoot,qh}var F1=N1(),Jw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},V1=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],m=n[t++],u=((s&7)<<18|(o&63)<<12|(c&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,m=c?n[s+1]:0,u=s+2<n.length,g=u?n[s+2]:0,l=o>>2,h=(o&3)<<4|m>>4;let d=(m&15)<<2|g>>6,f=g&63;u||(f=64,c||(d=64)),r.push(t[l],t[h],t[d],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(v_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):V1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],m=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const h=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||m==null||g==null||h==null)throw new B1;const d=o<<2|m>>4;if(r.push(d),g!==64){const f=m<<4&240|g>>2;if(r.push(f),h!==64){const p=g<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class B1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z1=function(n){const e=v_(n);return y_.encodeByteArray(e,!0)},wd=function(n){return z1(n).replace(/\./g,"")},w_=function(n){try{return y_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=()=>j1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof Jw>"u")return;const n=Jw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},W1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&w_(n[1]);return e&&JSON.parse(e)},ef=()=>{try{return U1()||H1()||W1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},b_=n=>{var e,t;return(t=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},G1=n=>{const e=b_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},__=()=>{var n;return(n=ef())===null||n===void 0?void 0:n.config},E_=n=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wd(JSON.stringify(t)),wd(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function Y1(){var n;const e=(n=ef())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function J1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ex(){const n=qr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tx(){return!Y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nx(){try{return typeof indexedDB=="object"}catch{return!1}}function rx(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="FirebaseError";class Ts extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ix,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?ox(o,r):"Error",m=`${this.serviceName}: ${c} (${s}).`;return new Ts(s,m,r)}}function ox(n,e){return n.replace(sx,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const sx=/\{\$([^}]+)}/g;function ax(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],c=e[s];if(e0(o)&&e0(c)){if(!bd(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function e0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function tu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function lx(n,e){const t=new cx(n,e);return t.subscribe.bind(t)}class cx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ux(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=ag),s.error===void 0&&(s.error=ag),s.complete===void 0&&(s.complete=ag);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ux(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ag(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(n){return n&&n._delegate?n._delegate:n}class Za{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new K1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fx(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(o);r===m&&c.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dx(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dx(n){return n===Ua?void 0:n}function fx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const gx={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},mx=Bt.INFO,vx={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},yx=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=vx[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=mx,this._logHandler=yx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const wx=(n,e)=>e.some(t=>n instanceof t);let t0,n0;function bx(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _x(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S_=new WeakMap,Fg=new WeakMap,T_=new WeakMap,lg=new WeakMap,Tm=new WeakMap;function Ex(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(ca(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&S_.set(t,n)}).catch(()=>{}),Tm.set(e,n),e}function Sx(n){if(Fg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Fg.set(n,e)}let Vg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||T_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ca(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Tx(n){Vg=n(Vg)}function Cx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(cg(this),e,...t);return T_.set(r,e.sort?e.sort():[e]),ca(r)}:_x().includes(n)?function(...e){return n.apply(cg(this),e),ca(S_.get(this))}:function(...e){return ca(n.apply(cg(this),e))}}function xx(n){return typeof n=="function"?Cx(n):(n instanceof IDBTransaction&&Sx(n),wx(n,bx())?new Proxy(n,Vg):n)}function ca(n){if(n instanceof IDBRequest)return Ex(n);if(lg.has(n))return lg.get(n);const e=xx(n);return e!==n&&(lg.set(n,e),Tm.set(e,n)),e}const cg=n=>Tm.get(n);function Ax(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),m=ca(c);return r&&c.addEventListener("upgradeneeded",u=>{r(ca(c.result),u.oldVersion,u.newVersion,ca(c.transaction),u)}),t&&c.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),m.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const kx=["get","getKey","getAll","getAllKeys","count"],Ix=["put","add","delete","clear"],ug=new Map;function r0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=Ix.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||kx.includes(t)))return;const o=async function(c,...m){const u=this.transaction(c,s?"readwrite":"readonly");let g=u.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),s&&u.done]))[0]};return ug.set(e,o),o}Tx(n=>({...n,get:(e,t,r)=>r0(e,t)||n.get(e,t,r),has:(e,t)=>!!r0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Mx(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Mx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bg="@firebase/app",i0="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Sm("@firebase/app"),Lx="@firebase/app-compat",$x="@firebase/analytics-compat",Px="@firebase/analytics",Ox="@firebase/app-check-compat",Dx="@firebase/app-check",Nx="@firebase/auth",Fx="@firebase/auth-compat",Vx="@firebase/database",Bx="@firebase/data-connect",zx="@firebase/database-compat",jx="@firebase/functions",Ux="@firebase/functions-compat",Hx="@firebase/installations",Wx="@firebase/installations-compat",Gx="@firebase/messaging",Kx="@firebase/messaging-compat",qx="@firebase/performance",Qx="@firebase/performance-compat",Yx="@firebase/remote-config",Xx="@firebase/remote-config-compat",Zx="@firebase/storage",Jx="@firebase/storage-compat",eA="@firebase/firestore",tA="@firebase/vertexai",nA="@firebase/firestore-compat",rA="firebase",iA="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="[DEFAULT]",oA={[Bg]:"fire-core",[Lx]:"fire-core-compat",[Px]:"fire-analytics",[$x]:"fire-analytics-compat",[Dx]:"fire-app-check",[Ox]:"fire-app-check-compat",[Nx]:"fire-auth",[Fx]:"fire-auth-compat",[Vx]:"fire-rtdb",[Bx]:"fire-data-connect",[zx]:"fire-rtdb-compat",[jx]:"fire-fn",[Ux]:"fire-fn-compat",[Hx]:"fire-iid",[Wx]:"fire-iid-compat",[Gx]:"fire-fcm",[Kx]:"fire-fcm-compat",[qx]:"fire-perf",[Qx]:"fire-perf-compat",[Yx]:"fire-rc",[Xx]:"fire-rc-compat",[Zx]:"fire-gcs",[Jx]:"fire-gcs-compat",[eA]:"fire-fst",[nA]:"fire-fst-compat",[tA]:"fire-vertex","fire-js":"fire-js",[rA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,sA=new Map,jg=new Map;function o0(n,e){try{n.container.addComponent(e)}catch(t){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ec(n){const e=n.name;if(jg.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,n);for(const t of _d.values())o0(t,n);for(const t of sA.values())o0(t,n);return!0}function Cm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zo(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new Mu("app","Firebase",aA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=iA;function C_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ua.create("bad-app-name",{appName:String(s)});if(t||(t=__()),!t)throw ua.create("no-options");const o=_d.get(s);if(o){if(bd(t,o.options)&&bd(r,o.config))return o;throw ua.create("duplicate-app",{appName:s})}const c=new px(s);for(const u of jg.values())c.addComponent(u);const m=new lA(t,r,c);return _d.set(s,m),m}function x_(n=zg){const e=_d.get(n);if(!e&&n===zg&&__())return C_();if(!e)throw ua.create("no-app",{appName:n});return e}function ha(n,e,t){var r;let s=(r=oA[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const m=[`Unable to register library "${s}" with version "${e}":`];o&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(m.join(" "));return}ec(new Za(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firebase-heartbeat-database",uA=1,vu="firebase-heartbeat-store";let hg=null;function A_(){return hg||(hg=Ax(cA,uA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ua.create("idb-open",{originalErrorMessage:n.message})})),hg}async function hA(n){try{const t=(await A_()).transaction(vu),r=await t.objectStore(vu).get(k_(n));return await t.done,r}catch(e){if(e instanceof Ts)ws.warn(e.message);else{const t=ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ws.warn(t.message)}}}async function s0(n,e){try{const r=(await A_()).transaction(vu,"readwrite");await r.objectStore(vu).put(e,k_(n)),await r.done}catch(t){if(t instanceof Ts)ws.warn(t.message);else{const r=ua.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ws.warn(r.message)}}}function k_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=1024,fA=30*24*60*60*1e3;class pA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=a0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const m=new Date(c.date).valueOf();return Date.now()-m<=fA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ws.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=a0(),{heartbeatsToSend:r,unsentEntries:s}=gA(this._heartbeatsCache.heartbeats),o=wd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ws.warn(t),""}}}function a0(){return new Date().toISOString().substring(0,10)}function gA(n,e=dA){const t=[];let r=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),l0(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),l0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class mA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nx()?rx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return s0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return s0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function l0(n){return wd(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){ec(new Za("platform-logger",e=>new Rx(e),"PRIVATE")),ec(new Za("heartbeat",e=>new pA(e),"PRIVATE")),ha(Bg,i0,n),ha(Bg,i0,"esm2017"),ha("fire-js","")}vA("");var yA="firebase",wA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ha(yA,wA,"app");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qa,I_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,I){function M(){}M.prototype=I.prototype,_.D=I.prototype,_.prototype=new M,_.prototype.constructor=_,_.C=function($,B,T){for(var b=Array(arguments.length-2),P=2;P<arguments.length;P++)b[P-2]=arguments[P];return I.prototype[B].apply($,b)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,I,M){M||(M=0);var $=Array(16);if(typeof I=="string")for(var B=0;16>B;++B)$[B]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(B=0;16>B;++B)$[B]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=_.g[0],M=_.g[1],B=_.g[2];var T=_.g[3],b=I+(T^M&(B^T))+$[0]+3614090360&4294967295;I=M+(b<<7&4294967295|b>>>25),b=T+(B^I&(M^B))+$[1]+3905402710&4294967295,T=I+(b<<12&4294967295|b>>>20),b=B+(M^T&(I^M))+$[2]+606105819&4294967295,B=T+(b<<17&4294967295|b>>>15),b=M+(I^B&(T^I))+$[3]+3250441966&4294967295,M=B+(b<<22&4294967295|b>>>10),b=I+(T^M&(B^T))+$[4]+4118548399&4294967295,I=M+(b<<7&4294967295|b>>>25),b=T+(B^I&(M^B))+$[5]+1200080426&4294967295,T=I+(b<<12&4294967295|b>>>20),b=B+(M^T&(I^M))+$[6]+2821735955&4294967295,B=T+(b<<17&4294967295|b>>>15),b=M+(I^B&(T^I))+$[7]+4249261313&4294967295,M=B+(b<<22&4294967295|b>>>10),b=I+(T^M&(B^T))+$[8]+1770035416&4294967295,I=M+(b<<7&4294967295|b>>>25),b=T+(B^I&(M^B))+$[9]+2336552879&4294967295,T=I+(b<<12&4294967295|b>>>20),b=B+(M^T&(I^M))+$[10]+4294925233&4294967295,B=T+(b<<17&4294967295|b>>>15),b=M+(I^B&(T^I))+$[11]+2304563134&4294967295,M=B+(b<<22&4294967295|b>>>10),b=I+(T^M&(B^T))+$[12]+1804603682&4294967295,I=M+(b<<7&4294967295|b>>>25),b=T+(B^I&(M^B))+$[13]+4254626195&4294967295,T=I+(b<<12&4294967295|b>>>20),b=B+(M^T&(I^M))+$[14]+2792965006&4294967295,B=T+(b<<17&4294967295|b>>>15),b=M+(I^B&(T^I))+$[15]+1236535329&4294967295,M=B+(b<<22&4294967295|b>>>10),b=I+(B^T&(M^B))+$[1]+4129170786&4294967295,I=M+(b<<5&4294967295|b>>>27),b=T+(M^B&(I^M))+$[6]+3225465664&4294967295,T=I+(b<<9&4294967295|b>>>23),b=B+(I^M&(T^I))+$[11]+643717713&4294967295,B=T+(b<<14&4294967295|b>>>18),b=M+(T^I&(B^T))+$[0]+3921069994&4294967295,M=B+(b<<20&4294967295|b>>>12),b=I+(B^T&(M^B))+$[5]+3593408605&4294967295,I=M+(b<<5&4294967295|b>>>27),b=T+(M^B&(I^M))+$[10]+38016083&4294967295,T=I+(b<<9&4294967295|b>>>23),b=B+(I^M&(T^I))+$[15]+3634488961&4294967295,B=T+(b<<14&4294967295|b>>>18),b=M+(T^I&(B^T))+$[4]+3889429448&4294967295,M=B+(b<<20&4294967295|b>>>12),b=I+(B^T&(M^B))+$[9]+568446438&4294967295,I=M+(b<<5&4294967295|b>>>27),b=T+(M^B&(I^M))+$[14]+3275163606&4294967295,T=I+(b<<9&4294967295|b>>>23),b=B+(I^M&(T^I))+$[3]+4107603335&4294967295,B=T+(b<<14&4294967295|b>>>18),b=M+(T^I&(B^T))+$[8]+1163531501&4294967295,M=B+(b<<20&4294967295|b>>>12),b=I+(B^T&(M^B))+$[13]+2850285829&4294967295,I=M+(b<<5&4294967295|b>>>27),b=T+(M^B&(I^M))+$[2]+4243563512&4294967295,T=I+(b<<9&4294967295|b>>>23),b=B+(I^M&(T^I))+$[7]+1735328473&4294967295,B=T+(b<<14&4294967295|b>>>18),b=M+(T^I&(B^T))+$[12]+2368359562&4294967295,M=B+(b<<20&4294967295|b>>>12),b=I+(M^B^T)+$[5]+4294588738&4294967295,I=M+(b<<4&4294967295|b>>>28),b=T+(I^M^B)+$[8]+2272392833&4294967295,T=I+(b<<11&4294967295|b>>>21),b=B+(T^I^M)+$[11]+1839030562&4294967295,B=T+(b<<16&4294967295|b>>>16),b=M+(B^T^I)+$[14]+4259657740&4294967295,M=B+(b<<23&4294967295|b>>>9),b=I+(M^B^T)+$[1]+2763975236&4294967295,I=M+(b<<4&4294967295|b>>>28),b=T+(I^M^B)+$[4]+1272893353&4294967295,T=I+(b<<11&4294967295|b>>>21),b=B+(T^I^M)+$[7]+4139469664&4294967295,B=T+(b<<16&4294967295|b>>>16),b=M+(B^T^I)+$[10]+3200236656&4294967295,M=B+(b<<23&4294967295|b>>>9),b=I+(M^B^T)+$[13]+681279174&4294967295,I=M+(b<<4&4294967295|b>>>28),b=T+(I^M^B)+$[0]+3936430074&4294967295,T=I+(b<<11&4294967295|b>>>21),b=B+(T^I^M)+$[3]+3572445317&4294967295,B=T+(b<<16&4294967295|b>>>16),b=M+(B^T^I)+$[6]+76029189&4294967295,M=B+(b<<23&4294967295|b>>>9),b=I+(M^B^T)+$[9]+3654602809&4294967295,I=M+(b<<4&4294967295|b>>>28),b=T+(I^M^B)+$[12]+3873151461&4294967295,T=I+(b<<11&4294967295|b>>>21),b=B+(T^I^M)+$[15]+530742520&4294967295,B=T+(b<<16&4294967295|b>>>16),b=M+(B^T^I)+$[2]+3299628645&4294967295,M=B+(b<<23&4294967295|b>>>9),b=I+(B^(M|~T))+$[0]+4096336452&4294967295,I=M+(b<<6&4294967295|b>>>26),b=T+(M^(I|~B))+$[7]+1126891415&4294967295,T=I+(b<<10&4294967295|b>>>22),b=B+(I^(T|~M))+$[14]+2878612391&4294967295,B=T+(b<<15&4294967295|b>>>17),b=M+(T^(B|~I))+$[5]+4237533241&4294967295,M=B+(b<<21&4294967295|b>>>11),b=I+(B^(M|~T))+$[12]+1700485571&4294967295,I=M+(b<<6&4294967295|b>>>26),b=T+(M^(I|~B))+$[3]+2399980690&4294967295,T=I+(b<<10&4294967295|b>>>22),b=B+(I^(T|~M))+$[10]+4293915773&4294967295,B=T+(b<<15&4294967295|b>>>17),b=M+(T^(B|~I))+$[1]+2240044497&4294967295,M=B+(b<<21&4294967295|b>>>11),b=I+(B^(M|~T))+$[8]+1873313359&4294967295,I=M+(b<<6&4294967295|b>>>26),b=T+(M^(I|~B))+$[15]+4264355552&4294967295,T=I+(b<<10&4294967295|b>>>22),b=B+(I^(T|~M))+$[6]+2734768916&4294967295,B=T+(b<<15&4294967295|b>>>17),b=M+(T^(B|~I))+$[13]+1309151649&4294967295,M=B+(b<<21&4294967295|b>>>11),b=I+(B^(M|~T))+$[4]+4149444226&4294967295,I=M+(b<<6&4294967295|b>>>26),b=T+(M^(I|~B))+$[11]+3174756917&4294967295,T=I+(b<<10&4294967295|b>>>22),b=B+(I^(T|~M))+$[2]+718787259&4294967295,B=T+(b<<15&4294967295|b>>>17),b=M+(T^(B|~I))+$[9]+3951481745&4294967295,_.g[0]=_.g[0]+I&4294967295,_.g[1]=_.g[1]+(B+(b<<21&4294967295|b>>>11))&4294967295,_.g[2]=_.g[2]+B&4294967295,_.g[3]=_.g[3]+T&4294967295}r.prototype.u=function(_,I){I===void 0&&(I=_.length);for(var M=I-this.blockSize,$=this.B,B=this.h,T=0;T<I;){if(B==0)for(;T<=M;)s(this,_,T),T+=this.blockSize;if(typeof _=="string"){for(;T<I;)if($[B++]=_.charCodeAt(T++),B==this.blockSize){s(this,$),B=0;break}}else for(;T<I;)if($[B++]=_[T++],B==this.blockSize){s(this,$),B=0;break}}this.h=B,this.o+=I},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var I=1;I<_.length-8;++I)_[I]=0;var M=8*this.o;for(I=_.length-8;I<_.length;++I)_[I]=M&255,M/=256;for(this.u(_),_=Array(16),I=M=0;4>I;++I)for(var $=0;32>$;$+=8)_[M++]=this.g[I]>>>$&255;return _};function o(_,I){var M=m;return Object.prototype.hasOwnProperty.call(M,_)?M[_]:M[_]=I(_)}function c(_,I){this.h=I;for(var M=[],$=!0,B=_.length-1;0<=B;B--){var T=_[B]|0;$&&T==I||(M[B]=T,$=!1)}this.g=M}var m={};function u(_){return-128<=_&&128>_?o(_,function(I){return new c([I|0],0>I?-1:0)}):new c([_|0],0>_?-1:0)}function g(_){if(isNaN(_)||!isFinite(_))return h;if(0>_)return y(g(-_));for(var I=[],M=1,$=0;_>=M;$++)I[$]=_/M|0,M*=4294967296;return new c(I,0)}function l(_,I){if(_.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_.charAt(0)=="-")return y(l(_.substring(1),I));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=g(Math.pow(I,8)),$=h,B=0;B<_.length;B+=8){var T=Math.min(8,_.length-B),b=parseInt(_.substring(B,B+T),I);8>T?(T=g(Math.pow(I,T)),$=$.j(T).add(g(b))):($=$.j(M),$=$.add(g(b)))}return $}var h=u(0),d=u(1),f=u(16777216);n=c.prototype,n.m=function(){if(v(this))return-y(this).m();for(var _=0,I=1,M=0;M<this.g.length;M++){var $=this.i(M);_+=(0<=$?$:4294967296+$)*I,I*=4294967296}return _},n.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(p(this))return"0";if(v(this))return"-"+y(this).toString(_);for(var I=g(Math.pow(_,6)),M=this,$="";;){var B=O(M,I).g;M=C(M,B.j(I));var T=((0<M.g.length?M.g[0]:M.h)>>>0).toString(_);if(M=B,p(M))return T+$;for(;6>T.length;)T="0"+T;$=T+$}},n.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function p(_){if(_.h!=0)return!1;for(var I=0;I<_.g.length;I++)if(_.g[I]!=0)return!1;return!0}function v(_){return _.h==-1}n.l=function(_){return _=C(this,_),v(_)?-1:p(_)?0:1};function y(_){for(var I=_.g.length,M=[],$=0;$<I;$++)M[$]=~_.g[$];return new c(M,~_.h).add(d)}n.abs=function(){return v(this)?y(this):this},n.add=function(_){for(var I=Math.max(this.g.length,_.g.length),M=[],$=0,B=0;B<=I;B++){var T=$+(this.i(B)&65535)+(_.i(B)&65535),b=(T>>>16)+(this.i(B)>>>16)+(_.i(B)>>>16);$=b>>>16,T&=65535,b&=65535,M[B]=b<<16|T}return new c(M,M[M.length-1]&-2147483648?-1:0)};function C(_,I){return _.add(y(I))}n.j=function(_){if(p(this)||p(_))return h;if(v(this))return v(_)?y(this).j(y(_)):y(y(this).j(_));if(v(_))return y(this.j(y(_)));if(0>this.l(f)&&0>_.l(f))return g(this.m()*_.m());for(var I=this.g.length+_.g.length,M=[],$=0;$<2*I;$++)M[$]=0;for($=0;$<this.g.length;$++)for(var B=0;B<_.g.length;B++){var T=this.i($)>>>16,b=this.i($)&65535,P=_.i(B)>>>16,N=_.i(B)&65535;M[2*$+2*B]+=b*N,k(M,2*$+2*B),M[2*$+2*B+1]+=T*N,k(M,2*$+2*B+1),M[2*$+2*B+1]+=b*P,k(M,2*$+2*B+1),M[2*$+2*B+2]+=T*P,k(M,2*$+2*B+2)}for($=0;$<I;$++)M[$]=M[2*$+1]<<16|M[2*$];for($=I;$<2*I;$++)M[$]=0;return new c(M,0)};function k(_,I){for(;(_[I]&65535)!=_[I];)_[I+1]+=_[I]>>>16,_[I]&=65535,I++}function F(_,I){this.g=_,this.h=I}function O(_,I){if(p(I))throw Error("division by zero");if(p(_))return new F(h,h);if(v(_))return I=O(y(_),I),new F(y(I.g),y(I.h));if(v(I))return I=O(_,y(I)),new F(y(I.g),I.h);if(30<_.g.length){if(v(_)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var M=d,$=I;0>=$.l(_);)M=L(M),$=L($);var B=E(M,1),T=E($,1);for($=E($,2),M=E(M,2);!p($);){var b=T.add($);0>=b.l(_)&&(B=B.add(M),T=b),$=E($,1),M=E(M,1)}return I=C(_,B.j(I)),new F(B,I)}for(B=h;0<=_.l(I);){for(M=Math.max(1,Math.floor(_.m()/I.m())),$=Math.ceil(Math.log(M)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),T=g(M),b=T.j(I);v(b)||0<b.l(_);)M-=$,T=g(M),b=T.j(I);p(T)&&(T=d),B=B.add(T),_=C(_,b)}return new F(B,_)}n.A=function(_){return O(this,_).h},n.and=function(_){for(var I=Math.max(this.g.length,_.g.length),M=[],$=0;$<I;$++)M[$]=this.i($)&_.i($);return new c(M,this.h&_.h)},n.or=function(_){for(var I=Math.max(this.g.length,_.g.length),M=[],$=0;$<I;$++)M[$]=this.i($)|_.i($);return new c(M,this.h|_.h)},n.xor=function(_){for(var I=Math.max(this.g.length,_.g.length),M=[],$=0;$<I;$++)M[$]=this.i($)^_.i($);return new c(M,this.h^_.h)};function L(_){for(var I=_.g.length+1,M=[],$=0;$<I;$++)M[$]=_.i($)<<1|_.i($-1)>>>31;return new c(M,_.h)}function E(_,I){var M=I>>5;I%=32;for(var $=_.g.length-M,B=[],T=0;T<$;T++)B[T]=0<I?_.i(T+M)>>>I|_.i(T+M+1)<<32-I:_.i(T+M);return new c(B,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,I_=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=l,qa=c}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R_,nu,M_,ad,Ug,L_,$_,P_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,H,Y){return S==Array.prototype||S==Object.prototype||(S[H]=Y.value),S};function t(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var H=0;H<S.length;++H){var Y=S[H];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=t(this);function s(S,H){if(H)e:{var Y=r;S=S.split(".");for(var ie=0;ie<S.length-1;ie++){var Se=S[ie];if(!(Se in Y))break e;Y=Y[Se]}S=S[S.length-1],ie=Y[S],H=H(ie),H!=ie&&H!=null&&e(Y,S,{configurable:!0,writable:!0,value:H})}}function o(S,H){S instanceof String&&(S+="");var Y=0,ie=!1,Se={next:function(){if(!ie&&Y<S.length){var Ie=Y++;return{value:H(Ie,S[Ie]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}s("Array.prototype.values",function(S){return S||function(){return o(this,function(H,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function u(S){var H=typeof S;return H=H!="object"?H:S?Array.isArray(S)?"array":H:"null",H=="array"||H=="object"&&typeof S.length=="number"}function g(S){var H=typeof S;return H=="object"&&S!=null||H=="function"}function l(S,H,Y){return S.call.apply(S.bind,arguments)}function h(S,H,Y){if(!S)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,ie),S.apply(H,Se)}}return function(){return S.apply(H,arguments)}}function d(S,H,Y){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?l:h,d.apply(null,arguments)}function f(S,H){var Y=Array.prototype.slice.call(arguments,1);return function(){var ie=Y.slice();return ie.push.apply(ie,arguments),S.apply(this,ie)}}function p(S,H){function Y(){}Y.prototype=H.prototype,S.aa=H.prototype,S.prototype=new Y,S.prototype.constructor=S,S.Qb=function(ie,Se,Ie){for(var We=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)We[jt-2]=arguments[jt];return H.prototype[Se].apply(ie,We)}}function v(S){const H=S.length;if(0<H){const Y=Array(H);for(let ie=0;ie<H;ie++)Y[ie]=S[ie];return Y}return[]}function y(S,H){for(let Y=1;Y<arguments.length;Y++){const ie=arguments[Y];if(u(ie)){const Se=S.length||0,Ie=ie.length||0;S.length=Se+Ie;for(let We=0;We<Ie;We++)S[Se+We]=ie[We]}else S.push(ie)}}class C{constructor(H,Y){this.i=H,this.j=Y,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}function k(S){return/^[\s\xa0]*$/.test(S)}function F(){var S=m.navigator;return S&&(S=S.userAgent)?S:""}function O(S){return O[" "](S),S}O[" "]=function(){};var L=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function E(S,H,Y){for(const ie in S)H.call(Y,S[ie],ie,S)}function _(S,H){for(const Y in S)H.call(void 0,S[Y],Y,S)}function I(S){const H={};for(const Y in S)H[Y]=S[Y];return H}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(S,H){let Y,ie;for(let Se=1;Se<arguments.length;Se++){ie=arguments[Se];for(Y in ie)S[Y]=ie[Y];for(let Ie=0;Ie<M.length;Ie++)Y=M[Ie],Object.prototype.hasOwnProperty.call(ie,Y)&&(S[Y]=ie[Y])}}function B(S){var H=1;S=S.split(":");const Y=[];for(;0<H&&S.length;)Y.push(S.shift()),H--;return S.length&&Y.push(S.join(":")),Y}function T(S){m.setTimeout(()=>{throw S},0)}function b(){var S=J;let H=null;return S.g&&(H=S.g,S.g=S.g.next,S.g||(S.h=null),H.next=null),H}class P{constructor(){this.h=this.g=null}add(H,Y){const ie=N.get();ie.set(H,Y),this.h?this.h.next=ie:this.g=ie,this.h=ie}}var N=new C(()=>new z,S=>S.reset());class z{constructor(){this.next=this.g=this.h=null}set(H,Y){this.h=H,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let q,K=!1,J=new P,Q=()=>{const S=m.Promise.resolve(void 0);q=()=>{S.then(U)}};var U=()=>{for(var S;S=b();){try{S.h.call(S.g)}catch(Y){T(Y)}var H=N;H.j(S),100>H.h&&(H.h++,S.next=H.g,H.g=S)}K=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(S,H){this.type=S,this.g=this.target=H,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var S=!1,H=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const Y=()=>{};m.addEventListener("test",Y,H),m.removeEventListener("test",Y,H)}catch{}return S}();function ce(S,H){if(Z.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var Y=this.type=S.type,ie=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=H,H=S.relatedTarget){if(L){e:{try{O(H.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(H=null)}}else Y=="mouseover"?H=S.fromElement:Y=="mouseout"&&(H=S.toElement);this.relatedTarget=H,ie?(this.clientX=ie.clientX!==void 0?ie.clientX:ie.pageX,this.clientY=ie.clientY!==void 0?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:oe[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&ce.aa.h.call(this)}}p(ce,Z);var oe={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function me(S,H,Y,ie,Se){this.listener=S,this.proxy=null,this.src=H,this.type=Y,this.capture=!!ie,this.ha=Se,this.key=++Ee,this.da=this.fa=!1}function Ae(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function $e(S){this.src=S,this.g={},this.h=0}$e.prototype.add=function(S,H,Y,ie,Se){var Ie=S.toString();S=this.g[Ie],S||(S=this.g[Ie]=[],this.h++);var We=ut(S,H,ie,Se);return-1<We?(H=S[We],Y||(H.fa=!1)):(H=new me(H,this.src,Ie,!!ie,Se),H.fa=Y,S.push(H)),H};function Qe(S,H){var Y=H.type;if(Y in S.g){var ie=S.g[Y],Se=Array.prototype.indexOf.call(ie,H,void 0),Ie;(Ie=0<=Se)&&Array.prototype.splice.call(ie,Se,1),Ie&&(Ae(H),S.g[Y].length==0&&(delete S.g[Y],S.h--))}}function ut(S,H,Y,ie){for(var Se=0;Se<S.length;++Se){var Ie=S[Se];if(!Ie.da&&Ie.listener==H&&Ie.capture==!!Y&&Ie.ha==ie)return Se}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),Ge={};function yt(S,H,Y,ie,Se){if(Array.isArray(H)){for(var Ie=0;Ie<H.length;Ie++)yt(S,H[Ie],Y,ie,Se);return null}return Y=ur(Y),S&&S[pe]?S.K(H,Y,g(ie)?!!ie.capture:!!ie,Se):Ot(S,H,Y,!1,ie,Se)}function Ot(S,H,Y,ie,Se,Ie){if(!H)throw Error("Invalid event type");var We=g(Se)?!!Se.capture:!!Se,jt=Pn(S);if(jt||(S[qe]=jt=new $e(S)),Y=jt.add(H,Y,ie,We,Ie),Y.proxy)return Y;if(ie=Ht(),Y.proxy=ie,ie.src=S,ie.listener=Y,S.addEventListener)ue||(Se=We),Se===void 0&&(Se=!1),S.addEventListener(H.toString(),ie,Se);else if(S.attachEvent)S.attachEvent(wn(H.toString()),ie);else if(S.addListener&&S.removeListener)S.addListener(ie);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function Ht(){function S(Y){return H.call(S.src,S.listener,Y)}const H=Wn;return S}function pn(S,H,Y,ie,Se){if(Array.isArray(H))for(var Ie=0;Ie<H.length;Ie++)pn(S,H[Ie],Y,ie,Se);else ie=g(ie)?!!ie.capture:!!ie,Y=ur(Y),S&&S[pe]?(S=S.i,H=String(H).toString(),H in S.g&&(Ie=S.g[H],Y=ut(Ie,Y,ie,Se),-1<Y&&(Ae(Ie[Y]),Array.prototype.splice.call(Ie,Y,1),Ie.length==0&&(delete S.g[H],S.h--)))):S&&(S=Pn(S))&&(H=S.g[H.toString()],S=-1,H&&(S=ut(H,Y,ie,Se)),(Y=-1<S?H[S]:null)&&Nt(Y))}function Nt(S){if(typeof S!="number"&&S&&!S.da){var H=S.src;if(H&&H[pe])Qe(H.i,S);else{var Y=S.type,ie=S.proxy;H.removeEventListener?H.removeEventListener(Y,ie,S.capture):H.detachEvent?H.detachEvent(wn(Y),ie):H.addListener&&H.removeListener&&H.removeListener(ie),(Y=Pn(H))?(Qe(Y,S),Y.h==0&&(Y.src=null,H[qe]=null)):Ae(S)}}}function wn(S){return S in Ge?Ge[S]:Ge[S]="on"+S}function Wn(S,H){if(S.da)S=!0;else{H=new ce(H,this);var Y=S.listener,ie=S.ha||S.src;S.fa&&Nt(S),S=Y.call(ie,H)}return S}function Pn(S){return S=S[qe],S instanceof $e?S:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ur(S){return typeof S=="function"?S:(S[bn]||(S[bn]=function(H){return S.handleEvent(H)}),S[bn])}function be(){re.call(this),this.i=new $e(this),this.M=this,this.F=null}p(be,re),be.prototype[pe]=!0,be.prototype.removeEventListener=function(S,H,Y,ie){pn(this,S,H,Y,ie)};function ze(S,H){var Y,ie=S.F;if(ie)for(Y=[];ie;ie=ie.F)Y.push(ie);if(S=S.M,ie=H.type||H,typeof H=="string")H=new Z(H,S);else if(H instanceof Z)H.target=H.target||S;else{var Se=H;H=new Z(ie,S),$(H,Se)}if(Se=!0,Y)for(var Ie=Y.length-1;0<=Ie;Ie--){var We=H.g=Y[Ie];Se=Ke(We,ie,!0,H)&&Se}if(We=H.g=S,Se=Ke(We,ie,!0,H)&&Se,Se=Ke(We,ie,!1,H)&&Se,Y)for(Ie=0;Ie<Y.length;Ie++)We=H.g=Y[Ie],Se=Ke(We,ie,!1,H)&&Se}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var S=this.i,H;for(H in S.g){for(var Y=S.g[H],ie=0;ie<Y.length;ie++)Ae(Y[ie]);delete S.g[H],S.h--}}this.F=null},be.prototype.K=function(S,H,Y,ie){return this.i.add(String(S),H,!1,Y,ie)},be.prototype.L=function(S,H,Y,ie){return this.i.add(String(S),H,!0,Y,ie)};function Ke(S,H,Y,ie){if(H=S.i.g[String(H)],!H)return!0;H=H.concat();for(var Se=!0,Ie=0;Ie<H.length;++Ie){var We=H[Ie];if(We&&!We.da&&We.capture==Y){var jt=We.listener,cn=We.ha||We.src;We.fa&&Qe(S.i,We),Se=jt.call(cn,ie)!==!1&&Se}}return Se&&!ie.defaultPrevented}function ft(S,H,Y){if(typeof S=="function")Y&&(S=d(S,Y));else if(S&&typeof S.handleEvent=="function")S=d(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(H)?-1:m.setTimeout(S,H||0)}function lt(S){S.g=ft(()=>{S.g=null,S.i&&(S.i=!1,lt(S))},S.l);const H=S.h;S.h=null,S.m.apply(null,H)}class kt extends re{constructor(H,Y){super(),this.m=H,this.l=Y,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lt(S){re.call(this),this.h=S,this.g={}}p(Lt,re);var Ft=[];function $t(S){E(S.g,function(H,Y){this.g.hasOwnProperty(Y)&&Nt(H)},S),S.g={}}Lt.prototype.N=function(){Lt.aa.N.call(this),$t(this)},Lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=m.JSON.stringify,ln=m.JSON.parse,Ce=class{stringify(S){return m.JSON.stringify(S,void 0)}parse(S){return m.JSON.parse(S,void 0)}};function De(){}De.prototype.h=null;function Ze(S){return S.h||(S.h=S.i())}function Rt(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function On(){Z.call(this,"d")}p(On,Z);function Lr(){Z.call(this,"c")}p(Lr,Z);var Gn={},Ai=null;function li(){return Ai=Ai||new be}Gn.La="serverreachability";function Vi(S){Z.call(this,Gn.La,S)}p(Vi,Z);function _r(S){const H=li();ze(H,new Vi(H))}Gn.STAT_EVENT="statevent";function so(S,H){Z.call(this,Gn.STAT_EVENT,S),this.stat=H}p(so,Z);function hn(S){const H=li();ze(H,new so(H,S))}Gn.Ma="timingevent";function Eo(S,H){Z.call(this,Gn.Ma,S),this.size=H}p(Eo,Z);function Yr(S,H){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){S()},H)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function Kn(S,H,Y,ie,Se,Ie){S.info(function(){if(S.g)if(Ie)for(var We="",jt=Ie.split("&"),cn=0;cn<jt.length;cn++){var Vt=jt[cn].split("=");if(1<Vt.length){var Dn=Vt[0];Vt=Vt[1];var Nn=Dn.split("_");We=2<=Nn.length&&Nn[1]=="type"?We+(Dn+"="+Vt+"&"):We+(Dn+"=redacted&")}}else We=null;else We=Ie;return"XMLHTTP REQ ("+ie+") [attempt "+Se+"]: "+H+`
`+Y+`
`+We})}function hr(S,H,Y,ie,Se,Ie,We){S.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+Se+"]: "+H+`
`+Y+`
`+Ie+" "+We})}function sn(S,H,Y,ie){S.info(function(){return"XMLHTTP TEXT ("+H+"): "+Ca(S,Y)+(ie?" "+ie:"")})}function Xo(S,H){S.info(function(){return"TIMEOUT: "+H})}Bi.prototype.info=function(){};function Ca(S,H){if(!S.g)return H;if(!H)return null;try{var Y=JSON.parse(H);if(Y){for(S=0;S<Y.length;S++)if(Array.isArray(Y[S])){var ie=Y[S];if(!(2>ie.length)){var Se=ie[1];if(Array.isArray(Se)&&!(1>Se.length)){var Ie=Se[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(var We=1;We<Se.length;We++)Se[We]=""}}}}return _t(Y)}catch{return H}}var ao={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},st;function qn(){}p(qn,De),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},st=new qn;function $r(S,H,Y,ie){this.j=S,this.i=H,this.l=Y,this.R=ie||1,this.U=new Lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xs}function xs(){this.i=null,this.g="",this.h=!1}var Zo={},ci={};function zi(S,H,Y){S.L=1,S.v=di(nr(H)),S.m=Y,S.P=!0,Zr(S,null)}function Zr(S,H){S.F=Date.now(),en(S),S.A=nr(S.v);var Y=S.A,ie=S.R;Array.isArray(ie)||(ie=[String(ie)]),Ri(Y.i,"t",ie),S.C=0,Y=S.j.J,S.h=new xs,S.g=fl(S.j,Y?H:null,!S.m),0<S.O&&(S.M=new kt(d(S.Y,S,S.g),S.O)),H=S.U,Y=S.g,ie=S.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(Ft[0]=Se.toString()),Se=Ft);for(var Ie=0;Ie<Se.length;Ie++){var We=yt(Y,Se[Ie],ie||H.handleEvent,!1,H.h||H);if(!We)break;H.g[We.key]=We}H=S.H?I(S.H):{},S.m?(S.u||(S.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,H)):(S.u="GET",S.g.ea(S.A,S.u,null,H)),_r(),Kn(S.i,S.u,S.A,S.l,S.R,S.m)}$r.prototype.ca=function(S){S=S.target;const H=this.M;H&&rn(S)==3?H.j():this.Y(S)},$r.prototype.Y=function(S){try{if(S==this.g)e:{const Nn=rn(this.g);var H=this.g.Ba();const pi=this.g.Z();if(!(3>Nn)&&(Nn!=3||this.g&&(this.h.h||this.g.oa()||or(this.g)))){this.J||Nn!=4||H==7||(H==8||0>=pi?_r(3):_r(2)),ji(this);var Y=this.g.Z();this.X=Y;t:if(As(this)){var ie=or(this.g);S="";var Se=ie.length,Ie=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),Pr(this);var We="";break t}this.h.i=new m.TextDecoder}for(H=0;H<Se;H++)this.h.h=!0,S+=this.h.i.decode(ie[H],{stream:!(Ie&&H==Se-1)});ie.length=0,this.h.g+=S,this.C=0,We=this.h.g}else We=this.g.oa();if(this.o=Y==200,hr(this.i,this.u,this.A,this.l,this.R,Nn,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,cn=this.g;if((jt=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(jt)){var Vt=jt;break t}}Vt=null}if(Y=Vt)sn(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,So(this,Y);else{this.o=!1,this.s=3,hn(12),er(this),Pr(this);break e}}if(this.P){Y=!0;let ni;for(;!this.J&&this.C<We.length;)if(ni=xa(this,We),ni==ci){Nn==4&&(this.s=4,hn(14),Y=!1),sn(this.i,this.l,null,"[Incomplete Response]");break}else if(ni==Zo){this.s=4,hn(15),sn(this.i,this.l,We,"[Invalid Chunk]"),Y=!1;break}else sn(this.i,this.l,ni,null),So(this,ni);if(As(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||We.length!=0||this.h.h||(this.s=1,hn(16),Y=!1),this.o=this.o&&Y,!Y)sn(this.i,this.l,We,"[Invalid Chunked Response]"),er(this),Pr(this);else if(0<We.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+We.length),Lo(Dn),Dn.M=!0,hn(11))}}else sn(this.i,this.l,We,null),So(this,We);Nn==4&&er(this),this.o&&!this.J&&(Nn==4?Ps(this.j,this):(this.o=!1,en(this)))}else _n(this.g),Y==400&&0<We.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),er(this),Pr(this)}}}catch{}finally{}};function As(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function xa(S,H){var Y=S.C,ie=H.indexOf(`
`,Y);return ie==-1?ci:(Y=Number(H.substring(Y,ie)),isNaN(Y)?Zo:(ie+=1,ie+Y>H.length?ci:(H=H.slice(ie,ie+Y),S.C=ie+Y,H)))}$r.prototype.cancel=function(){this.J=!0,er(this)};function en(S){S.S=Date.now()+S.I,ks(S,S.I)}function ks(S,H){if(S.B!=null)throw Error("WatchDog timer not null");S.B=Yr(d(S.ba,S),H)}function ji(S){S.B&&(m.clearTimeout(S.B),S.B=null)}$r.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(Xo(this.i,this.A),this.L!=2&&(_r(),hn(17)),er(this),this.s=2,Pr(this)):ks(this,this.S-S)};function Pr(S){S.j.G==0||S.J||Ps(S.j,S)}function er(S){ji(S);var H=S.M;H&&typeof H.ma=="function"&&H.ma(),S.M=null,$t(S.U),S.g&&(H=S.g,S.g=null,H.abort(),H.ma())}function So(S,H){try{var Y=S.j;if(Y.G!=0&&(Y.g==S||tr(Y.h,S))){if(!S.K&&tr(Y.h,S)&&Y.G==3){try{var ie=Y.Da.g.parse(H)}catch{ie=null}if(Array.isArray(ie)&&ie.length==3){var Se=ie;if(Se[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<S.F)ho(Y),In(Y);else break e;ns(Y),hn(18)}}else Y.za=Se[1],0<Y.za-Y.T&&37500>Se[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=Yr(d(Y.Za,Y),6e3));if(1>=To(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else Ki(Y,11)}else if((S.K||Y.g==S)&&ho(Y),!k(H))for(Se=Y.Da.g.parse(H),H=0;H<Se.length;H++){let Vt=Se[H];if(Y.T=Vt[0],Vt=Vt[1],Y.G==2)if(Vt[0]=="c"){Y.K=Vt[1],Y.ia=Vt[2];const Dn=Vt[3];Dn!=null&&(Y.la=Dn,Y.j.info("VER="+Y.la));const Nn=Vt[4];Nn!=null&&(Y.Aa=Nn,Y.j.info("SVER="+Y.Aa));const pi=Vt[5];pi!=null&&typeof pi=="number"&&0<pi&&(ie=1.5*pi,Y.L=ie,Y.j.info("backChannelRequestTimeoutMs_="+ie)),ie=Y;const ni=S.g;if(ni){const rs=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rs){var Ie=ie.h;Ie.g||rs.indexOf("spdy")==-1&&rs.indexOf("quic")==-1&&rs.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(lo(Ie,Ie.h),Ie.h=null))}if(ie.D){const Ds=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ds&&(ie.ya=Ds,tn(ie.I,ie.D,Ds))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-S.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ie=Y;var We=S;if(ie.qa=$o(ie,ie.J?ie.ia:null,ie.W),We.K){Is(ie.h,We);var jt=We,cn=ie.L;cn&&(jt.I=cn),jt.B&&(ji(jt),en(jt)),ie.g=We}else ts(ie);0<Y.i.length&&ti(Y)}else Vt[0]!="stop"&&Vt[0]!="close"||Ki(Y,7);else Y.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?Ki(Y,7):Mt(Y):Vt[0]!="noop"&&Y.l&&Y.l.ta(Vt),Y.v=0)}}_r(4)}catch{}}var Er=class{constructor(S,H){this.g=S,this.map=H}};function Ui(S){this.l=S||10,m.PerformanceNavigationTiming?(S=m.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sr(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function To(S){return S.h?1:S.g?S.g.size:0}function tr(S,H){return S.h?S.h==H:S.g?S.g.has(H):!1}function lo(S,H){S.g?S.g.add(H):S.h=H}function Is(S,H){S.h&&S.h==H?S.h=null:S.g&&S.g.has(H)&&S.g.delete(H)}Ui.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function co(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let H=S.i;for(const Y of S.g.values())H=H.concat(Y.D);return H}return v(S.i)}function Co(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(u(S)){for(var H=[],Y=S.length,ie=0;ie<Y;ie++)H.push(S[ie]);return H}H=[],Y=0;for(ie in S)H[Y++]=S[ie];return H}function ui(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(u(S)||typeof S=="string"){var H=[];S=S.length;for(var Y=0;Y<S;Y++)H.push(Y);return H}H=[],Y=0;for(const ie in S)H[Y++]=ie;return H}}}function ki(S,H){if(S.forEach&&typeof S.forEach=="function")S.forEach(H,void 0);else if(u(S)||typeof S=="string")Array.prototype.forEach.call(S,H,void 0);else for(var Y=ui(S),ie=Co(S),Se=ie.length,Ie=0;Ie<Se;Ie++)H.call(void 0,ie[Ie],Y&&Y[Ie],S)}var Ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xo(S,H){if(S){S=S.split("&");for(var Y=0;Y<S.length;Y++){var ie=S[Y].indexOf("="),Se=null;if(0<=ie){var Ie=S[Y].substring(0,ie);Se=S[Y].substring(ie+1)}else Ie=S[Y];H(Ie,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function dr(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof dr){this.h=S.h,hi(this,S.j),this.o=S.o,this.g=S.g,Qn(this,S.s),this.l=S.l;var H=S.i,Y=new Jr;Y.i=H.i,H.g&&(Y.g=new Map(H.g),Y.h=H.h),Or(this,Y),this.m=S.m}else S&&(H=String(S).match(Ii))?(this.h=!1,hi(this,H[1]||"",!0),this.o=It(H[2]||""),this.g=It(H[3]||"",!0),Qn(this,H[4]),this.l=It(H[5]||"",!0),Or(this,H[6]||"",!0),this.m=It(H[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}dr.prototype.toString=function(){var S=[],H=this.j;H&&S.push(rr(H,Ao,!0),":");var Y=this.g;return(Y||H=="file")&&(S.push("//"),(H=this.o)&&S.push(rr(H,Ao,!0),"@"),S.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&S.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&S.push("/"),S.push(rr(Y,Y.charAt(0)=="/"?Ms:Dr,!0))),(Y=this.i.toString())&&S.push("?",Y),(Y=this.m)&&S.push("#",rr(Y,ko)),S.join("")};function nr(S){return new dr(S)}function hi(S,H,Y){S.j=Y?It(H,!0):H,S.j&&(S.j=S.j.replace(/:$/,""))}function Qn(S,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);S.s=H}else S.s=null}function Or(S,H,Y){H instanceof Jr?(S.i=H,Tr(S.i,S.h)):(Y||(H=rr(H,Ls)),S.i=new Jr(H,S.h))}function tn(S,H,Y){S.i.set(H,Y)}function di(S){return tn(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function It(S,H){return S?H?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function rr(S,H,Y){return typeof S=="string"?(S=encodeURI(S).replace(H,Rs),Y&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function Rs(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Ao=/[#\/\?@]/g,Dr=/[#\?:]/g,Ms=/[#\?]/g,Ls=/[#\?@]/g,ko=/#/g;function Jr(S,H){this.h=this.g=null,this.i=S||null,this.j=!!H}function Vn(S){S.g||(S.g=new Map,S.h=0,S.i&&xo(S.i,function(H,Y){S.add(decodeURIComponent(H.replace(/\+/g," ")),Y)}))}n=Jr.prototype,n.add=function(S,H){Vn(this),this.i=null,S=ir(this,S);var Y=this.g.get(S);return Y||this.g.set(S,Y=[]),Y.push(H),this.h+=1,this};function kn(S,H){Vn(S),H=ir(S,H),S.g.has(H)&&(S.i=null,S.h-=S.g.get(H).length,S.g.delete(H))}function Nr(S,H){return Vn(S),H=ir(S,H),S.g.has(H)}n.forEach=function(S,H){Vn(this),this.g.forEach(function(Y,ie){Y.forEach(function(Se){S.call(H,Se,ie,this)},this)},this)},n.na=function(){Vn(this);const S=Array.from(this.g.values()),H=Array.from(this.g.keys()),Y=[];for(let ie=0;ie<H.length;ie++){const Se=S[ie];for(let Ie=0;Ie<Se.length;Ie++)Y.push(H[ie])}return Y},n.V=function(S){Vn(this);let H=[];if(typeof S=="string")Nr(this,S)&&(H=H.concat(this.g.get(ir(this,S))));else{S=Array.from(this.g.values());for(let Y=0;Y<S.length;Y++)H=H.concat(S[Y])}return H},n.set=function(S,H){return Vn(this),this.i=null,S=ir(this,S),Nr(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[H]),this.h+=1,this},n.get=function(S,H){return S?(S=this.V(S),0<S.length?String(S[0]):H):H};function Ri(S,H,Y){kn(S,H),0<Y.length&&(S.i=null,S.g.set(ir(S,H),v(Y)),S.h+=Y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],H=Array.from(this.g.keys());for(var Y=0;Y<H.length;Y++){var ie=H[Y];const Ie=encodeURIComponent(String(ie)),We=this.V(ie);for(ie=0;ie<We.length;ie++){var Se=Ie;We[ie]!==""&&(Se+="="+encodeURIComponent(String(We[ie]))),S.push(Se)}}return this.i=S.join("&")};function ir(S,H){return H=String(H),S.j&&(H=H.toLowerCase()),H}function Tr(S,H){H&&!S.j&&(Vn(S),S.i=null,S.g.forEach(function(Y,ie){var Se=ie.toLowerCase();ie!=Se&&(kn(this,ie),Ri(this,Se,Y))},S)),S.j=H}function Jo(S,H){const Y=new Bi;if(m.Image){const ie=new Image;ie.onload=f(Yn,Y,"TestLoadImage: loaded",!0,H,ie),ie.onerror=f(Yn,Y,"TestLoadImage: error",!1,H,ie),ie.onabort=f(Yn,Y,"TestLoadImage: abort",!1,H,ie),ie.ontimeout=f(Yn,Y,"TestLoadImage: timeout",!1,H,ie),m.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=S}else H(!1)}function es(S,H){const Y=new Bi,ie=new AbortController,Se=setTimeout(()=>{ie.abort(),Yn(Y,"TestPingServer: timeout",!1,H)},1e4);fetch(S,{signal:ie.signal}).then(Ie=>{clearTimeout(Se),Ie.ok?Yn(Y,"TestPingServer: ok",!0,H):Yn(Y,"TestPingServer: server error",!1,H)}).catch(()=>{clearTimeout(Se),Yn(Y,"TestPingServer: error",!1,H)})}function Yn(S,H,Y,ie,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),ie(Y)}catch{}}function $s(){this.g=new Ce}function Io(S,H,Y){const ie=Y||"";try{ki(S,function(Se,Ie){let We=Se;g(Se)&&(We=_t(Se)),H.push(ie+Ie+"="+encodeURIComponent(We))})}catch(Se){throw H.push(ie+"type="+encodeURIComponent("_badmap")),Se}}function fr(S){this.l=S.Ub||null,this.j=S.eb||!1}p(fr,De),fr.prototype.g=function(){return new Hi(this.l,this.j)},fr.prototype.i=function(S){return function(){return S}}({});function Hi(S,H){be.call(this),this.D=S,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Hi,be),n=Hi.prototype,n.open=function(S,H){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=H,this.readyState=1,ei(this)},n.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(H.body=S),(this.D||m).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},n.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wi(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wi(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}n.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var H=S.value?S.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!S.done}))&&(this.response=this.responseText+=H)}S.done?pr(this):ei(this),this.readyState==3&&Wi(this)}},n.Ra=function(S){this.g&&(this.response=this.responseText=S,pr(this))},n.Qa=function(S){this.g&&(this.response=S,pr(this))},n.ga=function(){this.g&&pr(this)};function pr(S){S.readyState=4,S.l=null,S.j=null,S.v=null,ei(S)}n.setRequestHeader=function(S,H){this.u.append(S,H)},n.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],H=this.h.entries();for(var Y=H.next();!Y.done;)Y=Y.value,S.push(Y[0]+": "+Y[1]),Y=H.next();return S.join(`\r
`)};function ei(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function ae(S){let H="";return E(S,function(Y,ie){H+=ie,H+=":",H+=Y,H+=`\r
`}),H}function we(S,H,Y){e:{for(ie in Y){var ie=!1;break e}ie=!0}ie||(Y=ae(Y),typeof S=="string"?Y!=null&&encodeURIComponent(String(Y)):tn(S,H,Y))}function Le(S){be.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Le,be);var Ye=/^https?$/i,Wt=["POST","PUT"];n=Le.prototype,n.Ha=function(S){this.J=S},n.ea=function(S,H,Y,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);H=H?H.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():st.g(),this.v=this.o?Ze(this.o):Ze(st),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(H,String(S),!0),this.B=!1}catch(Ie){pt(this,Ie);return}if(S=Y||"",Y=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var Se in ie)Y.set(Se,ie[Se]);else if(typeof ie.keys=="function"&&typeof ie.get=="function")for(const Ie of ie.keys())Y.set(Ie,ie.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(ie));ie=Array.from(Y.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),Se=m.FormData&&S instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Wt,H,void 0))||ie||Se||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,We]of Y)this.g.setRequestHeader(Ie,We);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pt(this),this.u=!0,this.g.send(S),this.u=!1}catch(Ie){pt(this,Ie)}};function pt(S,H){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=H,S.m=5,qt(S),Qt(S)}function qt(S){S.A||(S.A=!0,ze(S,"complete"),ze(S,"error"))}n.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,ze(this,"complete"),ze(this,"abort"),Qt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qt(this,!0)),Le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?gn(this):this.bb())},n.bb=function(){gn(this)};function gn(S){if(S.h&&typeof c<"u"&&(!S.v[1]||rn(S)!=4||S.Z()!=2)){if(S.u&&rn(S)==4)ft(S.Ea,0,S);else if(ze(S,"readystatechange"),rn(S)==4){S.h=!1;try{const We=S.Z();e:switch(We){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var Y;if(!(Y=H)){var ie;if(ie=We===0){var Se=String(S.D).match(Ii)[1]||null;!Se&&m.self&&m.self.location&&(Se=m.self.location.protocol.slice(0,-1)),ie=!Ye.test(Se?Se.toLowerCase():"")}Y=ie}if(Y)ze(S,"complete"),ze(S,"success");else{S.m=6;try{var Ie=2<rn(S)?S.g.statusText:""}catch{Ie=""}S.l=Ie+" ["+S.Z()+"]",qt(S)}}finally{Qt(S)}}}}function Qt(S,H){if(S.g){Pt(S);const Y=S.g,ie=S.v[0]?()=>{}:null;S.g=null,S.v=null,H||ze(S,"ready");try{Y.onreadystatechange=ie}catch{}}}function Pt(S){S.I&&(m.clearTimeout(S.I),S.I=null)}n.isActive=function(){return!!this.g};function rn(S){return S.g?S.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(S){if(this.g){var H=this.g.responseText;return S&&H.indexOf(S)==0&&(H=H.substring(S.length)),ln(H)}};function or(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function _n(S){const H={};S=(S.g&&2<=rn(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let ie=0;ie<S.length;ie++){if(k(S[ie]))continue;var Y=B(S[ie]);const Se=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Ie=H[Se]||[];H[Se]=Ie,Ie.push(Y)}_(H,function(ie){return ie.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mn(S,H,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[S]||H}function Bn(S){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mn("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mn("baseRetryDelayMs",5e3,S),this.cb=mn("retryDelaySeedMs",1e4,S),this.Wa=mn("forwardChannelMaxRetries",2,S),this.wa=mn("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(S&&S.concurrentRequestLimit),this.Da=new $s,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bn.prototype,n.la=8,n.G=1,n.connect=function(S,H,Y,ie){hn(0),this.W=S,this.H=H||{},Y&&ie!==void 0&&(this.H.OSID=Y,this.H.OAID=ie),this.F=this.X,this.I=$o(this,null,this.W),ti(this)};function Mt(S){if(Fr(S),S.G==3){var H=S.U++,Y=nr(S.I);if(tn(Y,"SID",S.K),tn(Y,"RID",H),tn(Y,"TYPE","terminate"),uo(S,Y),H=new $r(S,S.j,H),H.L=2,H.v=di(nr(Y)),Y=!1,m.navigator&&m.navigator.sendBeacon)try{Y=m.navigator.sendBeacon(H.v.toString(),"")}catch{}!Y&&m.Image&&(new Image().src=H.v,Y=!0),Y||(H.g=fl(H.j,null),H.g.ea(H.v)),H.F=Date.now(),en(H)}ka(S)}function In(S){S.g&&(Lo(S),S.g.cancel(),S.g=null)}function Fr(S){In(S),S.u&&(m.clearTimeout(S.u),S.u=null),ho(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&m.clearTimeout(S.s),S.s=null)}function ti(S){if(!Sr(S.h)&&!S.s){S.s=!0;var H=S.Ga;q||Q(),K||(q(),K=!0),J.add(H,S),S.B=0}}function Ro(S,H){return To(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=H.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=Yr(d(S.Ga,S,H),Aa(S,S.B)),S.B++,!0)}n.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const Se=new $r(this,this.j,S);let Ie=this.o;if(this.S&&(Ie?(Ie=I(Ie),$(Ie,this.S)):Ie=this.S),this.m!==null||this.O||(Se.H=Ie,Ie=null),this.P)e:{for(var H=0,Y=0;Y<this.i.length;Y++){t:{var ie=this.i[Y];if("__data__"in ie.map&&(ie=ie.map.__data__,typeof ie=="string")){ie=ie.length;break t}ie=void 0}if(ie===void 0)break;if(H+=ie,4096<H){H=Y;break e}if(H===4096||Y===this.i.length-1){H=Y+1;break e}}H=1e3}else H=1e3;H=Mo(this,Se,H),Y=nr(this.I),tn(Y,"RID",S),tn(Y,"CVER",22),this.D&&tn(Y,"X-HTTP-Session-Id",this.D),uo(this,Y),Ie&&(this.O?H="headers="+encodeURIComponent(String(ae(Ie)))+"&"+H:this.m&&we(Y,this.m,Ie)),lo(this.h,Se),this.Ua&&tn(Y,"TYPE","init"),this.P?(tn(Y,"$req",H),tn(Y,"SID","null"),Se.T=!0,zi(Se,Y,null)):zi(Se,Y,H),this.G=2}}else this.G==3&&(S?Mi(this,S):this.i.length==0||Sr(this.h)||Mi(this))};function Mi(S,H){var Y;H?Y=H.l:Y=S.U++;const ie=nr(S.I);tn(ie,"SID",S.K),tn(ie,"RID",Y),tn(ie,"AID",S.T),uo(S,ie),S.m&&S.o&&we(ie,S.m,S.o),Y=new $r(S,S.j,Y,S.B+1),S.m===null&&(Y.H=S.o),H&&(S.i=H.D.concat(S.i)),H=Mo(S,Y,1e3),Y.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),lo(S.h,Y),zi(Y,ie,H)}function uo(S,H){S.H&&E(S.H,function(Y,ie){tn(H,ie,Y)}),S.l&&ki({},function(Y,ie){tn(H,ie,Y)})}function Mo(S,H,Y){Y=Math.min(S.i.length,Y);var ie=S.l?d(S.l.Na,S.l,S):null;e:{var Se=S.i;let Ie=-1;for(;;){const We=["count="+Y];Ie==-1?0<Y?(Ie=Se[0].g,We.push("ofs="+Ie)):Ie=0:We.push("ofs="+Ie);let jt=!0;for(let cn=0;cn<Y;cn++){let Vt=Se[cn].g;const Dn=Se[cn].map;if(Vt-=Ie,0>Vt)Ie=Math.max(0,Se[cn].g-100),jt=!1;else try{Io(Dn,We,"req"+Vt+"_")}catch{ie&&ie(Dn)}}if(jt){ie=We.join("&");break e}}}return S=S.i.splice(0,Y),H.D=S,ie}function ts(S){if(!S.g&&!S.u){S.Y=1;var H=S.Fa;q||Q(),K||(q(),K=!0),J.add(H,S),S.v=0}}function ns(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=Yr(d(S.Fa,S),Aa(S,S.v)),S.v++,!0)}n.Fa=function(){if(this.u=null,Gi(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=Yr(d(this.ab,this),S)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),In(this),Gi(this))};function Lo(S){S.A!=null&&(m.clearTimeout(S.A),S.A=null)}function Gi(S){S.g=new $r(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var H=nr(S.qa);tn(H,"RID","rpc"),tn(H,"SID",S.K),tn(H,"AID",S.T),tn(H,"CI",S.F?"0":"1"),!S.F&&S.ja&&tn(H,"TO",S.ja),tn(H,"TYPE","xmlhttp"),uo(S,H),S.m&&S.o&&we(H,S.m,S.o),S.L&&(S.g.I=S.L);var Y=S.g;S=S.ia,Y.L=1,Y.v=di(nr(H)),Y.m=null,Y.P=!0,Zr(Y,S)}n.Za=function(){this.C!=null&&(this.C=null,In(this),ns(this),hn(19))};function ho(S){S.C!=null&&(m.clearTimeout(S.C),S.C=null)}function Ps(S,H){var Y=null;if(S.g==H){ho(S),Lo(S),S.g=null;var ie=2}else if(tr(S.h,H))Y=H.D,Is(S.h,H),ie=1;else return;if(S.G!=0){if(H.o)if(ie==1){Y=H.m?H.m.length:0,H=Date.now()-H.F;var Se=S.B;ie=li(),ze(ie,new Eo(ie,Y)),ti(S)}else ts(S);else if(Se=H.s,Se==3||Se==0&&0<H.X||!(ie==1&&Ro(S,H)||ie==2&&ns(S)))switch(Y&&0<Y.length&&(H=S.h,H.i=H.i.concat(Y)),Se){case 1:Ki(S,5);break;case 4:Ki(S,10);break;case 3:Ki(S,6);break;default:Ki(S,2)}}}function Aa(S,H){let Y=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(Y*=2),Y*H}function Ki(S,H){if(S.j.info("Error code "+H),H==2){var Y=d(S.fb,S),ie=S.Xa;const Se=!ie;ie=new dr(ie||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||hi(ie,"https"),di(ie),Se?Jo(ie.toString(),Y):es(ie.toString(),Y)}else hn(2);S.G=0,S.l&&S.l.sa(H),ka(S),Fr(S)}n.fb=function(S){S?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function ka(S){if(S.G=0,S.ka=[],S.l){const H=co(S.h);(H.length!=0||S.i.length!=0)&&(y(S.ka,H),y(S.ka,S.i),S.h.i.length=0,v(S.i),S.i.length=0),S.l.ra()}}function $o(S,H,Y){var ie=Y instanceof dr?nr(Y):new dr(Y);if(ie.g!="")H&&(ie.g=H+"."+ie.g),Qn(ie,ie.s);else{var Se=m.location;ie=Se.protocol,H=H?H+"."+Se.hostname:Se.hostname,Se=+Se.port;var Ie=new dr(null);ie&&hi(Ie,ie),H&&(Ie.g=H),Se&&Qn(Ie,Se),Y&&(Ie.l=Y),ie=Ie}return Y=S.D,H=S.ya,Y&&H&&tn(ie,Y,H),tn(ie,"VER",S.la),uo(S,ie),ie}function fl(S,H,Y){if(H&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return H=S.Ca&&!S.pa?new Le(new fr({eb:Y})):new Le(S.pa),H.Ha(S.J),H}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ia(){}n=Ia.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Os(){}Os.prototype.g=function(S,H){return new Cr(S,H)};function Cr(S,H){be.call(this),this.g=new Bn(H),this.l=S,this.h=H&&H.messageUrlParams||null,S=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(S?S["X-WebChannel-Content-Type"]=H.messageContentType:S={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&(S?S["X-WebChannel-Client-Profile"]=H.va:S={"X-WebChannel-Client-Profile":H.va}),this.g.S=S,(S=H&&H.Sb)&&!k(S)&&(this.g.m=S),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!k(H)&&(this.g.D=H,S=this.h,S!==null&&H in S&&(S=this.h,H in S&&delete S[H])),this.j=new fi(this)}p(Cr,be),Cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cr.prototype.close=function(){Mt(this.g)},Cr.prototype.o=function(S){var H=this.g;if(typeof S=="string"){var Y={};Y.__data__=S,S=Y}else this.u&&(Y={},Y.__data__=_t(S),S=Y);H.i.push(new Er(H.Ya++,S)),H.G==3&&ti(H)},Cr.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,Cr.aa.N.call(this)};function pl(S){On.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var H=S.__sm__;if(H){e:{for(const Y in H){S=Y;break e}S=void 0}(this.i=S)&&(S=this.i,H=H!==null&&S in H?H[S]:void 0),this.data=H}else this.data=S}p(pl,On);function gl(){Lr.call(this),this.status=1}p(gl,Lr);function fi(S){this.g=S}p(fi,Ia),fi.prototype.ua=function(){ze(this.g,"a")},fi.prototype.ta=function(S){ze(this.g,new pl(S))},fi.prototype.sa=function(S){ze(this.g,new gl)},fi.prototype.ra=function(){ze(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,Cr.prototype.send=Cr.prototype.o,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,P_=function(){return new Os},$_=function(){return li()},L_=Gn,Ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,ad=ao,Xr.COMPLETE="complete",M_=Xr,Rt.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",be.prototype.listen=be.prototype.K,nu=Rt,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,R_=Le}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});const u0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new Sm("@firebase/firestore");function Bl(){return Ja.logLevel}function tt(n,...e){if(Ja.logLevel<=Bt.DEBUG){const t=e.map(xm);Ja.debug(`Firestore (${pc}): ${n}`,...t)}}function bs(n,...e){if(Ja.logLevel<=Bt.ERROR){const t=e.map(xm);Ja.error(`Firestore (${pc}): ${n}`,...t)}}function tc(n,...e){if(Ja.logLevel<=Bt.WARN){const t=e.map(xm);Ja.warn(`Firestore (${pc}): ${n}`,...t)}}function xm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n="Unexpected state"){const e=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: `+n;throw bs(e),new Error(e)}function on(n,e){n||St()}function At(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Ts{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wr.UNAUTHENTICATED))}shutdown(){}}class _A{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class EA{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){on(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let o=new da;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new da,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},m=u=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(u=>m(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?m(u):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new da)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(on(typeof r.accessToken=="string"),new O_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return on(e===null||typeof e=="string"),new Wr(e)}}class SA{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TA{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new SA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){on(this.o===void 0);const r=o=>{o.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,tt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(on(typeof t.token=="string"),this.R=t.token,new CA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=AA(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function nc(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new lr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new lr(0,0))}static max(){return new Tt(new lr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t,r){t===void 0?t=0:t>e.length&&St(),r===void 0?r=e.length-t:r>e.length-t&&St(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return yu.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yu?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=e.get(s),c=t.get(s);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends yu{construct(e,t,r){return new Tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new nt(Oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const kA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends yu{construct(e,t,r){return new Ir(e,t,r)}static isValidIdentifier(e){return kA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ir(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new nt(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new nt(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new nt(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else m==="`"?(c=!c,s++):m!=="."||c?(r+=m,s++):(o(),s++)}if(o(),c)throw new nt(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(t)}static emptyPath(){return new Ir([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Tn.fromString(e))}static fromName(e){return new dt(Tn.fromString(e).popFirst(5))}static empty(){return new dt(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Tn(e.slice()))}}function IA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Tt.fromTimestamp(r===1e9?new lr(t+1,0):new lr(t,r));return new pa(s,dt.empty(),e)}function RA(n){return new pa(n.readTime,n.key,-1)}class pa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pa(Tt.min(),dt.empty(),-1)}static max(){return new pa(Tt.max(),dt.empty(),-1)}}function MA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=dt.comparator(n.documentKey,e.documentKey),t!==0?t:Ut(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $A{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(n){if(n.code!==Oe.FAILED_PRECONDITION||n.message!==LA)throw n;tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pe((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pe?t:Pe.resolve(t)}catch(t){return Pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.reject(t)}static resolve(e){return new Pe((t,r)=>{t(e)})}static reject(e){return new Pe((t,r)=>{r(e)})}static waitFor(e){return new Pe((t,r)=>{let s=0,o=0,c=!1;e.forEach(m=>{++s,m.next(()=>{++o,c&&o===s&&t()},u=>r(u))}),c=!0,o===s&&t()})}static or(e){let t=Pe.resolve(!1);for(const r of e)t=t.next(s=>s?Pe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new Pe((r,s)=>{const o=e.length,c=new Array(o);let m=0;for(let u=0;u<o;u++){const g=u;t(e[g]).next(l=>{c[g]=l,++m,m===o&&r(c)},l=>s(l))}})}static doWhile(e,t){return new Pe((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function PA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function mc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}tf.oe=-1;function nf(n){return n==null}function Ed(n){return n===0&&1/n==-1/0}function OA(n){return typeof n=="number"&&Number.isInteger(n)&&!Ed(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=h0(e)),e=NA(n.get(t),e);return h0(e)}function NA(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function h0(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _a(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function N_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t){this.comparator=e,this.root=t||kr.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}}class Yh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kr{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??kr.RED,this.left=s??kr.EMPTY,this.right=o??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new kr(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return kr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1;kr.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(e,t,r,s,o){return this}insert(e,t,r){return new kr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new f0(this.data.getIterator())}getIteratorFrom(e){return new f0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cr(this.comparator);return t.data=e,t}}class f0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new Oi([])}unionWith(e){let t=new cr(Ir.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Oi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new F_("Invalid base64 string: "+o):o}}(e);return new Mr(t)}static fromUint8Array(e){const t=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new Mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const FA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(n){if(on(!!n),typeof n=="string"){let e=0;const t=FA.exec(n);if(on(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Un(n.seconds),nanos:Un(n.nanos)}}function Un(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ma(n){return typeof n=="string"?Mr.fromBase64String(n):Mr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function rf(n){const e=n.mapValue.fields.__previous_value__;return Am(e)?rf(e):e}function wu(n){const e=ga(n.mapValue.fields.__local_write_time__.timestampValue);return new lr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t,r,s,o,c,m,u,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=u,this.useFetchStreams=g}}class bu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function va(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Am(n)?4:zA(n)?9007199254740991:BA(n)?10:11:St()}function Go(n,e){if(n===e)return!0;const t=va(n);if(t!==va(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wu(n).isEqual(wu(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=ga(s.timestampValue),m=ga(o.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return ma(s.bytesValue).isEqual(ma(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Un(s.geoPointValue.latitude)===Un(o.geoPointValue.latitude)&&Un(s.geoPointValue.longitude)===Un(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Un(s.integerValue)===Un(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Un(s.doubleValue),m=Un(o.doubleValue);return c===m?Ed(c)===Ed(m):isNaN(c)&&isNaN(m)}return!1}(n,e);case 9:return nc(n.arrayValue.values||[],e.arrayValue.values||[],Go);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},m=o.mapValue.fields||{};if(d0(c)!==d0(m))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(m[u]===void 0||!Go(c[u],m[u])))return!1;return!0}(n,e);default:return St()}}function _u(n,e){return(n.values||[]).find(t=>Go(t,e))!==void 0}function rc(n,e){if(n===e)return 0;const t=va(n),r=va(e);if(t!==r)return Ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(o,c){const m=Un(o.integerValue||o.doubleValue),u=Un(c.integerValue||c.doubleValue);return m<u?-1:m>u?1:m===u?0:isNaN(m)?isNaN(u)?0:-1:1}(n,e);case 3:return p0(n.timestampValue,e.timestampValue);case 4:return p0(wu(n),wu(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(o,c){const m=ma(o),u=ma(c);return m.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const m=o.split("/"),u=c.split("/");for(let g=0;g<m.length&&g<u.length;g++){const l=Ut(m[g],u[g]);if(l!==0)return l}return Ut(m.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const m=Ut(Un(o.latitude),Un(c.latitude));return m!==0?m:Ut(Un(o.longitude),Un(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return g0(n.arrayValue,e.arrayValue);case 10:return function(o,c){var m,u,g,l;const h=o.fields||{},d=c.fields||{},f=(m=h.value)===null||m===void 0?void 0:m.arrayValue,p=(u=d.value)===null||u===void 0?void 0:u.arrayValue,v=Ut(((g=f==null?void 0:f.values)===null||g===void 0?void 0:g.length)||0,((l=p==null?void 0:p.values)===null||l===void 0?void 0:l.length)||0);return v!==0?v:g0(f,p)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===Xh.mapValue&&c===Xh.mapValue)return 0;if(o===Xh.mapValue)return 1;if(c===Xh.mapValue)return-1;const m=o.fields||{},u=Object.keys(m),g=c.fields||{},l=Object.keys(g);u.sort(),l.sort();for(let h=0;h<u.length&&h<l.length;++h){const d=Ut(u[h],l[h]);if(d!==0)return d;const f=rc(m[u[h]],g[l[h]]);if(f!==0)return f}return Ut(u.length,l.length)}(n.mapValue,e.mapValue);default:throw St()}}function p0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ut(n,e);const t=ga(n),r=ga(e),s=Ut(t.seconds,r.seconds);return s!==0?s:Ut(t.nanos,r.nanos)}function g0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=rc(t[s],r[s]);if(o)return o}return Ut(t.length,r.length)}function ic(n){return Hg(n)}function Hg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ga(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ma(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return dt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Hg(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${Hg(t.fields[c])}`;return s+"}"}(n.mapValue):St()}function ld(n){switch(va(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(n);return e?16+ld(e):16;case 5:return 2*n.stringValue.length;case 6:return ma(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+ld(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return _a(r.fields,(o,c)=>{s+=o.length+ld(c)}),s}(n.mapValue);default:throw St()}}function m0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wg(n){return!!n&&"integerValue"in n}function km(n){return!!n&&"arrayValue"in n}function v0(n){return!!n&&"nullValue"in n}function y0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cd(n){return!!n&&"mapValue"in n}function BA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function uu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _a(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=Ir.emptyPath(),r={},s=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const u=this.getFieldsMap(t);this.applyChanges(u,r,s),r={},s=[],t=m.popLast()}c?r[m.lastSegment()]=uu(c):s.push(m.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());cd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Go(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];cd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){_a(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Ei(uu(this.value))}}function V_(n){const e=[];return _a(n.fields,(t,r)=>{const s=new Ir([t]);if(cd(r)){const o=V_(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new Oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t,r,s,o,c,m){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Gr(e,0,Tt.min(),Tt.min(),Tt.min(),Ei.empty(),0)}static newFoundDocument(e,t,r,s){return new Gr(e,1,t,Tt.min(),r,s,0)}static newNoDocument(e,t){return new Gr(e,2,t,Tt.min(),Tt.min(),Ei.empty(),0)}static newUnknownDocument(e,t){return new Gr(e,3,t,Tt.min(),Tt.min(),Ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t){this.position=e,this.inclusive=t}}function w0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],c=n.position[s];if(o.field.isKeyField()?r=dt.comparator(dt.fromName(c.referenceValue),t.key):r=rc(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function b0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Go(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t="asc"){this.field=e,this.dir=t}}function jA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{}class Jn extends B_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new HA(e,t,r):t==="array-contains"?new KA(e,r):t==="in"?new qA(e,r):t==="not-in"?new QA(e,r):t==="array-contains-any"?new YA(e,r):new Jn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new WA(e,r):new GA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(rc(t,this.value)):t!==null&&va(this.value)===va(t)&&this.matchesComparison(rc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bo extends B_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new bo(e,t)}matches(e){return z_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function z_(n){return n.op==="and"}function j_(n){return UA(n)&&z_(n)}function UA(n){for(const e of n.filters)if(e instanceof bo)return!1;return!0}function Gg(n){if(n instanceof Jn)return n.field.canonicalString()+n.op.toString()+ic(n.value);if(j_(n))return n.filters.map(e=>Gg(e)).join(",");{const e=n.filters.map(t=>Gg(t)).join(",");return`${n.op}(${e})`}}function U_(n,e){return n instanceof Jn?function(r,s){return s instanceof Jn&&r.op===s.op&&r.field.isEqual(s.field)&&Go(r.value,s.value)}(n,e):n instanceof bo?function(r,s){return s instanceof bo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,c,m)=>o&&U_(c,s.filters[m]),!0):!1}(n,e):void St()}function H_(n){return n instanceof Jn?function(t){return`${t.field.canonicalString()} ${t.op} ${ic(t.value)}`}(n):n instanceof bo?function(t){return t.op.toString()+" {"+t.getFilters().map(H_).join(" ,")+"}"}(n):"Filter"}class HA extends Jn{constructor(e,t,r){super(e,t,r),this.key=dt.fromName(r.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.matchesComparison(t)}}class WA extends Jn{constructor(e,t){super(e,"in",t),this.keys=W_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GA extends Jn{constructor(e,t){super(e,"not-in",t),this.keys=W_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function W_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>dt.fromName(r.referenceValue))}class KA extends Jn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return km(t)&&_u(t.arrayValue,this.value)}}class qA extends Jn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_u(this.value.arrayValue,t)}}class QA extends Jn{constructor(e,t){super(e,"not-in",t)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!_u(this.value.arrayValue,t)}}class YA extends Jn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!km(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t=null,r=[],s=[],o=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=m,this.ue=null}}function _0(n,e=null,t=[],r=[],s=null,o=null,c=null){return new XA(n,e,t,r,s,o,c)}function Im(n){const e=At(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Gg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ic(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ic(r)).join(",")),e.ue=t}return e.ue}function Rm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!U_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!b0(n.startAt,e.startAt)&&b0(n.endAt,e.endAt)}function Kg(n){return dt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t=null,r=[],s=[],o=null,c="F",m=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=m,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ZA(n,e,t,r,s,o,c,m){return new vc(n,e,t,r,s,o,c,m)}function of(n){return new vc(n)}function E0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function G_(n){return n.collectionGroup!==null}function hu(n){const e=At(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new cr(Ir.comparator);return c.filters.forEach(u=>{u.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Eu(o,r))}),t.has(Ir.keyField().canonicalString())||e.ce.push(new Eu(Ir.keyField(),r))}return e.ce}function jo(n){const e=At(n);return e.le||(e.le=JA(e,hu(n))),e.le}function JA(n,e){if(n.limitType==="F")return _0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Eu(s.field,o)});const t=n.endAt?new Sd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sd(n.startAt.position,n.startAt.inclusive):null;return _0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function qg(n,e){const t=n.filters.concat([e]);return new vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qg(n,e,t){return new vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sf(n,e){return Rm(jo(n),jo(e))&&n.limitType===e.limitType}function K_(n){return`${Im(jo(n))}|lt:${n.limitType}`}function zl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>H_(s)).join(", ")}]`),nf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ic(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ic(s)).join(",")),`Target(${r})`}(jo(n))}; limitType=${n.limitType})`}function af(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):dt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of hu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(c,m,u){const g=w0(c,m,u);return c.inclusive?g<=0:g<0}(r.startAt,hu(r),s)||r.endAt&&!function(c,m,u){const g=w0(c,m,u);return c.inclusive?g>=0:g>0}(r.endAt,hu(r),s))}(n,e)}function ek(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function q_(n){return(e,t)=>{let r=!1;for(const s of hu(n)){const o=tk(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function tk(n,e,t){const r=n.field.isKeyField()?dt.comparator(e.key,t.key):function(o,c,m){const u=c.data.field(o),g=m.data.field(o);return u!==null&&g!==null?rc(u,g):St()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return N_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new $n(dt.comparator);function _s(){return nk}const Q_=new $n(dt.comparator);function ru(...n){let e=Q_;for(const t of n)e=e.insert(t.key,t);return e}function Y_(n){let e=Q_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ka(){return du()}function X_(){return du()}function du(){return new ol(n=>n.toString(),(n,e)=>n.isEqual(e))}const rk=new $n(dt.comparator),ik=new cr(dt.comparator);function zt(...n){let e=ik;for(const t of n)e=e.add(t);return e}const ok=new cr(Ut);function sk(){return ok}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function Z_(n){return{integerValue:""+n}}function ak(n,e){return OA(e)?Z_(e):Mm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function lk(n,e,t){return n instanceof Su?function(s,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Am(o)&&(o=rf(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof Tu?eE(n,e):n instanceof Cu?tE(n,e):function(s,o){const c=J_(s,o),m=S0(c)+S0(s.Pe);return Wg(c)&&Wg(s.Pe)?Z_(m):Mm(s.serializer,m)}(n,e)}function ck(n,e,t){return n instanceof Tu?eE(n,e):n instanceof Cu?tE(n,e):t}function J_(n,e){return n instanceof Td?function(r){return Wg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Su extends lf{}class Tu extends lf{constructor(e){super(),this.elements=e}}function eE(n,e){const t=nE(e);for(const r of n.elements)t.some(s=>Go(s,r))||t.push(r);return{arrayValue:{values:t}}}class Cu extends lf{constructor(e){super(),this.elements=e}}function tE(n,e){let t=nE(e);for(const r of n.elements)t=t.filter(s=>!Go(s,r));return{arrayValue:{values:t}}}class Td extends lf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function S0(n){return Un(n.integerValue||n.doubleValue)}function nE(n){return km(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t){this.field=e,this.transform=t}}function hk(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Tu&&s instanceof Tu||r instanceof Cu&&s instanceof Cu?nc(r.elements,s.elements,Go):r instanceof Td&&s instanceof Td?Go(r.Pe,s.Pe):r instanceof Su&&s instanceof Su}(n.transform,e.transform)}class dk{constructor(e,t){this.version=e,this.transformResults=t}}class ro{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ro}static exists(e){return new ro(void 0,e)}static updateTime(e){return new ro(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ud(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class cf{}function rE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Lm(n.key,ro.none()):new $u(n.key,n.data,ro.none());{const t=n.data,r=Ei.empty();let s=new cr(Ir.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Ea(n.key,r,new Oi(s.toArray()),ro.none())}}function fk(n,e,t){n instanceof $u?function(s,o,c){const m=s.value.clone(),u=C0(s.fieldTransforms,o,c.transformResults);m.setAll(u),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Ea?function(s,o,c){if(!ud(s.precondition,o))return void o.convertToUnknownDocument(c.version);const m=C0(s.fieldTransforms,o,c.transformResults),u=o.data;u.setAll(iE(s)),u.setAll(m),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(n,e,t):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function fu(n,e,t,r){return n instanceof $u?function(o,c,m,u){if(!ud(o.precondition,c))return m;const g=o.value.clone(),l=x0(o.fieldTransforms,u,c);return g.setAll(l),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ea?function(o,c,m,u){if(!ud(o.precondition,c))return m;const g=x0(o.fieldTransforms,u,c),l=c.data;return l.setAll(iE(o)),l.setAll(g),c.convertToFoundDocument(c.version,l).setHasLocalMutations(),m===null?null:m.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(o,c,m){return ud(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(n,e,t)}function pk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=J_(r.transform,s||null);o!=null&&(t===null&&(t=Ei.empty()),t.set(r.field,o))}return t||null}function T0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&nc(r,s,(o,c)=>hk(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class $u extends cf{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ea extends cf{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function iE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function C0(n,e,t){const r=new Map;on(n.length===t.length);for(let s=0;s<t.length;s++){const o=n[s],c=o.transform,m=e.data.field(o.field);r.set(o.field,ck(c,m,t[s]))}return r}function x0(n,e,t){const r=new Map;for(const s of n){const o=s.transform,c=t.data.field(s.field);r.set(s.field,lk(o,c,e))}return r}class Lm extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gk extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&fk(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=X_();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let m=this.applyToLocalView(c,o.mutatedFields);m=t.has(s.key)?null:m;const u=rE(c,m);u!==null&&r.set(s.key,u),c.isValidDocument()||c.convertToNoDocument(Tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zt())}isEqual(e){return this.batchId===e.batchId&&nc(this.mutations,e.mutations,(t,r)=>T0(t,r))&&nc(this.baseMutations,e.baseMutations,(t,r)=>T0(t,r))}}class $m{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){on(e.mutations.length===r.length);let s=function(){return rk}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new $m(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn,Gt;function wk(n){switch(n){default:return St();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0}}function oE(n){if(n===void 0)return bs("GRPC error has no .code"),Oe.UNKNOWN;switch(n){case Zn.OK:return Oe.OK;case Zn.CANCELLED:return Oe.CANCELLED;case Zn.UNKNOWN:return Oe.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return Oe.INTERNAL;case Zn.UNAVAILABLE:return Oe.UNAVAILABLE;case Zn.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case Zn.NOT_FOUND:return Oe.NOT_FOUND;case Zn.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case Zn.ABORTED:return Oe.ABORTED;case Zn.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case Zn.DATA_LOSS:return Oe.DATA_LOSS;default:return St()}}(Gt=Zn||(Zn={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new qa([4294967295,4294967295],0);function A0(n){const e=bk().encode(n),t=new I_;return t.update(e),new Uint8Array(t.digest())}function k0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qa([t,r],0),new qa([s,o],0)]}class Pm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(r<0)throw new iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=qa.fromNumber(this.Te)}Ee(e,t,r){let s=e.add(t.multiply(qa.fromNumber(r)));return s.compare(_k)===1&&(s=new qa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=A0(e),[r,s]=k0(t);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);if(!this.de(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Pm(o,s,t);return r.forEach(m=>c.insert(m)),c}insert(e){if(this.Te===0)return;const t=A0(e),[r,s]=k0(t);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new uf(Tt.min(),s,new $n(Ut),_s(),zt())}}class Pu{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pu(r,t,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class sE{constructor(e,t){this.targetId=e,this.me=t}}class aE{constructor(e,t,r=Mr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class I0{constructor(){this.fe=0,this.ge=R0(),this.pe=Mr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=zt(),t=zt(),r=zt();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:St()}}),new Pu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=R0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,on(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ek{constructor(e){this.Le=e,this.Be=new Map,this.ke=_s(),this.qe=Zh(),this.Qe=Zh(),this.Ke=new $n(Ut)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:St()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const o=s.target;if(Kg(o))if(r===0){const c=new dt(o.path);this.We(t,c,Gr.newNoDocument(c,Tt.min()))}else on(r===1);else{const c=this.Ze(t);if(c!==r){const m=this.Xe(e),u=m?this.et(m,e,c):1;if(u!==0){this.He(t);const g=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let c,m;try{c=ma(r).toUint8Array()}catch(u){if(u instanceof F_)return tc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{m=new Pm(c,s,o)}catch(u){return tc(u instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return m.Te===0?null:m}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const c=this.Le.nt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(m)||(this.We(t,o,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((o,c)=>{const m=this.Ye(c);if(m){if(o.current&&Kg(m.target)){const u=new dt(m.target.path);this.st(u).has(c)||this.ot(c,u)||this.We(c,u,Gr.newNoDocument(u,e))}o.be&&(t.set(c,o.ve()),o.Ce())}});let r=zt();this.Qe.forEach((o,c)=>{let m=!0;c.forEachWhile(u=>{const g=this.Ye(u);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(o))}),this.ke.forEach((o,c)=>c.setReadTime(e));const s=new uf(e,t,this.Ke,this.ke,r);return this.ke=_s(),this.qe=Zh(),this.Qe=Zh(),this.Ke=new $n(Ut),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new I0,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new cr(Ut),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new cr(Ut),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||tt("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new I0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Zh(){return new $n(dt.comparator)}function R0(){return new $n(dt.comparator)}const Sk={asc:"ASCENDING",desc:"DESCENDING"},Tk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ck={and:"AND",or:"OR"};class xk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yg(n,e){return n.useProto3Json||nf(e)?e:{value:e}}function Cd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ak(n,e){return Cd(n,e.toTimestamp())}function Uo(n){return on(!!n),Tt.fromTimestamp(function(t){const r=ga(t);return new lr(r.seconds,r.nanos)}(n))}function Om(n,e){return Xg(n,e).canonicalString()}function Xg(n,e){const t=function(s){return new Tn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function cE(n){const e=Tn.fromString(n);return on(pE(e)),e}function Zg(n,e){return Om(n.databaseId,e.path)}function dg(n,e){const t=cE(e);if(t.get(1)!==n.databaseId.projectId)throw new nt(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new nt(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new dt(hE(t))}function uE(n,e){return Om(n.databaseId,e)}function kk(n){const e=cE(n);return e.length===4?Tn.emptyPath():hE(e)}function Jg(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hE(n){return on(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function M0(n,e,t){return{name:Zg(n,e),fields:t.value.mapValue.fields}}function Ik(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(g,l){return g.useProto3Json?(on(l===void 0||typeof l=="string"),Mr.fromBase64String(l||"")):(on(l===void 0||l instanceof Buffer||l instanceof Uint8Array),Mr.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(g){const l=g.code===void 0?Oe.UNKNOWN:oE(g.code);return new nt(l,g.message||"")}(c);t=new aE(r,s,o,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=dg(n,r.document.name),o=Uo(r.document.updateTime),c=r.document.createTime?Uo(r.document.createTime):Tt.min(),m=new Ei({mapValue:{fields:r.document.fields}}),u=Gr.newFoundDocument(s,o,c,m),g=r.targetIds||[],l=r.removedTargetIds||[];t=new hd(g,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=dg(n,r.document),o=r.readTime?Uo(r.readTime):Tt.min(),c=Gr.newNoDocument(s,o),m=r.removedTargetIds||[];t=new hd([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=dg(n,r.document),o=r.removedTargetIds||[];t=new hd([],o,s,null)}else{if(!("filter"in e))return St();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new yk(s,o),m=r.targetId;t=new sE(m,c)}}return t}function Rk(n,e){let t;if(e instanceof $u)t={update:M0(n,e.key,e.value)};else if(e instanceof Lm)t={delete:Zg(n,e.key)};else if(e instanceof Ea)t={update:M0(n,e.key,e.data),updateMask:Vk(e.fieldMask)};else{if(!(e instanceof gk))return St();t={verify:Zg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const m=c.transform;if(m instanceof Su)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Tu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Td)return{fieldPath:c.field.canonicalString(),increment:m.Pe};throw St()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Ak(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St()}(n,e.precondition)),t}function Mk(n,e){return n&&n.length>0?(on(e!==void 0),n.map(t=>function(s,o){let c=s.updateTime?Uo(s.updateTime):Uo(o);return c.isEqual(Tt.min())&&(c=Uo(o)),new dk(c,s.transformResults||[])}(t,e))):[]}function Lk(n,e){return{documents:[uE(n,e.path)]}}function $k(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uE(n,s);const o=function(g){if(g.length!==0)return fE(bo.create(g,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(g){if(g.length!==0)return g.map(l=>function(d){return{field:jl(d.field),direction:Dk(d.dir)}}(l))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=Yg(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:t,parent:s}}function Pk(n){let e=kk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){on(r===1);const l=t.from[0];l.allDescendants?s=l.collectionId:e=e.child(l.collectionId)}let o=[];t.where&&(o=function(h){const d=dE(h);return d instanceof bo&&j_(d)?d.getFilters():[d]}(t.where));let c=[];t.orderBy&&(c=function(h){return h.map(d=>function(p){return new Eu(Ul(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(t.orderBy));let m=null;t.limit&&(m=function(h){let d;return d=typeof h=="object"?h.value:h,nf(d)?null:d}(t.limit));let u=null;t.startAt&&(u=function(h){const d=!!h.before,f=h.values||[];return new Sd(f,d)}(t.startAt));let g=null;return t.endAt&&(g=function(h){const d=!h.before,f=h.values||[];return new Sd(f,d)}(t.endAt)),ZA(e,s,c,o,m,"F",u,g)}function Ok(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ul(t.unaryFilter.field);return Jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ul(t.unaryFilter.field);return Jn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ul(t.unaryFilter.field);return Jn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ul(t.unaryFilter.field);return Jn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(n):n.fieldFilter!==void 0?function(t){return Jn.create(Ul(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return bo.create(t.compositeFilter.filters.map(r=>dE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return St()}}(t.compositeFilter.op))}(n):St()}function Dk(n){return Sk[n]}function Nk(n){return Tk[n]}function Fk(n){return Ck[n]}function jl(n){return{fieldPath:n.canonicalString()}}function Ul(n){return Ir.fromServerFormat(n.fieldPath)}function fE(n){return n instanceof Jn?function(t){if(t.op==="=="){if(y0(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NAN"}};if(v0(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(y0(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NAN"}};if(v0(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(t.field),op:Nk(t.op),value:t.value}}}(n):n instanceof bo?function(t){const r=t.getFilters().map(s=>fE(s));return r.length===1?r[0]:{compositeFilter:{op:Fk(t.op),filters:r}}}(n):St()}function Vk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,r,s,o=Tt.min(),c=Tt.min(),m=Mr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=u}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.ht=e}}function zk(n){const e=Pk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.ln=new Uk}addToCollectionParentIndex(e,t){return this.ln.add(t),Pe.resolve()}getCollectionParents(e,t){return Pe.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Pe.resolve()}deleteFieldIndex(e,t){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,t){return Pe.resolve()}getDocumentsMatchingTarget(e,t){return Pe.resolve(null)}getIndexType(e,t){return Pe.resolve(0)}getFieldIndexes(e,t){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,t){return Pe.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,t){return Pe.resolve(pa.min())}updateCollectionGroup(e,t,r){return Pe.resolve()}updateIndexEntries(e,t){return Pe.resolve()}}class Uk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new cr(Tn.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new cr(Tn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _i{static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(41943040,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new oc(0)}static Qn(){return new oc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0([n,e],[t,r]){const s=Ut(n,t);return s===0?Ut(e,r):s}class Hk{constructor(e){this.Gn=e,this.buffer=new cr($0),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){tt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){mc(t)?tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await gc(t)}await this.Yn(3e5)})}}class Gk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Pe.resolve(tf.oe);const r=new Hk(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(L0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L0):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,o,c,m,u,g;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,c=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,m=Date.now(),this.removeTargets(e,r,t))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(g=Date.now(),Bl()<=Bt.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-l}ms
	Determined least recently used ${s} in `+(m-c)+`ms
	Removed ${o} targets in `+(u-m)+`ms
	Removed ${h} documents in `+(g-u)+`ms
Total Duration: ${g-l}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:h})))}}function Kk(n,e){return new Gk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.changes=new ol(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&fu(r.mutation,s,Oi.empty(),lr.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=zt()){const s=Ka();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let c=ru();return o.forEach((m,u)=>{c=c.insert(m,u.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,zt()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,r,s){let o=_s();const c=du(),m=function(){return du()}();return t.forEach((u,g)=>{const l=r.get(g.key);s.has(g.key)&&(l===void 0||l.mutation instanceof Ea)?o=o.insert(g.key,g):l!==void 0?(c.set(g.key,l.mutation.getFieldMask()),fu(l.mutation,g,l.mutation.getFieldMask(),lr.now())):c.set(g.key,Oi.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((g,l)=>c.set(g,l)),t.forEach((g,l)=>{var h;return m.set(g,new Qk(l,(h=c.get(g))!==null&&h!==void 0?h:null))}),m))}recalculateAndSaveOverlays(e,t){const r=du();let s=new $n((c,m)=>c-m),o=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(u=>{const g=t.get(u);if(g===null)return;let l=r.get(u)||Oi.empty();l=m.applyToLocalView(g,l),r.set(u,l);const h=(s.get(m.batchId)||zt()).add(u);s=s.insert(m.batchId,h)})}).next(()=>{const c=[],m=s.getReverseIterator();for(;m.hasNext();){const u=m.getNext(),g=u.key,l=u.value,h=X_();l.forEach(d=>{if(!o.has(d)){const f=rE(t.get(d),r.get(d));f!==null&&h.set(d,f),o=o.add(d)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,h))}return Pe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(c){return dt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):G_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Pe.resolve(Ka());let m=-1,u=o;return c.next(g=>Pe.forEach(g,(l,h)=>(m<h.largestBatchId&&(m=h.largestBatchId),o.get(l)?Pe.resolve():this.remoteDocumentCache.getEntry(e,l).next(d=>{u=u.insert(l,d)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,u,g,zt())).next(l=>({batchId:m,changes:Y_(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dt(t)).next(r=>{let s=ru();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(e,o).next(m=>Pe.forEach(m,u=>{const g=function(h,d){return new vc(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,s).next(l=>{l.forEach((h,d)=>{c=c.insert(h,d)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(c=>{o.forEach((u,g)=>{const l=g.getKey();c.get(l)===null&&(c=c.insert(l,Gr.newInvalidDocument(l)))});let m=ru();return c.forEach((u,g)=>{const l=o.get(u);l!==void 0&&fu(l.mutation,g,Oi.empty(),lr.now()),af(t,g)&&(m=m.insert(u,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Pe.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Uo(s.createTime)}}(t)),Pe.resolve()}getNamedQuery(e,t){return Pe.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:zk(s.bundledQuery),readTime:Uo(s.readTime)}}(t)),Pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.overlays=new $n(dt.comparator),this.Er=new Map}getOverlay(e,t){return Pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ka();return Pe.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.Tt(e,t,o)}),Pe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),Pe.resolve()}getOverlaysForCollection(e,t,r){const s=Ka(),o=t.length+1,c=new dt(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const u=m.getNext().value,g=u.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&u.largestBatchId>r&&s.set(u.getKey(),u)}return Pe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new $n((g,l)=>g-l);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let l=o.get(g.largestBatchId);l===null&&(l=Ka(),o=o.insert(g.largestBatchId,l)),l.set(g.getKey(),g)}}const m=Ka(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((g,l)=>m.set(g,l)),!(m.size()>=s)););return Pe.resolve(m)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new vk(t,r));let o=this.Er.get(t);o===void 0&&(o=zt(),this.Er.set(t,o)),this.Er.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.sessionToken=Mr.EMPTY_BYTE_STRING}getSessionToken(e){return Pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.dr=new cr(wr.Ar),this.Rr=new cr(wr.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new wr(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new wr(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new dt(new Tn([])),r=new wr(t,e),s=new wr(t,e+1),o=[];return this.Rr.forEachInRange([r,s],c=>{this.gr(c),o.push(c.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new dt(new Tn([])),r=new wr(t,e),s=new wr(t,e+1);let o=zt();return this.Rr.forEachInRange([r,s],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new wr(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class wr{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return dt.comparator(e.key,t.key)||Ut(e.br,t.br)}static Vr(e,t){return Ut(e.br,t.br)||dt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new cr(wr.Ar)}checkEmpty(e){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new mk(o,t,r,s);this.mutationQueue.push(c);for(const m of s)this.vr=this.vr.add(new wr(m.key,o)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Pe.resolve(c)}lookupMutationBatch(e,t){return Pe.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),o=s<0?0:s;return Pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wr(t,0),s=new wr(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,s],c=>{const m=this.Cr(c.br);o.push(m)}),Pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cr(Ut);return t.forEach(s=>{const o=new wr(s,0),c=new wr(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,c],m=>{r=r.add(m.br)})}),Pe.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;dt.isDocumentKey(o)||(o=o.child(""));const c=new wr(new dt(o),0);let m=new cr(Ut);return this.vr.forEachWhile(u=>{const g=u.key.path;return!!r.isPrefixOf(g)&&(g.length===s&&(m=m.add(u.br)),!0)},c),Pe.resolve(this.Mr(m))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){on(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Pe.forEach(t.mutations,s=>{const o=new wr(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new wr(t,0),s=this.vr.firstAfterOrEqual(r);return Pe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pe.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.Nr=e,this.docs=function(){return new $n(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,c=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Pe.resolve(r?r.document.mutableCopy():Gr.newInvalidDocument(t))}getEntries(e,t){let r=_s();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Gr.newInvalidDocument(s))}),Pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=_s();const c=t.path,m=new dt(c.child("")),u=this.docs.getIteratorFrom(m);for(;u.hasNext();){const{key:g,value:{document:l}}=u.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||MA(RA(l),r)<=0||(s.has(l.key)||af(t,l))&&(o=o.insert(l.key,l.mutableCopy()))}return Pe.resolve(o)}getAllFromCollectionGroup(e,t,r,s){St()}Lr(e,t){return Pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new nI(this)}getSize(e){return Pe.resolve(this.size)}}class nI extends qk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),Pe.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.persistence=e,this.Br=new ol(t=>Im(t),Rm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.kr=0,this.qr=new Dm,this.targetCount=0,this.Qr=oc.qn()}forEachTarget(e,t){return this.Br.forEach((r,s)=>t(s)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Pe.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new oc(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Pe.resolve()}updateTargetData(e,t){return this.Un(t),Pe.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.Br.forEach((c,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.Br.delete(c),o.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),Pe.waitFor(o).next(()=>s)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return Pe.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Pe.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),Pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Pe.resolve(r)}containsKey(e,t){return Pe.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new tf(0),this.Ur=!1,this.Ur=!0,this.Wr=new Jk,this.referenceDelegate=e(this),this.Gr=new rI(this),this.indexManager=new jk,this.remoteDocumentCache=function(s){return new tI(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Bk(t),this.jr=new Xk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new eI(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){tt("MemoryPersistence","Starting transaction:",e);const s=new iI(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(o=>this.referenceDelegate.Jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Yr(e,t){return Pe.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class iI extends $A{constructor(e){super(),this.currentSequenceNumber=e}}class Nm{constructor(e){this.persistence=e,this.Zr=new Dm,this.Xr=null}static ei(e){return new Nm(e)}get ti(){if(this.Xr)return this.Xr;throw St()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Pe.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Pe.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.ti,r=>{const s=dt.fromPath(r);return this.ni(e,s).next(o=>{o||t.removeEntry(s,Tt.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Pe.or([()=>Pe.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class xd{constructor(e,t){this.persistence=e,this.ri=new ol(r=>DA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Kk(this,t)}static ei(e,t){return new xd(e,t)}Hr(){}Jr(e){return Pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Pe.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(o=>o?Pe.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.Lr(e,c=>this.ir(e,c,t).next(m=>{m||(r++,o.removeEntry(c,Tt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Pe.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Pe.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Pe.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ld(e.data.value)),t}ir(e,t,r){return Pe.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return Pe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=zt(),s=zt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Fm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return tx()?8:PA(qr())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.Xi(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.es(e,t,s,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new oI;return this.ts(e,t,c).next(m=>{if(o.result=m,this.Hi)return this.ns(e,t,c,m.size)})}).next(()=>o.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(Bl()<=Bt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",zl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Pe.resolve()):(Bl()<=Bt.DEBUG&&tt("QueryEngine","Query:",zl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Bl()<=Bt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",zl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jo(t))):Pe.resolve())}Xi(e,t){if(E0(t))return Pe.resolve(null);let r=jo(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Qg(t,null,"F"),r=jo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=zt(...o);return this.Zi.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,r).next(u=>{const g=this.rs(t,m);return this.ss(t,g,c,u.readTime)?this.Xi(e,Qg(t,null,"F")):this.os(e,g,t,u)}))})))}es(e,t,r,s){return E0(t)||s.isEqual(Tt.min())?Pe.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const c=this.rs(t,o);return this.ss(t,c,r,s)?Pe.resolve(null):(Bl()<=Bt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zl(t)),this.os(e,c,t,IA(s,-1)).next(m=>m))})}rs(e,t){let r=new cr(q_(e));return t.forEach((s,o)=>{af(e,o)&&(r=r.add(o))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ts(e,t,r){return Bl()<=Bt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",zl(t)),this.Zi.getDocumentsMatchingQuery(e,t,pa.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new $n(Ut),this.cs=new ol(o=>Im(o),Rm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function lI(n,e,t,r){return new aI(n,e,t,r)}async function mE(n,e){const t=At(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],m=[];let u=zt();for(const g of s){c.push(g.batchId);for(const l of g.mutations)u=u.add(l.key)}for(const g of o){m.push(g.batchId);for(const l of g.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(g=>({Ts:g,removedBatchIds:c,addedBatchIds:m}))})})}function cI(n,e){const t=At(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(m,u,g,l){const h=g.batch,d=h.keys();let f=Pe.resolve();return d.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(v=>{const y=g.docVersions.get(p);on(y!==null),v.version.compareTo(y)<0&&(h.applyToRemoteDocument(v,g),v.isValidDocument()&&(v.setReadTime(g.commitVersion),l.addEntry(v)))})}),f.next(()=>m.mutationQueue.removeMutationBatch(u,h))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let u=zt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(u=u.add(m.batch.mutations[g].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function vE(n){const e=At(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function uI(n,e){const t=At(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const m=[];e.targetChanges.forEach((l,h)=>{const d=s.get(h);if(!d)return;m.push(t.Gr.removeMatchingKeys(o,l.removedDocuments,h).next(()=>t.Gr.addMatchingKeys(o,l.addedDocuments,h)));let f=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Mr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),s=s.insert(h,f),function(v,y,C){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(d,f,l)&&m.push(t.Gr.updateTargetData(o,f))});let u=_s(),g=zt();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(o,l))}),m.push(hI(o,c,e.documentUpdates).next(l=>{u=l.Is,g=l.Es})),!r.isEqual(Tt.min())){const l=t.Gr.getLastRemoteSnapshotVersion(o).next(h=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));m.push(l)}return Pe.waitFor(m).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,g)).next(()=>u)}).then(o=>(t.us=s,o))}function hI(n,e,t){let r=zt(),s=zt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=_s();return t.forEach((m,u)=>{const g=o.get(m);u.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(m)),u.isNoDocument()&&u.version.isEqual(Tt.min())?(e.removeEntry(m,u.readTime),c=c.insert(m,u)):!g.isValidDocument()||u.version.compareTo(g.version)>0||u.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(u),c=c.insert(m,u)):tt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",u.version)}),{Is:c,Es:s}})}function dI(n,e){const t=At(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fI(n,e){const t=At(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(o=>o?(s=o,Pe.resolve(s)):t.Gr.allocateTargetId(r).next(c=>(s=new sa(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function em(n,e,t){const r=At(n),s=r.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!mc(c))throw c;tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function P0(n,e,t){const r=At(n);let s=Tt.min(),o=zt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(u,g,l){const h=At(u),d=h.cs.get(l);return d!==void 0?Pe.resolve(h.us.get(d)):h.Gr.getTargetData(g,l)}(r,c,jo(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(c,m.targetId).next(u=>{o=u})}).next(()=>r._s.getDocumentsMatchingQuery(c,e,t?s:Tt.min(),t?o:zt())).next(m=>(pI(r,ek(e),m),{documents:m,ds:o})))}function pI(n,e,t){let r=n.ls.get(e)||Tt.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ls.set(e,r)}class O0{constructor(){this.activeTargetIds=sk()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gI{constructor(){this._o=new O0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new O0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=null;function fg(){return Jh===null?Jh=function(){return 268435456+Math.round(2147483648*Math.random())}():Jh++,"0x"+Jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="WebChannelConnection";class wI extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Oo(t,r,s,o,c){const m=fg(),u=this.No(t,r.toUriEncodedString());tt("RestConnection",`Sending RPC '${t}' ${m}:`,u,s);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(g,o,c),this.Bo(t,u,g,s).then(l=>(tt("RestConnection",`Received RPC '${t}' ${m}: `,l),l),l=>{throw tc("RestConnection",`RPC '${t}' ${m} failed with error: `,l,"url: ",u,"request:",s),l})}ko(t,r,s,o,c,m){return this.Oo(t,r,s,o,c)}Lo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}No(t,r){const s=vI[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,s){const o=fg();return new Promise((c,m)=>{const u=new R_;u.setWithCredentials(!0),u.listenOnce(M_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ad.NO_ERROR:const l=u.getResponseJson();tt(Hr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),c(l);break;case ad.TIMEOUT:tt(Hr,`RPC '${e}' ${o} timed out`),m(new nt(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case ad.HTTP_ERROR:const h=u.getStatus();if(tt(Hr,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(y){const C=y.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(C)>=0?C:Oe.UNKNOWN}(f.status);m(new nt(p,f.message))}else m(new nt(Oe.UNKNOWN,"Server responded with status "+u.getStatus()))}else m(new nt(Oe.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{tt(Hr,`RPC '${e}' ${o} completed.`)}});const g=JSON.stringify(s);tt(Hr,`RPC '${e}' ${o} sending request:`,s),u.send(t,"POST",g,r,15)})}qo(e,t,r){const s=fg(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=P_(),m=$_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(u.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=o.join("");tt(Hr,`Creating RPC '${e}' stream ${s}: ${l}`,u);const h=c.createWebChannel(l,u);let d=!1,f=!1;const p=new yI({Eo:y=>{f?tt(Hr,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(d||(tt(Hr,`Opening RPC '${e}' stream ${s} transport.`),h.open(),d=!0),tt(Hr,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},Ao:()=>h.close()}),v=(y,C,k)=>{y.listen(C,F=>{try{k(F)}catch(O){setTimeout(()=>{throw O},0)}})};return v(h,nu.EventType.OPEN,()=>{f||(tt(Hr,`RPC '${e}' stream ${s} transport opened.`),p.So())}),v(h,nu.EventType.CLOSE,()=>{f||(f=!0,tt(Hr,`RPC '${e}' stream ${s} transport closed`),p.Do())}),v(h,nu.EventType.ERROR,y=>{f||(f=!0,tc(Hr,`RPC '${e}' stream ${s} transport errored:`,y),p.Do(new nt(Oe.UNAVAILABLE,"The operation could not be completed")))}),v(h,nu.EventType.MESSAGE,y=>{var C;if(!f){const k=y.data[0];on(!!k);const F=k,O=(F==null?void 0:F.error)||((C=F[0])===null||C===void 0?void 0:C.error);if(O){tt(Hr,`RPC '${e}' stream ${s} received error:`,O);const L=O.status;let E=function(M){const $=Zn[M];if($!==void 0)return oE($)}(L),_=O.message;E===void 0&&(E=Oe.INTERNAL,_="Unknown error status: "+L+" with message "+O.message),f=!0,p.Do(new nt(E,_)),h.close()}else tt(Hr,`RPC '${e}' stream ${s} received:`,k),p.vo(k)}}),v(m,L_.STAT_EVENT,y=>{y.stat===Ug.PROXY?tt(Hr,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===Ug.NOPROXY&&tt(Hr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.bo()},0),p}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){return new xk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,t,r=1e3,s=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&tt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,t,r,s,o,c,m,u){this.li=e,this.Yo=r,this.Zo=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new yE(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Oe.RESOURCE_EXHAUSTED?(bs(t.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new nt(Oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bI extends wE{constructor(e,t,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Ik(this.serializer,e),r=function(o){if(!("targetChange"in o))return Tt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Tt.min():c.readTime?Uo(c.readTime):Tt.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=Jg(this.serializer),t.addTarget=function(o,c){let m;const u=c.target;if(m=Kg(u)?{documents:Lk(o,u)}:{query:$k(o,u).ct},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=lE(o,c.resumeToken);const g=Yg(o,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Tt.min())>0){m.readTime=Cd(o,c.snapshotVersion.toTimestamp());const g=Yg(o,c.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const r=Ok(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=Jg(this.serializer),t.removeTarget=e,this.c_(t)}}class _I extends wE{constructor(e,t,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return on(!!e.streamToken),this.lastStreamToken=e.streamToken,on(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Mk(e.writeResults,e.commitTime),r=Uo(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=Jg(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Rk(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new nt(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Oo(e,Xg(t,r),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new nt(Oe.UNKNOWN,o.toString())})}ko(e,t,r,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.ko(e,Xg(t,r),s,c,m,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(Oe.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class SI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(bs(t),this.C_=!1):tt("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(c=>{r.enqueueAndForget(async()=>{sl(this)&&(tt("RemoteStore","Restarting streams for network reachability change."),await async function(u){const g=At(u);g.k_.add(4),await Ou(g),g.K_.set("Unknown"),g.k_.delete(4),await df(g)}(this))})}),this.K_=new SI(r,s)}}async function df(n){if(sl(n))for(const e of n.q_)await e(!0)}async function Ou(n){for(const e of n.q_)await e(!1)}function bE(n,e){const t=At(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),jm(t)?zm(t):yc(t).s_()&&Bm(t,e))}function Vm(n,e){const t=At(n),r=yc(t);t.B_.delete(e),r.s_()&&_E(t,e),t.B_.size===0&&(r.s_()?r.a_():sl(t)&&t.K_.set("Unknown"))}function Bm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yc(n).V_(e)}function _E(n,e){n.U_.xe(e),yc(n).m_(e)}function zm(n){n.U_=new Ek({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),yc(n).start(),n.K_.F_()}function jm(n){return sl(n)&&!yc(n).i_()&&n.B_.size>0}function sl(n){return At(n).k_.size===0}function EE(n){n.U_=void 0}async function CI(n){n.K_.set("Online")}async function xI(n){n.B_.forEach((e,t)=>{Bm(n,e)})}async function AI(n,e){EE(n),jm(n)?(n.K_.O_(e),zm(n)):n.K_.set("Unknown")}async function kI(n,e,t){if(n.K_.set("Online"),e instanceof aE&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const m of o.targetIds)s.B_.has(m)&&(await s.remoteSyncer.rejectListen(m,c),s.B_.delete(m),s.U_.removeTarget(m))}(n,e)}catch(r){tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ad(n,r)}else if(e instanceof hd?n.U_.$e(e):e instanceof sE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Tt.min()))try{const r=await vE(n.localStore);t.compareTo(r)>=0&&await function(o,c){const m=o.U_.it(c);return m.targetChanges.forEach((u,g)=>{if(u.resumeToken.approximateByteSize()>0){const l=o.B_.get(g);l&&o.B_.set(g,l.withResumeToken(u.resumeToken,c))}}),m.targetMismatches.forEach((u,g)=>{const l=o.B_.get(u);if(!l)return;o.B_.set(u,l.withResumeToken(Mr.EMPTY_BYTE_STRING,l.snapshotVersion)),_E(o,u);const h=new sa(l.target,u,g,l.sequenceNumber);Bm(o,h)}),o.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(r){tt("RemoteStore","Failed to raise snapshot:",r),await Ad(n,r)}}async function Ad(n,e,t){if(!mc(e))throw e;n.k_.add(1),await Ou(n),n.K_.set("Offline"),t||(t=()=>vE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{tt("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await df(n)})}function SE(n,e){return e().catch(t=>Ad(n,t,e))}async function ff(n){const e=At(n),t=ya(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;II(e);)try{const s=await dI(e.localStore,r);if(s===null){e.L_.length===0&&t.a_();break}r=s.batchId,RI(e,s)}catch(s){await Ad(e,s)}TE(e)&&CE(e)}function II(n){return sl(n)&&n.L_.length<10}function RI(n,e){n.L_.push(e);const t=ya(n);t.s_()&&t.f_&&t.g_(e.mutations)}function TE(n){return sl(n)&&!ya(n).i_()&&n.L_.length>0}function CE(n){ya(n).start()}async function MI(n){ya(n).w_()}async function LI(n){const e=ya(n);for(const t of n.L_)e.g_(t.mutations)}async function $I(n,e,t){const r=n.L_.shift(),s=$m.from(r,e,t);await SE(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await ff(n)}async function PI(n,e){e&&ya(n).f_&&await async function(r,s){if(function(c){return wk(c)&&c!==Oe.ABORTED}(s.code)){const o=r.L_.shift();ya(r).__(),await SE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await ff(r)}}(n,e),TE(n)&&CE(n)}async function N0(n,e){const t=At(n);t.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const r=sl(t);t.k_.add(3),await Ou(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await df(t)}async function OI(n,e){const t=At(n);e?(t.k_.delete(2),await df(t)):e||(t.k_.add(2),await Ou(t),t.K_.set("Unknown"))}function yc(n){return n.W_||(n.W_=function(t,r,s){const o=At(t);return o.b_(),new bI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Ro:CI.bind(null,n),mo:xI.bind(null,n),po:AI.bind(null,n),R_:kI.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),jm(n)?zm(n):n.K_.set("Unknown")):(await n.W_.stop(),EE(n))})),n.W_}function ya(n){return n.G_||(n.G_=function(t,r,s){const o=At(t);return o.b_(),new _I(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:MI.bind(null,n),po:PI.bind(null,n),p_:LI.bind(null,n),y_:$I.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await ff(n)):(await n.G_.stop(),n.L_.length>0&&(tt("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const c=Date.now()+r,m=new Um(e,t,c,s,o);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(n,e){if(bs("AsyncQueue",`${e}: ${n}`),mc(n))return new nt(Oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{static emptySet(e){return new Kl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||dt.comparator(t.key,r.key):(t,r)=>dt.comparator(t.key,r.key),this.keyedMap=ru(),this.sortedSet=new $n(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.z_=new $n(dt.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):St():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class sc{constructor(e,t,r,s,o,c,m,u,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=u,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,s,o){const c=[];return t.forEach(m=>{c.push({type:0,doc:m})}),new sc(e,t,Kl.emptySet(t),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class NI{constructor(){this.queries=V0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=At(t),o=s.queries;s.queries=V0(),o.forEach((c,m)=>{for(const u of m.J_)u.onError(r)})})(this,new nt(Oe.ABORTED,"Firestore shutting down"))}}function V0(){return new ol(n=>K_(n),sf)}async function xE(n,e){const t=At(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Y_()&&e.Z_()&&(r=2):(o=new DI,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await t.onListen(s,!0);break;case 1:o.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const m=Hm(c,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(m)}t.queries.set(s,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&Wm(t)}async function AE(n,e){const t=At(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const c=o.J_.indexOf(e);c>=0&&(o.J_.splice(c,1),o.J_.length===0?s=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function FI(n,e){const t=At(n);let r=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const m of c.J_)m.ta(s)&&(r=!0);c.H_=s}}r&&Wm(t)}function VI(n,e,t){const r=At(n),s=r.queries.get(e);if(s)for(const o of s.J_)o.onError(t);r.queries.delete(e)}function Wm(n){n.X_.forEach(e=>{e.next()})}var tm,B0;(B0=tm||(tm={})).na="default",B0.Cache="cache";class kE{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class BI{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=zt(),this.mutatedKeys=zt(),this.Va=q_(e),this.ma=new Kl(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new F0,s=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,m=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((l,h)=>{const d=s.get(l),f=af(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;d&&f?d.data.isEqual(f.data)?p!==v&&(r.track({type:3,doc:f}),y=!0):this.ya(d,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Va(f,u)>0||g&&this.Va(f,g)<0)&&(m=!0)):!d&&f?(r.track({type:0,doc:f}),y=!0):d&&!f&&(r.track({type:1,doc:d}),y=!0,(u||g)&&(m=!0)),y&&(f?(c=c.add(f),o=v?o.add(l):o.delete(l)):(c=c.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const l=this.query.limitType==="F"?c.last():c.first();c=c.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ma:c,pa:r,ss:m,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((l,h)=>function(f,p){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return v(f)-v(p)}(l.type,h.type)||this.Va(l.doc,h.doc)),this.wa(r),s=s!=null&&s;const m=t&&!s?this.Sa():[],u=this.Ra.size===0&&this.current&&!s?1:0,g=u!==this.Aa;return this.Aa=u,c.length!==0||g?{snapshot:new sc(this.query,e.ma,o,c,e.mutatedKeys,u===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new F0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=zt(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new RE(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new IE(r))}),t}va(e){this.da=e.ds,this.Ra=zt();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return sc.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class zI{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jI{constructor(e){this.key=e,this.Fa=!1}}class UI{constructor(e,t,r,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new ol(m=>K_(m),sf),this.Oa=new Map,this.Na=new Set,this.La=new $n(dt.comparator),this.Ba=new Map,this.ka=new Dm,this.qa={},this.Qa=new Map,this.Ka=oc.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function HI(n,e,t=!0){const r=DE(n);let s;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Ca()):s=await ME(r,e,t,!0),s}async function WI(n,e){const t=DE(n);await ME(t,e,!0,!1)}async function ME(n,e,t,r){const s=await fI(n.localStore,jo(e)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let m;return r&&(m=await GI(n,e,o,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&bE(n.remoteStore,s),m}async function GI(n,e,t,r,s){n.Ua=(h,d,f)=>async function(v,y,C,k){let F=y.view.ga(C);F.ss&&(F=await P0(v.localStore,y.query,!1).then(({documents:_})=>y.view.ga(_,F)));const O=k&&k.targetChanges.get(y.targetId),L=k&&k.targetMismatches.get(y.targetId)!=null,E=y.view.applyChanges(F,v.isPrimaryClient,O,L);return j0(v,y.targetId,E.ba),E.snapshot}(n,h,d,f);const o=await P0(n.localStore,e,!0),c=new BI(e,o.ds),m=c.ga(o.documents),u=Pu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),g=c.applyChanges(m,n.isPrimaryClient,u);j0(n,t,g.ba);const l=new zI(e,t,c);return n.xa.set(e,l),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),g.snapshot}async function KI(n,e,t){const r=At(n),s=r.xa.get(e),o=r.Oa.get(s.targetId);if(o.length>1)return r.Oa.set(s.targetId,o.filter(c=>!sf(c,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await em(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Vm(r.remoteStore,s.targetId),nm(r,s.targetId)}).catch(gc)):(nm(r,s.targetId),await em(r.localStore,s.targetId,!0))}async function qI(n,e){const t=At(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Vm(t.remoteStore,r.targetId))}async function QI(n,e,t){const r=nR(n);try{const s=await function(c,m){const u=At(c),g=lr.now(),l=m.reduce((f,p)=>f.add(p.key),zt());let h,d;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=_s(),v=zt();return u.hs.getEntries(f,l).next(y=>{p=y,p.forEach((C,k)=>{k.isValidDocument()||(v=v.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(y=>{h=y;const C=[];for(const k of m){const F=pk(k,h.get(k.key).overlayedDocument);F!=null&&C.push(new Ea(k.key,F,V_(F.value.mapValue),ro.exists(!0)))}return u.mutationQueue.addMutationBatch(f,g,C,m)}).next(y=>{d=y;const C=y.applyToLocalDocumentSet(h,v);return u.documentOverlayCache.saveOverlays(f,y.batchId,C)})}).then(()=>({batchId:d.batchId,changes:Y_(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,m,u){let g=c.qa[c.currentUser.toKey()];g||(g=new $n(Ut)),g=g.insert(m,u),c.qa[c.currentUser.toKey()]=g}(r,s.batchId,t),await Du(r,s.changes),await ff(r.remoteStore)}catch(s){const o=Hm(s,"Failed to persist write");t.reject(o)}}async function LE(n,e){const t=At(n);try{const r=await uI(t.localStore,e);e.targetChanges.forEach((s,o)=>{const c=t.Ba.get(o);c&&(on(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Fa=!0:s.modifiedDocuments.size>0?on(c.Fa):s.removedDocuments.size>0&&(on(c.Fa),c.Fa=!1))}),await Du(t,r,e)}catch(r){await gc(r)}}function z0(n,e,t){const r=At(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((o,c)=>{const m=c.view.ea(e);m.snapshot&&s.push(m.snapshot)}),function(c,m){const u=At(c);u.onlineState=m;let g=!1;u.queries.forEach((l,h)=>{for(const d of h.J_)d.ea(m)&&(g=!0)}),g&&Wm(u)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YI(n,e,t){const r=At(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ba.get(e),o=s&&s.key;if(o){let c=new $n(dt.comparator);c=c.insert(o,Gr.newNoDocument(o,Tt.min()));const m=zt().add(o),u=new uf(Tt.min(),new Map,new $n(Ut),c,m);await LE(r,u),r.La=r.La.remove(o),r.Ba.delete(e),Gm(r)}else await em(r.localStore,e,!1).then(()=>nm(r,e,t)).catch(gc)}async function XI(n,e){const t=At(n),r=e.batch.batchId;try{const s=await cI(t.localStore,e);PE(t,r,null),$E(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Du(t,s)}catch(s){await gc(s)}}async function ZI(n,e,t){const r=At(n);try{const s=await function(c,m){const u=At(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let l;return u.mutationQueue.lookupMutationBatch(g,m).next(h=>(on(h!==null),l=h.keys(),u.mutationQueue.removeMutationBatch(g,h))).next(()=>u.mutationQueue.performConsistencyCheck(g)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(g,l,m)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,l)).next(()=>u.localDocuments.getDocuments(g,l))})}(r.localStore,e);PE(r,e,t),$E(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Du(r,s)}catch(s){await gc(s)}}function $E(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function PE(n,e,t){const r=At(n);let s=r.qa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function nm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||OE(n,r)})}function OE(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Vm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Gm(n))}function j0(n,e,t){for(const r of t)r instanceof IE?(n.ka.addReference(r.key,e),JI(n,r)):r instanceof RE?(tt("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||OE(n,r.key)):St()}function JI(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(tt("SyncEngine","New document in limbo: "+t),n.Na.add(r),Gm(n))}function Gm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new dt(Tn.fromString(e)),r=n.Ka.next();n.Ba.set(r,new jI(t)),n.La=n.La.insert(t,r),bE(n.remoteStore,new sa(jo(of(t.path)),r,"TargetPurposeLimboResolution",tf.oe))}}async function Du(n,e,t){const r=At(n),s=[],o=[],c=[];r.xa.isEmpty()||(r.xa.forEach((m,u)=>{c.push(r.Ua(u,e,t).then(g=>{var l;if((g||t)&&r.isPrimaryClient){const h=g?!g.fromCache:(l=t==null?void 0:t.targetChanges.get(u.targetId))===null||l===void 0?void 0:l.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(g){s.push(g);const h=Fm.zi(u.targetId,g);o.push(h)}}))}),await Promise.all(c),r.Ma.R_(s),await async function(u,g){const l=At(u);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Pe.forEach(g,d=>Pe.forEach(d.Wi,f=>l.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>Pe.forEach(d.Gi,f=>l.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!mc(h))throw h;tt("LocalStore","Failed to update sequence numbers: "+h)}for(const h of g){const d=h.targetId;if(!h.fromCache){const f=l.us.get(d),p=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(p);l.us=l.us.insert(d,v)}}}(r.localStore,o))}async function eR(n,e){const t=At(n);if(!t.currentUser.isEqual(e)){tt("SyncEngine","User change. New user:",e.toKey());const r=await mE(t.localStore,e);t.currentUser=e,function(o,c){o.Qa.forEach(m=>{m.forEach(u=>{u.reject(new nt(Oe.CANCELLED,c))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Du(t,r.Ts)}}function tR(n,e){const t=At(n),r=t.Ba.get(e);if(r&&r.Fa)return zt().add(r.key);{let s=zt();const o=t.Oa.get(e);if(!o)return s;for(const c of o){const m=t.xa.get(c);s=s.unionWith(m.view.fa)}return s}}function DE(n){const e=At(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YI.bind(null,e),e.Ma.R_=FI.bind(null,e.eventManager),e.Ma.Wa=VI.bind(null,e.eventManager),e}function nR(n){const e=At(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZI.bind(null,e),e}class kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return lI(this.persistence,new sI,e.initialUser,this.serializer)}ja(e){return new gE(Nm.ei,this.serializer)}za(e){return new gI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kd.provider={build:()=>new kd};class rR extends kd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){on(this.persistence.referenceDelegate instanceof xd);const r=this.persistence.referenceDelegate.garbageCollector;return new Wk(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new gE(r=>xd.ei(r,t),this.serializer)}}class rm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eR.bind(null,this.syncEngine),await OI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NI}()}createDatastore(e){const t=hf(e.databaseInfo.databaseId),r=function(o){return new wI(o)}(e.databaseInfo);return function(o,c,m,u){return new EI(o,c,m,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,c,m){return new TI(r,s,o,c,m)}(this.localStore,this.datastore,e.asyncQueue,t=>z0(this.syncEngine,t,0),function(){return D0.p()?new D0:new mI}())}createSyncEngine(e,t){return function(s,o,c,m,u,g,l){const h=new UI(s,o,c,m,u,g);return l&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=At(s);tt("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Ou(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}rm.provider={build:()=>new rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Wr.UNAUTHENTICATED,this.clientId=D_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{tt("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(tt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Hm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gg(n,e){n.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await mE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function U0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await oR(n);tt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>N0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>N0(e.remoteStore,s)),n._onlineComponents=e}async function oR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){tt("FirestoreClient","Using user provided OfflineComponentProvider");try{await gg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Oe.FAILED_PRECONDITION||s.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;tc("Error using user provided cache. Falling back to memory cache: "+t),await gg(n,new kd)}}else tt("FirestoreClient","Using default OfflineComponentProvider"),await gg(n,new rR(void 0));return n._offlineComponents}async function FE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(tt("FirestoreClient","Using user provided OnlineComponentProvider"),await U0(n,n._uninitializedComponentsProvider._online)):(tt("FirestoreClient","Using default OnlineComponentProvider"),await U0(n,new rm))),n._onlineComponents}function sR(n){return FE(n).then(e=>e.syncEngine)}async function im(n){const e=await FE(n),t=e.eventManager;return t.onListen=HI.bind(null,e.syncEngine),t.onUnlisten=KI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=qI.bind(null,e.syncEngine),t}function aR(n,e,t={}){const r=new da;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,m,u,g){const l=new NE({next:d=>{l.eu(),c.enqueueAndForget(()=>AE(o,h));const f=d.docs.has(m);!f&&d.fromCache?g.reject(new nt(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&u&&u.source==="server"?g.reject(new nt(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(d)},error:d=>g.reject(d)}),h=new kE(of(m.path),l,{includeMetadataChanges:!0,ua:!0});return xE(o,h)}(await im(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n,e,t){if(!t)throw new nt(Oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lR(n,e,t,r){if(e===!0&&r===!0)throw new nt(Oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function W0(n){if(!dt.isDocumentKey(n))throw new nt(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function G0(n){if(dt.isDocumentKey(n))throw new nt(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":St()}function io(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new nt(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pf(n);throw new nt(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new nt(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new nt(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new nt(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new nt(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new nt(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bA;switch(r.type){case"firstParty":return new TA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nt(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=H0.get(t);r&&(tt("ComponentProvider","Removing Datastore"),H0.delete(t),r.terminate())}(this),Promise.resolve()}}function cR(n,e,t,r={}){var s;const o=(n=io(n,gf))._getSettings(),c=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let m,u;if(typeof r.mockUserToken=="string")m=r.mockUserToken,u=Wr.MOCK_USER;else{m=q1(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new nt(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Wr(g)}n._authCredentials=new _A(new O_(m,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new al(this.firestore,e,this._query)}}class Kr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kr(this.firestore,e,this._key)}}class fa extends al{constructor(e,t,r){super(e,t,of(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kr(this.firestore,null,new dt(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function Id(n,e,...t){if(n=Rr(n),BE("collection","path",e),n instanceof gf){const r=Tn.fromString(e,...t);return G0(r),new fa(n,null,r)}{if(!(n instanceof Kr||n instanceof fa))throw new nt(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return G0(r),new fa(n.firestore,null,r)}}function ac(n,e,...t){if(n=Rr(n),arguments.length===1&&(e=D_.newId()),BE("doc","path",e),n instanceof gf){const r=Tn.fromString(e,...t);return W0(r),new Kr(n,null,new dt(r))}{if(!(n instanceof Kr||n instanceof fa))throw new nt(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return W0(r),new Kr(n.firestore,n instanceof fa?n.converter:null,new dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new yE(this,"async_queue_retry"),this.fu=()=>{const r=pg();r&&tt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new da;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!mc(e))throw e;tt("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(c){let m=c.message||"";return c.stack&&(m=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),m}(r);throw bs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Um.createAndSchedule(this,e,t,r,o=>this.Su(o));return this.du.push(s),s}pu(){this.Au&&St()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function Q0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(n,["next","error","complete"])}class wa extends gf{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new q0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q0(e),this._firestoreClient=void 0,await e}}}function zE(n,e){const t=typeof n=="object"?n:x_(),r=typeof n=="string"?n:"(default)",s=Cm(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=G1("firestore");o&&cR(s,...o)}return s}function Km(n){if(n._terminated)throw new nt(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uR(n),n._firestoreClient}function uR(n){var e,t,r;const s=n._freezeSettings(),o=function(m,u,g,l){return new VA(m,u,g,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,VE(l.experimentalLongPollingOptions),l.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new iR(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(m){const u=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lc(Mr.fromBase64String(e))}catch(t){throw new nt(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lc(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new nt(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nt(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nt(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=/^__.*__$/;class dR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new $u(e,this.data,t,this.fieldTransforms)}}class jE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class Ym{constructor(e,t,r,s,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Ym(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Rd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(UE(this.Mu)&&hR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class fR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hf(e)}$u(e,t,r,s=!1){return new Ym({Mu:e,methodName:t,Ku:r,path:Ir.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yf(n){const e=n._freezeSettings(),t=hf(n._databaseId);return new fR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HE(n,e,t,r,s,o={}){const c=n.$u(o.merge||o.mergeFields?2:0,e,t,s);Zm("Data must be an object, but it was:",c,r);const m=WE(r,c);let u,g;if(o.merge)u=new Oi(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const l=[];for(const h of o.mergeFields){const d=om(e,h,t);if(!c.contains(d))throw new nt(Oe.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);KE(l,d)||l.push(d)}u=new Oi(l),g=c.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,g=c.fieldTransforms;return new dR(new Ei(m),u,g)}class wf extends vf{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}class Xm extends vf{_toFieldTransform(e){return new uk(e.path,new Su)}isEqual(e){return e instanceof Xm}}function pR(n,e,t,r){const s=n.$u(1,e,t);Zm("Data must be an object, but it was:",s,r);const o=[],c=Ei.empty();_a(r,(u,g)=>{const l=Jm(e,u,t);g=Rr(g);const h=s.Bu(l);if(g instanceof wf)o.push(l);else{const d=Nu(g,h);d!=null&&(o.push(l),c.set(l,d))}});const m=new Oi(o);return new jE(c,m,s.fieldTransforms)}function gR(n,e,t,r,s,o){const c=n.$u(1,e,t),m=[om(e,r,t)],u=[s];if(o.length%2!=0)throw new nt(Oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)m.push(om(e,o[d])),u.push(o[d+1]);const g=[],l=Ei.empty();for(let d=m.length-1;d>=0;--d)if(!KE(g,m[d])){const f=m[d];let p=u[d];p=Rr(p);const v=c.Bu(f);if(p instanceof wf)g.push(f);else{const y=Nu(p,v);y!=null&&(g.push(f),l.set(f,y))}}const h=new Oi(g);return new jE(l,h,c.fieldTransforms)}function mR(n,e,t,r=!1){return Nu(t,n.$u(r?4:3,e))}function Nu(n,e){if(GE(n=Rr(n)))return Zm("Unsupported field value:",e,n),WE(n,e);if(n instanceof vf)return function(r,s){if(!UE(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const o=[];let c=0;for(const m of r){let u=Nu(m,s.ku(c));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),c++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=Rr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ak(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=lr.fromDate(r);return{timestampValue:Cd(s.serializer,o)}}if(r instanceof lr){const o=new lr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cd(s.serializer,o)}}if(r instanceof qm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lc)return{bytesValue:lE(s.serializer,r._byteString)};if(r instanceof Kr){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Om(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Qm)return function(c,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(u=>{if(typeof u!="number")throw m.qu("VectorValues must only contain numeric values.");return Mm(m.serializer,u)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${pf(r)}`)}(n,e)}function WE(n,e){const t={};return N_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(n,(r,s)=>{const o=Nu(s,e.Ou(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function GE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof lr||n instanceof qm||n instanceof lc||n instanceof Kr||n instanceof vf||n instanceof Qm)}function Zm(n,e,t){if(!GE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=pf(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function om(n,e,t){if((e=Rr(e))instanceof mf)return e._internalPath;if(typeof e=="string")return Jm(n,e);throw Rd("Field path arguments must be of type string or ",n,!1,void 0,t)}const vR=new RegExp("[~\\*/\\[\\]]");function Jm(n,e,t){if(e.search(vR)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mf(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rd(n,e,t,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let u="";return(o||c)&&(u+=" (found",o&&(u+=` in field ${r}`),c&&(u+=` in document ${s}`),u+=")"),new nt(Oe.INVALID_ARGUMENT,m+n+u)}function KE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ev("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yR extends qE{data(){return super.data()}}function ev(n,e){return typeof e=="string"?Jm(n,e):e instanceof mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new nt(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tv{}class QE extends tv{}function bR(n,e,...t){let r=[];e instanceof tv&&r.push(e),r=r.concat(t),function(o){const c=o.filter(u=>u instanceof rv).length,m=o.filter(u=>u instanceof nv).length;if(c>1||c>0&&m>0)throw new nt(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class nv extends QE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new nv(e,t,r)}_apply(e){const t=this._parse(e);return YE(e._query,t),new al(e.firestore,e.converter,qg(e._query,t))}_parse(e){const t=yf(e.firestore);return function(o,c,m,u,g,l,h){let d;if(g.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new nt(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){X0(h,l);const f=[];for(const p of h)f.push(Y0(u,o,p));d={arrayValue:{values:f}}}else d=Y0(u,o,h)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||X0(h,l),d=mR(m,c,h,l==="in"||l==="not-in");return Jn.create(g,l,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class rv extends tv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:bo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let c=s;const m=o.getFlattenedFilters();for(const u of m)YE(c,u),c=qg(c,u)}(e._query,t),new al(e.firestore,e.converter,qg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iv extends QE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new iv(e,t)}_apply(e){const t=function(s,o,c){if(s.startAt!==null)throw new nt(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new nt(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(o,c)}(e._query,this._field,this._direction);return new al(e.firestore,e.converter,function(s,o){const c=s.explicitOrderBy.concat([o]);return new vc(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function _R(n,e="asc"){const t=e,r=ev("orderBy",n);return iv._create(r,t)}function Y0(n,e,t){if(typeof(t=Rr(t))=="string"){if(t==="")throw new nt(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G_(e)&&t.indexOf("/")!==-1)throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tn.fromString(t));if(!dt.isDocumentKey(r))throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m0(n,new dt(r))}if(t instanceof Kr)return m0(n,t._key);throw new nt(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(t)}.`)}function X0(n,e){if(!Array.isArray(n)||n.length===0)throw new nt(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YE(n,e){const t=function(s,o){for(const c of s)for(const m of c.getFlattenedFilters())if(o.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new nt(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ER{convertValue(e,t="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw St()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return _a(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(c=>Un(c.doubleValue));return new Qm(o)}convertGeoPoint(e){return new qm(Un(e.latitude),Un(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=ga(e);return new lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tn.fromString(e);on(pE(r));const s=new bu(r.get(1),r.get(3)),o=new dt(r.popFirst(5));return s.isEqual(t)||bs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZE extends qE{constructor(e,t,r,s,o,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ev("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class dd extends ZE{data(e={}){return super.data(e)}}class SR{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ou(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new dd(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nt(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(m=>{const u=new dd(s._firestore,s._userDataWriter,m.doc.key,m.doc,new ou(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>o||m.type!==3).map(m=>{const u=new dd(s._firestore,s._userDataWriter,m.doc.key,m.doc,new ou(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,l=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),l=c.indexOf(m.doc.key)),{type:TR(m.type),doc:u,oldIndex:g,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function TR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n){n=io(n,Kr);const e=io(n.firestore,wa);return aR(Km(e),n._key).then(t=>nS(e,n,t))}class eS extends ER{constructor(e){super(),this.firestore=e}convertBytes(e){return new lc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,t)}}function sm(n,e,t){n=io(n,Kr);const r=io(n.firestore,wa),s=XE(n.converter,e);return bf(r,[HE(yf(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ro.none())])}function CR(n,e,t,...r){n=io(n,Kr);const s=io(n.firestore,wa),o=yf(s);let c;return c=typeof(e=Rr(e))=="string"||e instanceof mf?gR(o,"updateDoc",n._key,e,t,r):pR(o,"updateDoc",n._key,e),bf(s,[c.toMutation(n._key,ro.exists(!0))])}function xR(n){return bf(io(n.firestore,wa),[new Lm(n._key,ro.none())])}function tS(n,e){const t=io(n.firestore,wa),r=ac(n),s=XE(n.converter,e);return bf(t,[HE(yf(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ro.exists(!1))]).then(()=>r)}function Z0(n,...e){var t,r,s;n=Rr(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Q0(e[c])||(o=e[c],c++);const m={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Q0(e[c])){const h=e[c];e[c]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[c+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[c+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let u,g,l;if(n instanceof Kr)g=io(n.firestore,wa),l=of(n._key.path),u={next:h=>{e[c]&&e[c](nS(g,n,h))},error:e[c+1],complete:e[c+2]};else{const h=io(n,al);g=io(h.firestore,wa),l=h._query;const d=new eS(g);u={next:f=>{e[c]&&e[c](new SR(g,d,h,f))},error:e[c+1],complete:e[c+2]},wR(n._query)}return function(d,f,p,v){const y=new NE(v),C=new kE(f,y,p);return d.asyncQueue.enqueueAndForget(async()=>xE(await im(d),C)),()=>{y.eu(),d.asyncQueue.enqueueAndForget(async()=>AE(await im(d),C))}}(Km(g),l,m,u)}function bf(n,e){return function(r,s){const o=new da;return r.asyncQueue.enqueueAndForget(async()=>QI(await sR(r),s,o)),o.promise}(Km(n),e)}function nS(n,e,t){const r=t.docs.get(e._key),s=new eS(n);return new ZE(n,s,e._key,r,new ou(t.hasPendingWrites,t.fromCache),e.converter)}function Qa(){return new Xm("serverTimestamp")}(function(e,t=!0){(function(s){pc=s})(fc),ec(new Za("firestore",(r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),m=new wa(new EA(r.getProvider("auth-internal")),new xA(r.getProvider("app-check-internal")),function(g,l){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new nt(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(g.options.projectId,l)}(c,s),c);return o=Object.assign({useFetchStreams:t},o),m._setSettings(o),m},"PUBLIC").setMultipleInstances(!0)),ha(u0,"4.7.5",e),ha(u0,"4.7.5","esm2017")})();const AR={apiKey:"AIzaSyDTzogyvt9OxwHYGjuTAbBtilg8rBn_YoY",authDomain:"test-45e2a.firebaseapp.com",projectId:"test-45e2a",storageBucket:"test-45e2a.appspot.com",messagingSenderId:"498846669559",appId:"1:498846669559:web:efe3d17bd226fd6d1d51f2",measurementId:"G-8ZQGTJ2SJV"},kR=C_(AR),cc=zE(kR),Fu=se.createContext(),IR=({children:n})=>{const[e,t]=se.useState([]),[r,s]=se.useState([]);return se.useEffect(()=>{const o=Z0(Id(cc,"quiz"),c=>{const m=c.docs.map(u=>({id:u.id,...u.data()}));t(m)},c=>{console.error("Error fetching quizs: ",c)});return()=>o()},[]),se.useEffect(()=>{const o=bR(Id(cc,"lessons"),_R("createdAt","asc")),c=Z0(o,m=>{const u=m.docs.map(g=>({id:g.id,...g.data()}));s(u)},m=>{console.error("Error fetching lessons: ",m)});return()=>c()},[]),fe.jsx(Fu.Provider,{value:{quizs:e,lessons:r},children:n})},rS=se.createContext(null),RR=30*60*1e3,MR=({children:n})=>{const[e,t]=se.useState(()=>{const l=localStorage.getItem("userInfo");return l?JSON.parse(l):null}),[r,s]=se.useState(Date.now()),[o,c]=se.useState(!1);se.useEffect(()=>{if(!e)return;const l=()=>{s(Date.now()),localStorage.setItem("lastActivity",Date.now().toString())};window.addEventListener("mousemove",l),window.addEventListener("keypress",l),window.addEventListener("click",l),window.addEventListener("scroll",l);const h=setInterval(()=>{const d=Date.now(),f=parseInt(localStorage.getItem("lastActivity")||Date.now());d-f>RR&&(u(),alert("因閒置過久，已自動登出"))},1e3);return()=>{window.removeEventListener("mousemove",l),window.removeEventListener("keypress",l),window.removeEventListener("click",l),window.removeEventListener("scroll",l),clearInterval(h)}},[e]);const m=l=>{t(l),c(!1),localStorage.setItem("userInfo",JSON.stringify(l)),localStorage.setItem("lastActivity",Date.now().toString())},u=()=>{t(null),c(!0),localStorage.removeItem("userInfo"),localStorage.removeItem("lastActivity")},g=se.useMemo(()=>({userInfo:e,isLoggedOut:o,login:m,logout:u}),[e]);return fe.jsx(rS.Provider,{value:g,children:n})},wc=()=>{const n=se.useContext(rS);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n};var mg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var J0;function LR(){return J0||(J0=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",c=0;c<arguments.length;c++){var m=arguments[c];m&&(o=s(o,r(m)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var c="";for(var m in o)e.call(o,m)&&o[m]&&(c=s(c,m));return c}function s(o,c){return c?o?o+" "+c:o+c:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(mg)),mg.exports}var $R=LR();const nn=il($R);function am(){return am=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},am.apply(null,arguments)}function iS(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function eb(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function PR(n){var e=OR(n,"string");return typeof e=="symbol"?e:String(e)}function OR(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function DR(n,e,t){var r=se.useRef(n!==void 0),s=se.useState(e),o=s[0],c=s[1],m=n!==void 0,u=r.current;return r.current=m,!m&&u&&o!==e&&c(e),[m?n:o,se.useCallback(function(g){for(var l=arguments.length,h=new Array(l>1?l-1:0),d=1;d<l;d++)h[d-1]=arguments[d];t&&t.apply(void 0,[g].concat(h)),c(g)},[t])]}function NR(n,e){return Object.keys(e).reduce(function(t,r){var s,o=t,c=o[eb(r)],m=o[r],u=iS(o,[eb(r),r].map(PR)),g=e[r],l=DR(m,c,n[g]),h=l[0],d=l[1];return am({},u,(s={},s[r]=h,s[g]=d,s))},n)}function lm(n,e){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},lm(n,e)}function FR(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,lm(n,e)}const VR=["xxl","xl","lg","md","sm","xs"],BR="xs",_f=se.createContext({prefixes:{},breakpoints:VR,minBreakpoint:BR});function xn(n,e){const{prefixes:t}=se.useContext(_f);return n||t[e]||e}function oS(){const{breakpoints:n}=se.useContext(_f);return n}function sS(){const{minBreakpoint:n}=se.useContext(_f);return n}function zR(){const{dir:n}=se.useContext(_f);return n==="rtl"}function Ef(n){return n&&n.ownerDocument||document}function jR(n){var e=Ef(n);return e&&e.defaultView||window}function UR(n,e){return jR(n).getComputedStyle(n,e)}var HR=/([A-Z])/g;function WR(n){return n.replace(HR,"-$1").toLowerCase()}var GR=/^ms-/;function ed(n){return WR(n).replace(GR,"-ms-")}var KR=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function qR(n){return!!(n&&KR.test(n))}function Ya(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(ed(e))||UR(n).getPropertyValue(ed(e));Object.keys(e).forEach(function(s){var o=e[s];!o&&o!==0?n.style.removeProperty(ed(s)):qR(s)?r+=s+"("+o+") ":t+=ed(s)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var vg={exports:{}},yg,tb;function QR(){if(tb)return yg;tb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yg=n,yg}var wg,nb;function YR(){if(nb)return wg;nb=1;var n=QR();function e(){}function t(){}return t.resetWarningCache=e,wg=function(){function r(c,m,u,g,l,h){if(h!==n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},wg}var rb;function Sf(){return rb||(rb=1,vg.exports=YR()()),vg.exports}var XR=Sf();const gs=il(XR);var ZR=m_();const Hl=il(ZR),ib={disabled:!1},aS=Ga.createContext(null);var JR=function(e){return e.scrollTop},su="unmounted",Ha="exited",ea="entering",Wa="entered",cm="exiting",Cs=function(n){FR(e,n);function e(r,s){var o;o=n.call(this,r,s)||this;var c=s,m=c&&!c.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?m?(u=Ha,o.appearStatus=ea):u=Wa:r.unmountOnExit||r.mountOnEnter?u=su:u=Ha,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(s,o){var c=s.in;return c&&o.status===su?{status:Ha}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var o=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==ea&&c!==Wa&&(o=ea):(c===ea||c===Wa)&&(o=cm)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,o,c,m;return o=c=m=s,s!=null&&typeof s!="number"&&(o=s.exit,c=s.enter,m=s.appear!==void 0?s.appear:c),{exit:o,enter:c,appear:m}},t.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===ea){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Hl.findDOMNode(this);c&&JR(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ha&&this.setState({status:su})},t.performEnter=function(s){var o=this,c=this.props.enter,m=this.context?this.context.isMounting:s,u=this.props.nodeRef?[m]:[Hl.findDOMNode(this),m],g=u[0],l=u[1],h=this.getTimeouts(),d=m?h.appear:h.enter;if(!s&&!c||ib.disabled){this.safeSetState({status:Wa},function(){o.props.onEntered(g)});return}this.props.onEnter(g,l),this.safeSetState({status:ea},function(){o.props.onEntering(g,l),o.onTransitionEnd(d,function(){o.safeSetState({status:Wa},function(){o.props.onEntered(g,l)})})})},t.performExit=function(){var s=this,o=this.props.exit,c=this.getTimeouts(),m=this.props.nodeRef?void 0:Hl.findDOMNode(this);if(!o||ib.disabled){this.safeSetState({status:Ha},function(){s.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:cm},function(){s.props.onExiting(m),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:Ha},function(){s.props.onExited(m)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},t.setNextCallback=function(s){var o=this,c=!0;return this.nextCallback=function(m){c&&(c=!1,o.nextCallback=null,s(m))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(s,o){this.setNextCallback(o);var c=this.props.nodeRef?this.props.nodeRef.current:Hl.findDOMNode(this),m=s==null&&!this.props.addEndListener;if(!c||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=u[0],l=u[1];this.props.addEndListener(g,l)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===su)return null;var o=this.props,c=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var m=iS(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ga.createElement(aS.Provider,{value:null},typeof c=="function"?c(s,m):Ga.cloneElement(Ga.Children.only(c),m))},e}(Ga.Component);Cs.contextType=aS;Cs.propTypes={};function Ol(){}Cs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ol,onEntering:Ol,onEntered:Ol,onExit:Ol,onExiting:Ol,onExited:Ol};Cs.UNMOUNTED=su;Cs.EXITED=Ha;Cs.ENTERING=ea;Cs.ENTERED=Wa;Cs.EXITING=cm;function eM(n){return n.code==="Escape"||n.keyCode===27}function tM(){const n=se.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Tf(n){if(!n||typeof n=="function")return null;const{major:e}=tM();return e>=19?n.props.ref:n.ref}const bc=!!(typeof window<"u"&&window.document&&window.document.createElement);var um=!1,hm=!1;try{var bg={get passive(){return um=!0},get once(){return hm=um=!0}};bc&&(window.addEventListener("test",bg,bg),window.removeEventListener("test",bg,!0))}catch{}function lS(n,e,t,r){if(r&&typeof r!="boolean"&&!hm){var s=r.once,o=r.capture,c=t;!hm&&s&&(c=t.__once||function m(u){this.removeEventListener(e,m,o),t.call(this,u)},t.__once=c),n.addEventListener(e,c,um?r:o)}n.addEventListener(e,t,r)}function dm(n,e,t,r){var s=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function Md(n,e,t,r){return lS(n,e,t,r),function(){dm(n,e,t,r)}}function nM(n,e,t,r){if(r===void 0&&(r=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,r),n.dispatchEvent(s)}}function rM(n){var e=Ya(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function iM(n,e,t){t===void 0&&(t=5);var r=!1,s=setTimeout(function(){r||nM(n,"transitionend",!0)},e+t),o=Md(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),o()}}function cS(n,e,t,r){t==null&&(t=rM(n)||0);var s=iM(n,t,r),o=Md(n,"transitionend",e);return function(){s(),o()}}function ob(n,e){const t=Ya(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function oM(n,e){const t=ob(n,"transitionDuration"),r=ob(n,"transitionDelay"),s=cS(n,o=>{o.target===n&&(s(),e(o))},t+r)}function sM(n){n.offsetHeight}const sb=n=>!n||typeof n=="function"?n:e=>{n.current=e};function aM(n,e){const t=sb(n),r=sb(e);return s=>{t&&t(s),r&&r(s)}}function uS(n,e){return se.useMemo(()=>aM(n,e),[n,e])}function lM(n){return n&&"setState"in n?Hl.findDOMNode(n):n??null}const cM=Ga.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,onExited:o,addEndListener:c,children:m,childRef:u,...g},l)=>{const h=se.useRef(null),d=uS(h,u),f=E=>{d(lM(E))},p=E=>_=>{E&&h.current&&E(h.current,_)},v=se.useCallback(p(n),[n]),y=se.useCallback(p(e),[e]),C=se.useCallback(p(t),[t]),k=se.useCallback(p(r),[r]),F=se.useCallback(p(s),[s]),O=se.useCallback(p(o),[o]),L=se.useCallback(p(c),[c]);return fe.jsx(Cs,{ref:l,...g,onEnter:v,onEntered:C,onEntering:y,onExit:k,onExited:O,onExiting:F,addEndListener:L,nodeRef:h,children:typeof m=="function"?(E,_)=>m(E,{..._,ref:f}):Ga.cloneElement(m,{ref:f})})});function uM(n){const e=se.useRef(n);return se.useEffect(()=>{e.current=n},[n]),e}function Ld(n){const e=uM(n);return se.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const hS=n=>se.forwardRef((e,t)=>fe.jsx("div",{...e,ref:t,className:nn(e.className,n)})),dS=hS("h4");dS.displayName="DivStyledAsH4";const fS=se.forwardRef(({className:n,bsPrefix:e,as:t=dS,...r},s)=>(e=xn(e,"alert-heading"),fe.jsx(t,{ref:s,className:nn(n,e),...r})));fS.displayName="AlertHeading";function hM(n){const e=se.useRef(n);return se.useEffect(()=>{e.current=n},[n]),e}function ta(n){const e=hM(n);return se.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function dM(){const n=se.useRef(!0),e=se.useRef(()=>n.current);return se.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function fM(n){const e=se.useRef(null);return se.useEffect(()=>{e.current=n}),e.current}const pM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",gM=typeof document<"u",ab=gM||pM?se.useLayoutEffect:se.useEffect,mM=["as","disabled"];function vM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function yM(n){return!n||n.trim()==="#"}function ov({tagName:n,disabled:e,href:t,target:r,rel:s,role:o,onClick:c,tabIndex:m=0,type:u}){n||(t!=null||r!=null||s!=null?n="a":n="button");const g={tagName:n};if(n==="button")return[{type:u||"button",disabled:e},g];const l=d=>{if((e||n==="a"&&yM(t))&&d.preventDefault(),e){d.stopPropagation();return}c==null||c(d)},h=d=>{d.key===" "&&(d.preventDefault(),l(d))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:m,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:l,onKeyDown:h},g]}const wM=se.forwardRef((n,e)=>{let{as:t,disabled:r}=n,s=vM(n,mM);const[o,{tagName:c}]=ov(Object.assign({tagName:t,disabled:r},s));return fe.jsx(c,Object.assign({},s,o,{ref:e}))});wM.displayName="Button";const bM=["onKeyDown"];function _M(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function EM(n){return!n||n.trim()==="#"}const pS=se.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=_M(n,bM);const[s]=ov(Object.assign({tagName:"a"},r)),o=ta(c=>{s.onKeyDown(c),t==null||t(c)});return EM(r.href)||r.role==="button"?fe.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:o})):fe.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});pS.displayName="Anchor";const gS=se.forwardRef(({className:n,bsPrefix:e,as:t=pS,...r},s)=>(e=xn(e,"alert-link"),fe.jsx(t,{ref:s,className:nn(n,e),...r})));gS.displayName="AlertLink";const SM={[ea]:"show",[Wa]:"show"},xu=se.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...s},o)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},m=se.useCallback((u,g)=>{sM(u),r==null||r(u,g)},[r]);return fe.jsx(cM,{ref:o,addEndListener:oM,...c,onEnter:m,childRef:Tf(e),children:(u,g)=>se.cloneElement(e,{...g,className:nn("fade",n,e.props.className,SM[u],t[u])})})});xu.displayName="Fade";const TM={"aria-label":gs.string,onClick:gs.func,variant:gs.oneOf(["white"])},Cf=se.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},s)=>fe.jsx("button",{ref:s,type:"button",className:nn("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));Cf.displayName="CloseButton";Cf.propTypes=TM;const mS=se.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:s="Close alert",closeVariant:o,className:c,children:m,variant:u="primary",onClose:g,dismissible:l,transition:h=xu,...d}=NR(n,{show:"onClose"}),f=xn(t,"alert"),p=Ld(C=>{g&&g(!1,C)}),v=h===!0?xu:h,y=fe.jsxs("div",{role:"alert",...v?void 0:d,ref:e,className:nn(c,f,u&&`${f}-${u}`,l&&`${f}-dismissible`),children:[l&&fe.jsx(Cf,{onClick:p,"aria-label":s,variant:o}),m]});return v?fe.jsx(v,{unmountOnExit:!0,...d,ref:void 0,in:r,children:y}):r?y:null});mS.displayName="Alert";const CM=Object.assign(mS,{Link:gS,Heading:fS}),Si=se.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:s=!1,disabled:o=!1,className:c,...m},u)=>{const g=xn(e,"btn"),[l,{tagName:h}]=ov({tagName:n,disabled:o,...m}),d=h;return fe.jsx(d,{...l,...m,ref:u,disabled:o,className:nn(c,g,s&&"active",t&&`${g}-${t}`,r&&`${g}-${r}`,m.href&&o&&"disabled")})});Si.displayName="Button";function xM(n){const e=se.useRef(n);return e.current=n,e}function AM(n){const e=xM(n);se.useEffect(()=>()=>e.current(),[])}function kM(n,e){return se.Children.toArray(n).some(t=>se.isValidElement(t)&&t.type===e)}function IM({as:n,bsPrefix:e,className:t,...r}){e=xn(e,"col");const s=oS(),o=sS(),c=[],m=[];return s.forEach(u=>{const g=r[u];delete r[u];let l,h,d;typeof g=="object"&&g!=null?{span:l,offset:h,order:d}=g:l=g;const f=u!==o?`-${u}`:"";l&&c.push(l===!0?`${e}${f}`:`${e}${f}-${l}`),d!=null&&m.push(`order${f}-${d}`),h!=null&&m.push(`offset${f}-${h}`)}),[{...r,className:nn(t,...c,...m)},{as:n,bsPrefix:e,spans:c}]}const $d=se.forwardRef((n,e)=>{const[{className:t,...r},{as:s="div",bsPrefix:o,spans:c}]=IM(n);return fe.jsx(s,{...r,ref:e,className:nn(t,!c.length&&o)})});$d.displayName="Col";var RM=Function.prototype.bind.call(Function.prototype.call,[].slice);function Dl(n,e){return RM(n.querySelectorAll(e))}function lb(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const MM="data-rr-ui-";function LM(n){return`${MM}${n}`}const vS=se.createContext(bc?window:void 0);vS.Provider;function sv(){return se.useContext(vS)}const $M={type:gs.string,tooltip:gs.bool,as:gs.elementType},xf=se.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...s},o)=>fe.jsx(n,{...s,ref:o,className:nn(e,`${t}-${r?"tooltip":"feedback"}`)}));xf.displayName="Feedback";xf.propTypes=$M;const Es=se.createContext({}),av=se.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:s=!1,isInvalid:o=!1,as:c="input",...m},u)=>{const{controlId:g}=se.useContext(Es);return e=xn(e,"form-check-input"),fe.jsx(c,{...m,ref:u,type:r,id:n||g,className:nn(t,e,s&&"is-valid",o&&"is-invalid")})});av.displayName="FormCheckInput";const Pd=se.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},s)=>{const{controlId:o}=se.useContext(Es);return n=xn(n,"form-check-label"),fe.jsx("label",{...r,ref:s,htmlFor:t||o,className:nn(e,n)})});Pd.displayName="FormCheckLabel";const yS=se.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:s=!1,disabled:o=!1,isValid:c=!1,isInvalid:m=!1,feedbackTooltip:u=!1,feedback:g,feedbackType:l,className:h,style:d,title:f="",type:p="checkbox",label:v,children:y,as:C="input",...k},F)=>{e=xn(e,"form-check"),t=xn(t,"form-switch");const{controlId:O}=se.useContext(Es),L=se.useMemo(()=>({controlId:n||O}),[O,n]),E=!y&&v!=null&&v!==!1||kM(y,Pd),_=fe.jsx(av,{...k,type:p==="switch"?"checkbox":p,ref:F,isValid:c,isInvalid:m,disabled:o,as:C});return fe.jsx(Es.Provider,{value:L,children:fe.jsx("div",{style:d,className:nn(h,E&&e,r&&`${e}-inline`,s&&`${e}-reverse`,p==="switch"&&t),children:y||fe.jsxs(fe.Fragment,{children:[_,E&&fe.jsx(Pd,{title:f,children:v}),g&&fe.jsx(xf,{type:l,tooltip:u,children:g})]})})})});yS.displayName="FormCheck";const Od=Object.assign(yS,{Input:av,Label:Pd}),wS=se.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:s,className:o,isValid:c=!1,isInvalid:m=!1,plaintext:u,readOnly:g,as:l="input",...h},d)=>{const{controlId:f}=se.useContext(Es);return n=xn(n,"form-control"),fe.jsx(l,{...h,type:e,size:r,ref:d,readOnly:g,id:s||f,className:nn(o,u?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",m&&"is-invalid")})});wS.displayName="FormControl";const PM=Object.assign(wS,{Feedback:xf}),bS=se.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=xn(e,"form-floating"),fe.jsx(t,{ref:s,className:nn(n,e),...r})));bS.displayName="FormFloating";const lv=se.forwardRef(({controlId:n,as:e="div",...t},r)=>{const s=se.useMemo(()=>({controlId:n}),[n]);return fe.jsx(Es.Provider,{value:s,children:fe.jsx(e,{...t,ref:r})})});lv.displayName="FormGroup";const _S=se.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:s,htmlFor:o,...c},m)=>{const{controlId:u}=se.useContext(Es);e=xn(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const l=nn(s,e,r&&"visually-hidden",t&&g);return o=o||u,t?fe.jsx($d,{ref:m,as:"label",className:l,htmlFor:o,...c}):fe.jsx(n,{ref:m,className:l,htmlFor:o,...c})});_S.displayName="FormLabel";const ES=se.forwardRef(({bsPrefix:n,className:e,id:t,...r},s)=>{const{controlId:o}=se.useContext(Es);return n=xn(n,"form-range"),fe.jsx("input",{...r,type:"range",ref:s,className:nn(e,n),id:t||o})});ES.displayName="FormRange";const SS=se.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:s=!1,isInvalid:o=!1,id:c,...m},u)=>{const{controlId:g}=se.useContext(Es);return n=xn(n,"form-select"),fe.jsx("select",{...m,size:t,ref:u,className:nn(r,n,e&&`${n}-${e}`,s&&"is-valid",o&&"is-invalid"),id:c||g})});SS.displayName="FormSelect";const TS=se.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...s},o)=>(n=xn(n,"form-text"),fe.jsx(t,{...s,ref:o,className:nn(e,n,r&&"text-muted")})));TS.displayName="FormText";const CS=se.forwardRef((n,e)=>fe.jsx(Od,{...n,ref:e,type:"switch"}));CS.displayName="Switch";const OM=Object.assign(CS,{Input:Od.Input,Label:Od.Label}),xS=se.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:s,...o},c)=>(n=xn(n,"form-floating"),fe.jsxs(lv,{ref:c,className:nn(e,n),controlId:r,...o,children:[t,fe.jsx("label",{htmlFor:r,children:s})]})));xS.displayName="FloatingLabel";const DM={_ref:gs.any,validated:gs.bool,as:gs.elementType},cv=se.forwardRef(({className:n,validated:e,as:t="form",...r},s)=>fe.jsx(t,{...r,ref:s,className:nn(n,e&&"was-validated")}));cv.displayName="Form";cv.propTypes=DM;const Xt=Object.assign(cv,{Group:lv,Control:PM,Floating:bS,Check:Od,Switch:OM,Label:_S,Text:TS,Range:ES,Select:SS,FloatingLabel:xS}),cb=n=>!n||typeof n=="function"?n:e=>{n.current=e};function NM(n,e){const t=cb(n),r=cb(e);return s=>{t&&t(s),r&&r(s)}}function uv(n,e){return se.useMemo(()=>NM(n,e),[n,e])}var td;function ub(n){if((!td&&td!==0||n)&&bc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),td=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return td}function FM(){return se.useState(null)}function _g(n){n===void 0&&(n=Ef());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function VM(n){const e=se.useRef(n);return e.current=n,e}function BM(n){const e=VM(n);se.useEffect(()=>()=>e.current(),[])}function zM(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const hb=LM("modal-open");class hv{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return zM(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(Ya(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(hb,""),Ya(s,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(hb),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Eg=(n,e)=>bc?n==null?(e||Ef()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function jM(n,e){const t=sv(),[r,s]=se.useState(()=>Eg(n,t==null?void 0:t.document));if(!r){const o=Eg(n);o&&s(o)}return se.useEffect(()=>{},[e,r]),se.useEffect(()=>{const o=Eg(n);o!==r&&s(o)},[n,r]),r}function UM({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:s}){const o=se.useRef(null),c=se.useRef(e),m=ta(t);se.useEffect(()=>{e?c.current=!0:m(o.current)},[e,m]);const u=uv(o,Tf(n)),g=se.cloneElement(n,{ref:u});return e?g:s||!c.current&&r?null:g}const HM=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function WM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function GM(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:s,onExiting:o,onExited:c,addEndListener:m,children:u}=n,g=WM(n,HM);const l=se.useRef(null),h=uv(l,Tf(u)),d=O=>L=>{O&&l.current&&O(l.current,L)},f=se.useCallback(d(e),[e]),p=se.useCallback(d(t),[t]),v=se.useCallback(d(r),[r]),y=se.useCallback(d(s),[s]),C=se.useCallback(d(o),[o]),k=se.useCallback(d(c),[c]),F=se.useCallback(d(m),[m]);return Object.assign({},g,{nodeRef:l},e&&{onEnter:f},t&&{onEntering:p},r&&{onEntered:v},s&&{onExit:y},o&&{onExiting:C},c&&{onExited:k},m&&{addEndListener:F},{children:typeof u=="function"?(O,L)=>u(O,Object.assign({},L,{ref:h})):se.cloneElement(u,{ref:h})})}const KM=["component"];function qM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const QM=se.forwardRef((n,e)=>{let{component:t}=n,r=qM(n,KM);const s=GM(r);return fe.jsx(t,Object.assign({ref:e},s))});function YM({in:n,onTransition:e}){const t=se.useRef(null),r=se.useRef(!0),s=ta(e);return ab(()=>{if(!t.current)return;let o=!1;return s({in:n,element:t.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[n,s]),ab(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function XM({children:n,in:e,onExited:t,onEntered:r,transition:s}){const[o,c]=se.useState(!e);e&&o&&c(!1);const m=YM({in:!!e,onTransition:g=>{const l=()=>{g.isStale()||(g.in?r==null||r(g.element,g.initial):(c(!0),t==null||t(g.element)))};Promise.resolve(s(g)).then(l,h=>{throw g.in||c(!0),h})}}),u=uv(m,Tf(n));return o&&!e?null:se.cloneElement(n,{ref:u})}function db(n,e,t){return n?fe.jsx(QM,Object.assign({},t,{component:n})):e?fe.jsx(XM,Object.assign({},t,{transition:e})):fe.jsx(UM,Object.assign({},t))}const ZM=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function JM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let Sg;function eL(n){return Sg||(Sg=new hv({ownerDocument:n==null?void 0:n.document})),Sg}function tL(n){const e=sv(),t=n||eL(e),r=se.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:se.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:se.useCallback(s=>{r.current.backdrop=s},[])})}const AS=se.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:s,style:o,children:c,backdrop:m=!0,keyboard:u=!0,onBackdropClick:g,onEscapeKeyDown:l,transition:h,runTransition:d,backdropTransition:f,runBackdropTransition:p,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:C=!0,restoreFocusOptions:k,renderDialog:F,renderBackdrop:O=Ge=>fe.jsx("div",Object.assign({},Ge)),manager:L,container:E,onShow:_,onHide:I=()=>{},onExit:M,onExited:$,onExiting:B,onEnter:T,onEntering:b,onEntered:P}=n,N=JM(n,ZM);const z=sv(),q=jM(E),K=tL(L),J=dM(),Q=fM(t),[U,re]=se.useState(!t),Z=se.useRef(null);se.useImperativeHandle(e,()=>K,[K]),bc&&!Q&&t&&(Z.current=_g(z==null?void 0:z.document)),t&&U&&re(!1);const ue=ta(()=>{if(K.add(),Ae.current=Md(document,"keydown",Ee),me.current=Md(document,"focus",()=>setTimeout(oe),!0),_&&_(),v){var Ge,yt;const Ot=_g((Ge=(yt=K.dialog)==null?void 0:yt.ownerDocument)!=null?Ge:z==null?void 0:z.document);K.dialog&&Ot&&!lb(K.dialog,Ot)&&(Z.current=Ot,K.dialog.focus())}}),ce=ta(()=>{if(K.remove(),Ae.current==null||Ae.current(),me.current==null||me.current(),C){var Ge;(Ge=Z.current)==null||Ge.focus==null||Ge.focus(k),Z.current=null}});se.useEffect(()=>{!t||!q||ue()},[t,q,ue]),se.useEffect(()=>{U&&ce()},[U,ce]),BM(()=>{ce()});const oe=ta(()=>{if(!y||!J()||!K.isTopModal())return;const Ge=_g(z==null?void 0:z.document);K.dialog&&Ge&&!lb(K.dialog,Ge)&&K.dialog.focus()}),pe=ta(Ge=>{Ge.target===Ge.currentTarget&&(g==null||g(Ge),m===!0&&I())}),Ee=ta(Ge=>{u&&eM(Ge)&&K.isTopModal()&&(l==null||l(Ge),Ge.defaultPrevented||I())}),me=se.useRef(),Ae=se.useRef(),$e=(...Ge)=>{re(!0),$==null||$(...Ge)};if(!q)return null;const Qe=Object.assign({role:r,ref:K.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},N,{style:o,className:s,tabIndex:-1});let ut=F?F(Qe):fe.jsx("div",Object.assign({},Qe,{children:se.cloneElement(c,{role:"document"})}));ut=db(h,d,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:M,onExiting:B,onExited:$e,onEnter:T,onEntering:b,onEntered:P,children:ut});let qe=null;return m&&(qe=O({ref:K.setBackdropRef,onClick:pe}),qe=db(f,p,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:qe})),fe.jsx(fe.Fragment,{children:Hl.createPortal(fe.jsxs(fe.Fragment,{children:[qe,ut]}),q)})});AS.displayName="Modal";const nL=Object.assign(AS,{Manager:hv});function rL(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function iL(n,e){n.classList?n.classList.add(e):rL(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function fb(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function oL(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=fb(n.className,e):n.setAttribute("class",fb(n.className&&n.className.baseVal||"",e))}const Nl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class sL extends hv{adjustAndStore(e,t,r){const s=t.style[e];t.dataset[e]=s,Ya(t,{[e]:`${parseFloat(Ya(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],Ya(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(iL(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Dl(t,Nl.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),Dl(t,Nl.STICKY_CONTENT).forEach(o=>this.adjustAndStore(s,o,-e.scrollBarWidth)),Dl(t,Nl.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(s,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();oL(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Dl(t,Nl.FIXED_CONTENT).forEach(o=>this.restore(r,o)),Dl(t,Nl.STICKY_CONTENT).forEach(o=>this.restore(s,o)),Dl(t,Nl.NAVBAR_TOGGLER).forEach(o=>this.restore(s,o))}}let Tg;function aL(n){return Tg||(Tg=new sL(n)),Tg}const kS=se.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=xn(e,"modal-body"),fe.jsx(t,{ref:s,className:nn(n,e),...r})));kS.displayName="ModalBody";const IS=se.createContext({onHide(){}}),dv=se.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:s,fullscreen:o,children:c,scrollable:m,...u},g)=>{n=xn(n,"modal");const l=`${n}-dialog`,h=typeof o=="string"?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return fe.jsx("div",{...u,ref:g,className:nn(l,e,s&&`${n}-${s}`,r&&`${l}-centered`,m&&`${l}-scrollable`,o&&h),children:fe.jsx("div",{className:nn(`${n}-content`,t),children:c})})});dv.displayName="ModalDialog";const RS=se.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=xn(e,"modal-footer"),fe.jsx(t,{ref:s,className:nn(n,e),...r})));RS.displayName="ModalFooter";const lL=se.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:s,...o},c)=>{const m=se.useContext(IS),u=Ld(()=>{m==null||m.onHide(),r==null||r()});return fe.jsxs("div",{ref:c,...o,children:[s,t&&fe.jsx(Cf,{"aria-label":n,variant:e,onClick:u})]})}),MS=se.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},o)=>(n=xn(n,"modal-header"),fe.jsx(lL,{ref:o,...s,className:nn(e,n),closeLabel:t,closeButton:r})));MS.displayName="ModalHeader";const cL=hS("h4"),LS=se.forwardRef(({className:n,bsPrefix:e,as:t=cL,...r},s)=>(e=xn(e,"modal-title"),fe.jsx(t,{ref:s,className:nn(n,e),...r})));LS.displayName="ModalTitle";function uL(n){return fe.jsx(xu,{...n,timeout:null})}function hL(n){return fe.jsx(xu,{...n,timeout:null})}const $S=se.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:s,children:o,dialogAs:c=dv,"data-bs-theme":m,"aria-labelledby":u,"aria-describedby":g,"aria-label":l,show:h=!1,animation:d=!0,backdrop:f=!0,keyboard:p=!0,onEscapeKeyDown:v,onShow:y,onHide:C,container:k,autoFocus:F=!0,enforceFocus:O=!0,restoreFocus:L=!0,restoreFocusOptions:E,onEntered:_,onExit:I,onExiting:M,onEnter:$,onEntering:B,onExited:T,backdropClassName:b,manager:P,...N},z)=>{const[q,K]=se.useState({}),[J,Q]=se.useState(!1),U=se.useRef(!1),re=se.useRef(!1),Z=se.useRef(null),[ue,ce]=FM(),oe=uS(z,ce),pe=Ld(C),Ee=zR();n=xn(n,"modal");const me=se.useMemo(()=>({onHide:pe}),[pe]);function Ae(){return P||aL({isRTL:Ee})}function $e(be){if(!bc)return;const ze=Ae().getScrollbarWidth()>0,Ke=be.scrollHeight>Ef(be).documentElement.clientHeight;K({paddingRight:ze&&!Ke?ub():void 0,paddingLeft:!ze&&Ke?ub():void 0})}const Qe=Ld(()=>{ue&&$e(ue.dialog)});AM(()=>{dm(window,"resize",Qe),Z.current==null||Z.current()});const ut=()=>{U.current=!0},qe=be=>{U.current&&ue&&be.target===ue.dialog&&(re.current=!0),U.current=!1},Ge=()=>{Q(!0),Z.current=cS(ue.dialog,()=>{Q(!1)})},yt=be=>{be.target===be.currentTarget&&Ge()},Ot=be=>{if(f==="static"){yt(be);return}if(re.current||be.target!==be.currentTarget){re.current=!1;return}C==null||C()},Ht=be=>{p?v==null||v(be):(be.preventDefault(),f==="static"&&Ge())},pn=(be,ze)=>{be&&$e(be),$==null||$(be,ze)},Nt=be=>{Z.current==null||Z.current(),I==null||I(be)},wn=(be,ze)=>{B==null||B(be,ze),lS(window,"resize",Qe)},Wn=be=>{be&&(be.style.display=""),T==null||T(be),dm(window,"resize",Qe)},Pn=se.useCallback(be=>fe.jsx("div",{...be,className:nn(`${n}-backdrop`,b,!d&&"show")}),[d,b,n]),bn={...t,...q};bn.display="block";const ur=be=>fe.jsx("div",{role:"dialog",...be,style:bn,className:nn(e,n,J&&`${n}-static`,!d&&"show"),onClick:f?Ot:void 0,onMouseUp:qe,"data-bs-theme":m,"aria-label":l,"aria-labelledby":u,"aria-describedby":g,children:fe.jsx(c,{...N,onMouseDown:ut,className:r,contentClassName:s,children:o})});return fe.jsx(IS.Provider,{value:me,children:fe.jsx(nL,{show:h,ref:oe,backdrop:f,container:k,keyboard:!0,autoFocus:F,enforceFocus:O,restoreFocus:L,restoreFocusOptions:E,onEscapeKeyDown:Ht,onShow:y,onHide:C,onEnter:pn,onEntering:wn,onEntered:_,onExit:Nt,onExiting:M,onExited:Wn,manager:Ae(),transition:d?uL:void 0,backdropTransition:d?hL:void 0,renderBackdrop:Pn,renderDialog:ur})})});$S.displayName="Modal";const si=Object.assign($S,{Body:kS,Header:MS,Title:LS,Footer:RS,Dialog:dv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),PS=se.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const o=xn(n,"row"),c=oS(),m=sS(),u=`${o}-cols`,g=[];return c.forEach(l=>{const h=r[l];delete r[l];let d;h!=null&&typeof h=="object"?{cols:d}=h:d=h;const f=l!==m?`-${l}`:"";d!=null&&g.push(`${u}${f}-${d}`)}),fe.jsx(t,{ref:s,...r,className:nn(e,o,...g)})});PS.displayName="Row";const OS=se.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:s="div",className:o,...c},m)=>{n=xn(n,"spinner");const u=`${n}-${t}`;return fe.jsx(s,{ref:m,...c,className:nn(o,u,r&&`${u}-${r}`,e&&`text-${e}`)})});OS.displayName="Spinner";function fv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function DS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dL=DS,NS=new Mu("auth","Firebase",DS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new Sm("@firebase/auth");function fL(n,...e){Dd.logLevel<=Bt.WARN&&Dd.warn(`Auth (${fc}): ${n}`,...e)}function fd(n,...e){Dd.logLevel<=Bt.ERROR&&Dd.error(`Auth (${fc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(n,...e){throw pv(n,...e)}function Ho(n,...e){return pv(n,...e)}function FS(n,e,t){const r=Object.assign(Object.assign({},dL()),{[e]:t});return new Mu("auth","Firebase",r).create(e,{appName:n.name})}function ms(n){return FS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NS.create(n,...e)}function bt(n,e,...t){if(!n)throw pv(e,...t)}function ds(n){const e="INTERNAL ASSERTION FAILED: "+n;throw fd(e),new Error(e)}function Ss(n,e){n||ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pL(){return pb()==="http:"||pb()==="https:"}function pb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pL()||Z1()||"connection"in navigator)?navigator.onLine:!0}function mL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ss(t>e,"Short delay should be less than long delay!"),this.isMobile=Q1()||J1()}get(){return gL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(n,e){Ss(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=new Vu(3e4,6e4);function Sa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ta(n,e,t,r,s={}){return BS(n,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const m=Lu(Object.assign({key:n.config.apiKey},c)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:u},o);return X1()||(g.referrerPolicy="no-referrer"),VS.fetch()(zS(n,n.config.apiHost,t,m),g)})}async function BS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},vL),e);try{const s=new bL(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw nd(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const m=o.ok?c.errorMessage:c.error.message,[u,g]=m.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw nd(n,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw nd(n,"email-already-in-use",c);if(u==="USER_DISABLED")throw nd(n,"user-disabled",c);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw FS(n,l,g);_o(n,l)}}catch(s){if(s instanceof Ts)throw s;_o(n,"network-request-failed",{message:String(s)})}}async function Bu(n,e,t,r,s={}){const o=await Ta(n,e,t,r,s);return"mfaPendingCredential"in o&&_o(n,"multi-factor-auth-required",{_serverResponse:o}),o}function zS(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?gv(n.config,s):`${n.config.apiScheme}://${s}`}function wL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ho(this.auth,"network-request-failed")),yL.get())})}}function nd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ho(n,e,r);return s.customData._tokenResponse=t,s}function gb(n){return n!==void 0&&n.enterprise!==void 0}class _L{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EL(n,e){return Ta(n,"GET","/v2/recaptchaConfig",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(n,e){return Ta(n,"POST","/v1/accounts:delete",e)}async function jS(n,e){return Ta(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TL(n,e=!1){const t=Rr(n),r=await t.getIdToken(e),s=mv(r);bt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:pu(Cg(s.auth_time)),issuedAtTime:pu(Cg(s.iat)),expirationTime:pu(Cg(s.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Cg(n){return Number(n)*1e3}function mv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return fd("JWT malformed, contained fewer than 3 sections"),null;try{const s=w_(t);return s?JSON.parse(s):(fd("Failed to decode base64 JWT payload"),null)}catch(s){return fd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mb(n){const e=mv(n);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ts&&CL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function CL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Au(n,jS(t,{idToken:r}));bt(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?US(o.providerUserInfo):[],m=kL(n.providerData,c),u=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(m!=null&&m.length),l=u?g:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:m,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(n,h)}async function AL(n){const e=Rr(n);await Nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kL(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function US(n){return n.map(e=>{var{providerId:t}=e,r=fv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(n,e){const t=await BS(n,{},async()=>{const r=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,c=zS(n,s,"/v1/token",`key=${o}`),m=await n._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",VS.fetch()(c,{method:"POST",headers:m,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RL(n,e){return Ta(n,"POST","/v2/accounts:revokeToken",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const t=mb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await IL(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,c=new ql;return r&&(bt(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(bt(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(bt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(n,e){bt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fs{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=fv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Au(this,this.stsTokenManager.getToken(this.auth,e));return bt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TL(this,e)}reload(){return AL(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Nd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zo(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await Au(this,SL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,c,m,u,g,l;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(s=t.email)!==null&&s!==void 0?s:void 0,f=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,p=(c=t.photoURL)!==null&&c!==void 0?c:void 0,v=(m=t.tenantId)!==null&&m!==void 0?m:void 0,y=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,C=(g=t.createdAt)!==null&&g!==void 0?g:void 0,k=(l=t.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:F,emailVerified:O,isAnonymous:L,providerData:E,stsTokenManager:_}=t;bt(F&&_,e,"internal-error");const I=ql.fromJSON(this.name,_);bt(typeof F=="string",e,"internal-error"),Zs(h,e.name),Zs(d,e.name),bt(typeof O=="boolean",e,"internal-error"),bt(typeof L=="boolean",e,"internal-error"),Zs(f,e.name),Zs(p,e.name),Zs(v,e.name),Zs(y,e.name),Zs(C,e.name),Zs(k,e.name);const M=new fs({uid:F,auth:e,email:d,emailVerified:O,displayName:h,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:v,stsTokenManager:I,createdAt:C,lastLoginAt:k});return E&&Array.isArray(E)&&(M.providerData=E.map($=>Object.assign({},$))),y&&(M._redirectEventId=y),M}static async _fromIdTokenResponse(e,t,r=!1){const s=new ql;s.updateFromServerResponse(t);const o=new fs({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Nd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];bt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?US(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),m=new ql;m.updateFromIdToken(r);const u=new fs({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new pm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,g),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Map;function ps(n){Ss(n instanceof Function,"Expected a class definition");let e=vb.get(n);return e?(Ss(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}HS.type="NONE";const yb=HS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n,e,t){return`firebase:${n}:${e}:${t}`}class Ql{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=pd(this.userKey,s.apiKey,o),this.fullPersistenceKey=pd("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ql(ps(yb),e,r);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=s[0]||ps(yb);const c=pd(r,e.config.apiKey,e.name);let m=null;for(const g of t)try{const l=await g._get(c);if(l){const h=fs._fromJSON(e,l);g!==o&&(m=h),o=g;break}}catch{}const u=s.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Ql(o,e,r):(o=u[0],m&&await o._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Ql(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YS(e))return"Blackberry";if(XS(e))return"Webos";if(GS(e))return"Safari";if((e.includes("chrome/")||KS(e))&&!e.includes("edge/"))return"Chrome";if(QS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WS(n=qr()){return/firefox\//i.test(n)}function GS(n=qr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KS(n=qr()){return/crios\//i.test(n)}function qS(n=qr()){return/iemobile/i.test(n)}function QS(n=qr()){return/android/i.test(n)}function YS(n=qr()){return/blackberry/i.test(n)}function XS(n=qr()){return/webos/i.test(n)}function vv(n=qr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ML(n=qr()){var e;return vv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LL(){return ex()&&document.documentMode===10}function ZS(n=qr()){return vv(n)||QS(n)||XS(n)||YS(n)||/windows phone/i.test(n)||qS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(n,e=[]){let t;switch(n){case"Browser":t=wb(qr());break;case"Worker":t=`${wb(qr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,m)=>{try{const u=e(o);c(u)}catch(u){m(u)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(n,e={}){return Ta(n,"GET","/v2/passwordPolicy",Sa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=6;class DL{constructor(e){var t,r,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:OL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,c,m;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNumericCharacter)!==null&&c!==void 0?c:!0),u.isValid&&(u.isValid=(m=u.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bb(this),this.idTokenSubscription=new bb(this),this.beforeStateQueue=new $L(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ps(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jS(this,{idToken:e}),r=await fs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zo(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!c||c===m)&&(u!=null&&u.user)&&(s=u.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zo(this.app))return Promise.reject(ms(this));const t=e?Rr(e):null;return t&&bt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zo(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zo(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PL(this),t=new DL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await RL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ps(e)||this._popupRedirectResolver;bt(t,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[ps(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,s);return()=>{c=!0,u()}}else{const u=e.addObserver(t);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&fL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ll(n){return Rr(n)}class bb{constructor(e){this.auth=e,this.observer=null,this.addObserver=lx(t=>this.observer=t)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FL(n){Af=n}function eT(n){return Af.loadJS(n)}function VL(){return Af.recaptchaEnterpriseScript}function BL(){return Af.gapiScript}function zL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jL{constructor(){this.enterprise=new UL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class UL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const HL="recaptcha-enterprise",tT="NO_RECAPTCHA";class WL{constructor(e){this.type=HL,this.auth=ll(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,m)=>{EL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new _L(u);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(u=>{m(u)})})}function s(o,c,m){const u=window.grecaptcha;gb(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(g=>{c(g)}).catch(()=>{c(tT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jL().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(m=>{if(!t&&gb(window.grecaptcha))s(m,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=VL();u.length!==0&&(u+=m),eT(u).then(()=>{s(m,o,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function _b(n,e,t,r=!1,s=!1){const o=new WL(n);let c;if(s)c=tT;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const u=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const u=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function gm(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await _b(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await _b(n,e,t,t==="getOobCode");return r(n,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(n,e){const t=Cm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(bd(o,e??{}))return s;_o(s,"already-initialized")}return t.initialize({options:e})}function KL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ps);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qL(n,e,t){const r=ll(n);bt(r._canInitEmulator,r,"emulator-config-failed"),bt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=nT(e),{host:c,port:m}=QL(e),u=m===null?"":`:${m}`;r.config.emulator={url:`${o}//${c}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:m,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),YL()}function nT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QL(n){const e=nT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Eb(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:Eb(c)}}}function Eb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function YL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,t){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function XL(n,e){return Ta(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(n,e){return Bu(n,"POST","/v1/accounts:signInWithPassword",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(n,e){return Bu(n,"POST","/v1/accounts:signInWithEmailLink",Sa(n,e))}async function e$(n,e){return Bu(n,"POST","/v1/accounts:signInWithEmailLink",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends yv{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new ku(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ku(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,t,"signInWithPassword",ZL);case"emailLink":return JL(e,{email:this._email,oobCode:this._password});default:_o(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,r,"signUpPassword",XL);case"emailLink":return e$(e,{idToken:t,email:this._email,oobCode:this._password});default:_o(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(n,e){return Bu(n,"POST","/v1/accounts:signInWithIdp",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$="http://localhost";class el extends yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new el(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_o("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=fv(t,["providerId","signInMethod"]);if(!r||!s)return null;const c=new el(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Yl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Yl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yl(e,t)}buildRequest(){const e={requestUri:t$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r$(n){const e=eu(tu(n)).link,t=e?eu(tu(e)).deep_link_id:null,r=eu(tu(n)).deep_link_id;return(r?eu(tu(r)).link:null)||r||t||e||n}class wv{constructor(e){var t,r,s,o,c,m;const u=eu(tu(e)),g=(t=u.apiKey)!==null&&t!==void 0?t:null,l=(r=u.oobCode)!==null&&r!==void 0?r:null,h=n$((s=u.mode)!==null&&s!==void 0?s:null);bt(g&&l&&h,"argument-error"),this.apiKey=g,this.operation=h,this.code=l,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=u.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(m=u.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=r$(e);try{return new wv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.providerId=_c.PROVIDER_ID}static credential(e,t){return ku._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=wv.parseLink(t);return bt(r,"argument-error"),ku._fromEmailAndCode(e,r.code,r.tenantId)}}_c.PROVIDER_ID="password";_c.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_c.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends rT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends zu{constructor(){super("facebook.com")}static credential(e){return el._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.FACEBOOK_SIGN_IN_METHOD="facebook.com";na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return el._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ra.credential(t,r)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends zu{constructor(){super("github.com")}static credential(e){return el._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends zu{constructor(){super("twitter.com")}static credential(e,t){return el._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return oa.credential(t,r)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(n,e){return Bu(n,"POST","/v1/accounts:signUp",Sa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await fs._fromIdTokenResponse(e,r,s),c=Sb(r);return new tl({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Sb(r);return new tl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Sb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends Ts{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Fd(e,t,r,s)}}function iT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fd._fromErrorAndOperation(n,o,e,r):o})}async function o$(n,e,t=!1){const r=await Au(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return tl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s$(n,e,t=!1){const{auth:r}=n;if(zo(r.app))return Promise.reject(ms(r));const s="reauthenticate";try{const o=await Au(n,iT(r,s,e,n),t);bt(o.idToken,r,"internal-error");const c=mv(o.idToken);bt(c,r,"internal-error");const{sub:m}=c;return bt(n.uid===m,r,"user-mismatch"),tl._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&_o(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(n,e,t=!1){if(zo(n.app))return Promise.reject(ms(n));const r="signIn",s=await iT(n,r,e),o=await tl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function a$(n,e){return oT(ll(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(n){const e=ll(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l$(n,e,t){if(zo(n.app))return Promise.reject(ms(n));const r=ll(n),c=await gm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",i$).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&sT(n),u}),m=await tl._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(m.user),m}function c$(n,e,t){return zo(n.app)?Promise.reject(ms(n)):a$(Rr(n),_c.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sT(n),r})}function u$(n,e,t,r){return Rr(n).onIdTokenChanged(e,t,r)}function h$(n,e,t){return Rr(n).beforeAuthStateChanged(e,t)}const Vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vd,"1"),this.storage.removeItem(Vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=1e3,f$=10;class lT extends aT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,u)=>{this.notifyListeners(c,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);LL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,f$):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},d$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lT.type="LOCAL";const p$=lT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends aT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cT.type="SESSION";const uT=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new kf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const m=Array.from(c).map(async g=>g(t.origin,o)),u=await g$(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((m,u)=>{const g=bv("",20);s.port1.start();const l=setTimeout(()=>{u(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===g)switch(d.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),m(d.data.response);break;default:clearTimeout(l),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(){return window}function v$(n){Wo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof Wo().WorkerGlobalScope<"u"&&typeof Wo().importScripts=="function"}async function y$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w$(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function b$(){return hT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebaseLocalStorageDb",_$=1,Bd="firebaseLocalStorage",fT="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function If(n,e){return n.transaction([Bd],e?"readwrite":"readonly").objectStore(Bd)}function E$(){const n=indexedDB.deleteDatabase(dT);return new ju(n).toPromise()}function mm(){const n=indexedDB.open(dT,_$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Bd,{keyPath:fT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Bd)?e(r):(r.close(),await E$(),e(await mm()))})})}async function Tb(n,e,t){const r=If(n,!0).put({[fT]:e,value:t});return new ju(r).toPromise()}async function S$(n,e){const t=If(n,!1).get(e),r=await new ju(t).toPromise();return r===void 0?null:r.value}function Cb(n,e){const t=If(n,!0).delete(e);return new ju(t).toPromise()}const T$=800,C$=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>C$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(b$()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await y$(),!this.activeServiceWorker)return;this.sender=new m$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await Tb(e,Vd,"1"),await Cb(e,Vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>S$(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Cb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=If(s,!1).getAll();return new ju(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const x$=pT;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(n,e){return e?ps(e):(bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends yv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function k$(n){return oT(n.auth,new _v(n),n.bypassAuthState)}function I$(n){const{auth:e,user:t}=n;return bt(t,e,"internal-error"),s$(t,new _v(n),n.bypassAuthState)}async function R$(n){const{auth:e,user:t}=n;return bt(t,e,"internal-error"),o$(t,new _v(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:c,type:m}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(u))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k$;case"linkViaPopup":case"linkViaRedirect":return R$;case"reauthViaPopup":case"reauthViaRedirect":return I$;default:_o(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=new Vu(2e3,1e4);class Wl extends gT{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Wl.currentPopupAction&&Wl.currentPopupAction.cancel(),Wl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ho(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ho(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ho(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M$.get())};e()}}Wl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$="pendingRedirect",gd=new Map;class $$ extends gT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=gd.get(this.auth._key());if(!e){try{const r=await P$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P$(n,e){const t=N$(e),r=D$(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function O$(n,e){gd.set(n._key(),e)}function D$(n){return ps(n._redirectPersistence)}function N$(n){return pd(L$,n.config.apiKey,n.name)}async function F$(n,e,t=!1){if(zo(n.app))return Promise.reject(ms(n));const r=ll(n),s=A$(r,e),c=await new $$(r,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=10*60*1e3;class B${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!mT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ho(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V$&&this.cachedEventUids.clear(),this.cachedEventUids.has(xb(e))}saveEventToCache(e){this.cachedEventUids.add(xb(e)),this.lastProcessedEventTime=Date.now()}}function xb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function z$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$(n,e={}){return Ta(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H$=/^https?/;async function W$(n){if(n.config.emulator)return;const{authorizedDomains:e}=await j$(n);for(const t of e)try{if(G$(t))return}catch{}_o(n,"unauthorized-domain")}function G$(n){const e=fm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!H$.test(t))return!1;if(U$.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=new Vu(3e4,6e4);function Ab(){const n=Wo().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function q$(n){return new Promise((e,t)=>{var r,s,o;function c(){Ab(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ab(),t(Ho(n,"network-request-failed"))},timeout:K$.get()})}if(!((s=(r=Wo().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Wo().gapi)===null||o===void 0)&&o.load)c();else{const m=zL("iframefcb");return Wo()[m]=()=>{gapi.load?c():t(Ho(n,"network-request-failed"))},eT(`${BL()}?onload=${m}`).catch(u=>t(u))}}).catch(e=>{throw md=null,e})}let md=null;function Q$(n){return md=md||q$(n),md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=new Vu(5e3,15e3),X$="__/auth/iframe",Z$="emulator/auth/iframe",J$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tP(n){const e=n.config;bt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gv(e,Z$):`https://${n.config.authDomain}/${X$}`,r={apiKey:e.apiKey,appName:n.name,v:fc},s=eP.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Lu(r).slice(1)}`}async function nP(n){const e=await Q$(n),t=Wo().gapi;return bt(t,n,"internal-error"),e.open({where:document.body,url:tP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J$,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=Ho(n,"network-request-failed"),m=Wo().setTimeout(()=>{o(c)},Y$.get());function u(){Wo().clearTimeout(m),s(r)}r.ping(u).then(u,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iP=500,oP=600,sP="_blank",aP="http://localhost";class kb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lP(n,e,t,r=iP,s=oP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const u=Object.assign(Object.assign({},rP),{width:r.toString(),height:s.toString(),top:o,left:c}),g=qr().toLowerCase();t&&(m=KS(g)?sP:t),WS(g)&&(e=e||aP,u.scrollbars="yes");const l=Object.entries(u).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(ML(g)&&m!=="_self")return cP(e||"",m),new kb(null);const h=window.open(e||"",m,l);bt(h,n,"popup-blocked");try{h.focus()}catch{}return new kb(h)}function cP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="__/auth/handler",hP="emulator/auth/handler",dP=encodeURIComponent("fac");async function Ib(n,e,t,r,s,o){bt(n.config.authDomain,n,"auth-domain-config-required"),bt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:fc,eventId:s};if(e instanceof rT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",ax(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,h]of Object.entries({}))c[l]=h}if(e instanceof zu){const l=e.getScopes().filter(h=>h!=="");l.length>0&&(c.scopes=l.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const l of Object.keys(m))m[l]===void 0&&delete m[l];const u=await n._getAppCheckToken(),g=u?`#${dP}=${encodeURIComponent(u)}`:"";return`${fP(n)}?${Lu(m).slice(1)}${g}`}function fP({config:n}){return n.emulator?gv(n,hP):`https://${n.authDomain}/${uP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="webStorageSupport";class pP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uT,this._completeRedirectFn=F$,this._overrideRedirectResult=O$}async _openPopup(e,t,r,s){var o;Ss((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await Ib(e,t,r,fm(),s);return lP(e,c,bv())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Ib(e,t,r,fm(),s);return v$(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Ss(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await nP(e),r=new B$(e);return t.register("authEvent",s=>(bt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xg,{type:xg},s=>{var o;const c=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[xg];c!==void 0&&t(!!c),_o(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=W$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ZS()||GS()||vv()}}const gP=pP;var Rb="@firebase/auth",Mb="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yP(n){ec(new Za("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;bt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JS(n)},g=new NL(r,s,o,u);return KL(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ec(new Za("auth-internal",e=>{const t=ll(e.getProvider("auth").getImmediate());return(r=>new mP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ha(Rb,Mb,vP(n)),ha(Rb,Mb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=5*60,bP=E_("authIdTokenMaxAge")||wP;let Lb=null;const _P=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>bP)return;const s=t==null?void 0:t.token;Lb!==s&&(Lb=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function EP(n=x_()){const e=Cm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=GL(n,{popupRedirectResolver:gP,persistence:[x$,p$,uT]}),r=E_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=_P(o.toString());h$(t,c,()=>c(t.currentUser)),u$(t,m=>c(m))}}const s=b_("auth");return s&&qL(t,`http://${s}`),t}function SP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}FL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Ho("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",SP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yP("Browser");const vT=EP(),vm=zE(),TP=async(n,e)=>{try{const r=(await c$(vT,n,e)).user;console.log("User signed in:",r.uid);const s=ac(vm,"users",r.uid),o=await JE(s);if(o.exists()){const c=o.data();return console.log("User data from Firestore:",c),{uid:r.uid,email:r.email,...c}}else return console.log("No user data found in Firestore!"),null}catch(t){return console.error("Error logging in:",t.message),null}},CP=async(n,e,t,r)=>{try{const o=(await l$(vT,e,t)).user,c={};let m=r.length;const u={name:n,email:e,role:"user",createdAt:Qa()},g={materials:{},lastAccessedMaterial:null,completedQuestions:0,totalQuestions:m,createdAt:Qa(),updatedAt:Qa()},l=await sm(ac(vm,"users",o.uid),u),h=await sm(ac(vm,"grades",o.uid),g);return{success:!0,userId:o.uid,userData:{id:o.uid,...u}}}catch(s){return console.error("註冊失敗：",s),{success:!1,error:s.code==="auth/email-already-in-use"?"這個電子郵件已經被註冊過了，請使用其他電子郵件！":"註冊時發生錯誤，請再試一次"}}},xP=()=>{const{userInfo:n,isLoggedOut:e,login:t}=wc(),[r,s]=se.useState(!n),[o,c]=se.useState(!0),[m,u]=se.useState(""),[g,l]=se.useState(""),[h,d]=se.useState(""),[f,p]=se.useState(""),[v,y]=se.useState(""),[C,k]=se.useState(!1),{quizs:F}=se.useContext(Fu);se.useEffect(()=>{n?s(!1):e&&s(!0)},[n,e]);const O=()=>s(!1),L=()=>{c(!o),y(""),d(""),u(""),l(""),p("")},E=async _=>{_.preventDefault(),y(""),k(!0);const I=m.includes("@")?m:`${m}@nfu.edu.tw`;if(o){const M=await TP(I,g);M?t(M):y("登入失敗，請檢查您的帳號和密碼！")}else try{if(!h||!m||!g||!f){y("請填寫所有欄位！"),k(!1);return}if(g!==f){y("密碼與確認密碼不相符！"),k(!1);return}if(g.length>0&&g.length<6){y("密碼必須大於6個字"),k(!1);return}const M=await CP(h,I,g,F);M.success?(alert(`註冊成功！歡迎，${h}！請重新登入。`),c(!0)):y(M.error||"註冊失敗，請稍後再試。")}catch(M){console.error("Registration error:",M),y(M.message)}k(!1)};return fe.jsxs(si,{show:r,onHide:O,centered:!0,backdrop:"static",children:[fe.jsx(si.Header,{children:fe.jsx(si.Title,{children:o?"登入":"註冊"})}),fe.jsxs(si.Body,{children:[v&&fe.jsx(CM,{variant:"danger",children:v}),fe.jsxs(Xt,{onSubmit:E,children:[!o&&fe.jsxs(Xt.Group,{className:"mb-3",controlId:"formBasicUsername",children:[fe.jsx(Xt.Label,{children:"使用者名稱"}),fe.jsx(Xt.Control,{type:"text",placeholder:"輸入您的名稱",value:h,onChange:_=>d(_.target.value)})]}),fe.jsxs(Xt.Group,{className:"mb-3",controlId:"formBasicEmail",children:[fe.jsx(Xt.Label,{children:"電子郵件"}),fe.jsx(Xt.Control,{type:o?"text":"email",placeholder:"輸入您的電子郵件",value:m,onChange:_=>u(_.target.value)})]}),fe.jsxs(Xt.Group,{className:"mb-3",controlId:"formBasicPassword",children:[fe.jsx(Xt.Label,{children:"密碼"}),fe.jsx(Xt.Control,{type:"password",placeholder:o?"輸入您的密碼":"輸入您的密碼，輸入至少6個字的密碼",value:g,onChange:_=>l(_.target.value)})]}),!o&&fe.jsxs(Xt.Group,{className:"mb-3",controlId:"formConfirmPassword",children:[fe.jsx(Xt.Label,{children:"確認密碼"}),fe.jsx(Xt.Control,{type:"password",placeholder:"再次輸入密碼",value:f,onChange:_=>p(_.target.value)})]}),fe.jsx(Si,{variant:"primary",type:"submit",className:"w-100",children:C?fe.jsx(OS,{animation:"border",size:"sm"}):o?"登入":"註冊"})]})]}),fe.jsx(si.Footer,{children:fe.jsx(Si,{variant:"link",onClick:L,children:o?"還沒有帳號？註冊":"已有帳號？登入"})})]})};var Qc={},$b;function AP(){if($b)return Qc;$b=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.parse=c,Qc.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function c(d,f){const p=new o,v=d.length;if(v<2)return p;const y=(f==null?void 0:f.decode)||l;let C=0;do{const k=d.indexOf("=",C);if(k===-1)break;const F=d.indexOf(";",C),O=F===-1?v:F;if(k>O){C=d.lastIndexOf(";",k-1)+1;continue}const L=m(d,C,k),E=u(d,k,L),_=d.slice(L,E);if(p[_]===void 0){let I=m(d,k+1,O),M=u(d,O,I);const $=y(d.slice(I,M));p[_]=$}C=O+1}while(C<v);return p}function m(d,f,p){do{const v=d.charCodeAt(f);if(v!==32&&v!==9)return f}while(++f<p);return p}function u(d,f,p){for(;f>p;){const v=d.charCodeAt(--f);if(v!==32&&v!==9)return f+1}return p}function g(d,f,p){const v=(p==null?void 0:p.encode)||encodeURIComponent;if(!n.test(d))throw new TypeError(`argument name is invalid: ${d}`);const y=v(f);if(!e.test(y))throw new TypeError(`argument val is invalid: ${f}`);let C=d+"="+y;if(!p)return C;if(p.maxAge!==void 0){if(!Number.isInteger(p.maxAge))throw new TypeError(`option maxAge is invalid: ${p.maxAge}`);C+="; Max-Age="+p.maxAge}if(p.domain){if(!t.test(p.domain))throw new TypeError(`option domain is invalid: ${p.domain}`);C+="; Domain="+p.domain}if(p.path){if(!r.test(p.path))throw new TypeError(`option path is invalid: ${p.path}`);C+="; Path="+p.path}if(p.expires){if(!h(p.expires)||!Number.isFinite(p.expires.valueOf()))throw new TypeError(`option expires is invalid: ${p.expires}`);C+="; Expires="+p.expires.toUTCString()}if(p.httpOnly&&(C+="; HttpOnly"),p.secure&&(C+="; Secure"),p.partitioned&&(C+="; Partitioned"),p.priority)switch(typeof p.priority=="string"?p.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${p.priority}`)}if(p.sameSite)switch(typeof p.sameSite=="string"?p.sameSite.toLowerCase():p.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${p.sameSite}`)}return C}function l(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function h(d){return s.call(d)==="[object Date]"}return Qc}AP();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Pb="popstate";function kP(n={}){function e(r,s){let{pathname:o,search:c,hash:m}=r.location;return ym("",{pathname:o,search:c,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Iu(s)}return RP(e,t,null,n)}function Ln(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ko(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IP(){return Math.random().toString(36).substring(2,10)}function Ob(n,e){return{usr:n.state,key:n.key,idx:e}}function ym(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ec(e):e,state:t,key:e&&e.key||r||IP()}}function Iu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ec(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function RP(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,m="POP",u=null,g=l();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function l(){return(c.state||{idx:null}).idx}function h(){m="POP";let y=l(),C=y==null?null:y-g;g=y,u&&u({action:m,location:v.location,delta:C})}function d(y,C){m="PUSH";let k=ym(v.location,y,C);g=l()+1;let F=Ob(k,g),O=v.createHref(k);try{c.pushState(F,"",O)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(O)}o&&u&&u({action:m,location:v.location,delta:1})}function f(y,C){m="REPLACE";let k=ym(v.location,y,C);g=l();let F=Ob(k,g),O=v.createHref(k);c.replaceState(F,"",O),o&&u&&u({action:m,location:v.location,delta:0})}function p(y){let C=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof y=="string"?y:Iu(y);return k=k.replace(/ $/,"%20"),Ln(C,`No window.location.(origin|href) available to create URL for href: ${k}`),new URL(k,C)}let v={get action(){return m},get location(){return n(s,c)},listen(y){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Pb,h),u=y,()=>{s.removeEventListener(Pb,h),u=null}},createHref(y){return e(s,y)},createURL:p,encodeLocation(y){let C=p(y);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:d,replace:f,go(y){return c.go(y)}};return v}function yT(n,e,t="/"){return MP(n,e,t,!1)}function MP(n,e,t,r){let s=typeof e=="string"?Ec(e):e,o=ba(s.pathname||"/",t);if(o==null)return null;let c=wT(n);LP(c);let m=null;for(let u=0;m==null&&u<c.length;++u){let g=UP(o);m=zP(c[u],g,r)}return m}function wT(n,e=[],t=[],r=""){let s=(o,c,m)=>{let u={relativePath:m===void 0?o.path||"":m,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};u.relativePath.startsWith("/")&&(Ln(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let g=vs([r,u.relativePath]),l=t.concat(u);o.children&&o.children.length>0&&(Ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),wT(o.children,e,l,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:VP(g,o.index),routesMeta:l})};return n.forEach((o,c)=>{var m;if(o.path===""||!((m=o.path)!=null&&m.includes("?")))s(o,c);else for(let u of bT(o.path))s(o,c,u)}),e}function bT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=bT(r.join("/")),m=[];return m.push(...c.map(u=>u===""?o:[o,u].join("/"))),s&&m.push(...c),m.map(u=>n.startsWith("/")&&u===""?"/":u)}function LP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:BP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var $P=/^:[\w-]+$/,PP=3,OP=2,DP=1,NP=10,FP=-2,Db=n=>n==="*";function VP(n,e){let t=n.split("/"),r=t.length;return t.some(Db)&&(r+=FP),e&&(r+=OP),t.filter(s=>!Db(s)).reduce((s,o)=>s+($P.test(o)?PP:o===""?DP:NP),r)}function BP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function zP(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",c=[];for(let m=0;m<r.length;++m){let u=r[m],g=m===r.length-1,l=o==="/"?e:e.slice(o.length)||"/",h=zd({path:u.relativePath,caseSensitive:u.caseSensitive,end:g},l),d=u.route;if(!h&&g&&t&&!r[r.length-1].route.index&&(h=zd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},l)),!h)return null;Object.assign(s,h.params),c.push({params:s,pathname:vs([o,h.pathname]),pathnameBase:KP(vs([o,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(o=vs([o,h.pathnameBase]))}return c}function zd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=jP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:r.reduce((g,{paramName:l,isOptional:h},d)=>{if(l==="*"){let p=m[d]||"";c=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const f=m[d];return h&&!f?g[l]=void 0:g[l]=(f||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function jP(n,e=!1,t=!0){Ko(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,u)=>(r.push({paramName:m,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function UP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ko(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ba(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function HP(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ec(n):n;return{pathname:t?t.startsWith("/")?t:WP(t,e):e,search:qP(r),hash:QP(s)}}function WP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ag(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _T(n){let e=GP(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function ET(n,e,t,r=!1){let s;typeof n=="string"?s=Ec(n):(s={...n},Ln(!s.pathname||!s.pathname.includes("?"),Ag("?","pathname","search",s)),Ln(!s.pathname||!s.pathname.includes("#"),Ag("#","pathname","hash",s)),Ln(!s.search||!s.search.includes("#"),Ag("#","search","hash",s)));let o=n===""||s.pathname==="",c=o?"/":s.pathname,m;if(c==null)m=t;else{let h=e.length-1;if(!r&&c.startsWith("..")){let d=c.split("/");for(;d[0]==="..";)d.shift(),h-=1;s.pathname=d.join("/")}m=h>=0?e[h]:"/"}let u=HP(s,m),g=c&&c!=="/"&&c.endsWith("/"),l=(o||c===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(g||l)&&(u.pathname+="/"),u}var vs=n=>n.join("/").replace(/\/\/+/g,"/"),KP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function YP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ST=["POST","PUT","PATCH","DELETE"];new Set(ST);var XP=["GET",...ST];new Set(XP);var Sc=se.createContext(null);Sc.displayName="DataRouter";var Rf=se.createContext(null);Rf.displayName="DataRouterState";var TT=se.createContext({isTransitioning:!1});TT.displayName="ViewTransition";var ZP=se.createContext(new Map);ZP.displayName="Fetchers";var JP=se.createContext(null);JP.displayName="Await";var Qo=se.createContext(null);Qo.displayName="Navigation";var Uu=se.createContext(null);Uu.displayName="Location";var Yo=se.createContext({outlet:null,matches:[],isDataRoute:!1});Yo.displayName="Route";var Ev=se.createContext(null);Ev.displayName="RouteError";function e2(n,{relative:e}={}){Ln(Hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=se.useContext(Qo),{hash:s,pathname:o,search:c}=Wu(n,{relative:e}),m=o;return t!=="/"&&(m=o==="/"?t:vs([t,o])),r.createHref({pathname:m,search:c,hash:s})}function Hu(){return se.useContext(Uu)!=null}function cl(){return Ln(Hu(),"useLocation() may be used only in the context of a <Router> component."),se.useContext(Uu).location}var CT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xT(n){se.useContext(Qo).static||se.useLayoutEffect(n)}function Sv(){let{isDataRoute:n}=se.useContext(Yo);return n?p2():t2()}function t2(){Ln(Hu(),"useNavigate() may be used only in the context of a <Router> component.");let n=se.useContext(Sc),{basename:e,navigator:t}=se.useContext(Qo),{matches:r}=se.useContext(Yo),{pathname:s}=cl(),o=JSON.stringify(_T(r)),c=se.useRef(!1);return xT(()=>{c.current=!0}),se.useCallback((u,g={})=>{if(Ko(c.current,CT),!c.current)return;if(typeof u=="number"){t.go(u);return}let l=ET(u,JSON.parse(o),s,g.relative==="path");n==null&&e!=="/"&&(l.pathname=l.pathname==="/"?e:vs([e,l.pathname])),(g.replace?t.replace:t.push)(l,g.state,g)},[e,t,o,s,n])}se.createContext(null);function n2(){let{matches:n}=se.useContext(Yo),e=n[n.length-1];return e?e.params:{}}function Wu(n,{relative:e}={}){let{matches:t}=se.useContext(Yo),{pathname:r}=cl(),s=JSON.stringify(_T(t));return se.useMemo(()=>ET(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function r2(n,e){return AT(n,e)}function AT(n,e,t,r){var C;Ln(Hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=se.useContext(Qo),{matches:o}=se.useContext(Yo),c=o[o.length-1],m=c?c.params:{},u=c?c.pathname:"/",g=c?c.pathnameBase:"/",l=c&&c.route;{let k=l&&l.path||"";kT(u,!l||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let h=cl(),d;if(e){let k=typeof e=="string"?Ec(e):e;Ln(g==="/"||((C=k.pathname)==null?void 0:C.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),d=k}else d=h;let f=d.pathname||"/",p=f;if(g!=="/"){let k=g.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=yT(n,{pathname:p});Ko(l||v!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Ko(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=l2(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},m,k.params),pathname:vs([g,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:vs([g,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,t,r);return e&&y?se.createElement(Uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},y):y}function i2(){let n=f2(),e=YP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=se.createElement(se.Fragment,null,se.createElement("p",null,"💿 Hey developer 👋"),se.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",se.createElement("code",{style:o},"ErrorBoundary")," or"," ",se.createElement("code",{style:o},"errorElement")," prop on your route.")),se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),t?se.createElement("pre",{style:s},t):null,c)}var o2=se.createElement(i2,null),s2=class extends se.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?se.createElement(Yo.Provider,{value:this.props.routeContext},se.createElement(Ev.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a2({routeContext:n,match:e,children:t}){let r=se.useContext(Sc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),se.createElement(Yo.Provider,{value:n},t)}function l2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let u=s.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);Ln(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let c=!1,m=-1;if(t)for(let u=0;u<s.length;u++){let g=s[u];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=u),g.route.id){let{loaderData:l,errors:h}=t,d=g.route.loader&&!l.hasOwnProperty(g.route.id)&&(!h||h[g.route.id]===void 0);if(g.route.lazy||d){c=!0,m>=0?s=s.slice(0,m+1):s=[s[0]];break}}}return s.reduceRight((u,g,l)=>{let h,d=!1,f=null,p=null;t&&(h=o&&g.route.id?o[g.route.id]:void 0,f=g.route.errorElement||o2,c&&(m<0&&l===0?(kT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):m===l&&(d=!0,p=g.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,l+1)),y=()=>{let C;return h?C=f:d?C=p:g.route.Component?C=se.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=u,se.createElement(a2,{match:g,routeContext:{outlet:u,matches:v,isDataRoute:t!=null},children:C})};return t&&(g.route.ErrorBoundary||g.route.errorElement||l===0)?se.createElement(s2,{location:t.location,revalidation:t.revalidation,component:f,error:h,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}function Tv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c2(n){let e=se.useContext(Sc);return Ln(e,Tv(n)),e}function u2(n){let e=se.useContext(Rf);return Ln(e,Tv(n)),e}function h2(n){let e=se.useContext(Yo);return Ln(e,Tv(n)),e}function Cv(n){let e=h2(n),t=e.matches[e.matches.length-1];return Ln(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function d2(){return Cv("useRouteId")}function f2(){var r;let n=se.useContext(Ev),e=u2("useRouteError"),t=Cv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function p2(){let{router:n}=c2("useNavigate"),e=Cv("useNavigate"),t=se.useRef(!1);return xT(()=>{t.current=!0}),se.useCallback(async(s,o={})=>{Ko(t.current,CT),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Nb={};function kT(n,e,t){!e&&!Nb[n]&&(Nb[n]=!0,Ko(!1,t))}se.memo(g2);function g2({routes:n,future:e,state:t}){return AT(n,void 0,t,e)}function au(n){Ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function m2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Ln(!Hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),m=se.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof t=="string"&&(t=Ec(t));let{pathname:u="/",search:g="",hash:l="",state:h=null,key:d="default"}=t,f=se.useMemo(()=>{let p=ba(u,c);return p==null?null:{location:{pathname:p,search:g,hash:l,state:h,key:d},navigationType:r}},[c,u,g,l,h,d,r]);return Ko(f!=null,`<Router basename="${c}"> is not able to match the URL "${u}${g}${l}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:se.createElement(Qo.Provider,{value:m},se.createElement(Uu.Provider,{children:e,value:f}))}function v2({children:n,location:e}){return r2(wm(n),e)}function wm(n,e=[]){let t=[];return se.Children.forEach(n,(r,s)=>{if(!se.isValidElement(r))return;let o=[...e,s];if(r.type===se.Fragment){t.push.apply(t,wm(r.props.children,o));return}Ln(r.type===au,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=wm(r.props.children,o)),t.push(c)}),t}var vd="get",yd="application/x-www-form-urlencoded";function Mf(n){return n!=null&&typeof n.tagName=="string"}function y2(n){return Mf(n)&&n.tagName.toLowerCase()==="button"}function w2(n){return Mf(n)&&n.tagName.toLowerCase()==="form"}function b2(n){return Mf(n)&&n.tagName.toLowerCase()==="input"}function _2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function E2(n,e){return n.button===0&&(!e||e==="_self")&&!_2(n)}var rd=null;function S2(){if(rd===null)try{new FormData(document.createElement("form"),0),rd=!1}catch{rd=!0}return rd}var T2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kg(n){return n!=null&&!T2.has(n)?(Ko(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yd}"`),null):n}function C2(n,e){let t,r,s,o,c;if(w2(n)){let m=n.getAttribute("action");r=m?ba(m,e):null,t=n.getAttribute("method")||vd,s=kg(n.getAttribute("enctype"))||yd,o=new FormData(n)}else if(y2(n)||b2(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||m.getAttribute("action");if(r=u?ba(u,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||vd,s=kg(n.getAttribute("formenctype"))||kg(m.getAttribute("enctype"))||yd,o=new FormData(m,n),!S2()){let{name:g,type:l,value:h}=n;if(l==="image"){let d=g?`${g}.`:"";o.append(`${d}x`,"0"),o.append(`${d}y`,"0")}else g&&o.append(g,h)}}else{if(Mf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vd,r=null,s=yd,c=n}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:c}}function xv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function x2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function k2(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await x2(o,t);return c.links?c.links():[]}return[]}));return L2(r.flat(1).filter(A2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Fb(n,e,t,r,s,o){let c=(u,g)=>t[g]?u.route.id!==t[g].route.id:!0,m=(u,g)=>{var l;return t[g].pathname!==u.pathname||((l=t[g].route.path)==null?void 0:l.endsWith("*"))&&t[g].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,g)=>c(u,g)||m(u,g)):o==="data"?e.filter((u,g)=>{var h;let l=r.routes[u.route.id];if(!l||!l.hasLoader)return!1;if(c(u,g)||m(u,g))return!0;if(u.route.shouldRevalidate){let d=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=t[0])==null?void 0:h.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function I2(n,e){return R2(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function R2(n){return[...new Set(n)]}function M2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function L2(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(M2(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function $2(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function P2(){let n=se.useContext(Sc);return xv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function O2(){let n=se.useContext(Rf);return xv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Av=se.createContext(void 0);Av.displayName="FrameworkContext";function IT(){let n=se.useContext(Av);return xv(n,"You must render this element inside a <HydratedRouter> element"),n}function D2(n,e){let t=se.useContext(Av),[r,s]=se.useState(!1),[o,c]=se.useState(!1),{onFocus:m,onBlur:u,onMouseEnter:g,onMouseLeave:l,onTouchStart:h}=e,d=se.useRef(null);se.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let v=C=>{C.forEach(k=>{c(k.isIntersecting)})},y=new IntersectionObserver(v,{threshold:.5});return d.current&&y.observe(d.current),()=>{y.disconnect()}}},[n]),se.useEffect(()=>{if(r){let v=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(v)}}},[r]);let f=()=>{s(!0)},p=()=>{s(!1),c(!1)};return t?n!=="intent"?[o,d,{}]:[o,d,{onFocus:Yc(m,f),onBlur:Yc(u,p),onMouseEnter:Yc(g,f),onMouseLeave:Yc(l,p),onTouchStart:Yc(h,f)}]:[!1,d,{}]}function Yc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function N2({page:n,...e}){let{router:t}=P2(),r=se.useMemo(()=>yT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?se.createElement(V2,{page:n,matches:r,...e}):null}function F2(n){let{manifest:e,routeModules:t}=IT(),[r,s]=se.useState([]);return se.useEffect(()=>{let o=!1;return k2(n,e,t).then(c=>{o||s(c)}),()=>{o=!0}},[n,e,t]),r}function V2({page:n,matches:e,...t}){let r=cl(),{manifest:s,routeModules:o}=IT(),{loaderData:c,matches:m}=O2(),u=se.useMemo(()=>Fb(n,e,m,s,r,"data"),[n,e,m,s,r]),g=se.useMemo(()=>Fb(n,e,m,s,r,"assets"),[n,e,m,s,r]),l=se.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let f=new Set,p=!1;if(e.forEach(y=>{var k;let C=s.routes[y.route.id];!C||!C.hasLoader||(!u.some(F=>F.route.id===y.route.id)&&y.route.id in c&&((k=o[y.route.id])!=null&&k.shouldRevalidate)||C.hasClientLoader?p=!0:f.add(y.route.id))}),f.size===0)return[];let v=$2(n);return p&&f.size>0&&v.searchParams.set("_routes",e.filter(y=>f.has(y.route.id)).map(y=>y.route.id).join(",")),[v.pathname+v.search]},[c,r,s,u,e,n,o]),h=se.useMemo(()=>I2(g,s),[g,s]),d=F2(g);return se.createElement(se.Fragment,null,l.map(f=>se.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...t})),h.map(f=>se.createElement("link",{key:f,rel:"modulepreload",href:f,...t})),d.map(({key:f,link:p})=>se.createElement("link",{key:f,...p})))}function B2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var RT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RT&&(window.__reactRouterVersion="7.1.1")}catch{}function z2({basename:n,children:e,window:t}){let r=se.useRef();r.current==null&&(r.current=kP({window:t,v5Compat:!0}));let s=r.current,[o,c]=se.useState({action:s.action,location:s.location}),m=se.useCallback(u=>{se.startTransition(()=>c(u))},[c]);return se.useLayoutEffect(()=>s.listen(m),[s,m]),se.createElement(m2,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var MT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gl=se.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:m,target:u,to:g,preventScrollReset:l,viewTransition:h,...d},f){let{basename:p}=se.useContext(Qo),v=typeof g=="string"&&MT.test(g),y,C=!1;if(typeof g=="string"&&v&&(y=g,RT))try{let M=new URL(window.location.href),$=g.startsWith("//")?new URL(M.protocol+g):new URL(g),B=ba($.pathname,p);$.origin===M.origin&&B!=null?g=B+$.search+$.hash:C=!0}catch{Ko(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=e2(g,{relative:s}),[F,O,L]=D2(r,d),E=W2(g,{replace:c,state:m,target:u,preventScrollReset:l,relative:s,viewTransition:h});function _(M){e&&e(M),M.defaultPrevented||E(M)}let I=se.createElement("a",{...d,...L,href:y||k,onClick:C||o?e:_,ref:B2(f,O),target:u,"data-discover":!v&&t==="render"?"true":void 0});return F&&!v?se.createElement(se.Fragment,null,I,se.createElement(N2,{page:k})):I});Gl.displayName="Link";var j2=se.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:m,children:u,...g},l){let h=Wu(c,{relative:g.relative}),d=cl(),f=se.useContext(Rf),{navigator:p,basename:v}=se.useContext(Qo),y=f!=null&&Y2(h)&&m===!0,C=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,k=d.pathname,F=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(k=k.toLowerCase(),F=F?F.toLowerCase():null,C=C.toLowerCase()),F&&v&&(F=ba(F,v)||F);const O=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let L=k===C||!s&&k.startsWith(C)&&k.charAt(O)==="/",E=F!=null&&(F===C||!s&&F.startsWith(C)&&F.charAt(C.length)==="/"),_={isActive:L,isPending:E,isTransitioning:y},I=L?e:void 0,M;typeof r=="function"?M=r(_):M=[r,L?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(_):o;return se.createElement(Gl,{...g,"aria-current":I,className:M,ref:l,style:$,to:c,viewTransition:m},typeof u=="function"?u(_):u)});j2.displayName="NavLink";var U2=se.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:c=vd,action:m,onSubmit:u,relative:g,preventScrollReset:l,viewTransition:h,...d},f)=>{let p=q2(),v=Q2(m,{relative:g}),y=c.toLowerCase()==="get"?"get":"post",C=typeof m=="string"&&MT.test(m),k=F=>{if(u&&u(F),F.defaultPrevented)return;F.preventDefault();let O=F.nativeEvent.submitter,L=(O==null?void 0:O.getAttribute("formmethod"))||c;p(O||F.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:s,state:o,relative:g,preventScrollReset:l,viewTransition:h})};return se.createElement("form",{ref:f,method:y,action:v,onSubmit:r?u:k,...d,"data-discover":!C&&n==="render"?"true":void 0})});U2.displayName="Form";function H2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LT(n){let e=se.useContext(Sc);return Ln(e,H2(n)),e}function W2(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:c}={}){let m=Sv(),u=cl(),g=Wu(n,{relative:o});return se.useCallback(l=>{if(E2(l,e)){l.preventDefault();let h=t!==void 0?t:Iu(u)===Iu(g);m(n,{replace:h,state:r,preventScrollReset:s,relative:o,viewTransition:c})}},[u,m,g,t,r,e,n,s,o,c])}var G2=0,K2=()=>`__${String(++G2)}__`;function q2(){let{router:n}=LT("useSubmit"),{basename:e}=se.useContext(Qo),t=d2();return se.useCallback(async(r,s={})=>{let{action:o,method:c,encType:m,formData:u,body:g}=C2(r,e);if(s.navigate===!1){let l=s.fetcherKey||K2();await n.fetch(l,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:g,formMethod:s.method||c,formEncType:s.encType||m,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:g,formMethod:s.method||c,formEncType:s.encType||m,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function Q2(n,{relative:e}={}){let{basename:t}=se.useContext(Qo),r=se.useContext(Yo);Ln(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Wu(n||".",{relative:e})},c=cl();if(n==null){o.search=c.search;let m=new URLSearchParams(o.search),u=m.getAll("index");if(u.some(l=>l==="")){m.delete("index"),u.filter(h=>h).forEach(h=>m.append("index",h));let l=m.toString();o.search=l?`?${l}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:vs([t,o.pathname])),Iu(o)}function Y2(n,e={}){let t=se.useContext(TT);Ln(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=LT("useViewTransitionState"),s=Wu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ba(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=ba(t.nextLocation.pathname,r)||t.nextLocation.pathname;return zd(s.pathname,c)!=null||zd(s.pathname,o)!=null}new TextEncoder;const X2=()=>{const{userInfo:n,login:e,logout:t}=wc(),r=se.useRef(null),s=()=>{r.current&&new window.bootstrap.Collapse(r.current,{toggle:!1}).hide()};return fe.jsx("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:fe.jsxs("div",{className:"container-fluid",children:[fe.jsxs(Gl,{className:"navbar-brand",to:"/",onClick:s,children:[fe.jsx("i",{className:"fas fa-home"})," ",n?"歡迎, "+n.name:"首頁"]}),fe.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"切換導航",children:fe.jsx("span",{className:"navbar-toggler-icon"})}),fe.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",ref:r,children:fe.jsxs("ul",{className:"navbar-nav ms-auto",children:[fe.jsx("li",{className:"nav-item",children:fe.jsx(Gl,{className:"nav-link",to:"/list",onClick:s,children:"教材列表"})}),fe.jsx("li",{className:"nav-item",children:fe.jsx(Gl,{className:"nav-link",to:"/ex_list",onClick:s,children:"題目列表"})}),n?fe.jsx(fe.Fragment,{children:fe.jsx("li",{className:"nav-item",children:fe.jsx("button",{className:"btn btn-link nav-link",onClick:t,children:"登出"})})}):fe.jsx("li",{className:"nav-item",children:fe.jsx(Gl,{className:"nav-link",to:"/",onClick:s,children:"登入"})})]})})]})})},Z2=()=>{const{userInfo:n,timeoutWarning:e}=wc();return fe.jsxs("div",{children:[e&&fe.jsx("div",{className:"warning-message",children:"您即將因閒置而登出，請點擊任意處繼續使用"}),fe.jsx("h1",{className:"mt-2 mb-2",children:"歡迎來到Python學習平台"}),fe.jsxs("div",{className:"announcement",children:[fe.jsx("h2",{children:"平台公告"}),fe.jsx("p",{children:"歡迎使用我們的Python學習平台！以下是一些使用指南："}),fe.jsxs("ul",{children:[fe.jsx("li",{children:"點擊教材列表瀏覽課程單元並選擇您感興趣的內容。"}),fe.jsx("li",{children:"選擇題目列表進行練習來加深您的知識。"}),fe.jsxs("li",{children:["請點選",fe.jsx("a",{href:"https://forms.gle/muexCsdSkbUHkCLM9",target:"_blank",children:"連結"}),"告訴我們您的使用體驗，謝謝"]}),fe.jsx("li",{children:"如果您有任何問題，請聯繫我們。"})]})]})]})};var lu={exports:{}},J2=lu.exports,Vb;function eO(){return Vb||(Vb=1,function(n,e){(function(t,r){n.exports=r()})(J2,function(){function t(A,x){var D=Object.keys(A);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(A);x&&(j=j.filter(function(G){return Object.getOwnPropertyDescriptor(A,G).enumerable})),D.push.apply(D,j)}return D}function r(A){for(var x=1;x<arguments.length;x++){var D=arguments[x]!=null?arguments[x]:{};x%2?t(Object(D),!0).forEach(function(j){u(A,j,D[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(D)):t(Object(D)).forEach(function(j){Object.defineProperty(A,j,Object.getOwnPropertyDescriptor(D,j))})}return A}function s(A){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s(A)}function o(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")}function c(A,x){for(var D=0;D<x.length;D++){var j=x[D];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(A,v(j.key),j)}}function m(A,x,D){return x&&c(A.prototype,x),Object.defineProperty(A,"prototype",{writable:!1}),A}function u(A,x,D){return(x=v(x))in A?Object.defineProperty(A,x,{value:D,enumerable:!0,configurable:!0,writable:!0}):A[x]=D,A}function g(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(x&&x.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),x&&h(A,x)}function l(A){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},l(A)}function h(A,x){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,j){return D.__proto__=j,D},h(A,x)}function d(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function f(A){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,j=l(A);if(x){var G=l(this).constructor;D=Reflect.construct(j,arguments,G)}else D=j.apply(this,arguments);return function(X,te){if(te&&(typeof te=="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(X)}(this,D)}}function p(){return p=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(A,x,D){var j=function(X,te){for(;!Object.prototype.hasOwnProperty.call(X,te)&&(X=l(X))!==null;);return X}(A,x);if(j){var G=Object.getOwnPropertyDescriptor(j,x);return G.get?G.get.call(arguments.length<3?A:D):G.value}},p.apply(this,arguments)}function v(A){var x=function(D,j){if(typeof D!="object"||D===null)return D;var G=D[Symbol.toPrimitive];if(G!==void 0){var X=G.call(D,j);if(typeof X!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}(A,"string");return typeof x=="symbol"?x:x+""}var y=function(A){return!(!A||!A.Window)&&A instanceof A.Window},C=void 0,k=void 0;function F(A){C=A;var x=A.document.createTextNode("");x.ownerDocument!==A.document&&typeof A.wrap=="function"&&A.wrap(x)===x&&(A=A.wrap(A)),k=A}function O(A){return y(A)?A:(A.ownerDocument||A).defaultView||k.window}typeof window<"u"&&window&&F(window);var L=function(A){return!!A&&s(A)==="object"},E=function(A){return typeof A=="function"},_={window:function(A){return A===k||y(A)},docFrag:function(A){return L(A)&&A.nodeType===11},object:L,func:E,number:function(A){return typeof A=="number"},bool:function(A){return typeof A=="boolean"},string:function(A){return typeof A=="string"},element:function(A){if(!A||s(A)!=="object")return!1;var x=O(A)||k;return/object|function/.test(typeof Element>"u"?"undefined":s(Element))?A instanceof Element||A instanceof x.Element:A.nodeType===1&&typeof A.nodeName=="string"},plainObject:function(A){return L(A)&&!!A.constructor&&/function Object\b/.test(A.constructor.toString())},array:function(A){return L(A)&&A.length!==void 0&&E(A.splice)}};function I(A){var x=A.interaction;if(x.prepared.name==="drag"){var D=x.prepared.axis;D==="x"?(x.coords.cur.page.y=x.coords.start.page.y,x.coords.cur.client.y=x.coords.start.client.y,x.coords.velocity.client.y=0,x.coords.velocity.page.y=0):D==="y"&&(x.coords.cur.page.x=x.coords.start.page.x,x.coords.cur.client.x=x.coords.start.client.x,x.coords.velocity.client.x=0,x.coords.velocity.page.x=0)}}function M(A){var x=A.iEvent,D=A.interaction;if(D.prepared.name==="drag"){var j=D.prepared.axis;if(j==="x"||j==="y"){var G=j==="x"?"y":"x";x.page[G]=D.coords.start.page[G],x.client[G]=D.coords.start.client[G],x.delta[G]=0}}}var $={id:"actions/drag",install:function(A){var x=A.actions,D=A.Interactable,j=A.defaults;D.prototype.draggable=$.draggable,x.map.drag=$,x.methodDict.drag="draggable",j.actions.drag=$.defaults},listeners:{"interactions:before-action-move":I,"interactions:action-resume":I,"interactions:action-move":M,"auto-start:check":function(A){var x=A.interaction,D=A.interactable,j=A.buttons,G=D.options.drag;if(G&&G.enabled&&(!x.pointerIsDown||!/mouse|pointer/.test(x.pointerType)||j&D.options.drag.mouseButtons))return A.action={name:"drag",axis:G.lockAxis==="start"?G.startAxis:G.lockAxis},!1}},draggable:function(A){return _.object(A)?(this.options.drag.enabled=A.enabled!==!1,this.setPerAction("drag",A),this.setOnEvents("drag",A),/^(xy|x|y|start)$/.test(A.lockAxis)&&(this.options.drag.lockAxis=A.lockAxis),/^(xy|x|y)$/.test(A.startAxis)&&(this.options.drag.startAxis=A.startAxis),this):_.bool(A)?(this.options.drag.enabled=A,this):this.options.drag},beforeMove:I,move:M,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(A){return A.search("drag")===0}},B=$,T={init:function(A){var x=A;T.document=x.document,T.DocumentFragment=x.DocumentFragment||b,T.SVGElement=x.SVGElement||b,T.SVGSVGElement=x.SVGSVGElement||b,T.SVGElementInstance=x.SVGElementInstance||b,T.Element=x.Element||b,T.HTMLElement=x.HTMLElement||T.Element,T.Event=x.Event,T.Touch=x.Touch||b,T.PointerEvent=x.PointerEvent||x.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function b(){}var P=T,N={init:function(A){var x=P.Element,D=A.navigator||{};N.supportsTouch="ontouchstart"in A||_.func(A.DocumentTouch)&&P.document instanceof A.DocumentTouch,N.supportsPointerEvent=D.pointerEnabled!==!1&&!!P.PointerEvent,N.isIOS=/iP(hone|od|ad)/.test(D.platform),N.isIOS7=/iP(hone|od|ad)/.test(D.platform)&&/OS 7[^\d]/.test(D.appVersion),N.isIe9=/MSIE 9/.test(D.userAgent),N.isOperaMobile=D.appName==="Opera"&&N.supportsTouch&&/Presto/.test(D.userAgent),N.prefixedMatchesSelector="matches"in x.prototype?"matches":"webkitMatchesSelector"in x.prototype?"webkitMatchesSelector":"mozMatchesSelector"in x.prototype?"mozMatchesSelector":"oMatchesSelector"in x.prototype?"oMatchesSelector":"msMatchesSelector",N.pEventTypes=N.supportsPointerEvent?P.PointerEvent===A.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,N.wheelEvent=P.document&&"onmousewheel"in P.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},z=N;function q(A,x){if(A.contains)return A.contains(x);for(;x;){if(x===A)return!0;x=x.parentNode}return!1}function K(A,x){for(;_.element(A);){if(Q(A,x))return A;A=J(A)}return null}function J(A){var x=A.parentNode;if(_.docFrag(x)){for(;(x=x.host)&&_.docFrag(x););return x}return x}function Q(A,x){return k!==C&&(x=x.replace(/\/deep\//g," ")),A[z.prefixedMatchesSelector](x)}var U=function(A){return A.parentNode||A.host};function re(A,x){for(var D,j=[],G=A;(D=U(G))&&G!==x&&D!==G.ownerDocument;)j.unshift(G),G=D;return j}function Z(A,x,D){for(;_.element(A);){if(Q(A,x))return!0;if((A=J(A))===D)return Q(A,x)}return!1}function ue(A){return A.correspondingUseElement||A}function ce(A){var x=A instanceof P.SVGElement?A.getBoundingClientRect():A.getClientRects()[0];return x&&{left:x.left,right:x.right,top:x.top,bottom:x.bottom,width:x.width||x.right-x.left,height:x.height||x.bottom-x.top}}function oe(A){var x,D=ce(A);if(!z.isIOS7&&D){var j={x:(x=(x=O(A))||k).scrollX||x.document.documentElement.scrollLeft,y:x.scrollY||x.document.documentElement.scrollTop};D.left+=j.x,D.right+=j.x,D.top+=j.y,D.bottom+=j.y}return D}function pe(A){for(var x=[];A;)x.push(A),A=J(A);return x}function Ee(A){return!!_.string(A)&&(P.document.querySelector(A),!0)}function me(A,x){for(var D in x)A[D]=x[D];return A}function Ae(A,x,D){return A==="parent"?J(D):A==="self"?x.getRect(D):K(D,A)}function $e(A,x,D,j){var G=A;return _.string(G)?G=Ae(G,x,D):_.func(G)&&(G=G.apply(void 0,j)),_.element(G)&&(G=oe(G)),G}function Qe(A){return A&&{x:"x"in A?A.x:A.left,y:"y"in A?A.y:A.top}}function ut(A){return!A||"x"in A&&"y"in A||((A=me({},A)).x=A.left||0,A.y=A.top||0,A.width=A.width||(A.right||0)-A.x,A.height=A.height||(A.bottom||0)-A.y),A}function qe(A,x,D){A.left&&(x.left+=D.x),A.right&&(x.right+=D.x),A.top&&(x.top+=D.y),A.bottom&&(x.bottom+=D.y),x.width=x.right-x.left,x.height=x.bottom-x.top}function Ge(A,x,D){var j=D&&A.options[D];return Qe($e(j&&j.origin||A.options.origin,A,x,[A&&x]))||{x:0,y:0}}function yt(A,x){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(le){return!0},j=arguments.length>3?arguments[3]:void 0;if(j=j||{},_.string(A)&&A.search(" ")!==-1&&(A=Ot(A)),_.array(A))return A.forEach(function(le){return yt(le,x,D,j)}),j;if(_.object(A)&&(x=A,A=""),_.func(x)&&D(A))j[A]=j[A]||[],j[A].push(x);else if(_.array(x))for(var G=0,X=x;G<X.length;G++){var te=X[G];yt(A,te,D,j)}else if(_.object(x))for(var ne in x)yt(Ot(ne).map(function(le){return"".concat(A).concat(le)}),x[ne],D,j);return j}function Ot(A){return A.trim().split(/ +/)}var Ht=function(A,x){return Math.sqrt(A*A+x*x)},pn=["webkit","moz"];function Nt(A,x){A.__set||(A.__set={});var D=function(G){if(pn.some(function(X){return G.indexOf(X)===0}))return 1;typeof A[G]!="function"&&G!=="__set"&&Object.defineProperty(A,G,{get:function(){return G in A.__set?A.__set[G]:A.__set[G]=x[G]},set:function(X){A.__set[G]=X},configurable:!0})};for(var j in x)D(j);return A}function wn(A,x){A.page=A.page||{},A.page.x=x.page.x,A.page.y=x.page.y,A.client=A.client||{},A.client.x=x.client.x,A.client.y=x.client.y,A.timeStamp=x.timeStamp}function Wn(A){A.page.x=0,A.page.y=0,A.client.x=0,A.client.y=0}function Pn(A){return A instanceof P.Event||A instanceof P.Touch}function bn(A,x,D){return A=A||"page",(D=D||{}).x=x[A+"X"],D.y=x[A+"Y"],D}function ur(A,x){return x=x||{x:0,y:0},z.isOperaMobile&&Pn(A)?(bn("screen",A,x),x.x+=window.scrollX,x.y+=window.scrollY):bn("page",A,x),x}function be(A){return _.number(A.pointerId)?A.pointerId:A.identifier}function ze(A,x,D){var j=x.length>1?ft(x):x[0];ur(j,A.page),function(G,X){X=X||{},z.isOperaMobile&&Pn(G)?bn("screen",G,X):bn("client",G,X)}(j,A.client),A.timeStamp=D}function Ke(A){var x=[];return _.array(A)?(x[0]=A[0],x[1]=A[1]):A.type==="touchend"?A.touches.length===1?(x[0]=A.touches[0],x[1]=A.changedTouches[0]):A.touches.length===0&&(x[0]=A.changedTouches[0],x[1]=A.changedTouches[1]):(x[0]=A.touches[0],x[1]=A.touches[1]),x}function ft(A){for(var x={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},D=0;D<A.length;D++){var j=A[D];for(var G in x)x[G]+=j[G]}for(var X in x)x[X]/=A.length;return x}function lt(A){if(!A.length)return null;var x=Ke(A),D=Math.min(x[0].pageX,x[1].pageX),j=Math.min(x[0].pageY,x[1].pageY),G=Math.max(x[0].pageX,x[1].pageX),X=Math.max(x[0].pageY,x[1].pageY);return{x:D,y:j,left:D,top:j,right:G,bottom:X,width:G-D,height:X-j}}function kt(A,x){var D=x+"X",j=x+"Y",G=Ke(A),X=G[0][D]-G[1][D],te=G[0][j]-G[1][j];return Ht(X,te)}function Lt(A,x){var D=x+"X",j=x+"Y",G=Ke(A),X=G[1][D]-G[0][D],te=G[1][j]-G[0][j];return 180*Math.atan2(te,X)/Math.PI}function Ft(A){return _.string(A.pointerType)?A.pointerType:_.number(A.pointerType)?[void 0,void 0,"touch","pen","mouse"][A.pointerType]:/touch/.test(A.type||"")||A instanceof P.Touch?"touch":"mouse"}function $t(A){var x=_.func(A.composedPath)?A.composedPath():A.path;return[ue(x?x[0]:A.target),ue(A.currentTarget)]}var _t=function(){function A(x){o(this,A),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=x}return m(A,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),A}();Object.defineProperty(_t.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var ln=function(A,x){for(var D=0;D<x.length;D++){var j=x[D];A.push(j)}return A},Ce=function(A){return ln([],A)},De=function(A,x){for(var D=0;D<A.length;D++)if(x(A[D],D,A))return D;return-1},Ze=function(A,x){return A[De(A,x)]},Rt=function(A){g(D,A);var x=f(D);function D(j,G,X){var te;o(this,D),(te=x.call(this,G._interaction)).dropzone=void 0,te.dragEvent=void 0,te.relatedTarget=void 0,te.draggable=void 0,te.propagationStopped=!1,te.immediatePropagationStopped=!1;var ne=X==="dragleave"?j.prev:j.cur,le=ne.element,ge=ne.dropzone;return te.type=X,te.target=le,te.currentTarget=le,te.dropzone=ge,te.dragEvent=G,te.relatedTarget=G.target,te.draggable=G.interactable,te.timeStamp=G.timeStamp,te}return m(D,[{key:"reject",value:function(){var j=this,G=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&G.cur.dropzone===this.dropzone&&G.cur.element===this.target)if(G.prev.dropzone=this.dropzone,G.prev.element=this.target,G.rejected=!0,G.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var X=G.activeDrops,te=De(X,function(le){var ge=le.dropzone,he=le.element;return ge===j.dropzone&&he===j.target});G.activeDrops.splice(te,1);var ne=new D(G,this.dragEvent,"dropdeactivate");ne.dropzone=this.dropzone,ne.target=this.target,this.dropzone.fire(ne)}else this.dropzone.fire(new D(G,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),D}(_t);function An(A,x){for(var D=0,j=A.slice();D<j.length;D++){var G=j[D],X=G.dropzone,te=G.element;x.dropzone=X,x.target=te,X.fire(x),x.propagationStopped=x.immediatePropagationStopped=!1}}function On(A,x){for(var D=function(X,te){for(var ne=[],le=0,ge=X.interactables.list;le<ge.length;le++){var he=ge[le];if(he.options.drop.enabled){var _e=he.options.drop.accept;if(!(_.element(_e)&&_e!==te||_.string(_e)&&!Q(te,_e)||_.func(_e)&&!_e({dropzone:he,draggableElement:te})))for(var Re=0,Ve=he.getAllElements();Re<Ve.length;Re++){var Ne=Ve[Re];Ne!==te&&ne.push({dropzone:he,element:Ne,rect:he.getRect(Ne)})}}}return ne}(A,x),j=0;j<D.length;j++){var G=D[j];G.rect=G.dropzone.getRect(G.element)}return D}function Lr(A,x,D){for(var j=A.dropState,G=A.interactable,X=A.element,te=[],ne=0,le=j.activeDrops;ne<le.length;ne++){var ge=le[ne],he=ge.dropzone,_e=ge.element,Re=ge.rect,Ve=he.dropCheck(x,D,G,X,_e,Re);te.push(Ve?_e:null)}var Ne=function(Ue){for(var et,Xe,ct,Ct=[],wt=0;wt<Ue.length;wt++){var ht=Ue[wt],xt=Ue[et];if(ht&&wt!==et)if(xt){var gr=U(ht),dn=U(xt);if(gr!==ht.ownerDocument)if(dn!==ht.ownerDocument)if(gr!==dn){Ct=Ct.length?Ct:re(xt);var Vr=void 0;if(xt instanceof P.HTMLElement&&ht instanceof P.SVGElement&&!(ht instanceof P.SVGSVGElement)){if(ht===dn)continue;Vr=ht.ownerSVGElement}else Vr=ht;for(var ri=re(Vr,xt.ownerDocument),fo=0;ri[fo]&&ri[fo]===Ct[fo];)fo++;var ml=[ri[fo-1],ri[fo],Ct[fo]];if(ml[0])for(var qi=ml[0].lastChild;qi;){if(qi===ml[1]){et=wt,Ct=ri;break}if(qi===ml[2])break;qi=qi.previousSibling}}else ct=xt,(parseInt(O(Xe=ht).getComputedStyle(Xe).zIndex,10)||0)>=(parseInt(O(ct).getComputedStyle(ct).zIndex,10)||0)&&(et=wt);else et=wt}else et=wt}return et}(te);return j.activeDrops[Ne]||null}function Gn(A,x,D){var j=A.dropState,G={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return D.type==="dragstart"&&(G.activate=new Rt(j,D,"dropactivate"),G.activate.target=null,G.activate.dropzone=null),D.type==="dragend"&&(G.deactivate=new Rt(j,D,"dropdeactivate"),G.deactivate.target=null,G.deactivate.dropzone=null),j.rejected||(j.cur.element!==j.prev.element&&(j.prev.dropzone&&(G.leave=new Rt(j,D,"dragleave"),D.dragLeave=G.leave.target=j.prev.element,D.prevDropzone=G.leave.dropzone=j.prev.dropzone),j.cur.dropzone&&(G.enter=new Rt(j,D,"dragenter"),D.dragEnter=j.cur.element,D.dropzone=j.cur.dropzone)),D.type==="dragend"&&j.cur.dropzone&&(G.drop=new Rt(j,D,"drop"),D.dropzone=j.cur.dropzone,D.relatedTarget=j.cur.element),D.type==="dragmove"&&j.cur.dropzone&&(G.move=new Rt(j,D,"dropmove"),D.dropzone=j.cur.dropzone)),G}function Ai(A,x){var D=A.dropState,j=D.activeDrops,G=D.cur,X=D.prev;x.leave&&X.dropzone.fire(x.leave),x.enter&&G.dropzone.fire(x.enter),x.move&&G.dropzone.fire(x.move),x.drop&&G.dropzone.fire(x.drop),x.deactivate&&An(j,x.deactivate),D.prev.dropzone=G.dropzone,D.prev.element=G.element}function li(A,x){var D=A.interaction,j=A.iEvent,G=A.event;if(j.type==="dragmove"||j.type==="dragend"){var X=D.dropState;x.dynamicDrop&&(X.activeDrops=On(x,D.element));var te=j,ne=Lr(D,te,G);X.rejected=X.rejected&&!!ne&&ne.dropzone===X.cur.dropzone&&ne.element===X.cur.element,X.cur.dropzone=ne&&ne.dropzone,X.cur.element=ne&&ne.element,X.events=Gn(D,0,te)}}var Vi={id:"actions/drop",install:function(A){var x=A.actions,D=A.interactStatic,j=A.Interactable,G=A.defaults;A.usePlugin(B),j.prototype.dropzone=function(X){return function(te,ne){if(_.object(ne)){if(te.options.drop.enabled=ne.enabled!==!1,ne.listeners){var le=yt(ne.listeners),ge=Object.keys(le).reduce(function(_e,Re){return _e[/^(enter|leave)/.test(Re)?"drag".concat(Re):/^(activate|deactivate|move)/.test(Re)?"drop".concat(Re):Re]=le[Re],_e},{}),he=te.options.drop.listeners;he&&te.off(he),te.on(ge),te.options.drop.listeners=ge}return _.func(ne.ondrop)&&te.on("drop",ne.ondrop),_.func(ne.ondropactivate)&&te.on("dropactivate",ne.ondropactivate),_.func(ne.ondropdeactivate)&&te.on("dropdeactivate",ne.ondropdeactivate),_.func(ne.ondragenter)&&te.on("dragenter",ne.ondragenter),_.func(ne.ondragleave)&&te.on("dragleave",ne.ondragleave),_.func(ne.ondropmove)&&te.on("dropmove",ne.ondropmove),/^(pointer|center)$/.test(ne.overlap)?te.options.drop.overlap=ne.overlap:_.number(ne.overlap)&&(te.options.drop.overlap=Math.max(Math.min(1,ne.overlap),0)),"accept"in ne&&(te.options.drop.accept=ne.accept),"checker"in ne&&(te.options.drop.checker=ne.checker),te}return _.bool(ne)?(te.options.drop.enabled=ne,te):te.options.drop}(this,X)},j.prototype.dropCheck=function(X,te,ne,le,ge,he){return function(_e,Re,Ve,Ne,Ue,et,Xe){var ct=!1;if(!(Xe=Xe||_e.getRect(et)))return!!_e.options.drop.checker&&_e.options.drop.checker(Re,Ve,ct,_e,et,Ne,Ue);var Ct=_e.options.drop.overlap;if(Ct==="pointer"){var wt=Ge(Ne,Ue,"drag"),ht=ur(Re);ht.x+=wt.x,ht.y+=wt.y;var xt=ht.x>Xe.left&&ht.x<Xe.right,gr=ht.y>Xe.top&&ht.y<Xe.bottom;ct=xt&&gr}var dn=Ne.getRect(Ue);if(dn&&Ct==="center"){var Vr=dn.left+dn.width/2,ri=dn.top+dn.height/2;ct=Vr>=Xe.left&&Vr<=Xe.right&&ri>=Xe.top&&ri<=Xe.bottom}return dn&&_.number(Ct)&&(ct=Math.max(0,Math.min(Xe.right,dn.right)-Math.max(Xe.left,dn.left))*Math.max(0,Math.min(Xe.bottom,dn.bottom)-Math.max(Xe.top,dn.top))/(dn.width*dn.height)>=Ct),_e.options.drop.checker&&(ct=_e.options.drop.checker(Re,Ve,ct,_e,et,Ne,Ue)),ct}(this,X,te,ne,le,ge,he)},D.dynamicDrop=function(X){return _.bool(X)?(A.dynamicDrop=X,D):A.dynamicDrop},me(x.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),x.methodDict.drop="dropzone",A.dynamicDrop=!1,G.actions.drop=Vi.defaults},listeners:{"interactions:before-action-start":function(A){var x=A.interaction;x.prepared.name==="drag"&&(x.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(A,x){var D=A.interaction,j=(A.event,A.iEvent);if(D.prepared.name==="drag"){var G=D.dropState;G.activeDrops=[],G.events={},G.activeDrops=On(x,D.element),G.events=Gn(D,0,j),G.events.activate&&(An(G.activeDrops,G.events.activate),x.fire("actions/drop:start",{interaction:D,dragEvent:j}))}},"interactions:action-move":li,"interactions:after-action-move":function(A,x){var D=A.interaction,j=A.iEvent;if(D.prepared.name==="drag"){var G=D.dropState;Ai(D,G.events),x.fire("actions/drop:move",{interaction:D,dragEvent:j}),G.events={}}},"interactions:action-end":function(A,x){if(A.interaction.prepared.name==="drag"){var D=A.interaction,j=A.iEvent;li(A,x),Ai(D,D.dropState.events),x.fire("actions/drop:end",{interaction:D,dragEvent:j})}},"interactions:stop":function(A){var x=A.interaction;if(x.prepared.name==="drag"){var D=x.dropState;D&&(D.activeDrops=null,D.events=null,D.cur.dropzone=null,D.cur.element=null,D.prev.dropzone=null,D.prev.element=null,D.rejected=!1)}}},getActiveDrops:On,getDrop:Lr,getDropEvents:Gn,fireDropEvents:Ai,filterEventType:function(A){return A.search("drag")===0||A.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},_r=Vi;function so(A){var x=A.interaction,D=A.iEvent,j=A.phase;if(x.prepared.name==="gesture"){var G=x.pointers.map(function(ge){return ge.pointer}),X=j==="start",te=j==="end",ne=x.interactable.options.deltaSource;if(D.touches=[G[0],G[1]],X)D.distance=kt(G,ne),D.box=lt(G),D.scale=1,D.ds=0,D.angle=Lt(G,ne),D.da=0,x.gesture.startDistance=D.distance,x.gesture.startAngle=D.angle;else if(te||x.pointers.length<2){var le=x.prevEvent;D.distance=le.distance,D.box=le.box,D.scale=le.scale,D.ds=0,D.angle=le.angle,D.da=0}else D.distance=kt(G,ne),D.box=lt(G),D.scale=D.distance/x.gesture.startDistance,D.angle=Lt(G,ne),D.ds=D.scale-x.gesture.scale,D.da=D.angle-x.gesture.angle;x.gesture.distance=D.distance,x.gesture.angle=D.angle,_.number(D.scale)&&D.scale!==1/0&&!isNaN(D.scale)&&(x.gesture.scale=D.scale)}}var hn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(A){var x=A.actions,D=A.Interactable,j=A.defaults;D.prototype.gesturable=function(G){return _.object(G)?(this.options.gesture.enabled=G.enabled!==!1,this.setPerAction("gesture",G),this.setOnEvents("gesture",G),this):_.bool(G)?(this.options.gesture.enabled=G,this):this.options.gesture},x.map.gesture=hn,x.methodDict.gesture="gesturable",j.actions.gesture=hn.defaults},listeners:{"interactions:action-start":so,"interactions:action-move":so,"interactions:action-end":so,"interactions:new":function(A){A.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(A){if(!(A.interaction.pointers.length<2)){var x=A.interactable.options.gesture;if(x&&x.enabled)return A.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(A){return A.search("gesture")===0}},Eo=hn;function Yr(A,x,D,j,G,X,te){if(!x)return!1;if(x===!0){var ne=_.number(X.width)?X.width:X.right-X.left,le=_.number(X.height)?X.height:X.bottom-X.top;if(te=Math.min(te,Math.abs((A==="left"||A==="right"?ne:le)/2)),ne<0&&(A==="left"?A="right":A==="right"&&(A="left")),le<0&&(A==="top"?A="bottom":A==="bottom"&&(A="top")),A==="left"){var ge=ne>=0?X.left:X.right;return D.x<ge+te}if(A==="top"){var he=le>=0?X.top:X.bottom;return D.y<he+te}if(A==="right")return D.x>(ne>=0?X.right:X.left)-te;if(A==="bottom")return D.y>(le>=0?X.bottom:X.top)-te}return!!_.element(j)&&(_.element(x)?x===j:Z(j,x,G))}function Bi(A){var x=A.iEvent,D=A.interaction;if(D.prepared.name==="resize"&&D.resizeAxes){var j=x;D.interactable.options.resize.square?(D.resizeAxes==="y"?j.delta.x=j.delta.y:j.delta.y=j.delta.x,j.axes="xy"):(j.axes=D.resizeAxes,D.resizeAxes==="x"?j.delta.y=0:D.resizeAxes==="y"&&(j.delta.x=0))}}var Kn,hr,sn={id:"actions/resize",before:["actions/drag"],install:function(A){var x=A.actions,D=A.browser,j=A.Interactable,G=A.defaults;sn.cursors=function(X){return X.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(D),sn.defaultMargin=D.supportsTouch||D.supportsPointerEvent?20:10,j.prototype.resizable=function(X){return function(te,ne,le){return _.object(ne)?(te.options.resize.enabled=ne.enabled!==!1,te.setPerAction("resize",ne),te.setOnEvents("resize",ne),_.string(ne.axis)&&/^x$|^y$|^xy$/.test(ne.axis)?te.options.resize.axis=ne.axis:ne.axis===null&&(te.options.resize.axis=le.defaults.actions.resize.axis),_.bool(ne.preserveAspectRatio)?te.options.resize.preserveAspectRatio=ne.preserveAspectRatio:_.bool(ne.square)&&(te.options.resize.square=ne.square),te):_.bool(ne)?(te.options.resize.enabled=ne,te):te.options.resize}(this,X,A)},x.map.resize=sn,x.methodDict.resize="resizable",G.actions.resize=sn.defaults},listeners:{"interactions:new":function(A){A.interaction.resizeAxes="xy"},"interactions:action-start":function(A){(function(x){var D=x.iEvent,j=x.interaction;if(j.prepared.name==="resize"&&j.prepared.edges){var G=D,X=j.rect;j._rects={start:me({},X),corrected:me({},X),previous:me({},X),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},G.edges=j.prepared.edges,G.rect=j._rects.corrected,G.deltaRect=j._rects.delta}})(A),Bi(A)},"interactions:action-move":function(A){(function(x){var D=x.iEvent,j=x.interaction;if(j.prepared.name==="resize"&&j.prepared.edges){var G=D,X=j.interactable.options.resize.invert,te=X==="reposition"||X==="negate",ne=j.rect,le=j._rects,ge=le.start,he=le.corrected,_e=le.delta,Re=le.previous;if(me(Re,he),te){if(me(he,ne),X==="reposition"){if(he.top>he.bottom){var Ve=he.top;he.top=he.bottom,he.bottom=Ve}if(he.left>he.right){var Ne=he.left;he.left=he.right,he.right=Ne}}}else he.top=Math.min(ne.top,ge.bottom),he.bottom=Math.max(ne.bottom,ge.top),he.left=Math.min(ne.left,ge.right),he.right=Math.max(ne.right,ge.left);for(var Ue in he.width=he.right-he.left,he.height=he.bottom-he.top,he)_e[Ue]=he[Ue]-Re[Ue];G.edges=j.prepared.edges,G.rect=he,G.deltaRect=_e}})(A),Bi(A)},"interactions:action-end":function(A){var x=A.iEvent,D=A.interaction;if(D.prepared.name==="resize"&&D.prepared.edges){var j=x;j.edges=D.prepared.edges,j.rect=D._rects.corrected,j.deltaRect=D._rects.delta}},"auto-start:check":function(A){var x=A.interaction,D=A.interactable,j=A.element,G=A.rect,X=A.buttons;if(G){var te=me({},x.coords.cur.page),ne=D.options.resize;if(ne&&ne.enabled&&(!x.pointerIsDown||!/mouse|pointer/.test(x.pointerType)||X&ne.mouseButtons)){if(_.object(ne.edges)){var le={left:!1,right:!1,top:!1,bottom:!1};for(var ge in le)le[ge]=Yr(ge,ne.edges[ge],te,x._latestPointer.eventTarget,j,G,ne.margin||sn.defaultMargin);le.left=le.left&&!le.right,le.top=le.top&&!le.bottom,(le.left||le.right||le.top||le.bottom)&&(A.action={name:"resize",edges:le})}else{var he=ne.axis!=="y"&&te.x>G.right-sn.defaultMargin,_e=ne.axis!=="x"&&te.y>G.bottom-sn.defaultMargin;(he||_e)&&(A.action={name:"resize",axes:(he?"x":"")+(_e?"y":"")})}return!A.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(A){var x=A.edges,D=A.axis,j=A.name,G=sn.cursors,X=null;if(D)X=G[j+D];else if(x){for(var te="",ne=0,le=["top","bottom","left","right"];ne<le.length;ne++){var ge=le[ne];x[ge]&&(te+=ge)}X=G[te]}return X},filterEventType:function(A){return A.search("resize")===0},defaultMargin:null},Xo=sn,Ca={id:"actions",install:function(A){A.usePlugin(Eo),A.usePlugin(Xo),A.usePlugin(B),A.usePlugin(_r)}},ao=0,Xr={request:function(A){return Kn(A)},cancel:function(A){return hr(A)},init:function(A){if(Kn=A.requestAnimationFrame,hr=A.cancelAnimationFrame,!Kn)for(var x=["ms","moz","webkit","o"],D=0;D<x.length;D++){var j=x[D];Kn=A["".concat(j,"RequestAnimationFrame")],hr=A["".concat(j,"CancelAnimationFrame")]||A["".concat(j,"CancelRequestAnimationFrame")]}Kn=Kn&&Kn.bind(A),hr=hr&&hr.bind(A),Kn||(Kn=function(G){var X=Date.now(),te=Math.max(0,16-(X-ao)),ne=A.setTimeout(function(){G(X+te)},te);return ao=X+te,ne},hr=function(G){return clearTimeout(G)})}},st={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(A){st.isScrolling=!0,Xr.cancel(st.i),A.autoScroll=st,st.interaction=A,st.prevTime=st.now(),st.i=Xr.request(st.scroll)},stop:function(){st.isScrolling=!1,st.interaction&&(st.interaction.autoScroll=null),Xr.cancel(st.i)},scroll:function(){var A=st.interaction,x=A.interactable,D=A.element,j=A.prepared.name,G=x.options[j].autoScroll,X=qn(G.container,x,D),te=st.now(),ne=(te-st.prevTime)/1e3,le=G.speed*ne;if(le>=1){var ge={x:st.x*le,y:st.y*le};if(ge.x||ge.y){var he=$r(X);_.window(X)?X.scrollBy(ge.x,ge.y):X&&(X.scrollLeft+=ge.x,X.scrollTop+=ge.y);var _e=$r(X),Re={x:_e.x-he.x,y:_e.y-he.y};(Re.x||Re.y)&&x.fire({type:"autoscroll",target:D,interactable:x,delta:Re,interaction:A,container:X})}st.prevTime=te}st.isScrolling&&(Xr.cancel(st.i),st.i=Xr.request(st.scroll))},check:function(A,x){var D;return(D=A.options[x].autoScroll)==null?void 0:D.enabled},onInteractionMove:function(A){var x=A.interaction,D=A.pointer;if(x.interacting()&&st.check(x.interactable,x.prepared.name))if(x.simulation)st.x=st.y=0;else{var j,G,X,te,ne=x.interactable,le=x.element,ge=x.prepared.name,he=ne.options[ge].autoScroll,_e=qn(he.container,ne,le);if(_.window(_e))te=D.clientX<st.margin,j=D.clientY<st.margin,G=D.clientX>_e.innerWidth-st.margin,X=D.clientY>_e.innerHeight-st.margin;else{var Re=ce(_e);te=D.clientX<Re.left+st.margin,j=D.clientY<Re.top+st.margin,G=D.clientX>Re.right-st.margin,X=D.clientY>Re.bottom-st.margin}st.x=G?1:te?-1:0,st.y=X?1:j?-1:0,st.isScrolling||(st.margin=he.margin,st.speed=he.speed,st.start(x))}}};function qn(A,x,D){return(_.string(A)?Ae(A,x,D):A)||O(D)}function $r(A){return _.window(A)&&(A=window.document.body),{x:A.scrollLeft,y:A.scrollTop}}var xs={id:"auto-scroll",install:function(A){var x=A.defaults,D=A.actions;A.autoScroll=st,st.now=function(){return A.now()},D.phaselessTypes.autoscroll=!0,x.perAction.autoScroll=st.defaults},listeners:{"interactions:new":function(A){A.interaction.autoScroll=null},"interactions:destroy":function(A){A.interaction.autoScroll=null,st.stop(),st.interaction&&(st.interaction=null)},"interactions:stop":st.stop,"interactions:action-move":function(A){return st.onInteractionMove(A)}}},Zo=xs;function ci(A,x){var D=!1;return function(){return D||(k.console.warn(x),D=!0),A.apply(this,arguments)}}function zi(A,x){return A.name=x.name,A.axis=x.axis,A.edges=x.edges,A}function Zr(A){return _.bool(A)?(this.options.styleCursor=A,this):A===null?(delete this.options.styleCursor,this):this.options.styleCursor}function As(A){return _.func(A)?(this.options.actionChecker=A,this):A===null?(delete this.options.actionChecker,this):this.options.actionChecker}var xa={id:"auto-start/interactableMethods",install:function(A){var x=A.Interactable;x.prototype.getAction=function(D,j,G,X){var te=function(ne,le,ge,he,_e){var Re=ne.getRect(he),Ve=le.buttons||{0:1,1:4,3:8,4:16}[le.button],Ne={action:null,interactable:ne,interaction:ge,element:he,rect:Re,buttons:Ve};return _e.fire("auto-start:check",Ne),Ne.action}(this,j,G,X,A);return this.options.actionChecker?this.options.actionChecker(D,j,te,this,X,G):te},x.prototype.ignoreFrom=ci(function(D){return this._backCompatOption("ignoreFrom",D)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),x.prototype.allowFrom=ci(function(D){return this._backCompatOption("allowFrom",D)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),x.prototype.actionChecker=As,x.prototype.styleCursor=Zr}};function en(A,x,D,j,G){return x.testIgnoreAllow(x.options[A.name],D,j)&&x.options[A.name].enabled&&er(x,D,A,G)?A:null}function ks(A,x,D,j,G,X,te){for(var ne=0,le=j.length;ne<le;ne++){var ge=j[ne],he=G[ne],_e=ge.getAction(x,D,A,he);if(_e){var Re=en(_e,ge,he,X,te);if(Re)return{action:Re,interactable:ge,element:he}}}return{action:null,interactable:null,element:null}}function ji(A,x,D,j,G){var X=[],te=[],ne=j;function le(he){X.push(he),te.push(ne)}for(;_.element(ne);){X=[],te=[],G.interactables.forEachMatch(ne,le);var ge=ks(A,x,D,X,te,j,G);if(ge.action&&!ge.interactable.options[ge.action.name].manualStart)return ge;ne=J(ne)}return{action:null,interactable:null,element:null}}function Pr(A,x,D){var j=x.action,G=x.interactable,X=x.element;j=j||{name:null},A.interactable=G,A.element=X,zi(A.prepared,j),A.rect=G&&j.name?G.getRect(X):null,Ui(A,D),D.fire("autoStart:prepared",{interaction:A})}function er(A,x,D,j){var G=A.options,X=G[D.name].max,te=G[D.name].maxPerElement,ne=j.autoStart.maxInteractions,le=0,ge=0,he=0;if(!(X&&te&&ne))return!1;for(var _e=0,Re=j.interactions.list;_e<Re.length;_e++){var Ve=Re[_e],Ne=Ve.prepared.name;if(Ve.interacting()&&(++le>=ne||Ve.interactable===A&&((ge+=Ne===D.name?1:0)>=X||Ve.element===x&&(he++,Ne===D.name&&he>=te))))return!1}return ne>0}function So(A,x){return _.number(A)?(x.autoStart.maxInteractions=A,this):x.autoStart.maxInteractions}function Er(A,x,D){var j=D.autoStart.cursorElement;j&&j!==A&&(j.style.cursor=""),A.ownerDocument.documentElement.style.cursor=x,A.style.cursor=x,D.autoStart.cursorElement=x?A:null}function Ui(A,x){var D=A.interactable,j=A.element,G=A.prepared;if(A.pointerType==="mouse"&&D&&D.options.styleCursor){var X="";if(G.name){var te=D.options[G.name].cursorChecker;X=_.func(te)?te(G,D,j,A._interacting):x.actions.map[G.name].getCursor(G)}Er(A.element,X||"",x)}else x.autoStart.cursorElement&&Er(x.autoStart.cursorElement,"",x)}var Sr={id:"auto-start/base",before:["actions"],install:function(A){var x=A.interactStatic,D=A.defaults;A.usePlugin(xa),D.base.actionChecker=null,D.base.styleCursor=!0,me(D.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),x.maxInteractions=function(j){return So(j,A)},A.autoStart={maxInteractions:1/0,withinInteractionLimit:er,cursorElement:null}},listeners:{"interactions:down":function(A,x){var D=A.interaction,j=A.pointer,G=A.event,X=A.eventTarget;D.interacting()||Pr(D,ji(D,j,G,X,x),x)},"interactions:move":function(A,x){(function(D,j){var G=D.interaction,X=D.pointer,te=D.event,ne=D.eventTarget;G.pointerType!=="mouse"||G.pointerIsDown||G.interacting()||Pr(G,ji(G,X,te,ne,j),j)})(A,x),function(D,j){var G=D.interaction;if(G.pointerIsDown&&!G.interacting()&&G.pointerWasMoved&&G.prepared.name){j.fire("autoStart:before-start",D);var X=G.interactable,te=G.prepared.name;te&&X&&(X.options[te].manualStart||!er(X,G.element,G.prepared,j)?G.stop():(G.start(G.prepared,X,G.element),Ui(G,j)))}}(A,x)},"interactions:stop":function(A,x){var D=A.interaction,j=D.interactable;j&&j.options.styleCursor&&Er(D.element,"",x)}},maxInteractions:So,withinInteractionLimit:er,validateAction:en},To=Sr,tr={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(A,x){var D=A.interaction,j=A.eventTarget,G=A.dx,X=A.dy;if(D.prepared.name==="drag"){var te=Math.abs(G),ne=Math.abs(X),le=D.interactable.options.drag,ge=le.startAxis,he=te>ne?"x":te<ne?"y":"xy";if(D.prepared.axis=le.lockAxis==="start"?he[0]:le.lockAxis,he!=="xy"&&ge!=="xy"&&ge!==he){D.prepared.name=null;for(var _e=j,Re=function(Ne){if(Ne!==D.interactable){var Ue=D.interactable.options.drag;if(!Ue.manualStart&&Ne.testIgnoreAllow(Ue,_e,j)){var et=Ne.getAction(D.downPointer,D.downEvent,D,_e);if(et&&et.name==="drag"&&function(Xe,ct){if(!ct)return!1;var Ct=ct.options.drag.startAxis;return Xe==="xy"||Ct==="xy"||Ct===Xe}(he,Ne)&&To.validateAction(et,Ne,_e,j,x))return Ne}}};_.element(_e);){var Ve=x.interactables.forEachMatch(_e,Re);if(Ve){D.prepared.name="drag",D.interactable=Ve,D.element=_e;break}_e=J(_e)}}}}}};function lo(A){var x=A.prepared&&A.prepared.name;if(!x)return null;var D=A.interactable.options;return D[x].hold||D[x].delay}var Is={id:"auto-start/hold",install:function(A){var x=A.defaults;A.usePlugin(To),x.perAction.hold=0,x.perAction.delay=0},listeners:{"interactions:new":function(A){A.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(A){var x=A.interaction,D=lo(x);D>0&&(x.autoStartHoldTimer=setTimeout(function(){x.start(x.prepared,x.interactable,x.element)},D))},"interactions:move":function(A){var x=A.interaction,D=A.duplicate;x.autoStartHoldTimer&&x.pointerWasMoved&&!D&&(clearTimeout(x.autoStartHoldTimer),x.autoStartHoldTimer=null)},"autoStart:before-start":function(A){var x=A.interaction;lo(x)>0&&(x.prepared.name=null)}},getHoldDuration:lo},co=Is,Co={id:"auto-start",install:function(A){A.usePlugin(To),A.usePlugin(co),A.usePlugin(tr)}},ui=function(A){return/^(always|never|auto)$/.test(A)?(this.options.preventDefault=A,this):_.bool(A)?(this.options.preventDefault=A?"always":"never",this):this.options.preventDefault};function ki(A){var x=A.interaction,D=A.event;x.interactable&&x.interactable.checkAndPreventDefault(D)}var Ii={id:"core/interactablePreventDefault",install:function(A){var x=A.Interactable;x.prototype.preventDefault=ui,x.prototype.checkAndPreventDefault=function(D){return function(j,G,X){var te=j.options.preventDefault;if(te!=="never")if(te!=="always"){if(G.events.supportsPassive&&/^touch(start|move)$/.test(X.type)){var ne=O(X.target).document,le=G.getDocOptions(ne);if(!le||!le.events||le.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(X.type)||_.element(X.target)&&Q(X.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||X.preventDefault()}else X.preventDefault()}(this,A,D)},A.interactions.docEvents.push({type:"dragstart",listener:function(D){for(var j=0,G=A.interactions.list;j<G.length;j++){var X=G[j];if(X.element&&(X.element===D.target||q(X.element,D.target)))return void X.interactable.checkAndPreventDefault(D)}}})},listeners:["down","move","up","cancel"].reduce(function(A,x){return A["interactions:".concat(x)]=ki,A},{})};function xo(A,x){if(x.phaselessTypes[A])return!0;for(var D in x.map)if(A.indexOf(D)===0&&A.substr(D.length)in x.phases)return!0;return!1}function dr(A){var x={};for(var D in A){var j=A[D];_.plainObject(j)?x[D]=dr(j):_.array(j)?x[D]=Ce(j):x[D]=j}return x}var nr=function(){function A(x){o(this,A),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=x,this.result=hi(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return m(A,[{key:"start",value:function(x,D){var j,G,X=x.phase,te=this.interaction,ne=function(ge){var he=ge.interactable.options[ge.prepared.name],_e=he.modifiers;return _e&&_e.length?_e:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(Re){var Ve=he[Re];return Ve&&Ve.enabled&&{options:Ve,methods:Ve._methods}}).filter(function(Re){return!!Re})}(te);this.prepareStates(ne),this.startEdges=me({},te.edges),this.edges=me({},this.startEdges),this.startOffset=(j=te.rect,G=D,j?{left:G.x-j.left,top:G.y-j.top,right:j.right-G.x,bottom:j.bottom-G.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var le=this.fillArg({phase:X,pageCoords:D,preEnd:!1});return this.result=hi(),this.startAll(le),this.result=this.setAll(le)}},{key:"fillArg",value:function(x){var D=this.interaction;return x.interaction=D,x.interactable=D.interactable,x.element=D.element,x.rect||(x.rect=D.rect),x.edges||(x.edges=this.startEdges),x.startOffset=this.startOffset,x}},{key:"startAll",value:function(x){for(var D=0,j=this.states;D<j.length;D++){var G=j[D];G.methods.start&&(x.state=G,G.methods.start(x))}}},{key:"setAll",value:function(x){var D=x.phase,j=x.preEnd,G=x.skipModifiers,X=x.rect,te=x.edges;x.coords=me({},x.pageCoords),x.rect=me({},X),x.edges=me({},te);for(var ne=G?this.states.slice(G):this.states,le=hi(x.coords,x.rect),ge=0;ge<ne.length;ge++){var he,_e=ne[ge],Re=_e.options,Ve=me({},x.coords),Ne=null;(he=_e.methods)!=null&&he.set&&this.shouldDo(Re,j,D)&&(x.state=_e,Ne=_e.methods.set(x),qe(x.edges,x.rect,{x:x.coords.x-Ve.x,y:x.coords.y-Ve.y})),le.eventProps.push(Ne)}me(this.edges,x.edges),le.delta.x=x.coords.x-x.pageCoords.x,le.delta.y=x.coords.y-x.pageCoords.y,le.rectDelta.left=x.rect.left-X.left,le.rectDelta.right=x.rect.right-X.right,le.rectDelta.top=x.rect.top-X.top,le.rectDelta.bottom=x.rect.bottom-X.bottom;var Ue=this.result.coords,et=this.result.rect;if(Ue&&et){var Xe=le.rect.left!==et.left||le.rect.right!==et.right||le.rect.top!==et.top||le.rect.bottom!==et.bottom;le.changed=Xe||Ue.x!==le.coords.x||Ue.y!==le.coords.y}return le}},{key:"applyToInteraction",value:function(x){var D=this.interaction,j=x.phase,G=D.coords.cur,X=D.coords.start,te=this.result,ne=this.startDelta,le=te.delta;j==="start"&&me(this.startDelta,te.delta);for(var ge=0,he=[[X,ne],[G,le]];ge<he.length;ge++){var _e=he[ge],Re=_e[0],Ve=_e[1];Re.page.x+=Ve.x,Re.page.y+=Ve.y,Re.client.x+=Ve.x,Re.client.y+=Ve.y}var Ne=this.result.rectDelta,Ue=x.rect||D.rect;Ue.left+=Ne.left,Ue.right+=Ne.right,Ue.top+=Ne.top,Ue.bottom+=Ne.bottom,Ue.width=Ue.right-Ue.left,Ue.height=Ue.bottom-Ue.top}},{key:"setAndApply",value:function(x){var D=this.interaction,j=x.phase,G=x.preEnd,X=x.skipModifiers,te=this.setAll(this.fillArg({preEnd:G,phase:j,pageCoords:x.modifiedCoords||D.coords.cur.page}));if(this.result=te,!te.changed&&(!X||X<this.states.length)&&D.interacting())return!1;if(x.modifiedCoords){var ne=D.coords.cur.page,le={x:x.modifiedCoords.x-ne.x,y:x.modifiedCoords.y-ne.y};te.coords.x+=le.x,te.coords.y+=le.y,te.delta.x+=le.x,te.delta.y+=le.y}this.applyToInteraction(x)}},{key:"beforeEnd",value:function(x){var D=x.interaction,j=x.event,G=this.states;if(G&&G.length){for(var X=!1,te=0;te<G.length;te++){var ne=G[te];x.state=ne;var le=ne.options,ge=ne.methods,he=ge.beforeEnd&&ge.beforeEnd(x);if(he)return this.endResult=he,!1;X=X||!X&&this.shouldDo(le,!0,x.phase,!0)}X&&D.move({event:j,preEnd:!0})}}},{key:"stop",value:function(x){var D=x.interaction;if(this.states&&this.states.length){var j=me({states:this.states,interactable:D.interactable,element:D.element,rect:null},x);this.fillArg(j);for(var G=0,X=this.states;G<X.length;G++){var te=X[G];j.state=te,te.methods.stop&&te.methods.stop(j)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(x){this.states=[];for(var D=0;D<x.length;D++){var j=x[D],G=j.options,X=j.methods,te=j.name;this.states.push({options:G,methods:X,index:D,name:te})}return this.states}},{key:"restoreInteractionCoords",value:function(x){var D=x.interaction,j=D.coords,G=D.rect,X=D.modification;if(X.result){for(var te=X.startDelta,ne=X.result,le=ne.delta,ge=ne.rectDelta,he=0,_e=[[j.start,te],[j.cur,le]];he<_e.length;he++){var Re=_e[he],Ve=Re[0],Ne=Re[1];Ve.page.x-=Ne.x,Ve.page.y-=Ne.y,Ve.client.x-=Ne.x,Ve.client.y-=Ne.y}G.left-=ge.left,G.right-=ge.right,G.top-=ge.top,G.bottom-=ge.bottom}}},{key:"shouldDo",value:function(x,D,j,G){return!(!x||x.enabled===!1||G&&!x.endOnly||x.endOnly&&!D||j==="start"&&!x.setStart)}},{key:"copyFrom",value:function(x){this.startOffset=x.startOffset,this.startDelta=x.startDelta,this.startEdges=x.startEdges,this.edges=x.edges,this.states=x.states.map(function(D){return dr(D)}),this.result=hi(me({},x.result.coords),me({},x.result.rect))}},{key:"destroy",value:function(){for(var x in this)this[x]=null}}]),A}();function hi(A,x){return{rect:x,coords:A,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Qn(A,x){var D=A.defaults,j={start:A.start,set:A.set,beforeEnd:A.beforeEnd,stop:A.stop},G=function(X){var te=X||{};for(var ne in te.enabled=te.enabled!==!1,D)ne in te||(te[ne]=D[ne]);var le={options:te,methods:j,name:x,enable:function(){return te.enabled=!0,le},disable:function(){return te.enabled=!1,le}};return le};return x&&typeof x=="string"&&(G._defaults=D,G._methods=j),G}function Or(A){var x=A.iEvent,D=A.interaction.modification.result;D&&(x.modifiers=D.eventProps)}var tn={id:"modifiers/base",before:["actions"],install:function(A){A.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(A){var x=A.interaction;x.modification=new nr(x)},"interactions:before-action-start":function(A){var x=A.interaction,D=A.interaction.modification;D.start(A,x.coords.start.page),x.edges=D.edges,D.applyToInteraction(A)},"interactions:before-action-move":function(A){var x=A.interaction,D=x.modification,j=D.setAndApply(A);return x.edges=D.edges,j},"interactions:before-action-end":function(A){var x=A.interaction,D=x.modification,j=D.beforeEnd(A);return x.edges=D.startEdges,j},"interactions:action-start":Or,"interactions:action-move":Or,"interactions:action-end":Or,"interactions:after-action-start":function(A){return A.interaction.modification.restoreInteractionCoords(A)},"interactions:after-action-move":function(A){return A.interaction.modification.restoreInteractionCoords(A)},"interactions:stop":function(A){return A.interaction.modification.stop(A)}}},di=tn,It={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},rr=function(A){g(D,A);var x=f(D);function D(j,G,X,te,ne,le,ge){var he;o(this,D),(he=x.call(this,j)).relatedTarget=null,he.screenX=void 0,he.screenY=void 0,he.button=void 0,he.buttons=void 0,he.ctrlKey=void 0,he.shiftKey=void 0,he.altKey=void 0,he.metaKey=void 0,he.page=void 0,he.client=void 0,he.delta=void 0,he.rect=void 0,he.x0=void 0,he.y0=void 0,he.t0=void 0,he.dt=void 0,he.duration=void 0,he.clientX0=void 0,he.clientY0=void 0,he.velocity=void 0,he.speed=void 0,he.swipe=void 0,he.axes=void 0,he.preEnd=void 0,ne=ne||j.element;var _e=j.interactable,Re=(_e&&_e.options||It).deltaSource,Ve=Ge(_e,ne,X),Ne=te==="start",Ue=te==="end",et=Ne?d(he):j.prevEvent,Xe=Ne?j.coords.start:Ue?{page:et.page,client:et.client,timeStamp:j.coords.cur.timeStamp}:j.coords.cur;return he.page=me({},Xe.page),he.client=me({},Xe.client),he.rect=me({},j.rect),he.timeStamp=Xe.timeStamp,Ue||(he.page.x-=Ve.x,he.page.y-=Ve.y,he.client.x-=Ve.x,he.client.y-=Ve.y),he.ctrlKey=G.ctrlKey,he.altKey=G.altKey,he.shiftKey=G.shiftKey,he.metaKey=G.metaKey,he.button=G.button,he.buttons=G.buttons,he.target=ne,he.currentTarget=ne,he.preEnd=le,he.type=ge||X+(te||""),he.interactable=_e,he.t0=Ne?j.pointers[j.pointers.length-1].downTime:et.t0,he.x0=j.coords.start.page.x-Ve.x,he.y0=j.coords.start.page.y-Ve.y,he.clientX0=j.coords.start.client.x-Ve.x,he.clientY0=j.coords.start.client.y-Ve.y,he.delta=Ne||Ue?{x:0,y:0}:{x:he[Re].x-et[Re].x,y:he[Re].y-et[Re].y},he.dt=j.coords.delta.timeStamp,he.duration=he.timeStamp-he.t0,he.velocity=me({},j.coords.velocity[Re]),he.speed=Ht(he.velocity.x,he.velocity.y),he.swipe=Ue||te==="inertiastart"?he.getSwipe():null,he}return m(D,[{key:"getSwipe",value:function(){var j=this._interaction;if(j.prevEvent.speed<600||this.timeStamp-j.prevEvent.timeStamp>150)return null;var G=180*Math.atan2(j.prevEvent.velocityY,j.prevEvent.velocityX)/Math.PI;G<0&&(G+=360);var X=112.5<=G&&G<247.5,te=202.5<=G&&G<337.5;return{up:te,down:!te&&22.5<=G&&G<157.5,left:X,right:!X&&(292.5<=G||G<67.5),angle:G,speed:j.prevEvent.speed,velocity:{x:j.prevEvent.velocityX,y:j.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),D}(_t);Object.defineProperties(rr.prototype,{pageX:{get:function(){return this.page.x},set:function(A){this.page.x=A}},pageY:{get:function(){return this.page.y},set:function(A){this.page.y=A}},clientX:{get:function(){return this.client.x},set:function(A){this.client.x=A}},clientY:{get:function(){return this.client.y},set:function(A){this.client.y=A}},dx:{get:function(){return this.delta.x},set:function(A){this.delta.x=A}},dy:{get:function(){return this.delta.y},set:function(A){this.delta.y=A}},velocityX:{get:function(){return this.velocity.x},set:function(A){this.velocity.x=A}},velocityY:{get:function(){return this.velocity.y},set:function(A){this.velocity.y=A}}});var Rs=m(function A(x,D,j,G,X){o(this,A),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=x,this.pointer=D,this.event=j,this.downTime=G,this.downTarget=X}),Ao=function(A){return A.interactable="",A.element="",A.prepared="",A.pointerIsDown="",A.pointerWasMoved="",A._proxy="",A}({}),Dr=function(A){return A.start="",A.move="",A.end="",A.stop="",A.interacting="",A}({}),Ms=0,Ls=function(){function A(x){var D=this,j=x.pointerType,G=x.scopeFire;o(this,A),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=ci(function(he){this.move(he)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Ms++,this._scopeFire=G,this.pointerType=j;var X=this;this._proxy={};var te=function(he){Object.defineProperty(D._proxy,he,{get:function(){return X[he]}})};for(var ne in Ao)te(ne);var le=function(he){Object.defineProperty(D._proxy,he,{value:function(){return X[he].apply(X,arguments)}})};for(var ge in Dr)le(ge);this._scopeFire("interactions:new",{interaction:this})}return m(A,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(x,D,j){var G=this.updatePointer(x,D,j,!0),X=this.pointers[G];this._scopeFire("interactions:down",{pointer:x,event:D,eventTarget:j,pointerIndex:G,pointerInfo:X,type:"down",interaction:this})}},{key:"start",value:function(x,D,j){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(x.name==="gesture"?2:1)||!D.options[x.name].enabled)&&(zi(this.prepared,x),this.interactable=D,this.element=j,this.rect=D.getRect(j),this.edges=this.prepared.edges?me({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(x,D,j){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(x,D,j,!1);var G,X,te=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(G=this.coords.cur.client.x-this.coords.start.client.x,X=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Ht(G,X)>this.pointerMoveTolerance);var ne,le,ge,he=this.getPointerIndex(x),_e={pointer:x,pointerIndex:he,pointerInfo:this.pointers[he],event:D,type:"move",eventTarget:j,dx:G,dy:X,duplicate:te,interaction:this};te||(ne=this.coords.velocity,le=this.coords.delta,ge=Math.max(le.timeStamp/1e3,.001),ne.page.x=le.page.x/ge,ne.page.y=le.page.y/ge,ne.client.x=le.client.x/ge,ne.client.y=le.client.y/ge,ne.timeStamp=ge),this._scopeFire("interactions:move",_e),te||this.simulation||(this.interacting()&&(_e.type=null,this.move(_e)),this.pointerWasMoved&&wn(this.coords.prev,this.coords.cur))}},{key:"move",value:function(x){x&&x.event||Wn(this.coords.delta),(x=me({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},x||{})).phase="move",this._doPhase(x)}},{key:"pointerUp",value:function(x,D,j,G){var X=this.getPointerIndex(x);X===-1&&(X=this.updatePointer(x,D,j,!1));var te=/cancel$/i.test(D.type)?"cancel":"up";this._scopeFire("interactions:".concat(te),{pointer:x,pointerIndex:X,pointerInfo:this.pointers[X],event:D,eventTarget:j,type:te,curEventTarget:G,interaction:this}),this.simulation||this.end(D),this.removePointer(x,D)}},{key:"documentBlur",value:function(x){this.end(x),this._scopeFire("interactions:blur",{event:x,type:"blur",interaction:this})}},{key:"end",value:function(x){var D;this._ending=!0,x=x||this._latestPointer.event,this.interacting()&&(D=this._doPhase({event:x,interaction:this,phase:"end"})),this._ending=!1,D===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(x){var D=be(x);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:De(this.pointers,function(j){return j.id===D})}},{key:"getPointerInfo",value:function(x){return this.pointers[this.getPointerIndex(x)]}},{key:"updatePointer",value:function(x,D,j,G){var X,te,ne,le=be(x),ge=this.getPointerIndex(x),he=this.pointers[ge];return G=G!==!1&&(G||/(down|start)$/i.test(D.type)),he?he.pointer=x:(he=new Rs(le,x,D,null,null),ge=this.pointers.length,this.pointers.push(he)),ze(this.coords.cur,this.pointers.map(function(_e){return _e.pointer}),this._now()),X=this.coords.delta,te=this.coords.prev,ne=this.coords.cur,X.page.x=ne.page.x-te.page.x,X.page.y=ne.page.y-te.page.y,X.client.x=ne.client.x-te.client.x,X.client.y=ne.client.y-te.client.y,X.timeStamp=ne.timeStamp-te.timeStamp,G&&(this.pointerIsDown=!0,he.downTime=this.coords.cur.timeStamp,he.downTarget=j,Nt(this.downPointer,x),this.interacting()||(wn(this.coords.start,this.coords.cur),wn(this.coords.prev,this.coords.cur),this.downEvent=D,this.pointerWasMoved=!1)),this._updateLatestPointer(x,D,j),this._scopeFire("interactions:update-pointer",{pointer:x,event:D,eventTarget:j,down:G,pointerInfo:he,pointerIndex:ge,interaction:this}),ge}},{key:"removePointer",value:function(x,D){var j=this.getPointerIndex(x);if(j!==-1){var G=this.pointers[j];this._scopeFire("interactions:remove-pointer",{pointer:x,event:D,eventTarget:null,pointerIndex:j,pointerInfo:G,interaction:this}),this.pointers.splice(j,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(x,D,j){this._latestPointer.pointer=x,this._latestPointer.event=D,this._latestPointer.eventTarget=j}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(x,D,j,G){return new rr(this,x,this.prepared.name,D,this.element,j,G)}},{key:"_fireEvent",value:function(x){var D;(D=this.interactable)==null||D.fire(x),(!this.prevEvent||x.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=x)}},{key:"_doPhase",value:function(x){var D=x.event,j=x.phase,G=x.preEnd,X=x.type,te=this.rect;if(te&&j==="move"&&(qe(this.edges,te,this.coords.delta[this.interactable.options.deltaSource]),te.width=te.right-te.left,te.height=te.bottom-te.top),this._scopeFire("interactions:before-action-".concat(j),x)===!1)return!1;var ne=x.iEvent=this._createPreparedEvent(D,j,G,X);return this._scopeFire("interactions:action-".concat(j),x),j==="start"&&(this.prevEvent=ne),this._fireEvent(ne),this._scopeFire("interactions:after-action-".concat(j),x),!0}},{key:"_now",value:function(){return Date.now()}}]),A}();function ko(A){Jr(A.interaction)}function Jr(A){if(!function(D){return!(!D.offset.pending.x&&!D.offset.pending.y)}(A))return!1;var x=A.offset.pending;return kn(A.coords.cur,x),kn(A.coords.delta,x),qe(A.edges,A.rect,x),x.x=0,x.y=0,!0}function Vn(A){var x=A.x,D=A.y;this.offset.pending.x+=x,this.offset.pending.y+=D,this.offset.total.x+=x,this.offset.total.y+=D}function kn(A,x){var D=A.page,j=A.client,G=x.x,X=x.y;D.x+=G,D.y+=X,j.x+=G,j.y+=X}Dr.offsetBy="";var Nr={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(A){A.Interaction.prototype.offsetBy=Vn},listeners:{"interactions:new":function(A){A.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(A){return function(x){x.pointerIsDown&&(kn(x.coords.cur,x.offset.total),x.offset.pending.x=0,x.offset.pending.y=0)}(A.interaction)},"interactions:before-action-start":ko,"interactions:before-action-move":ko,"interactions:before-action-end":function(A){var x=A.interaction;if(Jr(x))return x.move({offset:!0}),x.end(),!1},"interactions:stop":function(A){var x=A.interaction;x.offset.total.x=0,x.offset.total.y=0,x.offset.pending.x=0,x.offset.pending.y=0}}},Ri=Nr,ir=function(){function A(x){o(this,A),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=x}return m(A,[{key:"start",value:function(x){var D=this.interaction,j=Tr(D);if(!j||!j.enabled)return!1;var G=D.coords.velocity.client,X=Ht(G.x,G.y),te=this.modification||(this.modification=new nr(D));if(te.copyFrom(D.modification),this.t0=D._now(),this.allowResume=j.allowResume,this.v0=X,this.currentOffset={x:0,y:0},this.startCoords=D.coords.cur.page,this.modifierArg=te.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-D.coords.cur.timeStamp<50&&X>j.minSpeed&&X>j.endSpeed)this.startInertia();else{if(te.result=te.setAll(this.modifierArg),!te.result.changed)return!1;this.startSmoothEnd()}return D.modification.result.rect=null,D.offsetBy(this.targetOffset),D._doPhase({interaction:D,event:x,phase:"inertiastart"}),D.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),D.modification.result.rect=null,this.active=!0,D.simulation=this,!0}},{key:"startInertia",value:function(){var x=this,D=this.interaction.coords.velocity.client,j=Tr(this.interaction),G=j.resistance,X=-Math.log(j.endSpeed/this.v0)/G;this.targetOffset={x:(D.x-X)/G,y:(D.y-X)/G},this.te=X,this.lambda_v0=G/this.v0,this.one_ve_v0=1-j.endSpeed/this.v0;var te=this.modification,ne=this.modifierArg;ne.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},te.result=te.setAll(ne),te.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+te.result.delta.x,y:this.targetOffset.y+te.result.delta.y}),this.onNextFrame(function(){return x.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var x=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return x.smoothEndTick()})}},{key:"onNextFrame",value:function(x){var D=this;this.timeout=Xr.request(function(){D.active&&x()})}},{key:"inertiaTick",value:function(){var x,D,j,G,X,te,ne,le=this,ge=this.interaction,he=Tr(ge).resistance,_e=(ge._now()-this.t0)/1e3;if(_e<this.te){var Re,Ve=1-(Math.exp(-he*_e)-this.lambda_v0)/this.one_ve_v0;this.isModified?(x=0,D=0,j=this.targetOffset.x,G=this.targetOffset.y,X=this.modifiedOffset.x,te=this.modifiedOffset.y,Re={x:es(ne=Ve,x,j,X),y:es(ne,D,G,te)}):Re={x:this.targetOffset.x*Ve,y:this.targetOffset.y*Ve};var Ne={x:Re.x-this.currentOffset.x,y:Re.y-this.currentOffset.y};this.currentOffset.x+=Ne.x,this.currentOffset.y+=Ne.y,ge.offsetBy(Ne),ge.move(),this.onNextFrame(function(){return le.inertiaTick()})}else ge.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var x=this,D=this.interaction,j=D._now()-this.t0,G=Tr(D).smoothEndDuration;if(j<G){var X={x:Yn(j,0,this.targetOffset.x,G),y:Yn(j,0,this.targetOffset.y,G)},te={x:X.x-this.currentOffset.x,y:X.y-this.currentOffset.y};this.currentOffset.x+=te.x,this.currentOffset.y+=te.y,D.offsetBy(te),D.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return x.smoothEndTick()})}else D.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(x){var D=x.pointer,j=x.event,G=x.eventTarget,X=this.interaction;X.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),X.updatePointer(D,j,G,!0),X._doPhase({interaction:X,event:j,phase:"resume"}),wn(X.coords.prev,X.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Xr.cancel(this.timeout)}}]),A}();function Tr(A){var x=A.interactable,D=A.prepared;return x&&x.options&&D.name&&x.options[D.name].inertia}var Jo={id:"inertia",before:["modifiers","actions"],install:function(A){var x=A.defaults;A.usePlugin(Ri),A.usePlugin(di),A.actions.phases.inertiastart=!0,A.actions.phases.resume=!0,x.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(A){var x=A.interaction;x.inertia=new ir(x)},"interactions:before-action-end":function(A){var x=A.interaction,D=A.event;return(!x._interacting||x.simulation||!x.inertia.start(D))&&null},"interactions:down":function(A){var x=A.interaction,D=A.eventTarget,j=x.inertia;if(j.active)for(var G=D;_.element(G);){if(G===x.element){j.resume(A);break}G=J(G)}},"interactions:stop":function(A){var x=A.interaction.inertia;x.active&&x.stop()},"interactions:before-action-resume":function(A){var x=A.interaction.modification;x.stop(A),x.start(A,A.interaction.coords.cur.page),x.applyToInteraction(A)},"interactions:before-action-inertiastart":function(A){return A.interaction.modification.setAndApply(A)},"interactions:action-resume":Or,"interactions:action-inertiastart":Or,"interactions:after-action-inertiastart":function(A){return A.interaction.modification.restoreInteractionCoords(A)},"interactions:after-action-resume":function(A){return A.interaction.modification.restoreInteractionCoords(A)}}};function es(A,x,D,j){var G=1-A;return G*G*x+2*G*A*D+A*A*j}function Yn(A,x,D,j){return-D*(A/=j)*(A-2)+x}var $s=Jo;function Io(A,x){for(var D=0;D<x.length;D++){var j=x[D];if(A.immediatePropagationStopped)break;j(A)}}var fr=function(){function A(x){o(this,A),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=me({},x||{})}return m(A,[{key:"fire",value:function(x){var D,j=this.global;(D=this.types[x.type])&&Io(x,D),!x.propagationStopped&&j&&(D=j[x.type])&&Io(x,D)}},{key:"on",value:function(x,D){var j=yt(x,D);for(x in j)this.types[x]=ln(this.types[x]||[],j[x])}},{key:"off",value:function(x,D){var j=yt(x,D);for(x in j){var G=this.types[x];if(G&&G.length)for(var X=0,te=j[x];X<te.length;X++){var ne=te[X],le=G.indexOf(ne);le!==-1&&G.splice(le,1)}}}},{key:"getRect",value:function(x){return null}}]),A}(),Hi=function(){function A(x){o(this,A),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=x,Nt(this,x)}return m(A,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),A}();function Wi(A){return _.object(A)?{capture:!!A.capture,passive:!!A.passive}:{capture:!!A,passive:!1}}function pr(A,x){return A===x||(typeof A=="boolean"?!!x.capture===A&&!x.passive:!!A.capture==!!x.capture&&!!A.passive==!!x.passive)}var ei={id:"events",install:function(A){var x,D=[],j={},G=[],X={add:te,remove:ne,addDelegate:function(he,_e,Re,Ve,Ne){var Ue=Wi(Ne);if(!j[Re]){j[Re]=[];for(var et=0;et<G.length;et++){var Xe=G[et];te(Xe,Re,le),te(Xe,Re,ge,!0)}}var ct=j[Re],Ct=Ze(ct,function(wt){return wt.selector===he&&wt.context===_e});Ct||(Ct={selector:he,context:_e,listeners:[]},ct.push(Ct)),Ct.listeners.push({func:Ve,options:Ue})},removeDelegate:function(he,_e,Re,Ve,Ne){var Ue,et=Wi(Ne),Xe=j[Re],ct=!1;if(Xe)for(Ue=Xe.length-1;Ue>=0;Ue--){var Ct=Xe[Ue];if(Ct.selector===he&&Ct.context===_e){for(var wt=Ct.listeners,ht=wt.length-1;ht>=0;ht--){var xt=wt[ht];if(xt.func===Ve&&pr(xt.options,et)){wt.splice(ht,1),wt.length||(Xe.splice(Ue,1),ne(_e,Re,le),ne(_e,Re,ge,!0)),ct=!0;break}}if(ct)break}}},delegateListener:le,delegateUseCapture:ge,delegatedEvents:j,documents:G,targets:D,supportsOptions:!1,supportsPassive:!1};function te(he,_e,Re,Ve){if(he.addEventListener){var Ne=Wi(Ve),Ue=Ze(D,function(et){return et.eventTarget===he});Ue||(Ue={eventTarget:he,events:{}},D.push(Ue)),Ue.events[_e]||(Ue.events[_e]=[]),Ze(Ue.events[_e],function(et){return et.func===Re&&pr(et.options,Ne)})||(he.addEventListener(_e,Re,X.supportsOptions?Ne:Ne.capture),Ue.events[_e].push({func:Re,options:Ne}))}}function ne(he,_e,Re,Ve){if(he.addEventListener&&he.removeEventListener){var Ne=De(D,function(gr){return gr.eventTarget===he}),Ue=D[Ne];if(Ue&&Ue.events)if(_e!=="all"){var et=!1,Xe=Ue.events[_e];if(Xe){if(Re==="all"){for(var ct=Xe.length-1;ct>=0;ct--){var Ct=Xe[ct];ne(he,_e,Ct.func,Ct.options)}return}for(var wt=Wi(Ve),ht=0;ht<Xe.length;ht++){var xt=Xe[ht];if(xt.func===Re&&pr(xt.options,wt)){he.removeEventListener(_e,Re,X.supportsOptions?wt:wt.capture),Xe.splice(ht,1),Xe.length===0&&(delete Ue.events[_e],et=!0);break}}}et&&!Object.keys(Ue.events).length&&D.splice(Ne,1)}else for(_e in Ue.events)Ue.events.hasOwnProperty(_e)&&ne(he,_e,"all")}}function le(he,_e){for(var Re=Wi(_e),Ve=new Hi(he),Ne=j[he.type],Ue=$t(he)[0],et=Ue;_.element(et);){for(var Xe=0;Xe<Ne.length;Xe++){var ct=Ne[Xe],Ct=ct.selector,wt=ct.context;if(Q(et,Ct)&&q(wt,Ue)&&q(wt,et)){var ht=ct.listeners;Ve.currentTarget=et;for(var xt=0;xt<ht.length;xt++){var gr=ht[xt];pr(gr.options,Re)&&gr.func(Ve)}}}et=J(et)}}function ge(he){return le(he,!0)}return(x=A.document)==null||x.createElement("div").addEventListener("test",null,{get capture(){return X.supportsOptions=!0},get passive(){return X.supportsPassive=!0}}),A.events=X,X}},ae={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(A){for(var x=0,D=ae.methodOrder;x<D.length;x++){var j=D[x],G=ae[j](A);if(G)return G}return null},simulationResume:function(A){var x=A.pointerType,D=A.eventType,j=A.eventTarget,G=A.scope;if(!/down|start/i.test(D))return null;for(var X=0,te=G.interactions.list;X<te.length;X++){var ne=te[X],le=j;if(ne.simulation&&ne.simulation.allowResume&&ne.pointerType===x)for(;le;){if(le===ne.element)return ne;le=J(le)}}return null},mouseOrPen:function(A){var x,D=A.pointerId,j=A.pointerType,G=A.eventType,X=A.scope;if(j!=="mouse"&&j!=="pen")return null;for(var te=0,ne=X.interactions.list;te<ne.length;te++){var le=ne[te];if(le.pointerType===j){if(le.simulation&&!we(le,D))continue;if(le.interacting())return le;x||(x=le)}}if(x)return x;for(var ge=0,he=X.interactions.list;ge<he.length;ge++){var _e=he[ge];if(!(_e.pointerType!==j||/down/i.test(G)&&_e.simulation))return _e}return null},hasPointer:function(A){for(var x=A.pointerId,D=0,j=A.scope.interactions.list;D<j.length;D++){var G=j[D];if(we(G,x))return G}return null},idle:function(A){for(var x=A.pointerType,D=0,j=A.scope.interactions.list;D<j.length;D++){var G=j[D];if(G.pointers.length===1){var X=G.interactable;if(X&&(!X.options.gesture||!X.options.gesture.enabled))continue}else if(G.pointers.length>=2)continue;if(!G.interacting()&&x===G.pointerType)return G}return null}};function we(A,x){return A.pointers.some(function(D){return D.id===x})}var Le=ae,Ye=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Wt(A,x){return function(D){var j=x.interactions.list,G=Ft(D),X=$t(D),te=X[0],ne=X[1],le=[];if(/^touch/.test(D.type)){x.prevTouchTime=x.now();for(var ge=0,he=D.changedTouches;ge<he.length;ge++){var _e=he[ge],Re={pointer:_e,pointerId:be(_e),pointerType:G,eventType:D.type,eventTarget:te,curEventTarget:ne,scope:x},Ve=pt(Re);le.push([Re.pointer,Re.eventTarget,Re.curEventTarget,Ve])}}else{var Ne=!1;if(!z.supportsPointerEvent&&/mouse/.test(D.type)){for(var Ue=0;Ue<j.length&&!Ne;Ue++)Ne=j[Ue].pointerType!=="mouse"&&j[Ue].pointerIsDown;Ne=Ne||x.now()-x.prevTouchTime<500||D.timeStamp===0}if(!Ne){var et={pointer:D,pointerId:be(D),pointerType:G,eventType:D.type,curEventTarget:ne,eventTarget:te,scope:x},Xe=pt(et);le.push([et.pointer,et.eventTarget,et.curEventTarget,Xe])}}for(var ct=0;ct<le.length;ct++){var Ct=le[ct],wt=Ct[0],ht=Ct[1],xt=Ct[2];Ct[3][A](wt,D,ht,xt)}}}function pt(A){var x=A.pointerType,D=A.scope,j={interaction:Le.search(A),searchDetails:A};return D.fire("interactions:find",j),j.interaction||D.interactions.new({pointerType:x})}function qt(A,x){var D=A.doc,j=A.scope,G=A.options,X=j.interactions.docEvents,te=j.events,ne=te[x];for(var le in j.browser.isIOS&&!G.events&&(G.events={passive:!1}),te.delegatedEvents)ne(D,le,te.delegateListener),ne(D,le,te.delegateUseCapture,!0);for(var ge=G&&G.events,he=0;he<X.length;he++){var _e=X[he];ne(D,_e.type,_e.listener,ge)}}var gn={id:"core/interactions",install:function(A){for(var x={},D=0;D<Ye.length;D++){var j=Ye[D];x[j]=Wt(j,A)}var G,X=z.pEventTypes;function te(){for(var ne=0,le=A.interactions.list;ne<le.length;ne++){var ge=le[ne];if(ge.pointerIsDown&&ge.pointerType==="touch"&&!ge._interacting)for(var he=function(){var Ve=Re[_e];A.documents.some(function(Ne){return q(Ne.doc,Ve.downTarget)})||ge.removePointer(Ve.pointer,Ve.event)},_e=0,Re=ge.pointers;_e<Re.length;_e++)he()}}(G=P.PointerEvent?[{type:X.down,listener:te},{type:X.down,listener:x.pointerDown},{type:X.move,listener:x.pointerMove},{type:X.up,listener:x.pointerUp},{type:X.cancel,listener:x.pointerUp}]:[{type:"mousedown",listener:x.pointerDown},{type:"mousemove",listener:x.pointerMove},{type:"mouseup",listener:x.pointerUp},{type:"touchstart",listener:te},{type:"touchstart",listener:x.pointerDown},{type:"touchmove",listener:x.pointerMove},{type:"touchend",listener:x.pointerUp},{type:"touchcancel",listener:x.pointerUp}]).push({type:"blur",listener:function(ne){for(var le=0,ge=A.interactions.list;le<ge.length;le++)ge[le].documentBlur(ne)}}),A.prevTouchTime=0,A.Interaction=function(ne){g(ge,ne);var le=f(ge);function ge(){return o(this,ge),le.apply(this,arguments)}return m(ge,[{key:"pointerMoveTolerance",get:function(){return A.interactions.pointerMoveTolerance},set:function(he){A.interactions.pointerMoveTolerance=he}},{key:"_now",value:function(){return A.now()}}]),ge}(Ls),A.interactions={list:[],new:function(ne){ne.scopeFire=function(ge,he){return A.fire(ge,he)};var le=new A.Interaction(ne);return A.interactions.list.push(le),le},listeners:x,docEvents:G,pointerMoveTolerance:1},A.usePlugin(Ii)},listeners:{"scope:add-document":function(A){return qt(A,"add")},"scope:remove-document":function(A){return qt(A,"remove")},"interactable:unset":function(A,x){for(var D=A.interactable,j=x.interactions.list.length-1;j>=0;j--){var G=x.interactions.list[j];G.interactable===D&&(G.stop(),x.fire("interactions:destroy",{interaction:G}),G.destroy(),x.interactions.list.length>2&&x.interactions.list.splice(j,1))}}},onDocSignal:qt,doOnInteractions:Wt,methodNames:Ye},Qt=gn,Pt=function(A){return A[A.On=0]="On",A[A.Off=1]="Off",A}(Pt||{}),rn=function(){function A(x,D,j,G){o(this,A),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new fr,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=D.actions,this.target=x,this._context=D.context||j,this._win=O(Ee(x)?this._context:x),this._doc=this._win.document,this._scopeEvents=G,this.set(D)}return m(A,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(x,D){return _.func(D.onstart)&&this.on("".concat(x,"start"),D.onstart),_.func(D.onmove)&&this.on("".concat(x,"move"),D.onmove),_.func(D.onend)&&this.on("".concat(x,"end"),D.onend),_.func(D.oninertiastart)&&this.on("".concat(x,"inertiastart"),D.oninertiastart),this}},{key:"updatePerActionListeners",value:function(x,D,j){var G,X=this,te=(G=this._actions.map[x])==null?void 0:G.filterEventType,ne=function(le){return(te==null||te(le))&&xo(le,X._actions)};(_.array(D)||_.object(D))&&this._onOff(Pt.Off,x,D,void 0,ne),(_.array(j)||_.object(j))&&this._onOff(Pt.On,x,j,void 0,ne)}},{key:"setPerAction",value:function(x,D){var j=this._defaults;for(var G in D){var X=G,te=this.options[x],ne=D[X];X==="listeners"&&this.updatePerActionListeners(x,te.listeners,ne),_.array(ne)?te[X]=Ce(ne):_.plainObject(ne)?(te[X]=me(te[X]||{},dr(ne)),_.object(j.perAction[X])&&"enabled"in j.perAction[X]&&(te[X].enabled=ne.enabled!==!1)):_.bool(ne)&&_.object(j.perAction[X])?te[X].enabled=ne:te[X]=ne}}},{key:"getRect",value:function(x){return x=x||(_.element(this.target)?this.target:null),_.string(this.target)&&(x=x||this._context.querySelector(this.target)),oe(x)}},{key:"rectChecker",value:function(x){var D=this;return _.func(x)?(this.getRect=function(j){var G=me({},x.apply(D,j));return"width"in G||(G.width=G.right-G.left,G.height=G.bottom-G.top),G},this):x===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(x,D){if(Ee(D)||_.object(D)){for(var j in this.options[x]=D,this._actions.map)this.options[j][x]=D;return this}return this.options[x]}},{key:"origin",value:function(x){return this._backCompatOption("origin",x)}},{key:"deltaSource",value:function(x){return x==="page"||x==="client"?(this.options.deltaSource=x,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var x=this.target;return _.string(x)?Array.from(this._context.querySelectorAll(x)):_.func(x)&&x.getAllElements?x.getAllElements():_.element(x)?[x]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(x){return this._context===x.ownerDocument||q(this._context,x)}},{key:"testIgnoreAllow",value:function(x,D,j){return!this.testIgnore(x.ignoreFrom,D,j)&&this.testAllow(x.allowFrom,D,j)}},{key:"testAllow",value:function(x,D,j){return!x||!!_.element(j)&&(_.string(x)?Z(j,x,D):!!_.element(x)&&q(x,j))}},{key:"testIgnore",value:function(x,D,j){return!(!x||!_.element(j))&&(_.string(x)?Z(j,x,D):!!_.element(x)&&q(x,j))}},{key:"fire",value:function(x){return this.events.fire(x),this}},{key:"_onOff",value:function(x,D,j,G,X){_.object(D)&&!_.array(D)&&(G=j,j=null);var te=yt(D,j,X);for(var ne in te){ne==="wheel"&&(ne=z.wheelEvent);for(var le=0,ge=te[ne];le<ge.length;le++){var he=ge[le];xo(ne,this._actions)?this.events[x===Pt.On?"on":"off"](ne,he):_.string(this.target)?this._scopeEvents[x===Pt.On?"addDelegate":"removeDelegate"](this.target,this._context,ne,he,G):this._scopeEvents[x===Pt.On?"add":"remove"](this.target,ne,he,G)}}return this}},{key:"on",value:function(x,D,j){return this._onOff(Pt.On,x,D,j)}},{key:"off",value:function(x,D,j){return this._onOff(Pt.Off,x,D,j)}},{key:"set",value:function(x){var D=this._defaults;for(var j in _.object(x)||(x={}),this.options=dr(D.base),this._actions.methodDict){var G=j,X=this._actions.methodDict[G];this.options[G]={},this.setPerAction(G,me(me({},D.perAction),D.actions[G])),this[X](x[G])}for(var te in x)te!=="getRect"?_.func(this[te])&&this[te](x[te]):this.rectChecker(x.getRect);return this}},{key:"unset",value:function(){if(_.string(this.target))for(var x in this._scopeEvents.delegatedEvents)for(var D=this._scopeEvents.delegatedEvents[x],j=D.length-1;j>=0;j--){var G=D[j],X=G.selector,te=G.context,ne=G.listeners;X===this.target&&te===this._context&&D.splice(j,1);for(var le=ne.length-1;le>=0;le--)this._scopeEvents.removeDelegate(this.target,this._context,x,ne[le][0],ne[le][1])}else this._scopeEvents.remove(this.target,"all")}}]),A}(),or=function(){function A(x){var D=this;o(this,A),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=x,x.addListeners({"interactable:unset":function(j){var G=j.interactable,X=G.target,te=_.string(X)?D.selectorMap[X]:X[D.scope.id],ne=De(te,function(le){return le===G});te.splice(ne,1)}})}return m(A,[{key:"new",value:function(x,D){D=me(D||{},{actions:this.scope.actions});var j=new this.scope.Interactable(x,D,this.scope.document,this.scope.events);return this.scope.addDocument(j._doc),this.list.push(j),_.string(x)?(this.selectorMap[x]||(this.selectorMap[x]=[]),this.selectorMap[x].push(j)):(j.target[this.scope.id]||Object.defineProperty(x,this.scope.id,{value:[],configurable:!0}),x[this.scope.id].push(j)),this.scope.fire("interactable:new",{target:x,options:D,interactable:j,win:this.scope._win}),j}},{key:"getExisting",value:function(x,D){var j=D&&D.context||this.scope.document,G=_.string(x),X=G?this.selectorMap[x]:x[this.scope.id];if(X)return Ze(X,function(te){return te._context===j&&(G||te.inContext(x))})}},{key:"forEachMatch",value:function(x,D){for(var j=0,G=this.list;j<G.length;j++){var X=G[j],te=void 0;if((_.string(X.target)?_.element(x)&&Q(x,X.target):x===X.target)&&X.inContext(x)&&(te=D(X)),te!==void 0)return te}}}]),A}(),_n=function(){function A(){var x=this;o(this,A),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=z,this.defaults=dr(It),this.Eventable=fr,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(j){var G=function X(te,ne){var le=j.interactables.getExisting(te,ne);return le||((le=j.interactables.new(te,ne)).events.global=X.globalEvents),le};return G.getPointerAverage=ft,G.getTouchBBox=lt,G.getTouchDistance=kt,G.getTouchAngle=Lt,G.getElementRect=oe,G.getElementClientRect=ce,G.matchesSelector=Q,G.closest=K,G.globalEvents={},G.version="1.10.27",G.scope=j,G.use=function(X,te){return this.scope.usePlugin(X,te),this},G.isSet=function(X,te){return!!this.scope.interactables.get(X,te&&te.context)},G.on=ci(function(X,te,ne){if(_.string(X)&&X.search(" ")!==-1&&(X=X.trim().split(/ +/)),_.array(X)){for(var le=0,ge=X;le<ge.length;le++){var he=ge[le];this.on(he,te,ne)}return this}if(_.object(X)){for(var _e in X)this.on(_e,X[_e],te);return this}return xo(X,this.scope.actions)?this.globalEvents[X]?this.globalEvents[X].push(te):this.globalEvents[X]=[te]:this.scope.events.add(this.scope.document,X,te,{options:ne}),this},"The interact.on() method is being deprecated"),G.off=ci(function(X,te,ne){if(_.string(X)&&X.search(" ")!==-1&&(X=X.trim().split(/ +/)),_.array(X)){for(var le=0,ge=X;le<ge.length;le++){var he=ge[le];this.off(he,te,ne)}return this}if(_.object(X)){for(var _e in X)this.off(_e,X[_e],te);return this}var Re;return xo(X,this.scope.actions)?X in this.globalEvents&&(Re=this.globalEvents[X].indexOf(te))!==-1&&this.globalEvents[X].splice(Re,1):this.scope.events.remove(this.scope.document,X,te,ne),this},"The interact.off() method is being deprecated"),G.debug=function(){return this.scope},G.supportsTouch=function(){return z.supportsTouch},G.supportsPointerEvent=function(){return z.supportsPointerEvent},G.stop=function(){for(var X=0,te=this.scope.interactions.list;X<te.length;X++)te[X].stop();return this},G.pointerMoveTolerance=function(X){return _.number(X)?(this.scope.interactions.pointerMoveTolerance=X,this):this.scope.interactions.pointerMoveTolerance},G.addDocument=function(X,te){this.scope.addDocument(X,te)},G.removeDocument=function(X){this.scope.removeDocument(X)},G}(this),this.InteractEvent=rr,this.Interactable=void 0,this.interactables=new or(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(j){return x.removeDocument(j.target)};var D=this;this.Interactable=function(j){g(X,j);var G=f(X);function X(){return o(this,X),G.apply(this,arguments)}return m(X,[{key:"_defaults",get:function(){return D.defaults}},{key:"set",value:function(te){return p(l(X.prototype),"set",this).call(this,te),D.fire("interactable:set",{options:te,interactable:this}),this}},{key:"unset",value:function(){p(l(X.prototype),"unset",this).call(this);var te=D.interactables.list.indexOf(this);te<0||(D.interactables.list.splice(te,1),D.fire("interactable:unset",{interactable:this}))}}]),X}(rn)}return m(A,[{key:"addListeners",value:function(x,D){this.listenerMaps.push({id:D,map:x})}},{key:"fire",value:function(x,D){for(var j=0,G=this.listenerMaps;j<G.length;j++){var X=G[j].map[x];if(X&&X(D,this,x)===!1)return!1}}},{key:"init",value:function(x){return this.isInitialized?this:function(D,j){return D.isInitialized=!0,_.window(j)&&F(j),P.init(j),z.init(j),Xr.init(j),D.window=j,D.document=j.document,D.usePlugin(Qt),D.usePlugin(ei),D}(this,x)}},{key:"pluginIsInstalled",value:function(x){var D=x.id;return D?!!this._plugins.map[D]:this._plugins.list.indexOf(x)!==-1}},{key:"usePlugin",value:function(x,D){if(!this.isInitialized)return this;if(this.pluginIsInstalled(x))return this;if(x.id&&(this._plugins.map[x.id]=x),this._plugins.list.push(x),x.install&&x.install(this,D),x.listeners&&x.before){for(var j=0,G=this.listenerMaps.length,X=x.before.reduce(function(ne,le){return ne[le]=!0,ne[mn(le)]=!0,ne},{});j<G;j++){var te=this.listenerMaps[j].id;if(te&&(X[te]||X[mn(te)]))break}this.listenerMaps.splice(j,0,{id:x.id,map:x.listeners})}else x.listeners&&this.listenerMaps.push({id:x.id,map:x.listeners});return this}},{key:"addDocument",value:function(x,D){if(this.getDocIndex(x)!==-1)return!1;var j=O(x);D=D?me({},D):{},this.documents.push({doc:x,options:D}),this.events.documents.push(x),x!==this.document&&this.events.add(j,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:x,window:j,scope:this,options:D})}},{key:"removeDocument",value:function(x){var D=this.getDocIndex(x),j=O(x),G=this.documents[D].options;this.events.remove(j,"unload",this.onWindowUnload),this.documents.splice(D,1),this.events.documents.splice(D,1),this.fire("scope:remove-document",{doc:x,window:j,scope:this,options:G})}},{key:"getDocIndex",value:function(x){for(var D=0;D<this.documents.length;D++)if(this.documents[D].doc===x)return D;return-1}},{key:"getDocOptions",value:function(x){var D=this.getDocIndex(x);return D===-1?null:this.documents[D].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),A}();function mn(A){return A&&A.replace(/\/.*$/,"")}var Bn=new _n,Mt=Bn.interactStatic,In=typeof globalThis<"u"?globalThis:window;Bn.init(In);var Fr=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(A){var x=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(j){var G=j[0],X=j[1];return G in A||X in A}),D=function(j,G){for(var X=A.range,te=A.limits,ne=te===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:te,le=A.offset,ge=le===void 0?{x:0,y:0}:le,he={range:X,grid:A,x:null,y:null},_e=0;_e<x.length;_e++){var Re=x[_e],Ve=Re[0],Ne=Re[1],Ue=Math.round((j-ge.x)/A[Ve]),et=Math.round((G-ge.y)/A[Ne]);he[Ve]=Math.max(ne.left,Math.min(ne.right,Ue*A[Ve]+ge.x)),he[Ne]=Math.max(ne.top,Math.min(ne.bottom,et*A[Ne]+ge.y))}return he};return D.grid=A,D.coordFields=x,D}}),ti={id:"snappers",install:function(A){var x=A.interactStatic;x.snappers=me(x.snappers||{},Fr),x.createSnapGrid=x.snappers.grid}},Ro=ti,Mi={start:function(A){var x=A.state,D=A.rect,j=A.edges,G=A.pageCoords,X=x.options,te=X.ratio,ne=X.enabled,le=x.options,ge=le.equalDelta,he=le.modifiers;te==="preserve"&&(te=D.width/D.height),x.startCoords=me({},G),x.startRect=me({},D),x.ratio=te,x.equalDelta=ge;var _e=x.linkedEdges={top:j.top||j.left&&!j.bottom,left:j.left||j.top&&!j.right,bottom:j.bottom||j.right&&!j.top,right:j.right||j.bottom&&!j.left};if(x.xIsPrimaryAxis=!(!j.left&&!j.right),x.equalDelta){var Re=(_e.left?1:-1)*(_e.top?1:-1);x.edgeSign={x:Re,y:Re}}else x.edgeSign={x:_e.left?-1:1,y:_e.top?-1:1};if(ne!==!1&&me(j,_e),he!=null&&he.length){var Ve=new nr(A.interaction);Ve.copyFrom(A.interaction.modification),Ve.prepareStates(he),x.subModification=Ve,Ve.startAll(r({},A))}},set:function(A){var x=A.state,D=A.rect,j=A.coords,G=x.linkedEdges,X=me({},j),te=x.equalDelta?uo:Mo;if(me(A.edges,G),te(x,x.xIsPrimaryAxis,j,D),!x.subModification)return null;var ne=me({},D);qe(G,ne,{x:j.x-X.x,y:j.y-X.y});var le=x.subModification.setAll(r(r({},A),{},{rect:ne,edges:G,pageCoords:j,prevCoords:j,prevRect:ne})),ge=le.delta;return le.changed&&(te(x,Math.abs(ge.x)>Math.abs(ge.y),le.coords,le.rect),me(j,le.coords)),le.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function uo(A,x,D){var j=A.startCoords,G=A.edgeSign;x?D.y=j.y+(D.x-j.x)*G.y:D.x=j.x+(D.y-j.y)*G.x}function Mo(A,x,D,j){var G=A.startRect,X=A.startCoords,te=A.ratio,ne=A.edgeSign;if(x){var le=j.width/te;D.y=X.y+(le-G.height)*ne.y}else{var ge=j.height*te;D.x=X.x+(ge-G.width)*ne.x}}var ts=Qn(Mi,"aspectRatio"),ns=function(){};ns._defaults={};var Lo=ns;function Gi(A,x,D){return _.func(A)?$e(A,x.interactable,x.element,[D.x,D.y,x]):$e(A,x.interactable,x.element)}var ho={start:function(A){var x=A.rect,D=A.startOffset,j=A.state,G=A.interaction,X=A.pageCoords,te=j.options,ne=te.elementRect,le=me({left:0,top:0,right:0,bottom:0},te.offset||{});if(x&&ne){var ge=Gi(te.restriction,G,X);if(ge){var he=ge.right-ge.left-x.width,_e=ge.bottom-ge.top-x.height;he<0&&(le.left+=he,le.right+=he),_e<0&&(le.top+=_e,le.bottom+=_e)}le.left+=D.left-x.width*ne.left,le.top+=D.top-x.height*ne.top,le.right+=D.right-x.width*(1-ne.right),le.bottom+=D.bottom-x.height*(1-ne.bottom)}j.offset=le},set:function(A){var x=A.coords,D=A.interaction,j=A.state,G=j.options,X=j.offset,te=Gi(G.restriction,D,x);if(te){var ne=function(le){return!le||"left"in le&&"top"in le||((le=me({},le)).left=le.x||0,le.top=le.y||0,le.right=le.right||le.left+le.width,le.bottom=le.bottom||le.top+le.height),le}(te);x.x=Math.max(Math.min(ne.right-X.right,x.x),ne.left+X.left),x.y=Math.max(Math.min(ne.bottom-X.bottom,x.y),ne.top+X.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Ps=Qn(ho,"restrict"),Aa={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Ki={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function ka(A,x){for(var D=0,j=["top","left","bottom","right"];D<j.length;D++){var G=j[D];G in A||(A[G]=x[G])}return A}var $o={noInner:Aa,noOuter:Ki,start:function(A){var x,D=A.interaction,j=A.startOffset,G=A.state,X=G.options;X&&(x=Qe(Gi(X.offset,D,D.coords.start.page))),x=x||{x:0,y:0},G.offset={top:x.y+j.top,left:x.x+j.left,bottom:x.y-j.bottom,right:x.x-j.right}},set:function(A){var x=A.coords,D=A.edges,j=A.interaction,G=A.state,X=G.offset,te=G.options;if(D){var ne=me({},x),le=Gi(te.inner,j,ne)||{},ge=Gi(te.outer,j,ne)||{};ka(le,Aa),ka(ge,Ki),D.top?x.y=Math.min(Math.max(ge.top+X.top,ne.y),le.top+X.top):D.bottom&&(x.y=Math.max(Math.min(ge.bottom+X.bottom,ne.y),le.bottom+X.bottom)),D.left?x.x=Math.min(Math.max(ge.left+X.left,ne.x),le.left+X.left):D.right&&(x.x=Math.max(Math.min(ge.right+X.right,ne.x),le.right+X.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},fl=Qn($o,"restrictEdges"),Ia=me({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(A){}},ho.defaults),Os=Qn({start:ho.start,set:ho.set,defaults:Ia},"restrictRect"),Cr={width:-1/0,height:-1/0},pl={width:1/0,height:1/0},gl=Qn({start:function(A){return $o.start(A)},set:function(A){var x=A.interaction,D=A.state,j=A.rect,G=A.edges,X=D.options;if(G){var te=ut(Gi(X.min,x,A.coords))||Cr,ne=ut(Gi(X.max,x,A.coords))||pl;D.options={endOnly:X.endOnly,inner:me({},$o.noInner),outer:me({},$o.noOuter)},G.top?(D.options.inner.top=j.bottom-te.height,D.options.outer.top=j.bottom-ne.height):G.bottom&&(D.options.inner.bottom=j.top+te.height,D.options.outer.bottom=j.top+ne.height),G.left?(D.options.inner.left=j.right-te.width,D.options.outer.left=j.right-ne.width):G.right&&(D.options.inner.right=j.left+te.width,D.options.outer.right=j.left+ne.width),$o.set(A),D.options=X}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),fi={start:function(A){var x,D=A.interaction,j=A.interactable,G=A.element,X=A.rect,te=A.state,ne=A.startOffset,le=te.options,ge=le.offsetWithOrigin?function(Re){var Ve=Re.interaction.element,Ne=Qe($e(Re.state.options.origin,null,null,[Ve])),Ue=Ne||Ge(Re.interactable,Ve,Re.interaction.prepared.name);return Ue}(A):{x:0,y:0};if(le.offset==="startCoords")x={x:D.coords.start.page.x,y:D.coords.start.page.y};else{var he=$e(le.offset,j,G,[D]);(x=Qe(he)||{x:0,y:0}).x+=ge.x,x.y+=ge.y}var _e=le.relativePoints;te.offsets=X&&_e&&_e.length?_e.map(function(Re,Ve){return{index:Ve,relativePoint:Re,x:ne.left-X.width*Re.x+x.x,y:ne.top-X.height*Re.y+x.y}}):[{index:0,relativePoint:null,x:x.x,y:x.y}]},set:function(A){var x=A.interaction,D=A.coords,j=A.state,G=j.options,X=j.offsets,te=Ge(x.interactable,x.element,x.prepared.name),ne=me({},D),le=[];G.offsetWithOrigin||(ne.x-=te.x,ne.y-=te.y);for(var ge=0,he=X;ge<he.length;ge++)for(var _e=he[ge],Re=ne.x-_e.x,Ve=ne.y-_e.y,Ne=0,Ue=G.targets.length;Ne<Ue;Ne++){var et=G.targets[Ne],Xe=void 0;(Xe=_.func(et)?et(Re,Ve,x._proxy,_e,Ne):et)&&le.push({x:(_.number(Xe.x)?Xe.x:Re)+_e.x,y:(_.number(Xe.y)?Xe.y:Ve)+_e.y,range:_.number(Xe.range)?Xe.range:G.range,source:et,index:Ne,offset:_e})}for(var ct={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Ct=0;Ct<le.length;Ct++){var wt=le[Ct],ht=wt.range,xt=wt.x-ne.x,gr=wt.y-ne.y,dn=Ht(xt,gr),Vr=dn<=ht;ht===1/0&&ct.inRange&&ct.range!==1/0&&(Vr=!1),ct.target&&!(Vr?ct.inRange&&ht!==1/0?dn/ht<ct.distance/ct.range:ht===1/0&&ct.range!==1/0||dn<ct.distance:!ct.inRange&&dn<ct.distance)||(ct.target=wt,ct.distance=dn,ct.range=ht,ct.inRange=Vr,ct.delta.x=xt,ct.delta.y=gr)}return ct.inRange&&(D.x=ct.target.x,D.y=ct.target.y),j.closest=ct,ct},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},S=Qn(fi,"snap"),H={start:function(A){var x=A.state,D=A.edges,j=x.options;if(!D)return null;A.state={options:{targets:null,relativePoints:[{x:D.left?0:1,y:D.top?0:1}],offset:j.offset||"self",origin:{x:0,y:0},range:j.range}},x.targetFields=x.targetFields||[["width","height"],["x","y"]],fi.start(A),x.offsets=A.state.offsets,A.state=x},set:function(A){var x=A.interaction,D=A.state,j=A.coords,G=D.options,X=D.offsets,te={x:j.x-X[0].x,y:j.y-X[0].y};D.options=me({},G),D.options.targets=[];for(var ne=0,le=G.targets||[];ne<le.length;ne++){var ge=le[ne],he=void 0;if(he=_.func(ge)?ge(te.x,te.y,x):ge){for(var _e=0,Re=D.targetFields;_e<Re.length;_e++){var Ve=Re[_e],Ne=Ve[0],Ue=Ve[1];if(Ne in he||Ue in he){he.x=he[Ne],he.y=he[Ue];break}}D.options.targets.push(he)}}var et=fi.set(A);return D.options=G,et},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Y=Qn(H,"snapSize"),ie={aspectRatio:ts,restrictEdges:fl,restrict:Ps,restrictRect:Os,restrictSize:gl,snapEdges:Qn({start:function(A){var x=A.edges;return x?(A.state.targetFields=A.state.targetFields||[[x.left?"left":"right",x.top?"top":"bottom"]],H.start(A)):null},set:H.set,defaults:me(dr(H.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:S,snapSize:Y,spring:Lo,avoid:Lo,transform:Lo,rubberband:Lo},Se={id:"modifiers",install:function(A){var x=A.interactStatic;for(var D in A.usePlugin(di),A.usePlugin(Ro),x.modifiers=ie,ie){var j=ie[D],G=j._defaults,X=j._methods;G._methods=X,A.defaults.perAction[D]=G}}},Ie=Se,We=function(A){g(D,A);var x=f(D);function D(j,G,X,te,ne,le){var ge;if(o(this,D),Nt(d(ge=x.call(this,ne)),X),X!==G&&Nt(d(ge),G),ge.timeStamp=le,ge.originalEvent=X,ge.type=j,ge.pointerId=be(G),ge.pointerType=Ft(G),ge.target=te,ge.currentTarget=null,j==="tap"){var he=ne.getPointerIndex(G);ge.dt=ge.timeStamp-ne.pointers[he].downTime;var _e=ge.timeStamp-ne.tapTime;ge.double=!!ne.prevTap&&ne.prevTap.type!=="doubletap"&&ne.prevTap.target===ge.target&&_e<500}else j==="doubletap"&&(ge.dt=G.timeStamp-ne.tapTime,ge.double=!0);return ge}return m(D,[{key:"_subtractOrigin",value:function(j){var G=j.x,X=j.y;return this.pageX-=G,this.pageY-=X,this.clientX-=G,this.clientY-=X,this}},{key:"_addOrigin",value:function(j){var G=j.x,X=j.y;return this.pageX+=G,this.pageY+=X,this.clientX+=G,this.clientY+=X,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),D}(_t),jt={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(A){A.pointerEvents=jt,A.defaults.actions.pointerEvents=jt.defaults,me(A.actions.phaselessTypes,jt.types)},listeners:{"interactions:new":function(A){var x=A.interaction;x.prevTap=null,x.tapTime=0},"interactions:update-pointer":function(A){var x=A.down,D=A.pointerInfo;!x&&D.hold||(D.hold={duration:1/0,timeout:null})},"interactions:move":function(A,x){var D=A.interaction,j=A.pointer,G=A.event,X=A.eventTarget;A.duplicate||D.pointerIsDown&&!D.pointerWasMoved||(D.pointerIsDown&&Dn(A),cn({interaction:D,pointer:j,event:G,eventTarget:X,type:"move"},x))},"interactions:down":function(A,x){(function(D,j){for(var G=D.interaction,X=D.pointer,te=D.event,ne=D.eventTarget,le=D.pointerIndex,ge=G.pointers[le].hold,he=pe(ne),_e={interaction:G,pointer:X,event:te,eventTarget:ne,type:"hold",targets:[],path:he,node:null},Re=0;Re<he.length;Re++){var Ve=he[Re];_e.node=Ve,j.fire("pointerEvents:collect-targets",_e)}if(_e.targets.length){for(var Ne=1/0,Ue=0,et=_e.targets;Ue<et.length;Ue++){var Xe=et[Ue].eventable.options.holdDuration;Xe<Ne&&(Ne=Xe)}ge.duration=Ne,ge.timeout=setTimeout(function(){cn({interaction:G,eventTarget:ne,pointer:X,event:te,type:"hold"},j)},Ne)}})(A,x),cn(A,x)},"interactions:up":function(A,x){Dn(A),cn(A,x),function(D,j){var G=D.interaction,X=D.pointer,te=D.event,ne=D.eventTarget;G.pointerWasMoved||cn({interaction:G,eventTarget:ne,pointer:X,event:te,type:"tap"},j)}(A,x)},"interactions:cancel":function(A,x){Dn(A),cn(A,x)}},PointerEvent:We,fire:cn,collectEventTargets:Vt,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function cn(A,x){var D=A.interaction,j=A.pointer,G=A.event,X=A.eventTarget,te=A.type,ne=A.targets,le=ne===void 0?Vt(A,x):ne,ge=new We(te,j,G,X,D,x.now());x.fire("pointerEvents:new",{pointerEvent:ge});for(var he={interaction:D,pointer:j,event:G,eventTarget:X,targets:le,type:te,pointerEvent:ge},_e=0;_e<le.length;_e++){var Re=le[_e];for(var Ve in Re.props||{})ge[Ve]=Re.props[Ve];var Ne=Ge(Re.eventable,Re.node);if(ge._subtractOrigin(Ne),ge.eventable=Re.eventable,ge.currentTarget=Re.node,Re.eventable.fire(ge),ge._addOrigin(Ne),ge.immediatePropagationStopped||ge.propagationStopped&&_e+1<le.length&&le[_e+1].node!==ge.currentTarget)break}if(x.fire("pointerEvents:fired",he),te==="tap"){var Ue=ge.double?cn({interaction:D,pointer:j,event:G,eventTarget:X,type:"doubletap"},x):ge;D.prevTap=Ue,D.tapTime=Ue.timeStamp}return ge}function Vt(A,x){var D=A.interaction,j=A.pointer,G=A.event,X=A.eventTarget,te=A.type,ne=D.getPointerIndex(j),le=D.pointers[ne];if(te==="tap"&&(D.pointerWasMoved||!le||le.downTarget!==X))return[];for(var ge=pe(X),he={interaction:D,pointer:j,event:G,eventTarget:X,type:te,path:ge,targets:[],node:null},_e=0;_e<ge.length;_e++){var Re=ge[_e];he.node=Re,x.fire("pointerEvents:collect-targets",he)}return te==="hold"&&(he.targets=he.targets.filter(function(Ve){var Ne,Ue;return Ve.eventable.options.holdDuration===((Ne=D.pointers[ne])==null||(Ue=Ne.hold)==null?void 0:Ue.duration)})),he.targets}function Dn(A){var x=A.interaction,D=A.pointerIndex,j=x.pointers[D].hold;j&&j.timeout&&(clearTimeout(j.timeout),j.timeout=null)}var Nn=Object.freeze({__proto__:null,default:jt});function pi(A){var x=A.interaction;x.holdIntervalHandle&&(clearInterval(x.holdIntervalHandle),x.holdIntervalHandle=null)}var ni={id:"pointer-events/holdRepeat",install:function(A){A.usePlugin(jt);var x=A.pointerEvents;x.defaults.holdRepeatInterval=0,x.types.holdrepeat=A.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(A,x){return A["pointerEvents:".concat(x)]=pi,A},{"pointerEvents:new":function(A){var x=A.pointerEvent;x.type==="hold"&&(x.count=(x.count||0)+1)},"pointerEvents:fired":function(A,x){var D=A.interaction,j=A.pointerEvent,G=A.eventTarget,X=A.targets;if(j.type==="hold"&&X.length){var te=X[0].eventable.options.holdRepeatInterval;te<=0||(D.holdIntervalHandle=setTimeout(function(){x.pointerEvents.fire({interaction:D,eventTarget:G,type:"hold",pointer:j,event:j},x)},te))}}})},rs=ni,Ds={id:"pointer-events/interactableTargets",install:function(A){var x=A.Interactable;x.prototype.pointerEvents=function(j){return me(this.events.options,j),this};var D=x.prototype._backCompatOption;x.prototype._backCompatOption=function(j,G){var X=D.call(this,j,G);return X===this&&(this.events.options[j]=G),X}},listeners:{"pointerEvents:collect-targets":function(A,x){var D=A.targets,j=A.node,G=A.type,X=A.eventTarget;x.interactables.forEachMatch(j,function(te){var ne=te.events,le=ne.options;ne.types[G]&&ne.types[G].length&&te.testIgnoreAllow(le,j,X)&&D.push({node:j,eventable:ne,props:{interactable:te}})})},"interactable:new":function(A){var x=A.interactable;x.events.getRect=function(D){return x.getRect(D)}},"interactable:set":function(A,x){var D=A.interactable,j=A.options;me(D.events.options,x.pointerEvents.defaults),me(D.events.options,j.pointerEvents||{})}}},eh=Ds,th={id:"pointer-events",install:function(A){A.usePlugin(Nn),A.usePlugin(rs),A.usePlugin(eh)}},nh=th,Ns={id:"reflow",install:function(A){var x=A.Interactable;A.actions.phases.reflow=!0,x.prototype.reflow=function(D){return function(j,G,X){for(var te=j.getAllElements(),ne=X.window.Promise,le=ne?[]:null,ge=function(){var _e=te[he],Re=j.getRect(_e);if(!Re)return 1;var Ve,Ne=Ze(X.interactions.list,function(Xe){return Xe.interacting()&&Xe.interactable===j&&Xe.element===_e&&Xe.prepared.name===G.name});if(Ne)Ne.move(),le&&(Ve=Ne._reflowPromise||new ne(function(Xe){Ne._reflowResolve=Xe}));else{var Ue=ut(Re),et=function(Xe){return{coords:Xe,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:Ue.x,y:Ue.y},client:{x:Ue.x,y:Ue.y},timeStamp:X.now()});Ve=function(Xe,ct,Ct,wt,ht){var xt=Xe.interactions.new({pointerType:"reflow"}),gr={interaction:xt,event:ht,pointer:ht,eventTarget:Ct,phase:"reflow"};xt.interactable=ct,xt.element=Ct,xt.prevEvent=ht,xt.updatePointer(ht,ht,Ct,!0),Wn(xt.coords.delta),zi(xt.prepared,wt),xt._doPhase(gr);var dn=Xe.window,Vr=dn.Promise,ri=Vr?new Vr(function(fo){xt._reflowResolve=fo}):void 0;return xt._reflowPromise=ri,xt.start(wt,ct,Ct),xt._interacting?(xt.move(gr),xt.end(ht)):(xt.stop(),xt._reflowResolve()),xt.removePointer(ht,ht),ri}(X,j,_e,G,et)}le&&le.push(Ve)},he=0;he<te.length&&!ge();he++);return le&&ne.all(le).then(function(){return j})}(this,D,A)}},listeners:{"interactions:stop":function(A,x){var D=A.interaction;D.pointerType==="reflow"&&(D._reflowResolve&&D._reflowResolve(),function(j,G){j.splice(j.indexOf(G),1)}(x.interactions.list,D))}}},Vf=Ns;if(Mt.use(Ii),Mt.use(Ri),Mt.use(nh),Mt.use($s),Mt.use(Ie),Mt.use(Co),Mt.use(Ca),Mt.use(Zo),Mt.use(Vf),Mt.default=Mt,s(n)==="object"&&n)try{n.exports=Mt}catch{}return Mt.default=Mt,Mt})}(lu,lu.exports)),lu.exports}var tO=eO();const id=il(tO);/*!
* sweetalert2 v11.15.10
* Released under the MIT License.
*/function $T(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function nO(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bb(n,e){return n.get($T(n,e))}function rO(n,e,t){nO(n,e),e.set(n,t)}function iO(n,e,t){return n.set($T(n,e),t),t}const oO=100,vt={},sO=()=>{vt.previousActiveElement instanceof HTMLElement?(vt.previousActiveElement.focus(),vt.previousActiveElement=null):document.body&&document.body.focus()},aO=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,r=window.scrollY;vt.restoreFocusTimeout=setTimeout(()=>{sO(),e()},oO),window.scrollTo(t,r)}),PT="swal2-",lO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Me=lO.reduce((n,e)=>(n[e]=PT+e,n),{}),cO=["success","warning","info","question","error"],jd=cO.reduce((n,e)=>(n[e]=PT+e,n),{}),OT="SweetAlert2:",kv=n=>n.charAt(0).toUpperCase()+n.slice(1),Ci=n=>{console.warn(`${OT} ${typeof n=="object"?n.join(" "):n}`)},ul=n=>{console.error(`${OT} ${n}`)},zb=[],uO=n=>{zb.includes(n)||(zb.push(n),Ci(n))},DT=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;uO(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Lf=n=>typeof n=="function"?n():n,Iv=n=>n&&typeof n.toPromise=="function",Gu=n=>Iv(n)?n.toPromise():Promise.resolve(n),Rv=n=>n&&Promise.resolve(n)===n,xi=()=>document.body.querySelector(`.${Me.container}`),Ku=n=>{const e=xi();return e?e.querySelector(n):null},Ni=n=>Ku(`.${n}`),Jt=()=>Ni(Me.popup),Tc=()=>Ni(Me.icon),hO=()=>Ni(Me["icon-content"]),NT=()=>Ni(Me.title),Mv=()=>Ni(Me["html-container"]),FT=()=>Ni(Me.image),Lv=()=>Ni(Me["progress-steps"]),$f=()=>Ni(Me["validation-message"]),qo=()=>Ku(`.${Me.actions} .${Me.confirm}`),Cc=()=>Ku(`.${Me.actions} .${Me.cancel}`),hl=()=>Ku(`.${Me.actions} .${Me.deny}`),dO=()=>Ni(Me["input-label"]),xc=()=>Ku(`.${Me.loader}`),qu=()=>Ni(Me.actions),VT=()=>Ni(Me.footer),Pf=()=>Ni(Me["timer-progress-bar"]),$v=()=>Ni(Me.close),fO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Pv=()=>{const n=Jt();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((o,c)=>{const m=parseInt(o.getAttribute("tabindex")||"0"),u=parseInt(c.getAttribute("tabindex")||"0");return m>u?1:m<u?-1:0}),r=n.querySelectorAll(fO),s=Array.from(r).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(s))].filter(o=>Ti(o))},Ov=()=>ys(document.body,Me.shown)&&!ys(document.body,Me["toast-shown"])&&!ys(document.body,Me["no-backdrop"]),Of=()=>{const n=Jt();return n?ys(n,Me.toast):!1},pO=()=>{const n=Jt();return n?n.hasAttribute("data-loading"):!1},Fi=(n,e)=>{if(n.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(c=>{n.appendChild(c)});const o=r.querySelector("body");o&&Array.from(o.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?n.appendChild(c.cloneNode(!0)):n.appendChild(c)})}},ys=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let r=0;r<t.length;r++)if(!n.classList.contains(t[r]))return!1;return!0},gO=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(Me).includes(t)&&!Object.values(jd).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Di=(n,e,t)=>{if(gO(n,e),!e.customClass)return;const r=e.customClass[t];if(r){if(typeof r!="string"&&!r.forEach){Ci(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof r}"`);return}Kt(n,r)}},Df=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${Me.popup} > .${Me[e]}`);case"checkbox":return n.querySelector(`.${Me.popup} > .${Me.checkbox} input`);case"radio":return n.querySelector(`.${Me.popup} > .${Me.radio} input:checked`)||n.querySelector(`.${Me.popup} > .${Me.radio} input:first-child`);case"range":return n.querySelector(`.${Me.popup} > .${Me.range} input`);default:return n.querySelector(`.${Me.popup} > .${Me.input}`)}},BT=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},zT=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(n)?n.forEach(s=>{t?s.classList.add(r):s.classList.remove(r)}):t?n.classList.add(r):n.classList.remove(r)}))},Kt=(n,e)=>{zT(n,e,!0)},oo=(n,e)=>{zT(n,e,!1)},aa=(n,e)=>{const t=Array.from(n.children);for(let r=0;r<t.length;r++){const s=t[r];if(s instanceof HTMLElement&&ys(s,e))return s}},Xa=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},br=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=e)},Qr=n=>{n&&(n.style.display="none")},Dv=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{Qu(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},jb=(n,e,t,r)=>{const s=n.querySelector(e);s&&s.style.setProperty(t,r)},Qu=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?br(n,t):Qr(n)},Ti=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),mO=()=>!Ti(qo())&&!Ti(hl())&&!Ti(Cc()),Ub=n=>n.scrollHeight>n.clientHeight,jT=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||r>0},Nv=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=Pf();t&&Ti(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},vO=()=>{const n=Pf();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),r=e/t*100;n.style.width=`${r}%`},yO=()=>typeof window>"u"||typeof document>"u",wO=`
 <div aria-labelledby="${Me.title}" aria-describedby="${Me["html-container"]}" class="${Me.popup}" tabindex="-1">
   <button type="button" class="${Me.close}"></button>
   <ul class="${Me["progress-steps"]}"></ul>
   <div class="${Me.icon}"></div>
   <img class="${Me.image}" />
   <h2 class="${Me.title}" id="${Me.title}"></h2>
   <div class="${Me["html-container"]}" id="${Me["html-container"]}"></div>
   <input class="${Me.input}" id="${Me.input}" />
   <input type="file" class="${Me.file}" />
   <div class="${Me.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Me.select}" id="${Me.select}"></select>
   <div class="${Me.radio}"></div>
   <label class="${Me.checkbox}">
     <input type="checkbox" id="${Me.checkbox}" />
     <span class="${Me.label}"></span>
   </label>
   <textarea class="${Me.textarea}" id="${Me.textarea}"></textarea>
   <div class="${Me["validation-message"]}" id="${Me["validation-message"]}"></div>
   <div class="${Me.actions}">
     <div class="${Me.loader}"></div>
     <button type="button" class="${Me.confirm}"></button>
     <button type="button" class="${Me.deny}"></button>
     <button type="button" class="${Me.cancel}"></button>
   </div>
   <div class="${Me.footer}"></div>
   <div class="${Me["timer-progress-bar-container"]}">
     <div class="${Me["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),bO=()=>{const n=xi();return n?(n.remove(),oo([document.documentElement,document.body],[Me["no-backdrop"],Me["toast-shown"],Me["has-column"]]),!0):!1},ja=()=>{vt.currentInstance.resetValidationMessage()},_O=()=>{const n=Jt(),e=aa(n,Me.input),t=aa(n,Me.file),r=n.querySelector(`.${Me.range} input`),s=n.querySelector(`.${Me.range} output`),o=aa(n,Me.select),c=n.querySelector(`.${Me.checkbox} input`),m=aa(n,Me.textarea);e.oninput=ja,t.onchange=ja,o.onchange=ja,c.onchange=ja,m.oninput=ja,r.oninput=()=>{ja(),s.value=r.value},r.onchange=()=>{ja(),s.value=r.value}},EO=n=>typeof n=="string"?document.querySelector(n):n,SO=n=>{const e=Jt();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},TO=n=>{window.getComputedStyle(n).direction==="rtl"&&Kt(xi(),Me.rtl)},CO=n=>{const e=bO();if(yO()){ul("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=Me.container,e&&Kt(t,Me["no-transition"]),Fi(t,wO);const r=EO(n.target);r.appendChild(t),SO(n),TO(r),_O()},Fv=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?xO(n,e):n&&Fi(e,n)},xO=(n,e)=>{n.jquery?AO(e,n):Fi(e,n.toString())},AO=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},kO=(n,e)=>{const t=qu(),r=xc();!t||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Qr(t):br(t),Di(t,e,"actions"),IO(t,r,e),Fi(r,e.loaderHtml||""),Di(r,e,"loader"))};function IO(n,e,t){const r=qo(),s=hl(),o=Cc();!r||!s||!o||(Ig(r,"confirm",t),Ig(s,"deny",t),Ig(o,"cancel",t),RO(r,s,o,t),t.reverseButtons&&(t.toast?(n.insertBefore(o,r),n.insertBefore(s,r)):(n.insertBefore(o,e),n.insertBefore(s,e),n.insertBefore(r,e))))}function RO(n,e,t,r){if(!r.buttonsStyling){oo([n,e,t],Me.styled);return}Kt([n,e,t],Me.styled),r.confirmButtonColor&&(n.style.backgroundColor=r.confirmButtonColor,Kt(n,Me["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,Kt(e,Me["default-outline"])),r.cancelButtonColor&&(t.style.backgroundColor=r.cancelButtonColor,Kt(t,Me["default-outline"]))}function Ig(n,e,t){const r=kv(e);Qu(n,t[`show${r}Button`],"inline-block"),Fi(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=Me[e],Di(n,t,`${e}Button`)}const MO=(n,e)=>{const t=$v();t&&(Fi(t,e.closeButtonHtml||""),Di(t,e,"closeButton"),Qu(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},LO=(n,e)=>{const t=xi();t&&($O(t,e.backdrop),PO(t,e.position),OO(t,e.grow),Di(t,e,"container"))};function $O(n,e){typeof e=="string"?n.style.background=e:e||Kt([document.documentElement,document.body],Me["no-backdrop"])}function PO(n,e){e&&(e in Me?Kt(n,Me[e]):(Ci('The "position" parameter is not valid, defaulting to "center"'),Kt(n,Me.center)))}function OO(n,e){e&&Kt(n,Me[`grow-${e}`])}var yn={innerParams:new WeakMap,domCache:new WeakMap};const DO=["input","file","range","select","radio","checkbox","textarea"],NO=(n,e)=>{const t=Jt();if(!t)return;const r=yn.innerParams.get(n),s=!r||e.input!==r.input;DO.forEach(o=>{const c=aa(t,Me[o]);c&&(BO(o,e.inputAttributes),c.className=Me[o],s&&Qr(c))}),e.input&&(s&&FO(e),zO(e))},FO=n=>{if(!n.input)return;if(!jn[n.input]){ul(`Unexpected type of input! Expected ${Object.keys(jn).join(" | ")}, got "${n.input}"`);return}const e=UT(n.input);if(!e)return;const t=jn[n.input](e,n);br(e),n.inputAutoFocus&&setTimeout(()=>{BT(t)})},VO=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},BO=(n,e)=>{const t=Jt();if(!t)return;const r=Df(t,n);if(r){VO(r);for(const s in e)r.setAttribute(s,e[s])}},zO=n=>{if(!n.input)return;const e=UT(n.input);e&&Di(e,n,"input")},Vv=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},Yu=(n,e,t)=>{if(t.inputLabel){const r=document.createElement("label"),s=Me["input-label"];r.setAttribute("for",n.id),r.className=s,typeof t.customClass=="object"&&Kt(r,t.customClass.inputLabel),r.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",r)}},UT=n=>{const e=Jt();if(e)return aa(e,Me[n]||Me.input)},Ud=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:Rv(e)||Ci(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},jn={};jn.text=jn.email=jn.password=jn.number=jn.tel=jn.url=jn.search=jn.date=jn["datetime-local"]=jn.time=jn.week=jn.month=(n,e)=>(Ud(n,e.inputValue),Yu(n,n,e),Vv(n,e),n.type=e.input,n);jn.file=(n,e)=>(Yu(n,n,e),Vv(n,e),n);jn.range=(n,e)=>{const t=n.querySelector("input"),r=n.querySelector("output");return Ud(t,e.inputValue),t.type=e.input,Ud(r,e.inputValue),Yu(t,n,e),n};jn.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Fi(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return Yu(n,n,e),n};jn.radio=n=>(n.textContent="",n);jn.checkbox=(n,e)=>{const t=Df(Jt(),"checkbox");t.value="1",t.checked=!!e.inputValue;const r=n.querySelector("span");return Fi(r,e.inputPlaceholder||e.inputLabel),t};jn.textarea=(n,e)=>{Ud(n,e.inputValue),Vv(n,e),Yu(n,n,e);const t=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(Jt()).width),s=()=>{if(!document.body.contains(n))return;const o=n.offsetWidth+t(n);o>r?Jt().style.width=`${o}px`:Xa(Jt(),"width",e.width)};new MutationObserver(s).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const jO=(n,e)=>{const t=Mv();t&&(Dv(t),Di(t,e,"htmlContainer"),e.html?(Fv(e.html,t),br(t,"block")):e.text?(t.textContent=e.text,br(t,"block")):Qr(t),NO(n,e))},UO=(n,e)=>{const t=VT();t&&(Dv(t),Qu(t,e.footer,"block"),e.footer&&Fv(e.footer,t),Di(t,e,"footer"))},HO=(n,e)=>{const t=yn.innerParams.get(n),r=Tc();if(r){if(t&&e.icon===t.icon){Wb(r,e),Hb(r,e);return}if(!e.icon&&!e.iconHtml){Qr(r);return}if(e.icon&&Object.keys(jd).indexOf(e.icon)===-1){ul(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Qr(r);return}br(r),Wb(r,e),Hb(r,e),Kt(r,e.showClass&&e.showClass.icon)}},Hb=(n,e)=>{for(const[t,r]of Object.entries(jd))e.icon!==t&&oo(n,r);Kt(n,e.icon&&jd[e.icon]),qO(n,e),WO(),Di(n,e,"icon")},WO=()=>{const n=Jt();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<t.length;r++)t[r].style.backgroundColor=e},GO=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,KO=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Wb=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,r="";e.iconHtml?r=Gb(e.iconHtml):e.icon==="success"?(r=GO,t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?r=KO:e.icon&&(r=Gb({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==r.trim()&&Fi(n,r)},qO=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])jb(n,t,"background-color",e.iconColor);jb(n,".swal2-success-ring","border-color",e.iconColor)}},Gb=n=>`<div class="${Me["icon-content"]}">${n}</div>`,QO=(n,e)=>{const t=FT();if(t){if(!e.imageUrl){Qr(t);return}br(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Xa(t,"width",e.imageWidth),Xa(t,"height",e.imageHeight),t.className=Me.image,Di(t,e,"image")}};let Bv=!1,HT=0,WT=0,GT=0,KT=0;const YO=n=>{n.addEventListener("mousedown",Hd),document.body.addEventListener("mousemove",Wd),n.addEventListener("mouseup",Gd),n.addEventListener("touchstart",Hd),document.body.addEventListener("touchmove",Wd),n.addEventListener("touchend",Gd)},XO=n=>{n.removeEventListener("mousedown",Hd),document.body.removeEventListener("mousemove",Wd),n.removeEventListener("mouseup",Gd),n.removeEventListener("touchstart",Hd),document.body.removeEventListener("touchmove",Wd),n.removeEventListener("touchend",Gd)},Hd=n=>{const e=Jt();if(n.target===e||Tc().contains(n.target)){Bv=!0;const t=qT(n);HT=t.clientX,WT=t.clientY,GT=parseInt(e.style.insetInlineStart)||0,KT=parseInt(e.style.insetBlockStart)||0,Kt(e,"swal2-dragging")}},Wd=n=>{const e=Jt();if(Bv){let{clientX:t,clientY:r}=qT(n);e.style.insetInlineStart=`${GT+(t-HT)}px`,e.style.insetBlockStart=`${KT+(r-WT)}px`}},Gd=()=>{const n=Jt();Bv=!1,oo(n,"swal2-dragging")},qT=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},ZO=(n,e)=>{const t=xi(),r=Jt();if(!(!t||!r)){if(e.toast){Xa(t,"width",e.width),r.style.width="100%";const s=xc();s&&r.insertBefore(s,Tc())}else Xa(r,"width",e.width);Xa(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Qr($f()),JO(r,e),e.draggable&&!e.toast?(Kt(r,Me.draggable),YO(r)):(oo(r,Me.draggable),XO(r))}},JO=(n,e)=>{const t=e.showClass||{};n.className=`${Me.popup} ${Ti(n)?t.popup:""}`,e.toast?(Kt([document.documentElement,document.body],Me["toast-shown"]),Kt(n,Me.toast)):Kt(n,Me.modal),Di(n,e,"popup"),typeof e.customClass=="string"&&Kt(n,e.customClass),e.icon&&Kt(n,Me[`icon-${e.icon}`])},eD=(n,e)=>{const t=Lv();if(!t)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){Qr(t);return}br(t),t.textContent="",s>=r.length&&Ci("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((o,c)=>{const m=tD(o);if(t.appendChild(m),c===s&&Kt(m,Me["active-progress-step"]),c!==r.length-1){const u=nD(e);t.appendChild(u)}})},tD=n=>{const e=document.createElement("li");return Kt(e,Me["progress-step"]),Fi(e,n),e},nD=n=>{const e=document.createElement("li");return Kt(e,Me["progress-step-line"]),n.progressStepsDistance&&Xa(e,"width",n.progressStepsDistance),e},rD=(n,e)=>{const t=NT();t&&(Dv(t),Qu(t,e.title||e.titleText,"block"),e.title&&Fv(e.title,t),e.titleText&&(t.innerText=e.titleText),Di(t,e,"title"))},QT=(n,e)=>{ZO(n,e),LO(n,e),eD(n,e),HO(n,e),QO(n,e),rD(n,e),MO(n,e),jO(n,e),kO(n,e),UO(n,e);const t=Jt();typeof e.didRender=="function"&&t&&e.didRender(t),vt.eventEmitter.emit("didRender",t)},iD=()=>Ti(Jt()),YT=()=>{var n;return(n=qo())===null||n===void 0?void 0:n.click()},oD=()=>{var n;return(n=hl())===null||n===void 0?void 0:n.click()},sD=()=>{var n;return(n=Cc())===null||n===void 0?void 0:n.click()},Ac=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),XT=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},aD=(n,e,t)=>{XT(n),e.toast||(n.keydownHandler=r=>cD(e,r,t),n.keydownTarget=e.keydownListenerCapture?window:Jt(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},bm=(n,e)=>{var t;const r=Pv();if(r.length){n=n+e,n===r.length?n=0:n===-1&&(n=r.length-1),r[n].focus();return}(t=Jt())===null||t===void 0||t.focus()},ZT=["ArrowRight","ArrowDown"],lD=["ArrowLeft","ArrowUp"],cD=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?uD(e,n):e.key==="Tab"?hD(e):[...ZT,...lD].includes(e.key)?dD(e.key):e.key==="Escape"&&fD(e,n,t)))},uD=(n,e)=>{if(!Lf(e.allowEnterKey))return;const t=Df(Jt(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;YT(),n.preventDefault()}},hD=n=>{const e=n.target,t=Pv();let r=-1;for(let s=0;s<t.length;s++)if(e===t[s]){r=s;break}n.shiftKey?bm(r,-1):bm(r,1),n.stopPropagation(),n.preventDefault()},dD=n=>{const e=qu(),t=qo(),r=hl(),s=Cc();if(!e||!t||!r||!s)return;const o=[t,r,s];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const c=ZT.includes(n)?"nextElementSibling":"previousElementSibling";let m=document.activeElement;if(m){for(let u=0;u<e.children.length;u++){if(m=m[c],!m)return;if(m instanceof HTMLButtonElement&&Ti(m))break}m instanceof HTMLButtonElement&&m.focus()}},fD=(n,e,t)=>{Lf(e.allowEscapeKey)&&(n.preventDefault(),t(Ac.esc))};var uc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const pD=()=>{const n=xi();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},JT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},eC=typeof window<"u"&&!!window.GestureEvent,gD=()=>{if(eC&&!ys(document.body,Me.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Kt(document.body,Me.iosfix),mD()}},mD=()=>{const n=xi();if(!n)return;let e;n.ontouchstart=t=>{e=vD(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},vD=n=>{const e=n.target,t=xi(),r=Mv();return!t||!r||yD(n)||wD(n)?!1:e===t||!Ub(t)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Ub(r)&&r.contains(e))},yD=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",wD=n=>n.touches&&n.touches.length>1,bD=()=>{if(ys(document.body,Me.iosfix)){const n=parseInt(document.body.style.top,10);oo(document.body,Me.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},_D=()=>{const n=document.createElement("div");n.className=Me["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Xl=null;const ED=n=>{Xl===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Xl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Xl+_D()}px`)},SD=()=>{Xl!==null&&(document.body.style.paddingRight=`${Xl}px`,Xl=null)};function tC(n,e,t,r){Of()?Kb(n,r):(aO(t).then(()=>Kb(n,r)),XT(vt)),eC?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Ov()&&(SD(),bD(),JT()),TD()}function TD(){oo([document.documentElement,document.body],[Me.shown,Me["height-auto"],Me["no-backdrop"],Me["toast-shown"]])}function la(n){n=xD(n);const e=uc.swalPromiseResolve.get(this),t=CD(this);this.isAwaitingPromise?n.isDismissed||(Xu(this),e(n)):t&&e(n)}const CD=n=>{const e=Jt();if(!e)return!1;const t=yn.innerParams.get(n);if(!t||ys(e,t.hideClass.popup))return!1;oo(e,t.showClass.popup),Kt(e,t.hideClass.popup);const r=xi();return oo(r,t.showClass.backdrop),Kt(r,t.hideClass.backdrop),AD(n,e,t),!0};function nC(n){const e=uc.swalPromiseReject.get(this);Xu(this),e&&e(n)}const Xu=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,yn.innerParams.get(n)||n._destroy())},xD=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),AD=(n,e,t)=>{var r;const s=xi(),o=jT(e);typeof t.willClose=="function"&&t.willClose(e),(r=vt.eventEmitter)===null||r===void 0||r.emit("willClose",e),o?kD(n,e,s,t.returnFocus,t.didClose):tC(n,s,t.returnFocus,t.didClose)},kD=(n,e,t,r,s)=>{vt.swalCloseEventFinishedCallback=tC.bind(null,n,t,r,s);const o=function(c){if(c.target===e){var m;(m=vt.swalCloseEventFinishedCallback)===null||m===void 0||m.call(vt),delete vt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",o),e.removeEventListener("transitionend",o)}};e.addEventListener("animationend",o),e.addEventListener("transitionend",o)},Kb=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=vt.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},hc=n=>{let e=Jt();if(e||new Jl,e=Jt(),!e)return;const t=xc();Of()?Qr(Tc()):ID(e,n),br(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},ID=(n,e)=>{const t=qu(),r=xc();!t||!r||(!e&&Ti(qo())&&(e=qo()),br(t),e&&(Qr(e),r.setAttribute("data-button-to-replace",e.className),t.insertBefore(r,e)),Kt([n,t],Me.loading))},RD=(n,e)=>{e.input==="select"||e.input==="radio"?OD(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Iv(e.inputValue)||Rv(e.inputValue))&&(hc(qo()),DD(n,e))},MD=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return LD(t);case"radio":return $D(t);case"file":return PD(t);default:return e.inputAutoTrim?t.value.trim():t.value}},LD=n=>n.checked?1:0,$D=n=>n.checked?n.value:null,PD=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,OD=(n,e)=>{const t=Jt();if(!t)return;const r=s=>{e.input==="select"?ND(t,Kd(s),e):e.input==="radio"&&FD(t,Kd(s),e)};Iv(e.inputOptions)||Rv(e.inputOptions)?(hc(qo()),Gu(e.inputOptions).then(s=>{n.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):ul(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},DD=(n,e)=>{const t=n.getInput();t&&(Qr(t),Gu(e.inputValue).then(r=>{t.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,br(t),t.focus(),n.hideLoading()}).catch(r=>{ul(`Error in inputValue promise: ${r}`),t.value="",br(t),t.focus(),n.hideLoading()}))};function ND(n,e,t){const r=aa(n,Me.select);if(!r)return;const s=(o,c,m)=>{const u=document.createElement("option");u.value=m,Fi(u,c),u.selected=rC(m,t.inputValue),o.appendChild(u)};e.forEach(o=>{const c=o[0],m=o[1];if(Array.isArray(m)){const u=document.createElement("optgroup");u.label=c,u.disabled=!1,r.appendChild(u),m.forEach(g=>s(u,g[1],g[0]))}else s(r,m,c)}),r.focus()}function FD(n,e,t){const r=aa(n,Me.radio);if(!r)return;e.forEach(o=>{const c=o[0],m=o[1],u=document.createElement("input"),g=document.createElement("label");u.type="radio",u.name=Me.radio,u.value=c,rC(c,t.inputValue)&&(u.checked=!0);const l=document.createElement("span");Fi(l,m),l.className=Me.label,g.appendChild(u),g.appendChild(l),r.appendChild(g)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const Kd=n=>{const e=[];return n instanceof Map?n.forEach((t,r)=>{let s=t;typeof s=="object"&&(s=Kd(s)),e.push([r,s])}):Object.keys(n).forEach(t=>{let r=n[t];typeof r=="object"&&(r=Kd(r)),e.push([t,r])}),e},rC=(n,e)=>!!e&&e.toString()===n.toString(),VD=n=>{const e=yn.innerParams.get(n);n.disableButtons(),e.input?iC(n,"confirm"):jv(n,!0)},BD=n=>{const e=yn.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?iC(n,"deny"):zv(n,!1)},zD=(n,e)=>{n.disableButtons(),e(Ac.cancel)},iC=(n,e)=>{const t=yn.innerParams.get(n);if(!t.input){ul(`The "input" parameter is needed to be set when using returnInputValueOn${kv(e)}`);return}const r=n.getInput(),s=MD(n,t);t.inputValidator?jD(n,s,e):r&&!r.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||r.validationMessage)):e==="deny"?zv(n,s):jv(n,s)},jD=(n,e,t)=>{const r=yn.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>Gu(r.inputValidator(e,r.validationMessage))).then(o=>{n.enableButtons(),n.enableInput(),o?n.showValidationMessage(o):t==="deny"?zv(n,e):jv(n,e)})},zv=(n,e)=>{const t=yn.innerParams.get(n||void 0);t.showLoaderOnDeny&&hc(hl()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>Gu(t.preDeny(e,t.validationMessage))).then(s=>{s===!1?(n.hideLoading(),Xu(n)):n.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>oC(n||void 0,s))):n.close({isDenied:!0,value:e})},qb=(n,e)=>{n.close({isConfirmed:!0,value:e})},oC=(n,e)=>{n.rejectPromise(e)},jv=(n,e)=>{const t=yn.innerParams.get(n||void 0);t.showLoaderOnConfirm&&hc(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>Gu(t.preConfirm(e,t.validationMessage))).then(s=>{Ti($f())||s===!1?(n.hideLoading(),Xu(n)):qb(n,typeof s>"u"?e:s)}).catch(s=>oC(n||void 0,s))):qb(n,e)};function qd(){const n=yn.innerParams.get(this);if(!n)return;const e=yn.domCache.get(this);Qr(e.loader),Of()?n.icon&&br(Tc()):UD(e),oo([e.popup,e.actions],Me.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const UD=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?br(e[0],"inline-block"):mO()&&Qr(n.actions)};function sC(){const n=yn.innerParams.get(this),e=yn.domCache.get(this);return e?Df(e.popup,n.input):null}function aC(n,e,t){const r=yn.domCache.get(n);e.forEach(s=>{r[s].disabled=t})}function lC(n,e){const t=Jt();if(!(!t||!n))if(n.type==="radio"){const r=t.querySelectorAll(`[name="${Me.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else n.disabled=e}function cC(){aC(this,["confirmButton","denyButton","cancelButton"],!1)}function uC(){aC(this,["confirmButton","denyButton","cancelButton"],!0)}function hC(){lC(this.getInput(),!1)}function dC(){lC(this.getInput(),!0)}function fC(n){const e=yn.domCache.get(this),t=yn.innerParams.get(this);Fi(e.validationMessage,n),e.validationMessage.className=Me["validation-message"],t.customClass&&t.customClass.validationMessage&&Kt(e.validationMessage,t.customClass.validationMessage),br(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Me["validation-message"]),BT(r),Kt(r,Me.inputerror))}function pC(){const n=yn.domCache.get(this);n.validationMessage&&Qr(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),oo(e,Me.inputerror))}const Zl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},HD=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],WD={allowEnterKey:void 0},GD=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],gC=n=>Object.prototype.hasOwnProperty.call(Zl,n),mC=n=>HD.indexOf(n)!==-1,vC=n=>WD[n],KD=n=>{gC(n)||Ci(`Unknown parameter "${n}"`)},qD=n=>{GD.includes(n)&&Ci(`The parameter "${n}" is incompatible with toasts`)},QD=n=>{const e=vC(n);e&&DT(n,e)},YD=n=>{n.backdrop===!1&&n.allowOutsideClick&&Ci('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in n)KD(e),n.toast&&qD(e),QD(e)};function yC(n){const e=Jt(),t=yn.innerParams.get(this);if(!e||ys(e,t.hideClass.popup)){Ci("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=XD(n),s=Object.assign({},t,r);QT(this,s),yn.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const XD=n=>{const e={};return Object.keys(n).forEach(t=>{mC(t)?e[t]=n[t]:Ci(`Invalid parameter to update: ${t}`)}),e};function wC(){const n=yn.domCache.get(this),e=yn.innerParams.get(this);if(!e){bC(this);return}n.popup&&vt.swalCloseEventFinishedCallback&&(vt.swalCloseEventFinishedCallback(),delete vt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),vt.eventEmitter.emit("didDestroy"),ZD(this)}const ZD=n=>{bC(n),delete n.params,delete vt.keydownHandler,delete vt.keydownTarget,delete vt.currentInstance},bC=n=>{n.isAwaitingPromise?(Rg(yn,n),n.isAwaitingPromise=!0):(Rg(uc,n),Rg(yn,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Rg=(n,e)=>{for(const t in n)n[t].delete(e)};var JD=Object.freeze({__proto__:null,_destroy:wC,close:la,closeModal:la,closePopup:la,closeToast:la,disableButtons:uC,disableInput:dC,disableLoading:qd,enableButtons:cC,enableInput:hC,getInput:sC,handleAwaitingPromise:Xu,hideLoading:qd,rejectPromise:nC,resetValidationMessage:pC,showValidationMessage:fC,update:yC});const eN=(n,e,t)=>{n.toast?tN(n,e,t):(rN(e),iN(e),oN(n,e,t))},tN=(n,e,t)=>{e.popup.onclick=()=>{n&&(nN(n)||n.timer||n.input)||t(Ac.close)}},nN=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Qd=!1;const rN=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Qd=!0)}}},iN=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Qd=!0)}}},oN=(n,e,t)=>{e.container.onclick=r=>{if(Qd){Qd=!1;return}r.target===e.container&&Lf(n.allowOutsideClick)&&t(Ac.backdrop)}},sN=n=>typeof n=="object"&&n.jquery,Qb=n=>n instanceof Element||sN(n),aN=n=>{const e={};return typeof n[0]=="object"&&!Qb(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,r)=>{const s=n[r];typeof s=="string"||Qb(s)?e[t]=s:s!==void 0&&ul(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof s}`)}),e};function lN(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new this(...e)}function cN(n){class e extends this{_main(r,s){return super._main(r,Object.assign({},n,s))}}return e}const uN=()=>vt.timeout&&vt.timeout.getTimerLeft(),_C=()=>{if(vt.timeout)return vO(),vt.timeout.stop()},EC=()=>{if(vt.timeout){const n=vt.timeout.start();return Nv(n),n}},hN=()=>{const n=vt.timeout;return n&&(n.running?_C():EC())},dN=n=>{if(vt.timeout){const e=vt.timeout.increase(n);return Nv(e,!0),e}},fN=()=>!!(vt.timeout&&vt.timeout.isRunning());let Yb=!1;const _m={};function pN(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";_m[n]=this,Yb||(document.body.addEventListener("click",gN),Yb=!0)}const gN=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in _m){const r=e.getAttribute(t);if(r){_m[t].fire({template:r});return}}};class mN{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const r=this._getHandlersByEventName(e);r.includes(t)||r.push(t)}once(e,t){var r=this;const s=function(){r.removeListener(e,s);for(var o=arguments.length,c=new Array(o),m=0;m<o;m++)c[m]=arguments[m];t.apply(r,c)};this.on(e,s)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this._getHandlersByEventName(e).forEach(o=>{try{o.apply(this,r)}catch(c){console.error(c)}})}removeListener(e,t){const r=this._getHandlersByEventName(e),s=r.indexOf(t);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}vt.eventEmitter=new mN;const vN=(n,e)=>{vt.eventEmitter.on(n,e)},yN=(n,e)=>{vt.eventEmitter.once(n,e)},wN=(n,e)=>{if(!n){vt.eventEmitter.reset();return}e?vt.eventEmitter.removeListener(n,e):vt.eventEmitter.removeAllListeners(n)};var bN=Object.freeze({__proto__:null,argsToParams:aN,bindClickHandler:pN,clickCancel:sD,clickConfirm:YT,clickDeny:oD,enableLoading:hc,fire:lN,getActions:qu,getCancelButton:Cc,getCloseButton:$v,getConfirmButton:qo,getContainer:xi,getDenyButton:hl,getFocusableElements:Pv,getFooter:VT,getHtmlContainer:Mv,getIcon:Tc,getIconContent:hO,getImage:FT,getInputLabel:dO,getLoader:xc,getPopup:Jt,getProgressSteps:Lv,getTimerLeft:uN,getTimerProgressBar:Pf,getTitle:NT,getValidationMessage:$f,increaseTimer:dN,isDeprecatedParameter:vC,isLoading:pO,isTimerRunning:fN,isUpdatableParameter:mC,isValidParameter:gC,isVisible:iD,mixin:cN,off:wN,on:vN,once:yN,resumeTimer:EC,showLoading:hc,stopTimer:_C,toggleTimer:hN});class _N{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const SC=["swal-title","swal-html","swal-footer"],EN=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return RN(t),Object.assign(SN(t),TN(t),CN(t),xN(t),AN(t),kN(t),IN(t,SC))},SN=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(r=>{nl(r,["name","value"]);const s=r.getAttribute("name"),o=r.getAttribute("value");!s||!o||(typeof Zl[s]=="boolean"?e[s]=o!=="false":typeof Zl[s]=="object"?e[s]=JSON.parse(o):e[s]=o)}),e},TN=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),o=r.getAttribute("value");!s||!o||(e[s]=new Function(`return ${o}`)())}),e},CN=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(r=>{nl(r,["type","color","aria-label"]);const s=r.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=r.innerHTML,e[`show${kv(s)}Button`]=!0,r.hasAttribute("color")&&(e[`${s}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},xN=n=>{const e={},t=n.querySelector("swal-image");return t&&(nl(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},AN=n=>{const e={},t=n.querySelector("swal-icon");return t&&(nl(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},kN=n=>{const e={},t=n.querySelector("swal-input");t&&(nl(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const r=Array.from(n.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{nl(s,["value"]);const o=s.getAttribute("value");if(!o)return;const c=s.innerHTML;e.inputOptions[o]=c})),e},IN=(n,e)=>{const t={};for(const r in e){const s=e[r],o=n.querySelector(s);o&&(nl(o,[]),t[s.replace(/^swal-/,"")]=o.innerHTML.trim())}return t},RN=n=>{const e=SC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const r=t.tagName.toLowerCase();e.includes(r)||Ci(`Unrecognized element <${r}>`)})},nl=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&Ci([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},TC=10,MN=n=>{const e=xi(),t=Jt();typeof n.willOpen=="function"&&n.willOpen(t),vt.eventEmitter.emit("willOpen",t);const s=window.getComputedStyle(document.body).overflowY;PN(e,t,n),setTimeout(()=>{LN(e,t)},TC),Ov()&&($N(e,n.scrollbarPadding,s),pD()),!Of()&&!vt.previousActiveElement&&(vt.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),vt.eventEmitter.emit("didOpen",t),oo(e,Me["no-transition"])},Yd=n=>{const e=Jt();if(n.target!==e)return;const t=xi();e.removeEventListener("animationend",Yd),e.removeEventListener("transitionend",Yd),t.style.overflowY="auto"},LN=(n,e)=>{jT(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",Yd),e.addEventListener("transitionend",Yd)):n.style.overflowY="auto"},$N=(n,e,t)=>{gD(),e&&t!=="hidden"&&ED(t),setTimeout(()=>{n.scrollTop=0})},PN=(n,e,t)=>{Kt(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),br(e,"grid"),setTimeout(()=>{Kt(e,t.showClass.popup),e.style.removeProperty("opacity")},TC)):br(e,"grid"),Kt([document.documentElement,document.body],Me.shown),t.heightAuto&&t.backdrop&&!t.toast&&Kt([document.documentElement,document.body],Me["height-auto"])};var Xb={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function ON(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=Xb.email),n.input==="url"&&(n.inputValidator=Xb.url))}function DN(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(Ci('Target parameter is not valid, defaulting to "body"'),n.target="body")}function NN(n){ON(n),n.showLoaderOnConfirm&&!n.preConfirm&&Ci(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),DN(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),CO(n)}let Vo;var od=new WeakMap;class Hn{constructor(){if(rO(this,od,void 0),typeof window>"u")return;Vo=this;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const s=Object.freeze(this.constructor.argsToParams(t));this.params=s,this.isAwaitingPromise=!1,iO(od,this,this._main(Vo.params))}_main(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(YD(Object.assign({},t,e)),vt.currentInstance){const o=uc.swalPromiseResolve.get(vt.currentInstance),{isAwaitingPromise:c}=vt.currentInstance;vt.currentInstance._destroy(),c||o({isDismissed:!0}),Ov()&&JT()}vt.currentInstance=Vo;const r=VN(e,t);NN(r),Object.freeze(r),vt.timeout&&(vt.timeout.stop(),delete vt.timeout),clearTimeout(vt.restoreFocusTimeout);const s=BN(Vo);return QT(Vo,r),yn.innerParams.set(Vo,r),FN(Vo,s,r)}then(e){return Bb(od,this).then(e)}finally(e){return Bb(od,this).finally(e)}}const FN=(n,e,t)=>new Promise((r,s)=>{const o=c=>{n.close({isDismissed:!0,dismiss:c})};uc.swalPromiseResolve.set(n,r),uc.swalPromiseReject.set(n,s),e.confirmButton.onclick=()=>{VD(n)},e.denyButton.onclick=()=>{BD(n)},e.cancelButton.onclick=()=>{zD(n,o)},e.closeButton.onclick=()=>{o(Ac.close)},eN(t,e,o),aD(vt,t,o),RD(n,t),MN(t),zN(vt,t,o),jN(e,t),setTimeout(()=>{e.container.scrollTop=0})}),VN=(n,e)=>{const t=EN(n),r=Object.assign({},Zl,e,t,n);return r.showClass=Object.assign({},Zl.showClass,r.showClass),r.hideClass=Object.assign({},Zl.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},BN=n=>{const e={popup:Jt(),container:xi(),actions:qu(),confirmButton:qo(),denyButton:hl(),cancelButton:Cc(),loader:xc(),closeButton:$v(),validationMessage:$f(),progressSteps:Lv()};return yn.domCache.set(n,e),e},zN=(n,e,t)=>{const r=Pf();Qr(r),e.timer&&(n.timeout=new _N(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(br(r),Di(r,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&Nv(e.timer)})))},jN=(n,e)=>{if(!e.toast){if(!Lf(e.allowEnterKey)){DT("allowEnterKey"),WN();return}UN(n)||HN(n,e)||bm(-1,1)}},UN=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Ti(t))return t.focus(),!0;return!1},HN=(n,e)=>e.focusDeny&&Ti(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&Ti(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&Ti(n.confirmButton)?(n.confirmButton.focus(),!0):!1,WN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}Hn.prototype.disableButtons=uC;Hn.prototype.enableButtons=cC;Hn.prototype.getInput=sC;Hn.prototype.disableInput=dC;Hn.prototype.enableInput=hC;Hn.prototype.hideLoading=qd;Hn.prototype.disableLoading=qd;Hn.prototype.showValidationMessage=fC;Hn.prototype.resetValidationMessage=pC;Hn.prototype.close=la;Hn.prototype.closePopup=la;Hn.prototype.closeModal=la;Hn.prototype.closeToast=la;Hn.prototype.rejectPromise=nC;Hn.prototype.update=yC;Hn.prototype._destroy=wC;Object.assign(Hn,bN);Object.keys(JD).forEach(n=>{Hn[n]=function(){return Vo&&Vo[n]?Vo[n](...arguments):null}});Hn.DismissReason=Ac;Hn.version="11.15.10";const Jl=Hn;Jl.default=Jl;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var Zu={};(function n(e,t,r,s){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=function(){if(!e.OffscreenCanvas)return!1;var Q=new OffscreenCanvas(1,1),U=Q.getContext("2d");U.fillRect(0,0,1,1);var re=Q.transferToImageBitmap();try{U.createPattern(re,"no-repeat")}catch{return!1}return!0}();function u(){}function g(Q){var U=t.exports.Promise,re=U!==void 0?U:e.Promise;return typeof re=="function"?new re(Q):(Q(u,u),null)}var l=function(Q,U){return{transform:function(re){if(Q)return re;if(U.has(re))return U.get(re);var Z=new OffscreenCanvas(re.width,re.height),ue=Z.getContext("2d");return ue.drawImage(re,0,0),U.set(re,Z),Z},clear:function(){U.clear()}}}(m,new Map),h=function(){var Q=Math.floor(16.666666666666668),U,re,Z={},ue=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(U=function(ce){var oe=Math.random();return Z[oe]=requestAnimationFrame(function pe(Ee){ue===Ee||ue+Q-1<Ee?(ue=Ee,delete Z[oe],ce()):Z[oe]=requestAnimationFrame(pe)}),oe},re=function(ce){Z[ce]&&cancelAnimationFrame(Z[ce])}):(U=function(ce){return setTimeout(ce,Q)},re=function(ce){return clearTimeout(ce)}),{frame:U,cancel:re}}(),d=function(){var Q,U,re={};function Z(ue){function ce(oe,pe){ue.postMessage({options:oe||{},callback:pe})}ue.init=function(pe){var Ee=pe.transferControlToOffscreen();ue.postMessage({canvas:Ee},[Ee])},ue.fire=function(pe,Ee,me){if(U)return ce(pe,null),U;var Ae=Math.random().toString(36).slice(2);return U=g(function($e){function Qe(ut){ut.data.callback===Ae&&(delete re[Ae],ue.removeEventListener("message",Qe),U=null,l.clear(),me(),$e())}ue.addEventListener("message",Qe),ce(pe,Ae),re[Ae]=Qe.bind(null,{data:{callback:Ae}})}),U},ue.reset=function(){ue.postMessage({reset:!0});for(var pe in re)re[pe](),delete re[pe]}}return function(){if(Q)return Q;if(!r&&o){var ue=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Q=new Worker(URL.createObjectURL(new Blob([ue])))}catch(ce){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ce),null}Z(Q)}return Q}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function p(Q,U){return U?U(Q):Q}function v(Q){return Q!=null}function y(Q,U,re){return p(Q&&v(Q[U])?Q[U]:f[U],re)}function C(Q){return Q<0?0:Math.floor(Q)}function k(Q,U){return Math.floor(Math.random()*(U-Q))+Q}function F(Q){return parseInt(Q,16)}function O(Q){return Q.map(L)}function L(Q){var U=String(Q).replace(/[^0-9a-f]/gi,"");return U.length<6&&(U=U[0]+U[0]+U[1]+U[1]+U[2]+U[2]),{r:F(U.substring(0,2)),g:F(U.substring(2,4)),b:F(U.substring(4,6))}}function E(Q){var U=y(Q,"origin",Object);return U.x=y(U,"x",Number),U.y=y(U,"y",Number),U}function _(Q){Q.width=document.documentElement.clientWidth,Q.height=document.documentElement.clientHeight}function I(Q){var U=Q.getBoundingClientRect();Q.width=U.width,Q.height=U.height}function M(Q){var U=document.createElement("canvas");return U.style.position="fixed",U.style.top="0px",U.style.left="0px",U.style.pointerEvents="none",U.style.zIndex=Q,U}function $(Q,U,re,Z,ue,ce,oe,pe,Ee){Q.save(),Q.translate(U,re),Q.rotate(ce),Q.scale(Z,ue),Q.arc(0,0,1,oe,pe,Ee),Q.restore()}function B(Q){var U=Q.angle*(Math.PI/180),re=Q.spread*(Math.PI/180);return{x:Q.x,y:Q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Q.startVelocity*.5+Math.random()*Q.startVelocity,angle2D:-U+(.5*re-Math.random()*re),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Q.color,shape:Q.shape,tick:0,totalTicks:Q.ticks,decay:Q.decay,drift:Q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Q.gravity*3,ovalScalar:.6,scalar:Q.scalar,flat:Q.flat}}function T(Q,U){U.x+=Math.cos(U.angle2D)*U.velocity+U.drift,U.y+=Math.sin(U.angle2D)*U.velocity+U.gravity,U.velocity*=U.decay,U.flat?(U.wobble=0,U.wobbleX=U.x+10*U.scalar,U.wobbleY=U.y+10*U.scalar,U.tiltSin=0,U.tiltCos=0,U.random=1):(U.wobble+=U.wobbleSpeed,U.wobbleX=U.x+10*U.scalar*Math.cos(U.wobble),U.wobbleY=U.y+10*U.scalar*Math.sin(U.wobble),U.tiltAngle+=.1,U.tiltSin=Math.sin(U.tiltAngle),U.tiltCos=Math.cos(U.tiltAngle),U.random=Math.random()+2);var re=U.tick++/U.totalTicks,Z=U.x+U.random*U.tiltCos,ue=U.y+U.random*U.tiltSin,ce=U.wobbleX+U.random*U.tiltCos,oe=U.wobbleY+U.random*U.tiltSin;if(Q.fillStyle="rgba("+U.color.r+", "+U.color.g+", "+U.color.b+", "+(1-re)+")",Q.beginPath(),c&&U.shape.type==="path"&&typeof U.shape.path=="string"&&Array.isArray(U.shape.matrix))Q.fill(q(U.shape.path,U.shape.matrix,U.x,U.y,Math.abs(ce-Z)*.1,Math.abs(oe-ue)*.1,Math.PI/10*U.wobble));else if(U.shape.type==="bitmap"){var pe=Math.PI/10*U.wobble,Ee=Math.abs(ce-Z)*.1,me=Math.abs(oe-ue)*.1,Ae=U.shape.bitmap.width*U.scalar,$e=U.shape.bitmap.height*U.scalar,Qe=new DOMMatrix([Math.cos(pe)*Ee,Math.sin(pe)*Ee,-Math.sin(pe)*me,Math.cos(pe)*me,U.x,U.y]);Qe.multiplySelf(new DOMMatrix(U.shape.matrix));var ut=Q.createPattern(l.transform(U.shape.bitmap),"no-repeat");ut.setTransform(Qe),Q.globalAlpha=1-re,Q.fillStyle=ut,Q.fillRect(U.x-Ae/2,U.y-$e/2,Ae,$e),Q.globalAlpha=1}else if(U.shape==="circle")Q.ellipse?Q.ellipse(U.x,U.y,Math.abs(ce-Z)*U.ovalScalar,Math.abs(oe-ue)*U.ovalScalar,Math.PI/10*U.wobble,0,2*Math.PI):$(Q,U.x,U.y,Math.abs(ce-Z)*U.ovalScalar,Math.abs(oe-ue)*U.ovalScalar,Math.PI/10*U.wobble,0,2*Math.PI);else if(U.shape==="star")for(var qe=Math.PI/2*3,Ge=4*U.scalar,yt=8*U.scalar,Ot=U.x,Ht=U.y,pn=5,Nt=Math.PI/pn;pn--;)Ot=U.x+Math.cos(qe)*yt,Ht=U.y+Math.sin(qe)*yt,Q.lineTo(Ot,Ht),qe+=Nt,Ot=U.x+Math.cos(qe)*Ge,Ht=U.y+Math.sin(qe)*Ge,Q.lineTo(Ot,Ht),qe+=Nt;else Q.moveTo(Math.floor(U.x),Math.floor(U.y)),Q.lineTo(Math.floor(U.wobbleX),Math.floor(ue)),Q.lineTo(Math.floor(ce),Math.floor(oe)),Q.lineTo(Math.floor(Z),Math.floor(U.wobbleY));return Q.closePath(),Q.fill(),U.tick<U.totalTicks}function b(Q,U,re,Z,ue){var ce=U.slice(),oe=Q.getContext("2d"),pe,Ee,me=g(function(Ae){function $e(){pe=Ee=null,oe.clearRect(0,0,Z.width,Z.height),l.clear(),ue(),Ae()}function Qe(){r&&!(Z.width===s.width&&Z.height===s.height)&&(Z.width=Q.width=s.width,Z.height=Q.height=s.height),!Z.width&&!Z.height&&(re(Q),Z.width=Q.width,Z.height=Q.height),oe.clearRect(0,0,Z.width,Z.height),ce=ce.filter(function(ut){return T(oe,ut)}),ce.length?pe=h.frame(Qe):$e()}pe=h.frame(Qe),Ee=$e});return{addFettis:function(Ae){return ce=ce.concat(Ae),me},canvas:Q,promise:me,reset:function(){pe&&h.cancel(pe),Ee&&Ee()}}}function P(Q,U){var re=!Q,Z=!!y(U||{},"resize"),ue=!1,ce=y(U,"disableForReducedMotion",Boolean),oe=o&&!!y(U||{},"useWorker"),pe=oe?d():null,Ee=re?_:I,me=Q&&pe?!!Q.__confetti_initialized:!1,Ae=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,$e;function Qe(qe,Ge,yt){for(var Ot=y(qe,"particleCount",C),Ht=y(qe,"angle",Number),pn=y(qe,"spread",Number),Nt=y(qe,"startVelocity",Number),wn=y(qe,"decay",Number),Wn=y(qe,"gravity",Number),Pn=y(qe,"drift",Number),bn=y(qe,"colors",O),ur=y(qe,"ticks",Number),be=y(qe,"shapes"),ze=y(qe,"scalar"),Ke=!!y(qe,"flat"),ft=E(qe),lt=Ot,kt=[],Lt=Q.width*ft.x,Ft=Q.height*ft.y;lt--;)kt.push(B({x:Lt,y:Ft,angle:Ht,spread:pn,startVelocity:Nt,color:bn[lt%bn.length],shape:be[k(0,be.length)],ticks:ur,decay:wn,gravity:Wn,drift:Pn,scalar:ze,flat:Ke}));return $e?$e.addFettis(kt):($e=b(Q,kt,Ee,Ge,yt),$e.promise)}function ut(qe){var Ge=ce||y(qe,"disableForReducedMotion",Boolean),yt=y(qe,"zIndex",Number);if(Ge&&Ae)return g(function(Nt){Nt()});re&&$e?Q=$e.canvas:re&&!Q&&(Q=M(yt),document.body.appendChild(Q)),Z&&!me&&Ee(Q);var Ot={width:Q.width,height:Q.height};pe&&!me&&pe.init(Q),me=!0,pe&&(Q.__confetti_initialized=!0);function Ht(){if(pe){var Nt={getBoundingClientRect:function(){if(!re)return Q.getBoundingClientRect()}};Ee(Nt),pe.postMessage({resize:{width:Nt.width,height:Nt.height}});return}Ot.width=Ot.height=null}function pn(){$e=null,Z&&(ue=!1,e.removeEventListener("resize",Ht)),re&&Q&&(document.body.contains(Q)&&document.body.removeChild(Q),Q=null,me=!1)}return Z&&!ue&&(ue=!0,e.addEventListener("resize",Ht,!1)),pe?pe.fire(qe,Ot,pn):Qe(qe,Ot,pn)}return ut.reset=function(){pe&&pe.reset(),$e&&$e.reset()},ut}var N;function z(){return N||(N=P(null,{useWorker:!0,resize:!0})),N}function q(Q,U,re,Z,ue,ce,oe){var pe=new Path2D(Q),Ee=new Path2D;Ee.addPath(pe,new DOMMatrix(U));var me=new Path2D;return me.addPath(Ee,new DOMMatrix([Math.cos(oe)*ue,Math.sin(oe)*ue,-Math.sin(oe)*ce,Math.cos(oe)*ce,re,Z])),me}function K(Q){if(!c)throw new Error("path confetti are not supported in this browser");var U,re;typeof Q=="string"?U=Q:(U=Q.path,re=Q.matrix);var Z=new Path2D(U),ue=document.createElement("canvas"),ce=ue.getContext("2d");if(!re){for(var oe=1e3,pe=oe,Ee=oe,me=0,Ae=0,$e,Qe,ut=0;ut<oe;ut+=2)for(var qe=0;qe<oe;qe+=2)ce.isPointInPath(Z,ut,qe,"nonzero")&&(pe=Math.min(pe,ut),Ee=Math.min(Ee,qe),me=Math.max(me,ut),Ae=Math.max(Ae,qe));$e=me-pe,Qe=Ae-Ee;var Ge=10,yt=Math.min(Ge/$e,Ge/Qe);re=[yt,0,0,yt,-Math.round($e/2+pe)*yt,-Math.round(Qe/2+Ee)*yt]}return{type:"path",path:U,matrix:re}}function J(Q){var U,re=1,Z="#000000",ue='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Q=="string"?U=Q:(U=Q.text,re="scalar"in Q?Q.scalar:re,ue="fontFamily"in Q?Q.fontFamily:ue,Z="color"in Q?Q.color:Z);var ce=10*re,oe=""+ce+"px "+ue,pe=new OffscreenCanvas(ce,ce),Ee=pe.getContext("2d");Ee.font=oe;var me=Ee.measureText(U),Ae=Math.ceil(me.actualBoundingBoxRight+me.actualBoundingBoxLeft),$e=Math.ceil(me.actualBoundingBoxAscent+me.actualBoundingBoxDescent),Qe=2,ut=me.actualBoundingBoxLeft+Qe,qe=me.actualBoundingBoxAscent+Qe;Ae+=Qe+Qe,$e+=Qe+Qe,pe=new OffscreenCanvas(Ae,$e),Ee=pe.getContext("2d"),Ee.font=oe,Ee.fillStyle=Z,Ee.fillText(U,ut,qe);var Ge=1/re;return{type:"bitmap",bitmap:pe.transferToImageBitmap(),matrix:[Ge,0,0,Ge,-Ae*Ge/2,-$e*Ge/2]}}t.exports=function(){return z().apply(this,arguments)},t.exports.reset=function(){z().reset()},t.exports.create=P,t.exports.shapeFromPath=K,t.exports.shapeFromText=J})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Zu,!1);const GN=Zu.exports;Zu.exports.create;const KN=async(n,e,t,r)=>{if(!n)throw new Error("無效的使用者 ID");const s=new Date,o=ac(cc,"grades",n);try{(await JE(o)).exists()?await CR(o,{[`materials.${e.tag}.${e.id}`]:{title:e.title,isCorrect:!0,timeElapsed:t,attempts:r,timestamp:s},updatedAt:s,lastAccessedMaterial:e.title}):await sm(o,{materials:{[e.tag]:{[e.id]:{title:e.title,isCorrect:!0,timeElapsed:t,attempts:r,timestamp:s}}},updatedAt:s,lastAccessedMaterial:e.title}),console.log("✅ 作答結果已更新到 Firebase `grades`")}catch(c){throw console.error("🔥 更新 Firebase 失敗:",c),c}},qN=()=>{const{userInfo:n}=wc(),{id:e}=n2(),{quizs:t}=se.useContext(Fu)||{},r=t.find(_=>_.id===e),s=t.filter(_=>_.tag===r.tag),o=Sv(),c=se.useRef(null),[m,u]=se.useState(!1),[g,l]=se.useState(0),[h,d]=se.useState(0),f=se.useRef(null),[p,v]=se.useState(!1),[y,C]=se.useState([]);se.useEffect(()=>{if(d(0),l(0),r&&r.code){const _=r.code.map((I,M)=>({code:I,label:r.codeLabels?r.codeLabels[M]:null}));if(_.length>1){let I;do I=[..._].sort(()=>Math.random()-.5);while(I.map(M=>M.code).join("")===r.code.join(""));C(I)}else C(_)}return id(".block").draggable({listeners:{move(_){const I=_.target,M=(parseFloat(I.getAttribute("data-x"))||0)+_.dx,$=(parseFloat(I.getAttribute("data-y"))||0)+_.dy;I.style.transform=`translate(${M}px, ${$}px)`,I.setAttribute("data-x",M),I.setAttribute("data-y",$)},end(_){const I=_.target;I.style.transform="",I.removeAttribute("data-x"),I.removeAttribute("data-y")}}}),id(".zone").dropzone({ondragenter(_){_.target.classList.add("hover")},ondragleave(_){_.target.classList.remove("hover")},ondrop(_){const I=_.relatedTarget,M=_.target;M.classList.remove("hover");const $=Array.from(M.querySelectorAll(".block")),B=I.getBoundingClientRect();let T=!1;for(const b of $){const P=b.getBoundingClientRect();if(B.top<P.top){M.insertBefore(I,b),T=!0;break}}T||M.appendChild(I)},ondropdeactivate(_){_.target.classList.remove("hover")}}),f.current=setInterval(()=>{d(_=>_+1)},1e3),()=>{id(".block").unset(),id(".zone").unset(),clearInterval(f.current)}},[r]);const k=()=>{v(_=>!_)},F=()=>{const _=c.current.querySelectorAll(".block"),I=Array.from(_).map(M=>M.textContent);l(M=>{const $=M+1;return JSON.stringify(I)===JSON.stringify(r.code)?(u(!0),clearInterval(f.current),KN(n.uid,r,h,$).then(()=>console.log("🔥 Firebase 更新成功")).catch(B=>console.error("🔥 Firebase 更新失敗",B)),Jl.fire({title:"答對了！",text:`恭喜你完成這個題目！
用時 ${h} 秒
作答次數：${$}`,icon:"success",confirmButtonText:"太棒了",confirmButtonColor:"#3085d6",didOpen:()=>{setTimeout(()=>{GN({particleCount:100,spread:70,origin:{y:.6},zIndex:9999})},100)}})):Jl.fire({title:"答案不對喔",text:"再試試看吧！",icon:"error",confirmButtonText:"再來一次",confirmButtonColor:"#d33"}),$})},O=()=>{o("/ex_list")},L=()=>{const _=s.findIndex(I=>I.id===r.id);if(_<s.length-1){const I=s[_+1];u(!1),o(`/exercise/${I.id}`)}else Jl.fire({title:"恭喜！",text:"你已完成最後一題！",icon:"success",confirmButtonText:"返回題組"}).then(()=>{O()})},E=_=>{switch(_){case"賦值":return{backgroundColor:"#FFE8D6"};case"運算":return{backgroundColor:"#b5e8cb"};case"迴圈":return{backgroundColor:"#FFD6A5"};case"條件判斷":return{backgroundColor:"#FFDDB9"};case"函式定義":return{backgroundColor:"#FFE6EB"};case"輸出":return{backgroundColor:"#EFE6FF"};case"輸入":return{backgroundColor:"#E6F5FB"};case"函式呼叫":return{backgroundColor:"#FFF0F5"};default:return{backgroundColor:"#F9F9F9"}}};return!t||t.length===0?fe.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"載入中..."}):fe.jsxs(fe.Fragment,{children:[fe.jsxs("div",{className:"exercise-header",children:[fe.jsxs("div",{className:"header-content",children:[fe.jsx("h3",{className:"question-title",children:r.title}),fe.jsxs("p",{className:"timer",children:["⏳ 時間：",h," 秒 | 📝 作答次數：",g]})]}),fe.jsxs("div",{className:"question-description",children:[fe.jsx("p",{children:fe.jsx("strong",{children:"題目說明："})}),fe.jsx("p",{children:r.question})]})]}),fe.jsxs("div",{className:"answer-header",style:{justifycontent:"space-between",width:"100%"},children:[fe.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[fe.jsx("h2",{style:{marginBottom:0},children:"作答區"}),fe.jsxs("div",{style:{position:"relative"},children:[fe.jsx("button",{type:"button",onClick:k,style:{fontSize:"20px",background:"#e9f7ef",borderRadius:"8px",padding:"8px 16px",lineHeight:1.7,alignItems:"center",color:"#333",border:"none",cursor:"pointer"},children:fe.jsx("i",{className:"fas fa-circle-question"})}),p&&fe.jsxs("div",{style:{position:"absolute",top:"110%",right:0,left:"auto",zIndex:10,background:"#fff",border:"1px solid #eee",borderRadius:"8px",padding:"12px 16px",boxShadow:"0 2px 8px #ccc",minWidth:"120px",maxWidth:"90vw",overflowX:"auto"},children:[fe.jsx("b",{children:"顏色說明："}),fe.jsxs("div",{style:{display:"flex",flexDirection:"column",flexWrap:"nowrap",gap:"12px",marginTop:"8px"},children:[fe.jsx("span",{style:{background:"#FFE8D6",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"賦值"}),fe.jsx("span",{style:{background:"#b5e8cb",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"運算"}),fe.jsx("span",{style:{background:"#FFD6A5",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"迴圈"}),fe.jsx("span",{style:{background:"#FFDDB9",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"條件判斷"}),fe.jsx("span",{style:{background:"#FFE6EB",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"函式定義"}),fe.jsx("span",{style:{background:"#EFE6FF",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"輸出"}),fe.jsx("span",{style:{background:"#E6F5FB",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"輸入"}),fe.jsx("span",{style:{background:"#FFF0F5",padding:"2px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:"函式呼叫"})]})]})]})]}),fe.jsx("div",{id:"answer-zone",className:"zone",ref:c,children:y.map((_,I)=>fe.jsx("div",{className:"block block-content",draggable:"true","data-code":I,style:E(_.label),children:_.code},I))})]}),fe.jsxs("div",{className:"button-group",style:{display:"flex",gap:"10px",marginTop:"20px",justifyContent:"center"},children:[fe.jsx("button",{onClick:F,style:{padding:"8px 16px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"送出答案"}),fe.jsx("button",{onClick:O,style:{padding:"8px 16px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"返回題組"}),m&&fe.jsx("button",{onClick:L,style:{padding:"8px 16px",backgroundColor:"#FF9800",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"下一題"})]}),fe.jsx("div",{style:{height:"40px",width:"100%"}})]})};var Js={},Fl={},Mg={exports:{}},Zb;function Ru(){return Zb||(Zb=1,function(n,e){(function(){var t="ace",r=function(){return this}();!r&&typeof window<"u"&&(r=window);var s=function(l,h,d){if(typeof l!="string"){s.original?s.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(d=h),s.modules[l]||(s.payloads[l]=d,s.modules[l]=null)};s.modules={},s.payloads={};var o=function(l,h,d){if(typeof h=="string"){var f=u(l,h);if(f!=null)return d&&d(),f}else if(Object.prototype.toString.call(h)==="[object Array]"){for(var p=[],v=0,y=h.length;v<y;++v){var C=u(l,h[v]);if(C==null&&c.original)return;p.push(C)}return d&&d.apply(null,p)||!0}},c=function(l,h){var d=o("",l,h);return d==null&&c.original?c.original.apply(this,arguments):d},m=function(l,h){if(h.indexOf("!")!==-1){var d=h.split("!");return m(l,d[0])+"!"+m(l,d[1])}if(h.charAt(0)=="."){var f=l.split("/").slice(0,-1).join("/");for(h=f+"/"+h;h.indexOf(".")!==-1&&p!=h;){var p=h;h=h.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return h},u=function(l,h){h=m(l,h);var d=s.modules[h];if(!d){if(d=s.payloads[h],typeof d=="function"){var f={},p={id:h,uri:"",exports:f,packaged:!0},v=function(C,k){return o(h,C,k)},y=d(v,f,p);f=y||p.exports,s.modules[h]=f,delete s.payloads[h]}d=s.modules[h]=f||d}return d};function g(l){var h=r;r[l]||(r[l]={}),h=r[l],(!h.define||!h.define.packaged)&&(s.original=h.define,h.define=s,h.define.packaged=!0),(!h.require||!h.require.packaged)&&(c.original=h.require,h.require=c,h.require.packaged=!0)}g(t)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(t,r,s){function o(c,m,u){Object.defineProperty(c,m,{value:u,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||o(String.prototype,"startsWith",function(c,m){return m=m||0,this.lastIndexOf(c,m)===m}),String.prototype.endsWith||o(String.prototype,"endsWith",function(c,m){var u=this;(m===void 0||m>u.length)&&(m=u.length),m-=c.length;var g=u.indexOf(c,m);return g!==-1&&g===m}),String.prototype.repeat||o(String.prototype,"repeat",function(c){for(var m="",u=this;c>0;)c&1&&(m+=u),(c>>=1)&&(u+=u);return m}),String.prototype.includes||o(String.prototype,"includes",function(c,m){return this.indexOf(c,m)!=-1}),Object.assign||(Object.assign=function(c){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var m=Object(c),u=1;u<arguments.length;u++){var g=arguments[u];g!=null&&Object.keys(g).forEach(function(l){m[l]=g[l]})}return m}),Object.values||(Object.values=function(c){return Object.keys(c).map(function(m){return c[m]})}),Array.prototype.find||o(Array.prototype,"find",function(c){for(var m=this.length,u=arguments[1],g=0;g<m;g++){var l=this[g];if(c.call(u,l,g,this))return l}}),Array.prototype.findIndex||o(Array.prototype,"findIndex",function(c){for(var m=this.length,u=arguments[1],g=0;g<m;g++){var l=this[g];if(c.call(u,l,g,this))return g}}),Array.prototype.includes||o(Array.prototype,"includes",function(c,m){return this.indexOf(c,m)!=-1}),Array.prototype.fill||o(Array.prototype,"fill",function(c){for(var m=this,u=m.length>>>0,g=arguments[1],l=g>>0,h=l<0?Math.max(u+l,0):Math.min(l,u),d=arguments[2],f=d===void 0?u:d>>0,p=f<0?Math.max(u+f,0):Math.min(f,u);h<p;)m[h]=c,h++;return m}),Array.of||o(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(t,r,s){t("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(t,r,s){r.deepCopy=function o(c){if(typeof c!="object"||!c)return c;var m;if(Array.isArray(c)){m=[];for(var u=0;u<c.length;u++)m[u]=o(c[u]);return m}if(Object.prototype.toString.call(c)!=="[object Object]")return c;m={};for(var u in c)m[u]=o(c[u]);return m}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(t,r,s){r.last=function(m){return m[m.length-1]},r.stringReverse=function(m){return m.split("").reverse().join("")},r.stringRepeat=function(m,u){for(var g="";u>0;)u&1&&(g+=m),(u>>=1)&&(m+=m);return g};var o=/^\s\s*/,c=/\s\s*$/;r.stringTrimLeft=function(m){return m.replace(o,"")},r.stringTrimRight=function(m){return m.replace(c,"")},r.copyObject=function(m){var u={};for(var g in m)u[g]=m[g];return u},r.copyArray=function(m){for(var u=[],g=0,l=m.length;g<l;g++)m[g]&&typeof m[g]=="object"?u[g]=this.copyObject(m[g]):u[g]=m[g];return u},r.deepCopy=t("./deep_copy").deepCopy,r.arrayToMap=function(m){for(var u={},g=0;g<m.length;g++)u[m[g]]=1;return u},r.createMap=function(m){var u=Object.create(null);for(var g in m)u[g]=m[g];return u},r.arrayRemove=function(m,u){for(var g=0;g<=m.length;g++)u===m[g]&&m.splice(g,1)},r.escapeRegExp=function(m){return m.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},r.escapeHTML=function(m){return(""+m).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},r.getMatchOffsets=function(m,u){var g=[];return m.replace(u,function(l){g.push({offset:arguments[arguments.length-2],length:l.length})}),g},r.deferredCall=function(m){var u=null,g=function(){u=null,m()},l=function(h){return l.cancel(),u=setTimeout(g,h||0),l};return l.schedule=l,l.call=function(){return this.cancel(),m(),l},l.cancel=function(){return clearTimeout(u),u=null,l},l.isPending=function(){return u},l},r.delayedCall=function(m,u){var g=null,l=function(){g=null,m()},h=function(d){g==null&&(g=setTimeout(l,d||u))};return h.delay=function(d){g&&clearTimeout(g),g=setTimeout(l,d||u)},h.schedule=h,h.call=function(){this.cancel(),m()},h.cancel=function(){g&&clearTimeout(g),g=null},h.isPending=function(){return g},h},r.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},r.skipEmptyMatch=function(m,u,g){return g&&m.codePointAt(u)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,r,s){r.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},r.getOS=function(){return r.isMac?r.OS.MAC:r.isLinux?r.OS.LINUX:r.OS.WINDOWS};var o=typeof navigator=="object"?navigator:{},c=(/mac|win|linux/i.exec(o.platform)||["other"])[0].toLowerCase(),m=o.userAgent||"",u=o.appName||"";r.isWin=c=="win",r.isMac=c=="mac",r.isLinux=c=="linux",r.isIE=u=="Microsoft Internet Explorer"||u.indexOf("MSAppHost")>=0?parseFloat((m.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((m.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),r.isOldIE=r.isIE&&r.isIE<9,r.isGecko=r.isMozilla=m.match(/ Gecko\/\d+/),r.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",r.isWebKit=parseFloat(m.split("WebKit/")[1])||void 0,r.isChrome=parseFloat(m.split(" Chrome/")[1])||void 0,r.isSafari=parseFloat(m.split(" Safari/")[1])&&!r.isChrome||void 0,r.isEdge=parseFloat(m.split(" Edge/")[1])||void 0,r.isAIR=m.indexOf("AdobeAIR")>=0,r.isAndroid=m.indexOf("Android")>=0,r.isChromeOS=m.indexOf(" CrOS ")>=0,r.isIOS=/iPad|iPhone|iPod/.test(m)&&!window.MSStream,r.isIOS&&(r.isMac=!0),r.isMobile=r.isIOS||r.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(t,r,s){var o=t("./useragent"),c="http://www.w3.org/1999/xhtml";r.buildDom=function d(f,p,v){if(typeof f=="string"&&f){var y=document.createTextNode(f);return p&&p.appendChild(y),y}if(!Array.isArray(f))return f&&f.appendChild&&p&&p.appendChild(f),f;if(typeof f[0]!="string"||!f[0]){for(var C=[],k=0;k<f.length;k++){var F=d(f[k],p,v);F&&C.push(F)}return C}var O=document.createElement(f[0]),L=f[1],E=1;L&&typeof L=="object"&&!Array.isArray(L)&&(E=2);for(var k=E;k<f.length;k++)d(f[k],O,v);return E==2&&Object.keys(L).forEach(function(_){var I=L[_];_==="class"?O.className=Array.isArray(I)?I.join(" "):I:typeof I=="function"||_=="value"||_[0]=="$"?O[_]=I:_==="ref"?v&&(v[I]=O):_==="style"?typeof I=="string"&&(O.style.cssText=I):I!=null&&O.setAttribute(_,I)}),p&&p.appendChild(O),O},r.getDocumentHead=function(d){return d||(d=document),d.head||d.getElementsByTagName("head")[0]||d.documentElement},r.createElement=function(d,f){return document.createElementNS?document.createElementNS(f||c,d):document.createElement(d)},r.removeChildren=function(d){d.innerHTML=""},r.createTextNode=function(d,f){var p=f?f.ownerDocument:document;return p.createTextNode(d)},r.createFragment=function(d){var f=d?d.ownerDocument:document;return f.createDocumentFragment()},r.hasCssClass=function(d,f){var p=(d.className+"").split(/\s+/g);return p.indexOf(f)!==-1},r.addCssClass=function(d,f){r.hasCssClass(d,f)||(d.className+=" "+f)},r.removeCssClass=function(d,f){for(var p=d.className.split(/\s+/g);;){var v=p.indexOf(f);if(v==-1)break;p.splice(v,1)}d.className=p.join(" ")},r.toggleCssClass=function(d,f){for(var p=d.className.split(/\s+/g),v=!0;;){var y=p.indexOf(f);if(y==-1)break;v=!1,p.splice(y,1)}return v&&p.push(f),d.className=p.join(" "),v},r.setCssClass=function(d,f,p){p?r.addCssClass(d,f):r.removeCssClass(d,f)},r.hasCssString=function(d,f){var p=0,v;if(f=f||document,v=f.querySelectorAll("style")){for(;p<v.length;)if(v[p++].id===d)return!0}},r.removeElementById=function(d,f){f=f||document,f.getElementById(d)&&f.getElementById(d).remove()};var m,u=[];r.useStrictCSP=function(d){m=d,d==!1?g():u||(u=[])};function g(){var d=u;u=null,d&&d.forEach(function(f){l(f[0],f[1])})}function l(d,f,p){if(!(typeof document>"u")){if(u){if(p)g();else if(p===!1)return u.push([d,f])}if(!m){var v=p;!p||!p.getRootNode?v=document:(v=p.getRootNode(),(!v||v==p)&&(v=document));var y=v.ownerDocument||v;if(f&&r.hasCssString(f,v))return null;f&&(d+=`
/*# sourceURL=ace/css/`+f+" */");var C=r.createElement("style");C.appendChild(y.createTextNode(d)),f&&(C.id=f),v==y&&(v=r.getDocumentHead(y)),v.insertBefore(C,v.firstChild)}}}if(r.importCssString=l,r.importCssStylsheet=function(d,f){r.buildDom(["link",{rel:"stylesheet",href:d}],r.getDocumentHead(f))},r.scrollbarWidth=function(d){var f=r.createElement("ace_inner");f.style.width="100%",f.style.minWidth="0px",f.style.height="200px",f.style.display="block";var p=r.createElement("ace_outer"),v=p.style;v.position="absolute",v.left="-10000px",v.overflow="hidden",v.width="200px",v.minWidth="0px",v.height="150px",v.display="block",p.appendChild(f);var y=d&&d.documentElement||document&&document.documentElement;if(!y)return 0;y.appendChild(p);var C=f.offsetWidth;v.overflow="scroll";var k=f.offsetWidth;return C===k&&(k=p.clientWidth),y.removeChild(p),C-k},r.computedStyle=function(d,f){return window.getComputedStyle(d,"")||{}},r.setStyle=function(d,f,p){d[f]!==p&&(d[f]=p)},r.HAS_CSS_ANIMATION=!1,r.HAS_CSS_TRANSFORMS=!1,r.HI_DPI=o.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,o.isChromeOS&&(r.HI_DPI=!1),typeof document<"u"){var h=document.createElement("div");r.HI_DPI&&h.style.transform!==void 0&&(r.HAS_CSS_TRANSFORMS=!0),!o.isEdge&&typeof h.style.animationName<"u"&&(r.HAS_CSS_ANIMATION=!0),h=null}r.HAS_CSS_TRANSFORMS?r.translate=function(d,f,p){d.style.transform="translate("+Math.round(f)+"px, "+Math.round(p)+"px)"}:r.translate=function(d,f,p){d.style.top=Math.round(p)+"px",d.style.left=Math.round(f)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,r,s){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var o=t("./dom");r.get=function(c,m){var u=new XMLHttpRequest;u.open("GET",c,!0),u.onreadystatechange=function(){u.readyState===4&&m(u.responseText)},u.send(null)},r.loadScript=function(c,m){var u=o.getDocumentHead(),g=document.createElement("script");g.src=c,u.appendChild(g),g.onload=g.onreadystatechange=function(l,h){(h||!g.readyState||g.readyState=="loaded"||g.readyState=="complete")&&(g=g.onload=g.onreadystatechange=null,h||m())}},r.qualifyURL=function(c){var m=document.createElement("a");return m.href=c,m.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(t,r,s){r.inherits=function(o,c){o.super_=c,o.prototype=Object.create(c.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})},r.mixin=function(o,c){for(var m in c)o[m]=c[m];return o},r.implement=function(o,c){r.mixin(o,c)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,r,s){var o={},c=function(){this.propagationStopped=!0},m=function(){this.defaultPrevented=!0};o._emit=o._dispatchEvent=function(u,g){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var l=this._eventRegistry[u]||[],h=this._defaultHandlers[u];if(!(!l.length&&!h)){(typeof g!="object"||!g)&&(g={}),g.type||(g.type=u),g.stopPropagation||(g.stopPropagation=c),g.preventDefault||(g.preventDefault=m),l=l.slice();for(var d=0;d<l.length&&(l[d](g,this),!g.propagationStopped);d++);if(h&&!g.defaultPrevented)return h(g,this)}},o._signal=function(u,g){var l=(this._eventRegistry||{})[u];if(l){l=l.slice();for(var h=0;h<l.length;h++)l[h](g,this)}},o.once=function(u,g){var l=this;if(this.on(u,function h(){l.off(u,h),g.apply(null,arguments)}),!g)return new Promise(function(h){g=h})},o.setDefaultHandler=function(u,g){var l=this._defaultHandlers;if(l||(l=this._defaultHandlers={_disabled_:{}}),l[u]){var h=l[u],d=l._disabled_[u];d||(l._disabled_[u]=d=[]),d.push(h);var f=d.indexOf(g);f!=-1&&d.splice(f,1)}l[u]=g},o.removeDefaultHandler=function(u,g){var l=this._defaultHandlers;if(l){var h=l._disabled_[u];if(l[u]==g)h&&this.setDefaultHandler(u,h.pop());else if(h){var d=h.indexOf(g);d!=-1&&h.splice(d,1)}}},o.on=o.addEventListener=function(u,g,l){this._eventRegistry=this._eventRegistry||{};var h=this._eventRegistry[u];return h||(h=this._eventRegistry[u]=[]),h.indexOf(g)==-1&&h[l?"unshift":"push"](g),g},o.off=o.removeListener=o.removeEventListener=function(u,g){this._eventRegistry=this._eventRegistry||{};var l=this._eventRegistry[u];if(l){var h=l.indexOf(g);h!==-1&&l.splice(h,1)}},o.removeAllListeners=function(u){u||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[u]=void 0),this._defaultHandlers&&(this._defaultHandlers[u]=void 0)},r.EventEmitter=o}),ace.define("ace/lib/report_error",["require","exports","module"],function(t,r,s){r.reportError=function(c,m){var u=new Error(c);u.data=m,typeof console=="object"&&console.error&&console.error(u),setTimeout(function(){throw u})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(t,r,s){var o={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"};r.defaultEnglishMessages=o}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(t,r,s){"no use strict";var o=t("./oop"),c=t("./event_emitter").EventEmitter,m=t("./report_error").reportError,u=t("./default_english_messages").defaultEnglishMessages,g={setOptions:function(p){Object.keys(p).forEach(function(v){this.setOption(v,p[v])},this)},getOptions:function(p){var v={};if(p)Array.isArray(p)||(v=p,p=Object.keys(v));else{var y=this.$options;p=Object.keys(y).filter(function(C){return!y[C].hidden})}return p.forEach(function(C){v[C]=this.getOption(C)},this),v},setOption:function(p,v){if(this["$"+p]!==v){var y=this.$options[p];if(!y)return l('misspelled option "'+p+'"');if(y.forwardTo)return this[y.forwardTo]&&this[y.forwardTo].setOption(p,v);y.handlesSet||(this["$"+p]=v),y&&y.set&&y.set.call(this,v)}},getOption:function(p){var v=this.$options[p];return v?v.forwardTo?this[v.forwardTo]&&this[v.forwardTo].getOption(p):v&&v.get?v.get.call(this):this["$"+p]:l('misspelled option "'+p+'"')}};function l(p){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var h,d,f=function(){function p(){this.$defaultOptions={},h=u,d="dollarSigns"}return p.prototype.defineOptions=function(v,y,C){return v.$options||(this.$defaultOptions[y]=v.$options={}),Object.keys(C).forEach(function(k){var F=C[k];typeof F=="string"&&(F={forwardTo:F}),F.name||(F.name=k),v.$options[F.name]=F,"initialValue"in F&&(v["$"+F.name]=F.initialValue)}),o.implement(v,g),this},p.prototype.resetOptions=function(v){Object.keys(v.$options).forEach(function(y){var C=v.$options[y];"value"in C&&v.setOption(y,C.value)})},p.prototype.setDefaultValue=function(v,y,C){if(!v){for(v in this.$defaultOptions)if(this.$defaultOptions[v][y])break;if(!this.$defaultOptions[v][y])return!1}var k=this.$defaultOptions[v]||(this.$defaultOptions[v]={});k[y]&&(k.forwardTo?this.setDefaultValue(k.forwardTo,y,C):k[y].value=C)},p.prototype.setDefaultValues=function(v,y){Object.keys(y).forEach(function(C){this.setDefaultValue(v,C,y[C])},this)},p.prototype.setMessages=function(v,y){h=v,y&&y.placeholders&&(d=y.placeholders)},p.prototype.nls=function(v,y,C){h[v]||(l("No message found for the key '"+v+"' in messages with id "+h.$id+", trying to find a translation for the default string '"+y+"'."),h[y]||l("No message found for the default string '"+y+"' in the provided messages. Falling back to the default English message."));var k=h[v]||h[y]||y;return C&&(d==="dollarSigns"&&(k=k.replace(/\$(\$|[\d]+)/g,function(F,O){return O=="$"?"$":C[O]})),d==="curlyBrackets"&&(k=k.replace(/\{([^\}]+)\}/g,function(F,O){return C[O]}))),k},p}();f.prototype.warn=l,f.prototype.reportError=m,o.implement(f.prototype,c),r.AppConfig=f}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(t,r,s){s.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(t,r,s){r.isDark=!1,r.cssClass="ace-tm",r.cssText=t("./textmate-css"),r.$id="ace/theme/textmate";var o=t("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(t,r,s){"no use strict";var o=t("./lib/lang"),c=t("./lib/net"),m=t("./lib/dom"),u=t("./lib/app_config").AppConfig;s.exports=r=new u;var g={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};r.get=function(f){if(!g.hasOwnProperty(f))throw new Error("Unknown config key: "+f);return g[f]},r.set=function(f,p){if(g.hasOwnProperty(f))g[f]=p;else if(this.setDefaultValue("",f,p)==!1)throw new Error("Unknown config key: "+f);f=="useStrictCSP"&&m.useStrictCSP(p)},r.all=function(){return o.copyObject(g)},r.$modes={},r.moduleUrl=function(f,p){if(g.$moduleUrls[f])return g.$moduleUrls[f];var v=f.split("/");p=p||v[v.length-2]||"";var y=p=="snippets"?"/":"-",C=v[v.length-1];if(p=="worker"&&y=="-"){var k=new RegExp("^"+p+"[\\-_]|[\\-_]"+p+"$","g");C=C.replace(k,"")}(!C||C==p)&&v.length>1&&(C=v[v.length-2]);var F=g[p+"Path"];return F==null?F=g.basePath:y=="/"&&(p=y=""),F&&F.slice(-1)!="/"&&(F+="/"),F+p+y+C+this.get("suffix")},r.setModuleUrl=function(f,p){return g.$moduleUrls[f]=p};var l=function(f,p){if(f==="ace/theme/textmate"||f==="./theme/textmate")return p(null,t("./theme/textmate"));if(h)return h(f,p);console.error("loader is not configured")},h;r.setLoader=function(f){h=f},r.dynamicModules=Object.create(null),r.$loading={},r.$loaded={},r.loadModule=function(f,p){var v;if(Array.isArray(f))var y=f[0],C=f[1];else if(typeof f=="string")var C=f;var k=function(F){if(F&&!r.$loading[C])return p&&p(F);if(r.$loading[C]||(r.$loading[C]=[]),r.$loading[C].push(p),!(r.$loading[C].length>1)){var O=function(){l(C,function(L,E){E&&(r.$loaded[C]=E),r._emit("load.module",{name:C,module:E});var _=r.$loading[C];r.$loading[C]=null,_.forEach(function(I){I&&I(E)})})};if(!r.get("packaged"))return O();c.loadScript(r.moduleUrl(C,y),O),d()}};if(r.dynamicModules[C])r.dynamicModules[C]().then(function(F){F.default?k(F.default):k(F)});else{try{v=this.$require(C)}catch{}k(v||r.$loaded[C])}},r.$require=function(f){if(typeof s.require=="function"){var p="require";return s[p](f)}},r.setModuleLoader=function(f,p){r.dynamicModules[f]=p};var d=function(){!g.basePath&&!g.workerPath&&!g.modePath&&!g.themePath&&!Object.keys(g.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),d=function(){})};r.version="1.37.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(t,r,s){t("./lib/fixoldbrowsers");var o=t("./config");o.setLoader(function(g,l){t([g],function(h){l(null,h)})});var c=function(){return this||typeof window<"u"&&window}();s.exports=function(g){o.init=m,o.$require=t,g.require=t},m(!0);function m(g){if(!(!c||!c.document)){o.set("packaged",g||t.packaged||s.packaged||c.define&&(void 0).packaged);var l={},h="",d=document.currentScript||document._currentScript,f=d&&d.ownerDocument||document;d&&d.src&&(h=d.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var p=f.getElementsByTagName("script"),v=0;v<p.length;v++){var y=p[v],C=y.src||y.getAttribute("src");if(C){for(var k=y.attributes,F=0,O=k.length;F<O;F++){var L=k[F];L.name.indexOf("data-ace-")===0&&(l[u(L.name.replace(/^data-ace-/,""))]=L.value)}var E=C.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);E&&(h=E[1])}}h&&(l.base=l.base||h,l.packaged=!0),l.basePath=l.base,l.workerPath=l.workerPath||l.base,l.modePath=l.modePath||l.base,l.themePath=l.themePath||l.base,delete l.base;for(var _ in l)typeof l[_]<"u"&&o.set(_,l[_])}}function u(g){return g.replace(/-(.)/g,function(l,h){return h.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(t,r,s){var o=function(){function c(m,u,g,l){this.start={row:m,column:u},this.end={row:g,column:l}}return c.prototype.isEqual=function(m){return this.start.row===m.start.row&&this.end.row===m.end.row&&this.start.column===m.start.column&&this.end.column===m.end.column},c.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},c.prototype.contains=function(m,u){return this.compare(m,u)==0},c.prototype.compareRange=function(m){var u,g=m.end,l=m.start;return u=this.compare(g.row,g.column),u==1?(u=this.compare(l.row,l.column),u==1?2:u==0?1:0):u==-1?-2:(u=this.compare(l.row,l.column),u==-1?-1:u==1?42:0)},c.prototype.comparePoint=function(m){return this.compare(m.row,m.column)},c.prototype.containsRange=function(m){return this.comparePoint(m.start)==0&&this.comparePoint(m.end)==0},c.prototype.intersects=function(m){var u=this.compareRange(m);return u==-1||u==0||u==1},c.prototype.isEnd=function(m,u){return this.end.row==m&&this.end.column==u},c.prototype.isStart=function(m,u){return this.start.row==m&&this.start.column==u},c.prototype.setStart=function(m,u){typeof m=="object"?(this.start.column=m.column,this.start.row=m.row):(this.start.row=m,this.start.column=u)},c.prototype.setEnd=function(m,u){typeof m=="object"?(this.end.column=m.column,this.end.row=m.row):(this.end.row=m,this.end.column=u)},c.prototype.inside=function(m,u){return this.compare(m,u)==0?!(this.isEnd(m,u)||this.isStart(m,u)):!1},c.prototype.insideStart=function(m,u){return this.compare(m,u)==0?!this.isEnd(m,u):!1},c.prototype.insideEnd=function(m,u){return this.compare(m,u)==0?!this.isStart(m,u):!1},c.prototype.compare=function(m,u){return!this.isMultiLine()&&m===this.start.row?u<this.start.column?-1:u>this.end.column?1:0:m<this.start.row?-1:m>this.end.row?1:this.start.row===m?u>=this.start.column?0:-1:this.end.row===m?u<=this.end.column?0:1:0},c.prototype.compareStart=function(m,u){return this.start.row==m&&this.start.column==u?-1:this.compare(m,u)},c.prototype.compareEnd=function(m,u){return this.end.row==m&&this.end.column==u?1:this.compare(m,u)},c.prototype.compareInside=function(m,u){return this.end.row==m&&this.end.column==u?1:this.start.row==m&&this.start.column==u?-1:this.compare(m,u)},c.prototype.clipRows=function(m,u){if(this.end.row>u)var g={row:u+1,column:0};else if(this.end.row<m)var g={row:m,column:0};if(this.start.row>u)var l={row:u+1,column:0};else if(this.start.row<m)var l={row:m,column:0};return c.fromPoints(l||this.start,g||this.end)},c.prototype.extend=function(m,u){var g=this.compare(m,u);if(g==0)return this;if(g==-1)var l={row:m,column:u};else var h={row:m,column:u};return c.fromPoints(l||this.start,h||this.end)},c.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},c.prototype.isMultiLine=function(){return this.start.row!==this.end.row},c.prototype.clone=function(){return c.fromPoints(this.start,this.end)},c.prototype.collapseRows=function(){return this.end.column==0?new c(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new c(this.start.row,0,this.end.row,0)},c.prototype.toScreenRange=function(m){var u=m.documentToScreenPosition(this.start),g=m.documentToScreenPosition(this.end);return new c(u.row,u.column,g.row,g.column)},c.prototype.moveBy=function(m,u){this.start.row+=m,this.start.column+=u,this.end.row+=m,this.end.column+=u},c}();o.fromPoints=function(c,m){return new o(c.row,c.column,m.row,m.column)},o.comparePoints=function(c,m){return c.row-m.row||c.column-m.column},r.Range=o}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(t,r,s){for(var o=t("./oop"),c={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},m={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},u=0;u<10;u++)m["Digit"+u]=48+u,m["Numpad"+u]=96+u,c.PRINTABLE_KEYS[48+u]=""+u,c.FUNCTION_KEYS[96+u]="Numpad"+u;for(var u=65;u<91;u++){var g=String.fromCharCode(u+32);m["Key"+g.toUpperCase()]=u,c.PRINTABLE_KEYS[u]=g}for(var u=1;u<13;u++)m["F"+u]=111+u,c.FUNCTION_KEYS[111+u]="F"+u;var l={Shift:16,Control:17,Alt:18,Meta:224};for(var h in l)m[h]=m[h+"Left"]=m[h+"Right"]=l[h];r.$codeToKeyCode=m,c.PRINTABLE_KEYS[173]="-";for(var d in c.FUNCTION_KEYS){var f=c.FUNCTION_KEYS[d].toLowerCase();c[f]=parseInt(d,10)}for(var d in c.PRINTABLE_KEYS){var f=c.PRINTABLE_KEYS[d].toLowerCase();c[f]=parseInt(d,10)}o.mixin(c,c.MODIFIER_KEYS),o.mixin(c,c.PRINTABLE_KEYS),o.mixin(c,c.FUNCTION_KEYS),c.enter=c.return,c.escape=c.esc,c.del=c.delete,function(){for(var p=["cmd","ctrl","alt","shift"],v=Math.pow(2,p.length);v--;)c.KEY_MODS[v]=p.filter(function(y){return v&c.KEY_MODS[y]}).join("-")+"-"}(),c.KEY_MODS[0]="",c.KEY_MODS[-1]="input-",o.mixin(r,c),r.default=r,r.keyCodeToString=function(p){var v=c[p];return typeof v!="string"&&(v=String.fromCharCode(p)),v.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,r,s){var o=t("./keys"),c=t("./useragent"),m=null,u=0,g;function l(){g=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return g={passive:!1},!0}})}catch{}}function h(){return g==null&&l(),g}function d(F,O,L){this.elem=F,this.type=O,this.callback=L}d.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var f=r.addListener=function(F,O,L,E){F.addEventListener(O,L,h()),E&&E.$toDestroy.push(new d(F,O,L))},p=r.removeListener=function(F,O,L){F.removeEventListener(O,L,h())};r.stopEvent=function(F){return r.stopPropagation(F),r.preventDefault(F),!1},r.stopPropagation=function(F){F.stopPropagation&&F.stopPropagation()},r.preventDefault=function(F){F.preventDefault&&F.preventDefault()},r.getButton=function(F){return F.type=="dblclick"?0:F.type=="contextmenu"||c.isMac&&F.ctrlKey&&!F.altKey&&!F.shiftKey?2:F.button},r.capture=function(F,O,L){var E=F&&F.ownerDocument||document;function _(I){O&&O(I),L&&L(I),p(E,"mousemove",O),p(E,"mouseup",_),p(E,"dragstart",_)}return f(E,"mousemove",O),f(E,"mouseup",_),f(E,"dragstart",_),_},r.addMouseWheelListener=function(F,O,L){f(F,"wheel",function(E){var _=.15,I=E.deltaX||0,M=E.deltaY||0;switch(E.deltaMode){case E.DOM_DELTA_PIXEL:E.wheelX=I*_,E.wheelY=M*_;break;case E.DOM_DELTA_LINE:var $=15;E.wheelX=I*$,E.wheelY=M*$;break;case E.DOM_DELTA_PAGE:var B=150;E.wheelX=I*B,E.wheelY=M*B;break}O(E)},L)},r.addMultiMouseDownListener=function(F,O,L,E,_){var I=0,M,$,B,T={2:"dblclick",3:"tripleclick",4:"quadclick"};function b(P){if(r.getButton(P)!==0?I=0:P.detail>1?(I++,I>4&&(I=1)):I=1,c.isIE){var N=Math.abs(P.clientX-M)>5||Math.abs(P.clientY-$)>5;(!B||N)&&(I=1),B&&clearTimeout(B),B=setTimeout(function(){B=null},O[I-1]||600),I==1&&(M=P.clientX,$=P.clientY)}if(P._clicks=I,L[E]("mousedown",P),I>4)I=0;else if(I>1)return L[E](T[I],P)}Array.isArray(F)||(F=[F]),F.forEach(function(P){f(P,"mousedown",b,_)})};function v(F){return 0|(F.ctrlKey?1:0)|(F.altKey?2:0)|(F.shiftKey?4:0)|(F.metaKey?8:0)}r.getModifierString=function(F){return o.KEY_MODS[v(F)]};function y(F,O,L){var E=v(O);if(!L&&O.code&&(L=o.$codeToKeyCode[O.code]||L),!c.isMac&&m){if(O.getModifierState&&(O.getModifierState("OS")||O.getModifierState("Win"))&&(E|=8),m.altGr)if((3&E)!=3)m.altGr=0;else return;if(L===18||L===17){var _=O.location;if(L===17&&_===1)m[L]==1&&(u=O.timeStamp);else if(L===18&&E===3&&_===2){var I=O.timeStamp-u;I<50&&(m.altGr=!0)}}}if(L in o.MODIFIER_KEYS&&(L=-1),!(!E&&L===13&&O.location===3&&(F(O,E,-L),O.defaultPrevented))){if(c.isChromeOS&&E&8){if(F(O,E,L),O.defaultPrevented)return;E&=-9}return!E&&!(L in o.FUNCTION_KEYS)&&!(L in o.PRINTABLE_KEYS)?!1:F(O,E,L)}}r.addCommandKeyListener=function(F,O,L){var E=null;f(F,"keydown",function(_){m[_.keyCode]=(m[_.keyCode]||0)+1;var I=y(O,_,_.keyCode);return E=_.defaultPrevented,I},L),f(F,"keypress",function(_){E&&(_.ctrlKey||_.altKey||_.shiftKey||_.metaKey)&&(r.stopEvent(_),E=null)},L),f(F,"keyup",function(_){m[_.keyCode]=null},L),m||(C(),f(window,"focus",C))};function C(){m=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!c.isOldIE){var k=1;r.nextTick=function(F,O){O=O||window;var L="zero-timeout-message-"+k++,E=function(_){_.data==L&&(r.stopPropagation(_),p(O,"message",E),F())};f(O,"message",E),O.postMessage(L,"*")}}r.$idleBlocked=!1,r.onIdle=function(F,O){return setTimeout(function L(){r.$idleBlocked?setTimeout(L,100):F()},O)},r.$idleBlockId=null,r.blockIdle=function(F){r.$idleBlockId&&clearTimeout(r.$idleBlockId),r.$idleBlocked=!0,r.$idleBlockId=setTimeout(function(){r.$idleBlocked=!1},F||100)},r.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),r.nextFrame?r.nextFrame=r.nextFrame.bind(window):r.nextFrame=function(F){setTimeout(F,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(t,r,s){var o;s.exports={lineMode:!1,pasteCancelled:function(){return o&&o>Date.now()-50?!0:o=!1},cancel:function(){o=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(t,r,s){var o=t("../lib/event"),c=t("../config").nls,m=t("../lib/useragent"),u=t("../lib/dom"),g=t("../lib/lang"),l=t("../clipboard"),h=m.isChrome<18,d=m.isIE,f=m.isChrome>63,p=400,v=t("../lib/keys"),y=v.KEY_MODS,C=m.isIOS,k=C?/\s/:/\n/,F=m.isMobile,O;O=function(L,E){var _=u.createElement("textarea");_.className="ace_text-input",_.setAttribute("wrap","off"),_.setAttribute("autocorrect","off"),_.setAttribute("autocapitalize","off"),_.setAttribute("spellcheck","false"),_.style.opacity="0",L.insertBefore(_,L.firstChild);var I=!1,M=!1,$=!1,B=!1,T="";F||(_.style.fontSize="1px");var b=!1,P=!1,N="",z=0,q=0,K=0,J=Number.MAX_SAFE_INTEGER,Q=Number.MIN_SAFE_INTEGER,U=0;try{var re=document.activeElement===_}catch{}this.setNumberOfExtraLines=function(be){if(J=Number.MAX_SAFE_INTEGER,Q=Number.MIN_SAFE_INTEGER,be<0){U=0;return}U=be},this.setAriaLabel=function(){var be="";if(E.$textInputAriaLabel&&(be+="".concat(E.$textInputAriaLabel,", ")),E.session){var ze=E.session.selection.cursor.row;be+=c("text-input.aria-label","Cursor at row $0",[ze+1])}_.setAttribute("aria-label",be)},this.setAriaOptions=function(be){be.activeDescendant?(_.setAttribute("aria-haspopup","true"),_.setAttribute("aria-autocomplete",be.inline?"both":"list"),_.setAttribute("aria-activedescendant",be.activeDescendant)):(_.setAttribute("aria-haspopup","false"),_.setAttribute("aria-autocomplete","both"),_.removeAttribute("aria-activedescendant")),be.role&&_.setAttribute("role",be.role),be.setLabel&&(_.setAttribute("aria-roledescription",c("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),o.addListener(_,"blur",function(be){P||(E.onBlur(be),re=!1)},E),o.addListener(_,"focus",function(be){if(!P){if(re=!0,m.isEdge)try{if(!document.hasFocus())return}catch{}E.onFocus(be),m.isEdge?setTimeout(ue):ue()}},E),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:E.renderer.enableKeyboardAccessibility}),T||f||this.$focusScroll=="browser")return _.focus({preventScroll:!0});var be=_.style.top;_.style.position="fixed",_.style.top="0px";try{var ze=_.getBoundingClientRect().top!=0}catch{return}var Ke=[];if(ze)for(var ft=_.parentElement;ft&&ft.nodeType==1;)Ke.push(ft),ft.setAttribute("ace_nocontext","true"),!ft.parentElement&&ft.getRootNode?ft=ft.getRootNode().host:ft=ft.parentElement;_.focus({preventScroll:!0}),ze&&Ke.forEach(function(lt){lt.removeAttribute("ace_nocontext")}),setTimeout(function(){_.style.position="",_.style.top=="0px"&&(_.style.top=be)},0)},this.blur=function(){_.blur()},this.isFocused=function(){return re},E.on("beforeEndOperation",function(){var be=E.curOp,ze=be&&be.command&&be.command.name;if(ze!="insertstring"){var Ke=ze&&(be.docChanged||be.selectionChanged);$&&Ke&&(N=_.value="",Ht()),ue()}}),E.on("changeSelection",this.setAriaLabel);var Z=function(be,ze){for(var Ke=ze,ft=1;ft<=be-J&&ft<2*U+1;ft++)Ke+=E.session.getLine(be-ft).length+1;return Ke},ue=C?function(be){if(!(!re||I&&!be||B)){be||(be="");var ze=`
 ab`+be+`cde fg
`;ze!=_.value&&(_.value=N=ze);var Ke=4,ft=4+(be.length||(E.selection.isEmpty()?0:1));(z!=Ke||q!=ft)&&_.setSelectionRange(Ke,ft),z=Ke,q=ft}}:function(){if(!($||B)&&!(!re&&!Ee)){$=!0;var be=0,ze=0,Ke="";if(E.session){var ft=E.selection,lt=ft.getRange(),kt=ft.cursor.row;kt===Q+1?(J=Q+1,Q=J+2*U):kt===J-1?(Q=J-1,J=Q-2*U):(kt<J-1||kt>Q+1)&&(J=kt>U?kt-U:0,Q=kt>U?kt+U:2*U);for(var Lt=[],Ft=J;Ft<=Q;Ft++)Lt.push(E.session.getLine(Ft));if(Ke=Lt.join(`
`),be=Z(lt.start.row,lt.start.column),ze=Z(lt.end.row,lt.end.column),lt.start.row<J){var $t=E.session.getLine(J-1);be=lt.start.row<J-1?0:be,ze+=$t.length+1,Ke=$t+`
`+Ke}else if(lt.end.row>Q){var _t=E.session.getLine(Q+1);ze=lt.end.row>Q+1?_t.length:lt.end.column,ze+=Ke.length+1,Ke=Ke+`
`+_t}else F&&kt>0&&(Ke=`
`+Ke,ze+=1,be+=1);Ke.length>p&&(be<p&&ze<p?Ke=Ke.slice(0,p):(Ke=`
`,be==ze?be=ze=0:(be=0,ze=1)));var ln=Ke+`

`;ln!=N&&(_.value=N=ln,z=q=ln.length)}if(Ee&&(z=_.selectionStart,q=_.selectionEnd),q!=ze||z!=be||_.selectionEnd!=q)try{_.setSelectionRange(be,ze),z=be,q=ze}catch{}$=!1}};this.resetSelection=ue,re&&E.onFocus();var ce=function(be){return be.selectionStart===0&&be.selectionEnd>=N.length&&be.value===N&&N&&be.selectionEnd!==q},oe=function(be){$||(I?I=!1:ce(_)?(E.selectAll(),ue()):F&&_.selectionStart!=z&&ue())},pe=null;this.setInputHandler=function(be){pe=be},this.getInputHandler=function(){return pe};var Ee=!1,me=function(be,ze){if(Ee&&(Ee=!1),M)return ue(),be&&E.onPaste(be),M=!1,"";for(var Ke=_.selectionStart,ft=_.selectionEnd,lt=z,kt=N.length-q,Lt=be,Ft=be.length-Ke,$t=be.length-ft,_t=0;lt>0&&N[_t]==be[_t];)_t++,lt--;for(Lt=Lt.slice(_t),_t=1;kt>0&&N.length-_t>z-1&&N[N.length-_t]==be[be.length-_t];)_t++,kt--;Ft-=_t-1,$t-=_t-1;var ln=Lt.length-_t+1;if(ln<0&&(lt=-ln,ln=0),Lt=Lt.slice(0,ln),!ze&&!Lt&&!Ft&&!lt&&!kt&&!$t)return"";B=!0;var Ce=!1;return m.isAndroid&&Lt==". "&&(Lt="  ",Ce=!0),Lt&&!lt&&!kt&&!Ft&&!$t||b?E.onTextInput(Lt):E.onTextInput(Lt,{extendLeft:lt,extendRight:kt,restoreStart:Ft,restoreEnd:$t}),B=!1,N=be,z=Ke,q=ft,K=$t,Ce?`
`:Lt},Ae=function(be){if($)return Ot();if(be&&be.inputType){if(be.inputType=="historyUndo")return E.execCommand("undo");if(be.inputType=="historyRedo")return E.execCommand("redo")}var ze=_.value,Ke=me(ze,!0);(ze.length>p+100||k.test(Ke)||F&&z<1&&z==q)&&ue()},$e=function(be,ze,Ke){var ft=be.clipboardData||window.clipboardData;if(!(!ft||h)){var lt=d||Ke?"Text":"text/plain";try{return ze?ft.setData(lt,ze)!==!1:ft.getData(lt)}catch(kt){if(!Ke)return $e(kt,ze,!0)}}},Qe=function(be,ze){var Ke=E.getCopyText();if(!Ke)return o.preventDefault(be);$e(be,Ke)?(C&&(ue(Ke),I=Ke,setTimeout(function(){I=!1},10)),ze?E.onCut():E.onCopy(),o.preventDefault(be)):(I=!0,_.value=Ke,_.select(),setTimeout(function(){I=!1,ue(),ze?E.onCut():E.onCopy()}))},ut=function(be){Qe(be,!0)},qe=function(be){Qe(be,!1)},Ge=function(be){var ze=$e(be);l.pasteCancelled()||(typeof ze=="string"?(ze&&E.onPaste(ze,be),m.isIE&&setTimeout(ue),o.preventDefault(be)):(_.value="",M=!0))};o.addCommandKeyListener(_,function(be,ze,Ke){if(!$)return E.onCommandKey(be,ze,Ke)},E),o.addListener(_,"select",oe,E),o.addListener(_,"input",Ae,E),o.addListener(_,"cut",ut,E),o.addListener(_,"copy",qe,E),o.addListener(_,"paste",Ge,E),(!("oncut"in _)||!("oncopy"in _)||!("onpaste"in _))&&o.addListener(L,"keydown",function(be){if(!(m.isMac&&!be.metaKey||!be.ctrlKey))switch(be.keyCode){case 67:qe(be);break;case 86:Ge(be);break;case 88:ut(be);break}},E);var yt=function(be){if(!($||!E.onCompositionStart||E.$readOnly)&&($={},!b)){be.data&&($.useTextareaForIME=!1),setTimeout(Ot,0),E._signal("compositionStart"),E.on("mousedown",pn);var ze=E.getSelectionRange();ze.end.row=ze.start.row,ze.end.column=ze.start.column,$.markerRange=ze,$.selectionStart=z,E.onCompositionStart($),$.useTextareaForIME?(N=_.value="",z=0,q=0):(_.msGetInputContext&&($.context=_.msGetInputContext()),_.getInputContext&&($.context=_.getInputContext()))}},Ot=function(){if(!(!$||!E.onCompositionUpdate||E.$readOnly)){if(b)return pn();if($.useTextareaForIME)E.onCompositionUpdate(_.value);else{var be=_.value;me(be),$.markerRange&&($.context&&($.markerRange.start.column=$.selectionStart=$.context.compositionStartOffset),$.markerRange.end.column=$.markerRange.start.column+q-$.selectionStart+K)}}},Ht=function(be){!E.onCompositionEnd||E.$readOnly||($=!1,E.onCompositionEnd(),E.off("mousedown",pn),be&&Ae())};function pn(){P=!0,_.blur(),_.focus(),P=!1}var Nt=g.delayedCall(Ot,50).schedule.bind(null,null);function wn(be){be.keyCode==27&&_.value.length<_.selectionStart&&($||(N=_.value),z=q=-1,ue()),Nt()}o.addListener(_,"compositionstart",yt,E),o.addListener(_,"compositionupdate",Ot,E),o.addListener(_,"keyup",wn,E),o.addListener(_,"keydown",Nt,E),o.addListener(_,"compositionend",Ht,E),this.getElement=function(){return _},this.setCommandMode=function(be){b=be,_.readOnly=!1},this.setReadOnly=function(be){b||(_.readOnly=be)},this.setCopyWithEmptySelection=function(be){},this.onContextMenu=function(be){Ee=!0,ue(),E._emit("nativecontextmenu",{target:E,domEvent:be}),this.moveToMouse(be,!0)},this.moveToMouse=function(be,ze){T||(T=_.style.cssText),_.style.cssText=(ze?"z-index:100000;":"")+(m.isIE?"opacity:0.1;":"")+"text-indent: -"+(z+q)*E.renderer.characterWidth*.5+"px;";var Ke=E.container.getBoundingClientRect(),ft=u.computedStyle(E.container),lt=Ke.top+(parseInt(ft.borderTopWidth)||0),kt=Ke.left+(parseInt(Ke.borderLeftWidth)||0),Lt=Ke.bottom-lt-_.clientHeight-2,Ft=function($t){u.translate(_,$t.clientX-kt-2,Math.min($t.clientY-lt-2,Lt))};Ft(be),be.type=="mousedown"&&(E.renderer.$isMousePressed=!0,clearTimeout(Wn),m.isWin&&o.capture(E.container,Ft,Pn))},this.onContextMenuClose=Pn;var Wn;function Pn(){clearTimeout(Wn),Wn=setTimeout(function(){T&&(_.style.cssText=T,T=""),E.renderer.$isMousePressed=!1,E.renderer.$keepTextAreaAtCursor&&E.renderer.$moveTextAreaToCursor()},0)}var bn=function(be){E.textInput.onContextMenu(be),Pn()};o.addListener(_,"mouseup",bn,E),o.addListener(_,"mousedown",function(be){be.preventDefault(),Pn()},E),o.addListener(E.renderer.scroller,"contextmenu",bn,E),o.addListener(_,"contextmenu",bn,E),C&&ur(L,E,_);function ur(be,ze,Ke){var ft=null,lt=!1;Ke.addEventListener("keydown",function(Lt){ft&&clearTimeout(ft),lt=!0},!0),Ke.addEventListener("keyup",function(Lt){ft=setTimeout(function(){lt=!1},100)},!0);var kt=function(Lt){if(document.activeElement===Ke&&!(lt||$||ze.$mouseHandler.isMousePressed)&&!I){var Ft=Ke.selectionStart,$t=Ke.selectionEnd,_t=null,ln=0;if(Ft==0?_t=v.up:Ft==1?_t=v.home:$t>q&&N[$t]==`
`?_t=v.end:Ft<z&&N[Ft-1]==" "?(_t=v.left,ln=y.option):Ft<z||Ft==z&&q!=z&&Ft==$t?_t=v.left:$t>q&&N.slice(0,$t).split(`
`).length>2?_t=v.down:$t>q&&N[$t-1]==" "?(_t=v.right,ln=y.option):($t>q||$t==q&&q!=z&&Ft==$t)&&(_t=v.right),Ft!==$t&&(ln|=y.shift),_t){var Ce=ze.onCommandKey({},ln,_t);if(!Ce&&ze.commands){_t=v.keyCodeToString(_t);var De=ze.commands.findKeyCommand(ln,_t);De&&ze.execCommand(De)}z=Ft,q=$t,ue("")}}};document.addEventListener("selectionchange",kt),ze.on("destroy",function(){document.removeEventListener("selectionchange",kt)})}this.destroy=function(){_.parentElement&&_.parentElement.removeChild(_)}},r.TextInput=O,r.$setUserAgentForTests=function(L,E){F=L,C=E}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(t,r,s){var o=t("../lib/useragent"),c=0,m=550,u=function(){function h(d){d.$clickSelection=null;var f=d.editor;f.setDefaultHandler("mousedown",this.onMouseDown.bind(d)),f.setDefaultHandler("dblclick",this.onDoubleClick.bind(d)),f.setDefaultHandler("tripleclick",this.onTripleClick.bind(d)),f.setDefaultHandler("quadclick",this.onQuadClick.bind(d)),f.setDefaultHandler("mousewheel",this.onMouseWheel.bind(d));var p=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];p.forEach(function(v){d[v]=this[v]},this),d.selectByLines=this.extendSelectionBy.bind(d,"getLineRange"),d.selectByWords=this.extendSelectionBy.bind(d,"getWordRange")}return h.prototype.onMouseDown=function(d){var f=d.inSelection(),p=d.getDocumentPosition();this.mousedownEvent=d;var v=this.editor,y=d.getButton();if(y!==0){var C=v.getSelectionRange(),k=C.isEmpty();(k||y==1)&&v.selection.moveToPosition(p),y==2&&(v.textInput.onContextMenu(d.domEvent),o.isMozilla||d.preventDefault());return}if(this.mousedownEvent.time=Date.now(),f&&!v.isFocused()&&(v.focus(),this.$focusTimeout&&!this.$clickSelection&&!v.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(d);return}return this.captureMouse(d),this.startSelect(p,d.domEvent._clicks>1),d.preventDefault()},h.prototype.startSelect=function(d,f){d=d||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var p=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?p.selection.selectToPosition(d):f||p.selection.moveToPosition(d),f||this.select(),p.setStyle("ace_selecting"),this.setState("select"))},h.prototype.select=function(){var d,f=this.editor,p=f.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var v=this.$clickSelection.comparePoint(p);if(v==-1)d=this.$clickSelection.end;else if(v==1)d=this.$clickSelection.start;else{var y=l(this.$clickSelection,p);p=y.cursor,d=y.anchor}f.selection.setSelectionAnchor(d.row,d.column)}f.selection.selectToPosition(p),f.renderer.scrollCursorIntoView()},h.prototype.extendSelectionBy=function(d){var f,p=this.editor,v=p.renderer.screenToTextCoordinates(this.x,this.y),y=p.selection[d](v.row,v.column);if(this.$clickSelection){var C=this.$clickSelection.comparePoint(y.start),k=this.$clickSelection.comparePoint(y.end);if(C==-1&&k<=0)f=this.$clickSelection.end,(y.end.row!=v.row||y.end.column!=v.column)&&(v=y.start);else if(k==1&&C>=0)f=this.$clickSelection.start,(y.start.row!=v.row||y.start.column!=v.column)&&(v=y.end);else if(C==-1&&k==1)v=y.end,f=y.start;else{var F=l(this.$clickSelection,v);v=F.cursor,f=F.anchor}p.selection.setSelectionAnchor(f.row,f.column)}p.selection.selectToPosition(v),p.renderer.scrollCursorIntoView()},h.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},h.prototype.focusWait=function(){var d=g(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),f=Date.now();(d>c||f-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},h.prototype.onDoubleClick=function(d){var f=d.getDocumentPosition(),p=this.editor,v=p.session,y=v.getBracketRange(f);y?(y.isEmpty()&&(y.start.column--,y.end.column++),this.setState("select")):(y=p.selection.getWordRange(f.row,f.column),this.setState("selectByWords")),this.$clickSelection=y,this.select()},h.prototype.onTripleClick=function(d){var f=d.getDocumentPosition(),p=this.editor;this.setState("selectByLines");var v=p.getSelectionRange();v.isMultiLine()&&v.contains(f.row,f.column)?(this.$clickSelection=p.selection.getLineRange(v.start.row),this.$clickSelection.end=p.selection.getLineRange(v.end.row).end):this.$clickSelection=p.selection.getLineRange(f.row),this.select()},h.prototype.onQuadClick=function(d){var f=this.editor;f.selectAll(),this.$clickSelection=f.getSelectionRange(),this.setState("selectAll")},h.prototype.onMouseWheel=function(d){if(!d.getAccelKey()){d.getShiftKey()&&d.wheelY&&!d.wheelX&&(d.wheelX=d.wheelY,d.wheelY=0);var f=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var p=this.$lastScroll,v=d.domEvent.timeStamp,y=v-p.t,C=y?d.wheelX/y:p.vx,k=y?d.wheelY/y:p.vy;y<m&&(C=(C+p.vx)/2,k=(k+p.vy)/2);var F=Math.abs(C/k),O=!1;if(F>=1&&f.renderer.isScrollableBy(d.wheelX*d.speed,0)&&(O=!0),F<=1&&f.renderer.isScrollableBy(0,d.wheelY*d.speed)&&(O=!0),O)p.allowed=v;else if(v-p.allowed<m){var L=Math.abs(C)<=1.5*Math.abs(p.vx)&&Math.abs(k)<=1.5*Math.abs(p.vy);L?(O=!0,p.allowed=v):p.allowed=0}if(p.t=v,p.vx=C,p.vy=k,O)return f.renderer.scrollBy(d.wheelX*d.speed,d.wheelY*d.speed),d.stop()}},h}();u.prototype.selectEnd=u.prototype.selectByLinesEnd,u.prototype.selectAllEnd=u.prototype.selectByLinesEnd,u.prototype.selectByWordsEnd=u.prototype.selectByLinesEnd,r.DefaultHandlers=u;function g(h,d,f,p){return Math.sqrt(Math.pow(f-h,2)+Math.pow(p-d,2))}function l(h,d){if(h.start.row==h.end.row)var f=2*d.column-h.start.column-h.end.column;else if(h.start.row==h.end.row-1&&!h.start.column&&!h.end.column)var f=d.column-4;else var f=2*d.row-h.start.row-h.end.row;return f<0?{cursor:h.start,anchor:h.end}:{cursor:h.end,anchor:h.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(t,r,s){r.preventParentScroll=function(c){c.stopPropagation();var m=c.currentTarget,u=m.scrollHeight>m.clientHeight;u||c.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(t,r,s){var o=this&&this.__extends||function(){var v=function(y,C){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,F){k.__proto__=F}||function(k,F){for(var O in F)Object.prototype.hasOwnProperty.call(F,O)&&(k[O]=F[O])},v(y,C)};return function(y,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");v(y,C);function k(){this.constructor=y}y.prototype=C===null?Object.create(C):(k.prototype=C.prototype,new k)}}(),c=this&&this.__values||function(v){var y=typeof Symbol=="function"&&Symbol.iterator,C=y&&v[y],k=0;if(C)return C.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&k>=v.length&&(v=void 0),{value:v&&v[k++],done:!v}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},m=t("./lib/dom");t("./lib/event");var u=t("./range").Range,g=t("./lib/scroll").preventParentScroll,l="ace_tooltip",h=function(){function v(y){this.isOpen=!1,this.$element=null,this.$parentNode=y}return v.prototype.$init=function(){return this.$element=m.createElement("div"),this.$element.className=l,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},v.prototype.getElement=function(){return this.$element||this.$init()},v.prototype.setText=function(y){this.getElement().textContent=y},v.prototype.setHtml=function(y){this.getElement().innerHTML=y},v.prototype.setPosition=function(y,C){this.getElement().style.left=y+"px",this.getElement().style.top=C+"px"},v.prototype.setClassName=function(y){m.addCssClass(this.getElement(),y)},v.prototype.setTheme=function(y){this.$element.className=l+" "+(y.isDark?"ace_dark ":"")+(y.cssClass||"")},v.prototype.show=function(y,C,k){y!=null&&this.setText(y),C!=null&&k!=null&&this.setPosition(C,k),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},v.prototype.hide=function(y){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=l,this.isOpen=!1)},v.prototype.getHeight=function(){return this.getElement().offsetHeight},v.prototype.getWidth=function(){return this.getElement().offsetWidth},v.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},v}(),d=function(){function v(){this.popups=[]}return v.prototype.addPopup=function(y){this.popups.push(y),this.updatePopups()},v.prototype.removePopup=function(y){var C=this.popups.indexOf(y);C!==-1&&(this.popups.splice(C,1),this.updatePopups())},v.prototype.updatePopups=function(){var y,C,k,F;this.popups.sort(function(T,b){return b.priority-T.priority});var O=[];try{for(var L=c(this.popups),E=L.next();!E.done;E=L.next()){var _=E.value,I=!0;try{for(var M=(k=void 0,c(O)),$=M.next();!$.done;$=M.next()){var B=$.value;if(this.doPopupsOverlap(B,_)){I=!1;break}}}catch(T){k={error:T}}finally{try{$&&!$.done&&(F=M.return)&&F.call(M)}finally{if(k)throw k.error}}I?O.push(_):_.hide()}}catch(T){y={error:T}}finally{try{E&&!E.done&&(C=L.return)&&C.call(L)}finally{if(y)throw y.error}}},v.prototype.doPopupsOverlap=function(y,C){var k=y.getElement().getBoundingClientRect(),F=C.getElement().getBoundingClientRect();return k.left<F.right&&k.right>F.left&&k.top<F.bottom&&k.bottom>F.top},v}(),f=new d;r.popupManager=f,r.Tooltip=h;var p=function(v){o(y,v);function y(C){C===void 0&&(C=document.body);var k=v.call(this,C)||this;k.timeout=void 0,k.lastT=0,k.idleTime=350,k.lastEvent=void 0,k.onMouseOut=k.onMouseOut.bind(k),k.onMouseMove=k.onMouseMove.bind(k),k.waitForHover=k.waitForHover.bind(k),k.hide=k.hide.bind(k);var F=k.getElement();return F.style.whiteSpace="pre-wrap",F.style.pointerEvents="auto",F.addEventListener("mouseout",k.onMouseOut),F.tabIndex=-1,F.addEventListener("blur",(function(){F.contains(document.activeElement)||this.hide()}).bind(k)),F.addEventListener("wheel",g),k}return y.prototype.addToEditor=function(C){C.on("mousemove",this.onMouseMove),C.on("mousedown",this.hide),C.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},y.prototype.removeFromEditor=function(C){C.off("mousemove",this.onMouseMove),C.off("mousedown",this.hide),C.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},y.prototype.onMouseMove=function(C,k){this.lastEvent=C,this.lastT=Date.now();var F=k.$mouseHandler.isMousePressed;if(this.isOpen){var O=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(O.row,O.column)||F||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||F||(this.lastEvent=C,this.timeout=setTimeout(this.waitForHover,this.idleTime))},y.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var C=Date.now()-this.lastT;if(this.idleTime-C>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-C);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},y.prototype.isOutsideOfText=function(C){var k=C.editor,F=C.getDocumentPosition(),O=k.session.getLine(F.row);if(F.column==O.length){var L=k.renderer.pixelToScreenCoordinates(C.clientX,C.clientY),E=k.session.documentToScreenPosition(F.row,F.column);if(E.column!=L.column||E.row!=L.row)return!0}return!1},y.prototype.setDataProvider=function(C){this.$gatherData=C},y.prototype.showForRange=function(C,k,F,O){var L=10;if(!(O&&O!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var E=C.renderer;this.isOpen||(f.addPopup(this),this.$registerCloseEvents(),this.setTheme(E.theme)),this.isOpen=!0,this.addMarker(k,C.session),this.range=u.fromPoints(k.start,k.end);var _=E.textToScreenCoordinates(k.start.row,k.start.column),I=E.scroller.getBoundingClientRect();_.pageX<I.left&&(_.pageX=I.left);var M=this.getElement();M.innerHTML="",M.appendChild(F),M.style.maxHeight="",M.style.display="block";var $=M.clientHeight,B=M.clientWidth,T=window.innerHeight-_.pageY-E.lineHeight,b=!0;_.pageY-$<0&&_.pageY<T&&(b=!1),M.style.maxHeight=(b?_.pageY:T)-L+"px",M.style.top=b?"":_.pageY+E.lineHeight+"px",M.style.bottom=b?window.innerHeight-_.pageY+"px":"",M.style.left=Math.min(_.pageX,window.innerWidth-B-L)+"px"}},y.prototype.addMarker=function(C,k){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=k,this.marker=k&&k.addMarker(C,"ace_highlight-marker","text")},y.prototype.hide=function(C){!C&&document.activeElement==this.getElement()||C&&C.target&&(C.type!="keydown"||C.ctrlKey||C.metaKey)&&this.$element.contains(C.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,f.removePopup(this)))},y.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},y.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},y.prototype.onMouseOut=function(C){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!C.relatedTarget||this.getElement().contains(C.relatedTarget)||C&&C.currentTarget.contains(C.relatedTarget)||C.relatedTarget.classList.contains("ace_content")||this.hide())},y}(h);r.HoverTooltip=p}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(t,r,s){var o=this&&this.__extends||function(){var f=function(p,v){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var k in C)Object.prototype.hasOwnProperty.call(C,k)&&(y[k]=C[k])},f(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");f(p,v);function y(){this.constructor=p}p.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),c=this&&this.__values||function(f){var p=typeof Symbol=="function"&&Symbol.iterator,v=p&&f[p],y=0;if(v)return v.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&y>=f.length&&(f=void 0),{value:f&&f[y++],done:!f}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},m=t("../lib/dom"),u=t("../lib/event"),g=t("../tooltip").Tooltip,l=t("../config").nls;t("../lib/lang");function h(f){var p=f.editor,v=p.renderer.$gutterLayer,y=new d(p);f.editor.setDefaultHandler("guttermousedown",function(E){if(!(!p.isFocused()||E.getButton()!=0)){var _=v.getRegion(E);if(_!="foldWidgets"){var I=E.getDocumentPosition().row,M=p.session.selection;if(E.getShiftKey())M.selectTo(I,0);else{if(E.domEvent.detail==2)return p.selectAll(),E.preventDefault();f.$clickSelection=p.selection.getLineRange(I)}return f.setState("selectByLines"),f.captureMouse(E),E.preventDefault()}}});var C,k;function F(){var E=k.getDocumentPosition().row,_=p.session.getLength();if(E==_){var I=p.renderer.pixelToScreenCoordinates(0,k.y).row,M=k.$pos;if(I>p.session.documentToScreenRow(M.row,M.column))return O()}if(y.showTooltip(E),!!y.isOpen)if(p.on("mousewheel",O),f.$tooltipFollowsMouse)L(k);else{var $=k.getGutterRow(),B=v.$lines.get($);if(B){var T=B.element.querySelector(".ace_gutter_annotation"),b=T.getBoundingClientRect(),P=y.getElement().style;P.left=b.right+"px",P.top=b.bottom+"px"}else L(k)}}function O(){C&&(C=clearTimeout(C)),y.isOpen&&(y.hideTooltip(),p.off("mousewheel",O))}function L(E){y.setPosition(E.x,E.y)}f.editor.setDefaultHandler("guttermousemove",function(E){var _=E.domEvent.target||E.domEvent.srcElement;if(m.hasCssClass(_,"ace_fold-widget"))return O();y.isOpen&&f.$tooltipFollowsMouse&&L(E),k=E,!C&&(C=setTimeout(function(){C=null,k&&!f.isMousePressed?F():O()},50))}),u.addListener(p.renderer.$gutter,"mouseout",function(E){k=null,!(!y.isOpen||C)&&(C=setTimeout(function(){C=null,O()},50))},p),p.on("changeSession",O),p.on("input",O)}r.GutterHandler=h;var d=function(f){o(p,f);function p(v){var y=f.call(this,v.container)||this;return y.editor=v,y.visibleTooltipRow,y}return p.prototype.setPosition=function(v,y){var C=window.innerWidth||document.documentElement.clientWidth,k=window.innerHeight||document.documentElement.clientHeight,F=this.getWidth(),O=this.getHeight();v+=15,y+=15,v+F>C&&(v-=v+F-C),y+O>k&&(y-=20+O),g.prototype.setPosition.call(this,v,y)},Object.defineProperty(p,"annotationLabels",{get:function(){return{error:{singular:l("gutter-tooltip.aria-label.error.singular","error"),plural:l("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:l("gutter-tooltip.aria-label.security.singular","security finding"),plural:l("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:l("gutter-tooltip.aria-label.warning.singular","warning"),plural:l("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:l("gutter-tooltip.aria-label.info.singular","information message"),plural:l("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:l("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:l("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),p.prototype.showTooltip=function(v){var y,C=this.editor.renderer.$gutterLayer,k=C.$annotations[v],F;k?F={displayText:Array.from(k.displayText),type:Array.from(k.type)}:F={displayText:[],type:[]};var O=C.session.getFoldLine(v);if(O&&C.$showFoldedAnnotations){for(var L={error:[],security:[],warning:[],info:[],hint:[]},E={error:1,security:2,warning:3,info:4,hint:5},_,I=v+1;I<=O.end.row;I++)if(C.$annotations[I])for(var M=0;M<C.$annotations[I].text.length;M++){var $=C.$annotations[I].type[M];L[$].push(C.$annotations[I].text[M]),(!_||E[$]<E[_])&&(_=$)}if(["error","security","warning"].includes(_)){var B="".concat(p.annotationsToSummaryString(L)," in folded code.");F.displayText.push(B),F.type.push(_+"_fold")}}if(F.displayText.length===0)return this.hideTooltip();for(var T={error:[],security:[],warning:[],info:[],hint:[]},b=C.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",I=0;I<F.displayText.length;I++){var P=m.createElement("span"),N=m.createElement("span");(y=N.classList).add.apply(y,["ace_".concat(F.type[I]),b]),N.setAttribute("aria-label","".concat(p.annotationLabels[F.type[I].replace("_fold","")].singular)),N.setAttribute("role","img"),N.appendChild(m.createTextNode(" ")),P.appendChild(N),P.appendChild(m.createTextNode(F.displayText[I])),P.appendChild(m.createElement("br")),T[F.type[I].replace("_fold","")].push(P)}var z=this.getElement();m.removeChildren(z),T.error.forEach(function(q){return z.appendChild(q)}),T.security.forEach(function(q){return z.appendChild(q)}),T.warning.forEach(function(q){return z.appendChild(q)}),T.info.forEach(function(q){return z.appendChild(q)}),T.hint.forEach(function(q){return z.appendChild(q)}),z.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.visibleTooltipRow=v,this.editor._signal("showGutterTooltip",this)},p.prototype.hideTooltip=function(){this.isOpen&&(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this))},p.annotationsToSummaryString=function(v){var y,C,k=[],F=["error","security","warning","info","hint"];try{for(var O=c(F),L=O.next();!L.done;L=O.next()){var E=L.value;if(v[E].length){var _=v[E].length===1?p.annotationLabels[E].singular:p.annotationLabels[E].plural;k.push("".concat(v[E].length," ").concat(_))}}}catch(I){y={error:I}}finally{try{L&&!L.done&&(C=O.return)&&C.call(O)}finally{if(y)throw y.error}}return k.join(", ")},p}(g);r.GutterTooltip=d}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,r,s){var o=t("../lib/event"),c=t("../lib/useragent"),m=function(){function u(g,l){this.speed,this.wheelX,this.wheelY,this.domEvent=g,this.editor=l,this.x=this.clientX=g.clientX,this.y=this.clientY=g.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return u.prototype.stopPropagation=function(){o.stopPropagation(this.domEvent),this.propagationStopped=!0},u.prototype.preventDefault=function(){o.preventDefault(this.domEvent),this.defaultPrevented=!0},u.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},u.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},u.prototype.getGutterRow=function(){var g=this.getDocumentPosition().row,l=this.editor.session.documentToScreenRow(g,0),h=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return l-h},u.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var g=this.editor,l=g.getSelectionRange();if(l.isEmpty())this.$inSelection=!1;else{var h=this.getDocumentPosition();this.$inSelection=l.contains(h.row,h.column)}return this.$inSelection},u.prototype.getButton=function(){return o.getButton(this.domEvent)},u.prototype.getShiftKey=function(){return this.domEvent.shiftKey},u.prototype.getAccelKey=function(){return c.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},u}();r.MouseEvent=m}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,r,s){var o=t("../lib/dom"),c=t("../lib/event"),m=t("../lib/useragent"),u=200,g=200,l=5;function h(f){var p=f.editor,v=o.createElement("div");v.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",v.textContent=" ";var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(Z){f[Z]=this[Z]},this),p.on("mousedown",this.onMouseDown.bind(f));var C=p.container,k,F,O,L,E,_,I=0,M,$,B,T,b;this.onDragStart=function(Z){if(this.cancelDrag||!C.draggable){var ue=this;return setTimeout(function(){ue.startSelect(),ue.captureMouse(Z)},0),Z.preventDefault()}E=p.getSelectionRange();var ce=Z.dataTransfer;ce.effectAllowed=p.getReadOnly()?"copy":"copyMove",p.container.appendChild(v),ce.setDragImage&&ce.setDragImage(v,0,0),setTimeout(function(){p.container.removeChild(v)}),ce.clearData(),ce.setData("Text",p.session.getTextRange()),$=!0,this.setState("drag")},this.onDragEnd=function(Z){if(C.draggable=!1,$=!1,this.setState(null),!p.getReadOnly()){var ue=Z.dataTransfer.dropEffect;!M&&ue=="move"&&p.session.remove(p.getSelectionRange()),p.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Z){if(!(p.getReadOnly()||!U(Z.dataTransfer)))return F=Z.clientX,O=Z.clientY,k||q(),I++,Z.dataTransfer.dropEffect=M=re(Z),c.preventDefault(Z)},this.onDragOver=function(Z){if(!(p.getReadOnly()||!U(Z.dataTransfer)))return F=Z.clientX,O=Z.clientY,k||(q(),I++),J!==null&&(J=null),Z.dataTransfer.dropEffect=M=re(Z),c.preventDefault(Z)},this.onDragLeave=function(Z){if(I--,I<=0&&k)return K(),M=null,c.preventDefault(Z)},this.onDrop=function(Z){if(_){var ue=Z.dataTransfer;if($)switch(M){case"move":E.contains(_.row,_.column)?E={start:_,end:_}:E=p.moveText(E,_);break;case"copy":E=p.moveText(E,_,!0);break}else{var ce=ue.getData("Text");E={start:_,end:p.session.insert(_,ce)},p.focus(),M=null}return K(),c.preventDefault(Z)}},c.addListener(C,"dragstart",this.onDragStart.bind(f),p),c.addListener(C,"dragend",this.onDragEnd.bind(f),p),c.addListener(C,"dragenter",this.onDragEnter.bind(f),p),c.addListener(C,"dragover",this.onDragOver.bind(f),p),c.addListener(C,"dragleave",this.onDragLeave.bind(f),p),c.addListener(C,"drop",this.onDrop.bind(f),p);function P(Z,ue){var ce=Date.now(),oe=!ue||Z.row!=ue.row,pe=!ue||Z.column!=ue.column;if(!T||oe||pe)p.moveCursorToPosition(Z),T=ce,b={x:F,y:O};else{var Ee=d(b.x,b.y,F,O);Ee>l?T=null:ce-T>=g&&(p.renderer.scrollCursorIntoView(),T=null)}}function N(Z,ue){var ce=Date.now(),oe=p.renderer.layerConfig.lineHeight,pe=p.renderer.layerConfig.characterWidth,Ee=p.renderer.scroller.getBoundingClientRect(),me={x:{left:F-Ee.left,right:Ee.right-F},y:{top:O-Ee.top,bottom:Ee.bottom-O}},Ae=Math.min(me.x.left,me.x.right),$e=Math.min(me.y.top,me.y.bottom),Qe={row:Z.row,column:Z.column};Ae/pe<=2&&(Qe.column+=me.x.left<me.x.right?-3:2),$e/oe<=1&&(Qe.row+=me.y.top<me.y.bottom?-1:1);var ut=Z.row!=Qe.row,qe=Z.column!=Qe.column,Ge=!ue||Z.row!=ue.row;ut||qe&&!Ge?B?ce-B>=u&&p.renderer.scrollCursorIntoView(Qe):B=ce:B=null}function z(){var Z=_;_=p.renderer.screenToTextCoordinates(F,O),P(_,Z),N(_,Z)}function q(){E=p.selection.toOrientedRange(),k=p.session.addMarker(E,"ace_selection",p.getSelectionStyle()),p.clearSelection(),p.isFocused()&&p.renderer.$cursorLayer.setBlinking(!1),clearInterval(L),z(),L=setInterval(z,20),I=0,c.addListener(document,"mousemove",Q)}function K(){clearInterval(L),p.session.removeMarker(k),k=null,p.selection.fromOrientedRange(E),p.isFocused()&&!$&&p.$resetCursorStyle(),E=null,_=null,I=0,B=null,T=null,c.removeListener(document,"mousemove",Q)}var J=null;function Q(){J==null&&(J=setTimeout(function(){J!=null&&k&&K()},20))}function U(Z){var ue=Z.types;return!ue||Array.prototype.some.call(ue,function(ce){return ce=="text/plain"||ce=="Text"})}function re(Z){var ue=["copy","copymove","all","uninitialized"],ce=["move","copymove","linkmove","all","uninitialized"],oe=m.isMac?Z.altKey:Z.ctrlKey,pe="uninitialized";try{pe=Z.dataTransfer.effectAllowed.toLowerCase()}catch{}var Ee="none";return oe&&ue.indexOf(pe)>=0?Ee="copy":ce.indexOf(pe)>=0?Ee="move":ue.indexOf(pe)>=0&&(Ee="copy"),Ee}}(function(){this.dragWait=function(){var f=Date.now()-this.mousedownEvent.time;f>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var f=this.editor.container;f.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(f){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var f=this.editor,p=f.container;p.draggable=!0,f.renderer.$cursorLayer.setBlinking(!1),f.setStyle("ace_dragging");var v=m.isWin?"default":"move";f.renderer.setCursorStyle(v),this.setState("dragReady")},this.onMouseDrag=function(f){var p=this.editor.container;if(m.isIE&&this.state=="dragReady"){var v=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);v>3&&p.dragDrop()}if(this.state==="dragWait"){var v=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);v>0&&(p.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(f){if(this.$dragEnabled){this.mousedownEvent=f;var p=this.editor,v=f.inSelection(),y=f.getButton(),C=f.domEvent.detail||1;if(C===1&&y===0&&v){if(f.editor.inMultiSelectMode&&(f.getAccelKey()||f.getShiftKey()))return;this.mousedownEvent.time=Date.now();var k=f.domEvent.target||f.domEvent.srcElement;if("unselectable"in k&&(k.unselectable="on"),p.getDragDelay()){if(m.isWebKit){this.cancelDrag=!0;var F=p.container;F.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(f,this.onMouseDrag.bind(this)),f.defaultPrevented=!0}}}}).call(h.prototype);function d(f,p,v,y){return Math.sqrt(Math.pow(v-f,2)+Math.pow(y-p,2))}r.DragdropHandler=h}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(t,r,s){var o=t("./mouse_event").MouseEvent,c=t("../lib/event"),m=t("../lib/dom");r.addTouchListeners=function(u,g){var l="scroll",h,d,f,p,v,y,C=0,k,F=0,O=0,L=0,E,_;function I(){var P=window.navigator&&window.navigator.clipboard,N=!1,z=function(){var J=g.getCopyText(),Q=g.session.getUndoManager().hasUndo();_.replaceChild(m.buildDom(N?["span",!J&&q("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],J&&q("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],J&&q("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],P&&q("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],Q&&q("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],q("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],q("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),_.firstChild)},q=function(J){return g.commands.canExecute(J,g)},K=function(J){var Q=J.target.getAttribute("action");if(Q=="more"||!N)return N=!N,z();Q=="paste"?P.readText().then(function(U){g.execCommand(Q,U)}):Q&&((Q=="cut"||Q=="copy")&&(P?P.writeText(g.getCopyText()):document.execCommand("copy")),g.execCommand(Q)),_.firstChild.style.display="none",N=!1,Q!="openCommandPalette"&&g.focus()};_=m.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(J){l="menu",J.stopPropagation(),J.preventDefault(),g.textInput.focus()},ontouchend:function(J){J.stopPropagation(),J.preventDefault(),K(J)},onclick:K},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],g.container)}function M(){if(!g.getOption("enableMobileMenu")){_&&$();return}_||I();var P=g.selection.cursor,N=g.renderer.textToScreenCoordinates(P.row,P.column),z=g.renderer.textToScreenCoordinates(0,0).pageX,q=g.renderer.scrollLeft,K=g.container.getBoundingClientRect();_.style.top=N.pageY-K.top-3+"px",N.pageX-K.left<K.width-70?(_.style.left="",_.style.right="10px"):(_.style.right="",_.style.left=z+q-K.left+"px"),_.style.display="",_.firstChild.style.display="none",g.on("input",$)}function $(P){_&&(_.style.display="none"),g.off("input",$)}function B(){v=null,clearTimeout(v);var P=g.selection.getRange(),N=P.contains(k.row,k.column);(P.isEmpty()||!N)&&(g.selection.moveToPosition(k),g.selection.selectWord()),l="wait",M()}function T(){v=null,clearTimeout(v),g.selection.moveToPosition(k);var P=F>=2?g.selection.getLineRange(k.row):g.session.getBracketRange(k);P&&!P.isEmpty()?g.selection.setRange(P):g.selection.selectWord(),l="wait"}c.addListener(u,"contextmenu",function(P){if(E){var N=g.textInput.getElement();N.focus()}},g),c.addListener(u,"touchstart",function(P){var N=P.touches;if(v||N.length>1){clearTimeout(v),v=null,f=-1,l="zoom";return}E=g.$mouseHandler.isMousePressed=!0;var z=g.renderer.layerConfig.lineHeight,q=g.renderer.layerConfig.lineHeight,K=P.timeStamp;p=K;var J=N[0],Q=J.clientX,U=J.clientY;Math.abs(h-Q)+Math.abs(d-U)>z&&(f=-1),h=P.clientX=Q,d=P.clientY=U,O=L=0;var re=new o(P,g);if(k=re.getDocumentPosition(),K-f<500&&N.length==1&&!C)F++,P.preventDefault(),P.button=0,T();else{F=0;var Z=g.selection.cursor,ue=g.selection.isEmpty()?Z:g.selection.anchor,ce=g.renderer.$cursorLayer.getPixelPosition(Z,!0),oe=g.renderer.$cursorLayer.getPixelPosition(ue,!0),pe=g.renderer.scroller.getBoundingClientRect(),Ee=g.renderer.layerConfig.offset,me=g.renderer.scrollLeft,Ae=function(ut,qe){return ut=ut/q,qe=qe/z-.75,ut*ut+qe*qe};if(P.clientX<pe.left){l="zoom";return}var $e=Ae(P.clientX-pe.left-ce.left+me,P.clientY-pe.top-ce.top+Ee),Qe=Ae(P.clientX-pe.left-oe.left+me,P.clientY-pe.top-oe.top+Ee);$e<3.5&&Qe<3.5&&(l=$e>Qe?"cursor":"anchor"),Qe<3.5?l="anchor":$e<3.5?l="cursor":l="scroll",v=setTimeout(B,450)}f=K},g),c.addListener(u,"touchend",function(P){E=g.$mouseHandler.isMousePressed=!1,y&&clearInterval(y),l=="zoom"?(l="",C=0):v?(g.selection.moveToPosition(k),C=0,M()):l=="scroll"?(b(),$()):M(),clearTimeout(v),v=null},g),c.addListener(u,"touchmove",function(P){v&&(clearTimeout(v),v=null);var N=P.touches;if(!(N.length>1||l=="zoom")){var z=N[0],q=h-z.clientX,K=d-z.clientY;if(l=="wait")if(q*q+K*K>4)l="cursor";else return P.preventDefault();h=z.clientX,d=z.clientY,P.clientX=z.clientX,P.clientY=z.clientY;var J=P.timeStamp,Q=J-p;if(p=J,l=="scroll"){var U=new o(P,g);U.speed=1,U.wheelX=q,U.wheelY=K,10*Math.abs(q)<Math.abs(K)&&(q=0),10*Math.abs(K)<Math.abs(q)&&(K=0),Q!=0&&(O=q/Q,L=K/Q),g._emit("mousewheel",U),U.propagationStopped||(O=L=0)}else{var re=new o(P,g),Z=re.getDocumentPosition();l=="cursor"?g.selection.moveCursorToPosition(Z):l=="anchor"&&g.selection.setSelectionAnchor(Z.row,Z.column),g.renderer.scrollCursorIntoView(Z),P.preventDefault()}}},g);function b(){C+=60,y=setInterval(function(){C--<=0&&(clearInterval(y),y=null),Math.abs(O)<.01&&(O=0),Math.abs(L)<.01&&(L=0),C<20&&(O=.9*O),C<20&&(L=.9*L);var P=g.session.getScrollTop();g.renderer.scrollBy(10*O,10*L),P==g.session.getScrollTop()&&(C=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(t,r,s){var o=t("../lib/event"),c=t("../lib/useragent"),m=t("./default_handlers").DefaultHandlers,u=t("./default_gutter_handler").GutterHandler,g=t("./mouse_event").MouseEvent,l=t("./dragdrop_handler").DragdropHandler,h=t("./touch_handler").addTouchListeners,d=t("../config"),f=function(){function p(v){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var y=this;this.editor=v,new m(this),new u(this),new l(this);var C=function(O){var L=!document.hasFocus||!document.hasFocus()||!v.isFocused()&&document.activeElement==(v.textInput&&v.textInput.getElement());L&&window.focus(),v.focus(),setTimeout(function(){v.isFocused()||v.focus()})},k=v.renderer.getMouseEventTarget();o.addListener(k,"click",this.onMouseEvent.bind(this,"click"),v),o.addListener(k,"mousemove",this.onMouseMove.bind(this,"mousemove"),v),o.addMultiMouseDownListener([k,v.renderer.scrollBarV&&v.renderer.scrollBarV.inner,v.renderer.scrollBarH&&v.renderer.scrollBarH.inner,v.textInput&&v.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",v),o.addMouseWheelListener(v.container,this.onMouseWheel.bind(this,"mousewheel"),v),h(v.container,v);var F=v.renderer.$gutter;o.addListener(F,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),v),o.addListener(F,"click",this.onMouseEvent.bind(this,"gutterclick"),v),o.addListener(F,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),v),o.addListener(F,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),v),o.addListener(k,"mousedown",C,v),o.addListener(F,"mousedown",C,v),c.isIE&&v.renderer.scrollBarV&&(o.addListener(v.renderer.scrollBarV.element,"mousedown",C,v),o.addListener(v.renderer.scrollBarH.element,"mousedown",C,v)),v.on("mousemove",function(O){if(!(y.state||y.$dragDelay||!y.$dragEnabled)){var L=v.renderer.screenToTextCoordinates(O.x,O.y),E=v.session.selection.getRange(),_=v.renderer;!E.isEmpty()&&E.insideStart(L.row,L.column)?_.setCursorStyle("default"):_.setCursorStyle("")}},v)}return p.prototype.onMouseEvent=function(v,y){this.editor.session&&this.editor._emit(v,new g(y,this.editor))},p.prototype.onMouseMove=function(v,y){var C=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!C||!C.length||this.editor._emit(v,new g(y,this.editor))},p.prototype.onMouseWheel=function(v,y){var C=new g(y,this.editor);C.speed=this.$scrollSpeed*2,C.wheelX=y.wheelX,C.wheelY=y.wheelY,this.editor._emit(v,C)},p.prototype.setState=function(v){this.state=v},p.prototype.captureMouse=function(v,y){this.x=v.x,this.y=v.y,this.isMousePressed=!0;var C=this.editor,k=this.editor.renderer;k.$isMousePressed=!0;var F=this,O=function(M){if(M){if(c.isWebKit&&!M.which&&F.releaseMouse)return F.releaseMouse();F.x=M.clientX,F.y=M.clientY,y&&y(M),F.mouseEvent=new g(M,F.editor),F.$mouseMoved=!0}},L=function(M){C.off("beforeEndOperation",_),clearInterval(I),C.session&&E(),F[F.state+"End"]&&F[F.state+"End"](M),F.state="",F.isMousePressed=k.$isMousePressed=!1,k.$keepTextAreaAtCursor&&k.$moveTextAreaToCursor(),F.$onCaptureMouseMove=F.releaseMouse=null,M&&F.onMouseEvent("mouseup",M),C.endOperation()},E=function(){F[F.state]&&F[F.state](),F.$mouseMoved=!1};if(c.isOldIE&&v.domEvent.type=="dblclick")return setTimeout(function(){L(v)});var _=function(M){F.releaseMouse&&C.curOp.command.name&&C.curOp.selectionChanged&&(F[F.state+"End"]&&F[F.state+"End"](),F.state="",F.releaseMouse())};C.on("beforeEndOperation",_),C.startOperation({command:{name:"mouse"}}),F.$onCaptureMouseMove=O,F.releaseMouse=o.capture(this.editor.container,O,L);var I=setInterval(E,20)},p.prototype.cancelContextMenu=function(){var v=(function(y){y&&y.domEvent&&y.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",v),y&&y.domEvent&&o.stopEvent(y.domEvent))}).bind(this);setTimeout(v,10),this.editor.on("nativecontextmenu",v)},p.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},p}();f.prototype.releaseMouse=null,d.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:c.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),r.MouseHandler=f}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(t,r,s){var o=t("../lib/dom"),c=function(){function m(u){u.on("click",function(g){var l=g.getDocumentPosition(),h=u.session,d=h.getFoldAt(l.row,l.column,1);d&&(g.getAccelKey()?h.removeFold(d):h.expandFold(d),g.stop());var f=g.domEvent&&g.domEvent.target;f&&o.hasCssClass(f,"ace_inline_button")&&o.hasCssClass(f,"ace_toggle_wrap")&&(h.setOption("wrap",!h.getUseWrapMode()),u.renderer.scrollCursorIntoView())}),u.on("gutterclick",function(g){var l=u.renderer.$gutterLayer.getRegion(g);if(l=="foldWidgets"){var h=g.getDocumentPosition().row,d=u.session;d.foldWidgets&&d.foldWidgets[h]&&u.session.onFoldWidgetClick(h,g),u.isFocused()||u.focus(),g.stop()}}),u.on("gutterdblclick",function(g){var l=u.renderer.$gutterLayer.getRegion(g);if(l=="foldWidgets"){var h=g.getDocumentPosition().row,d=u.session,f=d.getParentFoldRangeData(h,!0),p=f.range||f.firstRange;if(p){h=p.start.row;var v=d.getFoldAt(h,d.getLine(h).length,1);v?d.removeFold(v):(d.addFold("...",p),u.renderer.scrollCursorIntoView({row:p.start.row,column:0}))}g.stop()}})}return m}();r.FoldHandler=c}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,r,s){var o=t("../lib/keys"),c=t("../lib/event"),m=function(){function u(g){this.$editor=g,this.$data={editor:g},this.$handlers=[],this.setDefaultHandler(g.commands)}return u.prototype.setDefaultHandler=function(g){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=g,this.addKeyboardHandler(g,0)},u.prototype.setKeyboardHandler=function(g){var l=this.$handlers;if(l[l.length-1]!=g){for(;l[l.length-1]&&l[l.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(l[l.length-1]);this.addKeyboardHandler(g,1)}},u.prototype.addKeyboardHandler=function(g,l){if(g){typeof g=="function"&&!g.handleKeyboard&&(g.handleKeyboard=g);var h=this.$handlers.indexOf(g);h!=-1&&this.$handlers.splice(h,1),l==null?this.$handlers.push(g):this.$handlers.splice(l,0,g),h==-1&&g.attach&&g.attach(this.$editor)}},u.prototype.removeKeyboardHandler=function(g){var l=this.$handlers.indexOf(g);return l==-1?!1:(this.$handlers.splice(l,1),g.detach&&g.detach(this.$editor),!0)},u.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},u.prototype.getStatusText=function(){var g=this.$data,l=g.editor;return this.$handlers.map(function(h){return h.getStatusText&&h.getStatusText(l,g)||""}).filter(Boolean).join(" ")},u.prototype.$callKeyboardHandlers=function(g,l,h,d){for(var f,p=!1,v=this.$editor.commands,y=this.$handlers.length;y--&&(f=this.$handlers[y].handleKeyboard(this.$data,g,l,h,d),!(!(!f||!f.command)&&(f.command=="null"?p=!0:p=v.exec(f.command,this.$editor,f.args,d),p&&d&&g!=-1&&f.passEvent!=!0&&f.command.passEvent!=!0&&c.stopEvent(d),p))););return!p&&g==-1&&(f={command:"insertstring"},p=v.exec("insertstring",this.$editor,l)),p&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),p},u.prototype.onCommandKey=function(g,l,h){var d=o.keyCodeToString(h);return this.$callKeyboardHandlers(l,d,h,g)},u.prototype.onTextInput=function(g){return this.$callKeyboardHandlers(-1,g)},u}();r.KeyBinding=m}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(t,r,s){var o=0,c=0,m=!1,u=!1,g=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d=0,f=1,p=0,v=1,y=2,C=3,k=4,F=5,O=6,L=7,E=8,_=9,I=10,M=11,$=12,B=13,T=14,b=15,P=16,N=17,z=18,q=[z,z,z,z,z,z,z,z,z,O,F,O,E,F,z,z,z,z,z,z,z,z,z,z,z,z,z,z,F,F,F,O,E,k,k,M,M,M,k,k,k,k,k,I,_,I,_,_,y,y,y,y,y,y,y,y,y,y,_,k,k,k,k,k,k,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,k,k,k,k,k,k,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,k,k,k,k,z,z,z,z,z,z,F,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,_,k,M,M,M,M,k,k,k,k,p,k,k,z,k,k,M,M,y,y,k,p,k,k,k,y,p,k,k,k,k,k],K=[E,E,E,E,E,E,E,E,E,E,E,z,z,z,p,v,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,E,F,B,T,b,P,N,_,M,M,M,M,M,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,_,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,E];function J(Z,ue,ce,oe){var pe=o?h:l,Ee=null,me=null,Ae=null,$e=0,Qe=null,ut=null,qe=-1,Ge=null,yt=null,Ot=[];if(!oe)for(Ge=0,oe=[];Ge<ce;Ge++)oe[Ge]=re(Z[Ge]);for(c=o,m=!1,u=!1,g=!1,yt=0;yt<ce;yt++){if(Ee=$e,Ot[yt]=me=U(Z,oe,Ot,yt),$e=pe[Ee][me],Qe=$e&240,$e&=15,ue[yt]=Ae=pe[$e][5],Qe>0)if(Qe==16){for(Ge=qe;Ge<yt;Ge++)ue[Ge]=1;qe=-1}else qe=-1;if(ut=pe[$e][6],ut)qe==-1&&(qe=yt);else if(qe>-1){for(Ge=qe;Ge<yt;Ge++)ue[Ge]=Ae;qe=-1}oe[yt]==F&&(ue[yt]=0),c|=Ae}if(g){for(Ge=0;Ge<ce;Ge++)if(oe[Ge]==O){ue[Ge]=o;for(var Ht=Ge-1;Ht>=0&&oe[Ht]==E;Ht--)ue[Ht]=o}}}function Q(Z,ue,ce){if(!(c<Z)){if(Z==1&&o==f&&!u){ce.reverse();return}for(var oe=ce.length,pe=0,Ee,me,Ae,$e;pe<oe;){if(ue[pe]>=Z){for(Ee=pe+1;Ee<oe&&ue[Ee]>=Z;)Ee++;for(me=pe,Ae=Ee-1;me<Ae;me++,Ae--)$e=ce[me],ce[me]=ce[Ae],ce[Ae]=$e;pe=Ee}pe++}}}function U(Z,ue,ce,oe){var pe=ue[oe],Ee,me,Ae,$e;switch(pe){case p:case v:m=!1;case k:case C:return pe;case y:return m?C:y;case L:return m=!0,v;case E:return k;case _:return oe<1||oe+1>=ue.length||(Ee=ce[oe-1])!=y&&Ee!=C||(me=ue[oe+1])!=y&&me!=C?k:(m&&(me=C),me==Ee?me:k);case I:return Ee=oe>0?ce[oe-1]:F,Ee==y&&oe+1<ue.length&&ue[oe+1]==y?y:k;case M:if(oe>0&&ce[oe-1]==y)return y;if(m)return k;for($e=oe+1,Ae=ue.length;$e<Ae&&ue[$e]==M;)$e++;return $e<Ae&&ue[$e]==y?y:k;case $:for(Ae=ue.length,$e=oe+1;$e<Ae&&ue[$e]==$;)$e++;if($e<Ae){var Qe=Z[oe],ut=Qe>=1425&&Qe<=2303||Qe==64286;if(Ee=ue[$e],ut&&(Ee==v||Ee==L))return v}return oe<1||(Ee=ue[oe-1])==F?k:ce[oe-1];case F:return m=!1,u=!0,o;case O:return g=!0,k;case B:case T:case P:case N:case b:m=!1;case z:return k}}function re(Z){var ue=Z.charCodeAt(0),ce=ue>>8;return ce==0?ue>191?p:q[ue]:ce==5?/[\u0591-\u05f4]/.test(Z)?v:p:ce==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Z)?$:/[\u0660-\u0669\u066b-\u066c]/.test(Z)?C:ue==1642?M:/[\u06f0-\u06f9]/.test(Z)?y:L:ce==32&&ue<=8287?K[ue&255]:ce==254&&ue>=65136?L:k}r.L=p,r.R=v,r.EN=y,r.ON_R=3,r.AN=4,r.R_H=5,r.B=6,r.RLE=7,r.DOT="·",r.doBidiReorder=function(Z,ue,ce){if(Z.length<2)return{};var oe=Z.split(""),pe=new Array(oe.length),Ee=new Array(oe.length),me=[];o=ce?f:d,J(oe,me,oe.length,ue);for(var Ae=0;Ae<pe.length;pe[Ae]=Ae,Ae++);Q(2,me,pe),Q(1,me,pe);for(var Ae=0;Ae<pe.length-1;Ae++)ue[Ae]===C?me[Ae]=r.AN:me[Ae]===v&&(ue[Ae]>L&&ue[Ae]<B||ue[Ae]===k||ue[Ae]===z)?me[Ae]=r.ON_R:Ae>0&&oe[Ae-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(oe[Ae])&&(me[Ae-1]=me[Ae]=r.R_H,Ae++);oe[oe.length-1]===r.DOT&&(me[oe.length-1]=r.B),oe[0]==="‫"&&(me[0]=r.RLE);for(var Ae=0;Ae<pe.length;Ae++)Ee[Ae]=me[pe[Ae]];return{logicalFromVisual:pe,bidiLevels:Ee}},r.hasBidiCharacters=function(Z,ue){for(var ce=!1,oe=0;oe<Z.length;oe++)ue[oe]=re(Z.charAt(oe)),!ce&&(ue[oe]==v||ue[oe]==L||ue[oe]==C)&&(ce=!0);return ce},r.getVisualFromLogicalIdx=function(Z,ue){for(var ce=0;ce<ue.logicalFromVisual.length;ce++)if(ue.logicalFromVisual[ce]==Z)return ce;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(t,r,s){var o=t("./lib/bidiutil"),c=t("./lib/lang"),m=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,u=function(){function g(l){this.session=l,this.bidiMap={},this.currentRow=null,this.bidiUtil=o,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=m.test(l.getValue())}return g.prototype.isBidiRow=function(l,h,d){return this.seenBidi?(l!==this.currentRow&&(this.currentRow=l,this.updateRowLine(h,d),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},g.prototype.onChange=function(l){this.seenBidi?this.currentRow=null:l.action=="insert"&&m.test(l.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},g.prototype.getDocumentRow=function(){var l=0,h=this.session.$screenRowCache;if(h.length){var d=this.session.$getRowCacheIndex(h,this.currentRow);d>=0&&(l=this.session.$docRowCache[d])}return l},g.prototype.getSplitIndex=function(){var l=0,h=this.session.$screenRowCache;if(h.length)for(var d,f=this.session.$getRowCacheIndex(h,this.currentRow);this.currentRow-l>0&&(d=this.session.$getRowCacheIndex(h,this.currentRow-l-1),d===f);)f=d,l++;else l=this.currentRow;return l},g.prototype.updateRowLine=function(l,h){l===void 0&&(l=this.getDocumentRow());var d=l===this.session.getLength()-1,f=d?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(l),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var p=this.session.$wrapData[l];p&&(h===void 0&&(h=this.getSplitIndex()),h>0&&p.length?(this.wrapIndent=p.indent,this.wrapOffset=this.wrapIndent*this.charWidths[o.L],this.line=h<p.length?this.line.substring(p[h-1],p[h]):this.line.substring(p[p.length-1])):this.line=this.line.substring(0,p[h]),h==p.length&&(this.line+=this.showInvisibles?f:o.DOT))}else this.line+=this.showInvisibles?f:o.DOT;var v=this.session,y=0,C;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(k,F){return k==="	"||v.isFullWidth(k.charCodeAt(0))?(C=k==="	"?v.getScreenTabSize(F+y):2,y+=C-1,c.stringRepeat(o.DOT,C)):k}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==o.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},g.prototype.updateBidiMap=function(){var l=[];o.hasBidiCharacters(this.line,l)||this.isRtlDir?this.bidiMap=o.doBidiReorder(this.line,l,this.isRtlDir):this.bidiMap={}},g.prototype.markAsDirty=function(){this.currentRow=null},g.prototype.updateCharacterWidths=function(l){if(this.characterWidth!==l.$characterSize.width){this.fontMetrics=l;var h=this.characterWidth=l.$characterSize.width,d=l.$measureCharWidth("ה");this.charWidths[o.L]=this.charWidths[o.EN]=this.charWidths[o.ON_R]=h,this.charWidths[o.R]=this.charWidths[o.AN]=d,this.charWidths[o.R_H]=d*.45,this.charWidths[o.B]=this.charWidths[o.RLE]=0,this.currentRow=null}},g.prototype.setShowInvisibles=function(l){this.showInvisibles=l,this.currentRow=null},g.prototype.setEolChar=function(l){this.EOL=l},g.prototype.setContentWidth=function(l){this.contentWidth=l},g.prototype.isRtlLine=function(l){return this.$isRtl?!0:l!=null?this.session.getLine(l).charAt(0)==this.RLE:this.isRtlDir},g.prototype.setRtlDirection=function(l,h){for(var d=l.getCursorPosition(),f=l.selection.getSelectionAnchor().row;f<=d.row;f++)!h&&l.session.getLine(f).charAt(0)===l.session.$bidiHandler.RLE?l.session.doc.removeInLine(f,0,1):h&&l.session.getLine(f).charAt(0)!==l.session.$bidiHandler.RLE&&l.session.doc.insert({column:0,row:f},l.session.$bidiHandler.RLE)},g.prototype.getPosLeft=function(l){l-=this.wrapIndent;var h=this.line.charAt(0)===this.RLE?1:0,d=l>h?this.session.getOverwrite()?l:l-1:h,f=o.getVisualFromLogicalIdx(d,this.bidiMap),p=this.bidiMap.bidiLevels,v=0;!this.session.getOverwrite()&&l<=h&&p[f]%2!==0&&f++;for(var y=0;y<f;y++)v+=this.charWidths[p[y]];return!this.session.getOverwrite()&&l>h&&p[f]%2===0&&(v+=this.charWidths[p[f]]),this.wrapIndent&&(v+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(v+=this.rtlLineOffset),v},g.prototype.getSelections=function(l,h){var d=this.bidiMap,f=d.bidiLevels,p,v=[],y=0,C=Math.min(l,h)-this.wrapIndent,k=Math.max(l,h)-this.wrapIndent,F=!1,O=!1,L=0;this.wrapIndent&&(y+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var E,_=0;_<f.length;_++)E=d.logicalFromVisual[_],p=f[_],F=E>=C&&E<k,F&&!O?L=y:!F&&O&&v.push({left:L,width:y-L}),y+=this.charWidths[p],O=F;if(F&&_===f.length&&v.push({left:L,width:y-L}),this.isRtlDir)for(var I=0;I<v.length;I++)v[I].left+=this.rtlLineOffset;return v},g.prototype.offsetToCol=function(d){this.isRtlDir&&(d-=this.rtlLineOffset);var h=0,d=Math.max(d,0),f=0,p=0,v=this.bidiMap.bidiLevels,y=this.charWidths[v[p]];for(this.wrapIndent&&(d-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);d>f+y/2;){if(f+=y,p===v.length-1){y=0;break}y=this.charWidths[v[++p]]}return p>0&&v[p-1]%2!==0&&v[p]%2===0?(d<f&&p--,h=this.bidiMap.logicalFromVisual[p]):p>0&&v[p-1]%2===0&&v[p]%2!==0?h=1+(d>f?this.bidiMap.logicalFromVisual[p]:this.bidiMap.logicalFromVisual[p-1]):this.isRtlDir&&p===v.length-1&&y===0&&v[p-1]%2===0||!this.isRtlDir&&p===0&&v[p]%2!==0?h=1+this.bidiMap.logicalFromVisual[p]:(p>0&&v[p-1]%2!==0&&y!==0&&p--,h=this.bidiMap.logicalFromVisual[p]),h===0&&this.isRtlDir&&h++,h+this.wrapIndent},g}();r.BidiHandler=u}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,r,s){var o=t("./lib/oop"),c=t("./lib/lang"),m=t("./lib/event_emitter").EventEmitter,u=t("./range").Range,g=function(){function l(h){this.session=h,this.doc=h.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var d=this;this.cursor.on("change",function(f){d.$cursorChanged=!0,d.$silent||d._emit("changeCursor"),!d.$isEmpty&&!d.$silent&&d._emit("changeSelection"),!d.$keepDesiredColumnOnChange&&f.old.column!=f.value.column&&(d.$desiredColumn=null)}),this.anchor.on("change",function(){d.$anchorChanged=!0,!d.$isEmpty&&!d.$silent&&d._emit("changeSelection")})}return l.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},l.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},l.prototype.getCursor=function(){return this.lead.getPosition()},l.prototype.setAnchor=function(h,d){this.$isEmpty=!1,this.anchor.setPosition(h,d)},l.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},l.prototype.getSelectionLead=function(){return this.lead.getPosition()},l.prototype.isBackwards=function(){var h=this.anchor,d=this.lead;return h.row>d.row||h.row==d.row&&h.column>d.column},l.prototype.getRange=function(){var h=this.anchor,d=this.lead;return this.$isEmpty?u.fromPoints(d,d):this.isBackwards()?u.fromPoints(d,h):u.fromPoints(h,d)},l.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},l.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},l.prototype.setRange=function(h,d){var f=d?h.end:h.start,p=d?h.start:h.end;this.$setSelection(f.row,f.column,p.row,p.column)},l.prototype.$setSelection=function(h,d,f,p){if(!this.$silent){var v=this.$isEmpty,y=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(h,d),this.cursor.setPosition(f,p),this.$isEmpty=!u.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||v!=this.$isEmpty||y)&&this._emit("changeSelection")}},l.prototype.$moveSelection=function(h){var d=this.lead;this.$isEmpty&&this.setSelectionAnchor(d.row,d.column),h.call(this)},l.prototype.selectTo=function(h,d){this.$moveSelection(function(){this.moveCursorTo(h,d)})},l.prototype.selectToPosition=function(h){this.$moveSelection(function(){this.moveCursorToPosition(h)})},l.prototype.moveTo=function(h,d){this.clearSelection(),this.moveCursorTo(h,d)},l.prototype.moveToPosition=function(h){this.clearSelection(),this.moveCursorToPosition(h)},l.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},l.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},l.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},l.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},l.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},l.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},l.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},l.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},l.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},l.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},l.prototype.getWordRange=function(h,d){if(typeof d>"u"){var f=h||this.lead;h=f.row,d=f.column}return this.session.getWordRange(h,d)},l.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},l.prototype.selectAWord=function(){var h=this.getCursor(),d=this.session.getAWordRange(h.row,h.column);this.setSelectionRange(d)},l.prototype.getLineRange=function(h,d){var f=typeof h=="number"?h:this.lead.row,p,v=this.session.getFoldLine(f);return v?(f=v.start.row,p=v.end.row):p=f,d===!0?new u(f,0,p,this.session.getLine(p).length):new u(f,0,p+1,0)},l.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},l.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},l.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},l.prototype.wouldMoveIntoSoftTab=function(h,d,f){var p=h.column,v=h.column+d;return f<0&&(p=h.column-d,v=h.column),this.session.isTabStop(h)&&this.doc.getLine(h.row).slice(p,v).split(" ").length-1==d},l.prototype.moveCursorLeft=function(){var h=this.lead.getPosition(),d;if(d=this.session.getFoldAt(h.row,h.column,-1))this.moveCursorTo(d.start.row,d.start.column);else if(h.column===0)h.row>0&&this.moveCursorTo(h.row-1,this.doc.getLine(h.row-1).length);else{var f=this.session.getTabSize();this.wouldMoveIntoSoftTab(h,f,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-f):this.moveCursorBy(0,-1)}},l.prototype.moveCursorRight=function(){var h=this.lead.getPosition(),d;if(d=this.session.getFoldAt(h.row,h.column,1))this.moveCursorTo(d.end.row,d.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var f=this.session.getTabSize(),h=this.lead;this.wouldMoveIntoSoftTab(h,f,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,f):this.moveCursorBy(0,1)}},l.prototype.moveCursorLineStart=function(){var h=this.lead.row,d=this.lead.column,f=this.session.documentToScreenRow(h,d),p=this.session.screenToDocumentPosition(f,0),v=this.session.getDisplayLine(h,null,p.row,p.column),y=v.match(/^\s*/);y[0].length!=d&&!this.session.$useEmacsStyleLineStart&&(p.column+=y[0].length),this.moveCursorToPosition(p)},l.prototype.moveCursorLineEnd=function(){var h=this.lead,d=this.session.getDocumentLastRowColumnPosition(h.row,h.column);if(this.lead.column==d.column){var f=this.session.getLine(d.row);if(d.column==f.length){var p=f.search(/\s+$/);p>0&&(d.column=p)}}this.moveCursorTo(d.row,d.column)},l.prototype.moveCursorFileEnd=function(){var h=this.doc.getLength()-1,d=this.doc.getLine(h).length;this.moveCursorTo(h,d)},l.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},l.prototype.moveCursorLongWordRight=function(){var h=this.lead.row,d=this.lead.column,f=this.doc.getLine(h),p=f.substring(d);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var v=this.session.getFoldAt(h,d,1);if(v){this.moveCursorTo(v.end.row,v.end.column);return}if(this.session.nonTokenRe.exec(p)&&(d+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,p=f.substring(d)),d>=f.length){this.moveCursorTo(h,f.length),this.moveCursorRight(),h<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(p)&&(d+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,d)},l.prototype.moveCursorLongWordLeft=function(){var h=this.lead.row,d=this.lead.column,f;if(f=this.session.getFoldAt(h,d,-1)){this.moveCursorTo(f.start.row,f.start.column);return}var p=this.session.getFoldStringAt(h,d,-1);p==null&&(p=this.doc.getLine(h).substring(0,d));var v=c.stringReverse(p);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(v)&&(d-=this.session.nonTokenRe.lastIndex,v=v.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),d<=0){this.moveCursorTo(h,0),this.moveCursorLeft(),h>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(v)&&(d-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(h,d)},l.prototype.$shortWordEndIndex=function(h){var d=0,f,p=/\s/,v=this.session.tokenRe;if(v.lastIndex=0,this.session.tokenRe.exec(h))d=this.session.tokenRe.lastIndex;else{for(;(f=h[d])&&p.test(f);)d++;if(d<1){for(v.lastIndex=0;(f=h[d])&&!v.test(f);)if(v.lastIndex=0,d++,p.test(f))if(d>2){d--;break}else{for(;(f=h[d])&&p.test(f);)d++;if(d>2)break}}}return v.lastIndex=0,d},l.prototype.moveCursorShortWordRight=function(){var h=this.lead.row,d=this.lead.column,f=this.doc.getLine(h),p=f.substring(d),v=this.session.getFoldAt(h,d,1);if(v)return this.moveCursorTo(v.end.row,v.end.column);if(d==f.length){var y=this.doc.getLength();do h++,p=this.doc.getLine(h);while(h<y&&/^\s*$/.test(p));/^\s+/.test(p)||(p=""),d=0}var C=this.$shortWordEndIndex(p);this.moveCursorTo(h,d+C)},l.prototype.moveCursorShortWordLeft=function(){var h=this.lead.row,d=this.lead.column,f;if(f=this.session.getFoldAt(h,d,-1))return this.moveCursorTo(f.start.row,f.start.column);var p=this.session.getLine(h).substring(0,d);if(d===0){do h--,p=this.doc.getLine(h);while(h>0&&/^\s*$/.test(p));d=p.length,/\s+$/.test(p)||(p="")}var v=c.stringReverse(p),y=this.$shortWordEndIndex(v);return this.moveCursorTo(h,d-y)},l.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},l.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},l.prototype.moveCursorBy=function(h,d){var f=this.session.documentToScreenPosition(this.lead.row,this.lead.column),p;if(d===0&&(h!==0&&(this.session.$bidiHandler.isBidiRow(f.row,this.lead.row)?(p=this.session.$bidiHandler.getPosLeft(f.column),f.column=Math.round(p/this.session.$bidiHandler.charWidths[0])):p=f.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?f.column=this.$desiredColumn:this.$desiredColumn=f.column),h!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var v=this.session.lineWidgets[this.lead.row];h<0?h-=v.rowsAbove||0:h>0&&(h+=v.rowCount-(v.rowsAbove||0))}var y=this.session.screenToDocumentPosition(f.row+h,f.column,p);h!==0&&d===0&&y.row===this.lead.row&&(y.column,this.lead.column),this.moveCursorTo(y.row,y.column+d,d===0)},l.prototype.moveCursorToPosition=function(h){this.moveCursorTo(h.row,h.column)},l.prototype.moveCursorTo=function(h,d,f){var p=this.session.getFoldAt(h,d,1);p&&(h=p.start.row,d=p.start.column),this.$keepDesiredColumnOnChange=!0;var v=this.session.getLine(h);/[\uDC00-\uDFFF]/.test(v.charAt(d))&&v.charAt(d-1)&&(this.lead.row==h&&this.lead.column==d+1?d=d-1:d=d+1),this.lead.setPosition(h,d),this.$keepDesiredColumnOnChange=!1,f||(this.$desiredColumn=null)},l.prototype.moveCursorToScreen=function(h,d,f){var p=this.session.screenToDocumentPosition(h,d);this.moveCursorTo(p.row,p.column,f)},l.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},l.prototype.fromOrientedRange=function(h){this.setSelectionRange(h,h.cursor==h.start),this.$desiredColumn=h.desiredColumn||this.$desiredColumn},l.prototype.toOrientedRange=function(h){var d=this.getRange();return h?(h.start.column=d.start.column,h.start.row=d.start.row,h.end.column=d.end.column,h.end.row=d.end.row):h=d,h.cursor=this.isBackwards()?h.start:h.end,h.desiredColumn=this.$desiredColumn,h},l.prototype.getRangeOfMovements=function(h){var d=this.getCursor();try{h(this);var f=this.getCursor();return u.fromPoints(d,f)}catch{return u.fromPoints(d,d)}finally{this.moveCursorToPosition(d)}},l.prototype.toJSON=function(){if(this.rangeCount)var h=this.ranges.map(function(d){var f=d.clone();return f.isBackwards=d.cursor==d.start,f});else{var h=this.getRange();h.isBackwards=this.isBackwards()}return h},l.prototype.fromJSON=function(h){if(h.start==null)if(this.rangeList&&h.length>1){this.toSingleRange(h[0]);for(var d=h.length;d--;){var f=u.fromPoints(h[d].start,h[d].end);h[d].isBackwards&&(f.cursor=f.start),this.addRange(f,!0)}return}else h=h[0];this.rangeList&&this.toSingleRange(h),this.setSelectionRange(h,h.isBackwards)},l.prototype.isEqual=function(h){if((h.length||this.rangeCount)&&h.length!=this.rangeCount)return!1;if(!h.length||!this.ranges)return this.getRange().isEqual(h);for(var d=this.ranges.length;d--;)if(!this.ranges[d].isEqual(h[d]))return!1;return!0},l}();g.prototype.setSelectionAnchor=g.prototype.setAnchor,g.prototype.getSelectionAnchor=g.prototype.getAnchor,g.prototype.setSelectionRange=g.prototype.setRange,o.implement(g.prototype,m),r.Selection=g}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(t,r,s){var o=t("./lib/report_error").reportError,c=2e3,m=function(){function u(g){this.splitRegex,this.states=g,this.regExps={},this.matchMappings={};for(var l in this.states){for(var h=this.states[l],d=[],f=0,p=this.matchMappings[l]={defaultToken:"text"},v="g",y=[],C=0;C<h.length;C++){var k=h[C];if(k.defaultToken&&(p.defaultToken=k.defaultToken),k.caseInsensitive&&v.indexOf("i")===-1&&(v+="i"),k.unicode&&v.indexOf("u")===-1&&(v+="u"),k.regex!=null){k.regex instanceof RegExp&&(k.regex=k.regex.toString().slice(1,-1));var F=k.regex,O=new RegExp("(?:("+F+")|(.))").exec("a").length-2;Array.isArray(k.token)?k.token.length==1||O==1?k.token=k.token[0]:O-1!=k.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:k,groupCount:O-1}),k.token=k.token[0]):(k.tokenArray=k.token,k.token=null,k.onMatch=this.$arrayTokens):typeof k.token=="function"&&!k.onMatch&&(O>1?k.onMatch=this.$applyToken:k.onMatch=k.token),O>1&&(/\\\d/.test(k.regex)?F=k.regex.replace(/\\([0-9]+)/g,function(L,E){return"\\"+(parseInt(E,10)+f+1)}):(O=1,F=this.removeCapturingGroups(k.regex)),!k.splitRegex&&typeof k.token!="string"&&y.push(k)),p[f]=C,f+=O,d.push(F),k.onMatch||(k.onMatch=null)}}d.length||(p[0]=0,d.push("$")),y.forEach(function(L){L.splitRegex=this.createSplitterRegexp(L.regex,v)},this),this.regExps[l]=new RegExp("("+d.join(")|(")+")|($)",v)}}return u.prototype.$setMaxTokenCount=function(g){c=g|0},u.prototype.$applyToken=function(g){var l=this.splitRegex.exec(g).slice(1),h=this.token.apply(this,l);if(typeof h=="string")return[{type:h,value:g}];for(var d=[],f=0,p=h.length;f<p;f++)l[f]&&(d[d.length]={type:h[f],value:l[f]});return d},u.prototype.$arrayTokens=function(g){if(!g)return[];var l=this.splitRegex.exec(g);if(!l)return"text";for(var h=[],d=this.tokenArray,f=0,p=d.length;f<p;f++)l[f+1]&&(h[h.length]={type:d[f],value:l[f+1]});return h},u.prototype.removeCapturingGroups=function(g){var l=g.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(h,d){return d?"(?:":h});return l},u.prototype.createSplitterRegexp=function(g,l){if(g.indexOf("(?=")!=-1){var h=0,d=!1,f={};g.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(p,v,y,C,k,F){return d?d=k!="]":k?d=!0:C?(h==f.stack&&(f.end=F+1,f.stack=-1),h--):y&&(h++,y.length!=1&&(f.stack=h,f.start=F)),p}),f.end!=null&&/^\)*$/.test(g.substr(f.end))&&(g=g.substring(0,f.start)+g.substr(f.end))}return g.charAt(0)!="^"&&(g="^"+g),g.charAt(g.length-1)!="$"&&(g+="$"),new RegExp(g,(l||"").replace("g",""))},u.prototype.getLineTokens=function(g,l){if(l&&typeof l!="string"){var h=l.slice(0);l=h[0],l==="#tmp"&&(h.shift(),l=h.shift())}else var h=[];var d=l||"start",f=this.states[d];f||(d="start",f=this.states[d]);var p=this.matchMappings[d],v=this.regExps[d];v.lastIndex=0;for(var y,C=[],k=0,F=0,O={type:null,value:""};y=v.exec(g);){var L=p.defaultToken,E=null,_=y[0],I=v.lastIndex;if(I-_.length>k){var M=g.substring(k,I-_.length);O.type==L?O.value+=M:(O.type&&C.push(O),O={type:L,value:M})}for(var $=0;$<y.length-2;$++)if(y[$+1]!==void 0){E=f[p[$]],E.onMatch?L=E.onMatch(_,d,h,g):L=E.token,E.next&&(typeof E.next=="string"?d=E.next:d=E.next(d,h),f=this.states[d],f||(this.reportError("state doesn't exist",d),d="start",f=this.states[d]),p=this.matchMappings[d],k=I,v=this.regExps[d],v.lastIndex=I),E.consumeLineEnd&&(k=I);break}if(_){if(typeof L=="string")(!E||E.merge!==!1)&&O.type===L?O.value+=_:(O.type&&C.push(O),O={type:L,value:_});else if(L){O.type&&C.push(O),O={type:null,value:""};for(var $=0;$<L.length;$++)C.push(L[$])}}if(k==g.length)break;if(k=I,F++>c){for(F>2*g.length&&this.reportError("infinite loop with in ace tokenizer",{startState:l,line:g});k<g.length;)O.type&&C.push(O),O={value:g.substring(k,k+=500),type:"overflow"};d="start",h=[];break}}return O.type&&C.push(O),h.length>1&&h[0]!==d&&h.unshift("#tmp",d),{tokens:C,state:h.length?h:d}},u}();m.prototype.reportError=o,r.Tokenizer=m}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(t,r,s){var o=t("../lib/deep_copy").deepCopy,c;c=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(g,l){if(!l){for(var h in g)this.$rules[h]=g[h];return}for(var h in g){for(var d=g[h],f=0;f<d.length;f++){var p=d[f];(p.next||p.onMatch)&&(typeof p.next=="string"&&p.next.indexOf(l)!==0&&(p.next=l+p.next),p.nextState&&p.nextState.indexOf(l)!==0&&(p.nextState=l+p.nextState))}this.$rules[l+h]=d}},this.getRules=function(){return this.$rules},this.embedRules=function(g,l,h,d,f){var p=typeof g=="function"?new g().getRules():g;if(d)for(var v=0;v<d.length;v++)d[v]=l+d[v];else{d=[];for(var y in p)d.push(l+y)}if(this.addRules(p,l),h)for(var C=Array.prototype[f?"push":"unshift"],v=0;v<d.length;v++)C.apply(this.$rules[d[v]],o(h));this.$embeds||(this.$embeds=[]),this.$embeds.push(l)},this.getEmbeds=function(){return this.$embeds};var m=function(g,l){return(g!="start"||l.length)&&l.unshift(this.nextState,g),this.nextState},u=function(g,l){return l.shift(),l.shift()||"start"};this.normalizeRules=function(){var g=0,l=this.$rules;function h(d){var f=l[d];f.processed=!0;for(var p=0;p<f.length;p++){var v=f[p],y=null;Array.isArray(v)&&(y=v,v={}),!v.regex&&v.start&&(v.regex=v.start,v.next||(v.next=[]),v.next.push({defaultToken:v.token},{token:v.token+".end",regex:v.end||v.start,next:"pop"}),v.token=v.token+".start",v.push=!0);var C=v.next||v.push;if(C&&Array.isArray(C)){var k=v.stateName;k||(k=v.token,typeof k!="string"&&(k=k[0]||""),l[k]&&(k+=g++)),l[k]=C,v.next=k,h(k)}else C=="pop"&&(v.next=u);if(v.push&&(v.nextState=v.next||v.push,v.next=m,delete v.push),v.rules)for(var F in v.rules)l[F]?l[F].push&&l[F].push.apply(l[F],v.rules[F]):l[F]=v.rules[F];var O=typeof v=="string"?v:v.include;if(O&&(O==="$self"&&(O="start"),Array.isArray(O)?y=O.map(function(E){return l[E]}):y=l[O]),y){var L=[p,1].concat(y);v.noEscape&&(L=L.filter(function(E){return!E.next})),f.splice.apply(f,L),p--}v.keywordMap&&(v.token=this.createKeywordMapper(v.keywordMap,v.defaultToken||"text",v.caseInsensitive),delete v.defaultToken)}}Object.keys(l).forEach(h,this)},this.createKeywordMapper=function(g,l,h,d){var f=Object.create(null);return this.$keywordList=[],Object.keys(g).forEach(function(p){for(var v=g[p],y=v.split(d||"|"),C=y.length;C--;){var k=y[C];this.$keywordList.push(k),h&&(k=k.toLowerCase()),f[k]=p}},this),g=null,h?function(p){return f[p.toLowerCase()]||l}:function(p){return f[p]||l}},this.getKeywords=function(){return this.$keywords}}).call(c.prototype),r.TextHighlightRules=c}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,r,s){var o;o=function(){this.$behaviours={}},(function(){this.add=function(c,m,u){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[c]:this.$behaviours[c]={}}this.$behaviours[c][m]=u},this.addBehaviours=function(c){for(var m in c)for(var u in c[m])this.add(m,u,c[m][u])},this.remove=function(c){this.$behaviours&&this.$behaviours[c]&&delete this.$behaviours[c]},this.inherit=function(c,m){if(typeof c=="function")var u=new c().getBehaviours(m);else var u=c.getBehaviours(m);this.addBehaviours(u)},this.getBehaviours=function(c){if(c){for(var m={},u=0;u<c.length;u++)this.$behaviours[c[u]]&&(m[c[u]]=this.$behaviours[c[u]]);return m}else return this.$behaviours}}).call(o.prototype),r.Behaviour=o}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(t,r,s){var o=t("./range").Range,c=function(){function m(u,g,l){this.$session=u,this.$row=g,this.$rowTokens=u.getTokens(g);var h=u.getTokenAt(g,l);this.$tokenIndex=h?h.index:-1}return m.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},m.prototype.stepForward=function(){this.$tokenIndex+=1;for(var u;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,u||(u=this.$session.getLength()),this.$row>=u)return this.$row=u-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},m.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},m.prototype.getCurrentTokenRow=function(){return this.$row},m.prototype.getCurrentTokenColumn=function(){var u=this.$rowTokens,g=this.$tokenIndex,l=u[g].start;if(l!==void 0)return l;for(l=0;g>0;)g-=1,l+=u[g].value.length;return l},m.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},m.prototype.getCurrentTokenRange=function(){var u=this.$rowTokens[this.$tokenIndex],g=this.getCurrentTokenColumn();return new o(this.$row,g,this.$row,g+u.value.length)},m}();r.TokenIterator=c}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,r,s){var o=t("../../lib/oop"),c=t("../behaviour").Behaviour,m=t("../../token_iterator").TokenIterator,u=t("../../lib/lang"),g=["text","paren.rparen","rparen","paren","punctuation.operator"],l=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h,d={},f={'"':'"',"'":"'"},p=function(C){var k=-1;if(C.multiSelect&&(k=C.selection.index,d.rangeCount!=C.multiSelect.rangeCount&&(d={rangeCount:C.multiSelect.rangeCount})),d[k])return h=d[k];h=d[k]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},v=function(C,k,F,O){var L=C.end.row-C.start.row;return{text:F+k+O,selection:[0,C.start.column+1,L,C.end.column+(L?0:1)]}},y;y=function(C){C=C||{},this.add("braces","insertion",function(k,F,O,L,E){var _=O.getCursorPosition(),I=L.doc.getLine(_.row);if(E=="{"){p(O);var M=O.getSelectionRange(),$=L.doc.getTextRange(M),B=L.getTokenAt(_.row,_.column);if($!==""&&$!=="{"&&O.getWrapBehavioursEnabled())return v(M,$,"{","}");if(B&&/(?:string)\.quasi|\.xml/.test(B.type)){var T=[/tag\-(?:open|name)/,/attribute\-name/];return T.some(function(J){return J.test(B.type)})||/(string)\.quasi/.test(B.type)&&B.value[_.column-B.start-1]!=="$"?void 0:(y.recordAutoInsert(O,L,"}"),{text:"{}",selection:[1,1]})}else if(y.isSaneInsertion(O,L))return/[\]\}\)]/.test(I[_.column])||O.inMultiSelectMode||C.braces?(y.recordAutoInsert(O,L,"}"),{text:"{}",selection:[1,1]}):(y.recordMaybeInsert(O,L,"{"),{text:"{",selection:[1,1]})}else if(E=="}"){p(O);var b=I.substring(_.column,_.column+1);if(b=="}"){var P=L.$findOpeningBracket("}",{column:_.column+1,row:_.row});if(P!==null&&y.isAutoInsertedClosing(_,I,E))return y.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(E==`
`||E==`\r
`){p(O);var N="";y.isMaybeInsertedClosing(_,I)&&(N=u.stringRepeat("}",h.maybeInsertedBrackets),y.clearMaybeInsertedClosing());var b=I.substring(_.column,_.column+1);if(b==="}"){var z=L.findMatchingBracket({row:_.row,column:_.column+1},"}");if(!z)return null;var q=this.$getIndent(L.getLine(z.row))}else if(N)var q=this.$getIndent(I);else{y.clearMaybeInsertedClosing();return}var K=q+L.getTabString();return{text:`
`+K+`
`+q+N,selection:[1,K.length,1,K.length]}}else y.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(k,F,O,L,E){var _=L.doc.getTextRange(E);if(!E.isMultiLine()&&_=="{"){p(O);var I=L.doc.getLine(E.start.row),M=I.substring(E.end.column,E.end.column+1);if(M=="}")return E.end.column++,E;h.maybeInsertedBrackets--}}),this.add("parens","insertion",function(k,F,O,L,E){if(E=="("){p(O);var _=O.getSelectionRange(),I=L.doc.getTextRange(_);if(I!==""&&O.getWrapBehavioursEnabled())return v(_,I,"(",")");if(y.isSaneInsertion(O,L))return y.recordAutoInsert(O,L,")"),{text:"()",selection:[1,1]}}else if(E==")"){p(O);var M=O.getCursorPosition(),$=L.doc.getLine(M.row),B=$.substring(M.column,M.column+1);if(B==")"){var T=L.$findOpeningBracket(")",{column:M.column+1,row:M.row});if(T!==null&&y.isAutoInsertedClosing(M,$,E))return y.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(k,F,O,L,E){var _=L.doc.getTextRange(E);if(!E.isMultiLine()&&_=="("){p(O);var I=L.doc.getLine(E.start.row),M=I.substring(E.start.column+1,E.start.column+2);if(M==")")return E.end.column++,E}}),this.add("brackets","insertion",function(k,F,O,L,E){if(E=="["){p(O);var _=O.getSelectionRange(),I=L.doc.getTextRange(_);if(I!==""&&O.getWrapBehavioursEnabled())return v(_,I,"[","]");if(y.isSaneInsertion(O,L))return y.recordAutoInsert(O,L,"]"),{text:"[]",selection:[1,1]}}else if(E=="]"){p(O);var M=O.getCursorPosition(),$=L.doc.getLine(M.row),B=$.substring(M.column,M.column+1);if(B=="]"){var T=L.$findOpeningBracket("]",{column:M.column+1,row:M.row});if(T!==null&&y.isAutoInsertedClosing(M,$,E))return y.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(k,F,O,L,E){var _=L.doc.getTextRange(E);if(!E.isMultiLine()&&_=="["){p(O);var I=L.doc.getLine(E.start.row),M=I.substring(E.start.column+1,E.start.column+2);if(M=="]")return E.end.column++,E}}),this.add("string_dquotes","insertion",function(k,F,O,L,E){var _=L.$mode.$quotes||f;if(E.length==1&&_[E]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(E)!=-1)return;p(O);var I=E,M=O.getSelectionRange(),$=L.doc.getTextRange(M);if($!==""&&($.length!=1||!_[$])&&O.getWrapBehavioursEnabled())return v(M,$,I,I);if(!$){var B=O.getCursorPosition(),T=L.doc.getLine(B.row),b=T.substring(B.column-1,B.column),P=T.substring(B.column,B.column+1),N=L.getTokenAt(B.row,B.column),z=L.getTokenAt(B.row,B.column+1);if(b=="\\"&&N&&/escape/.test(N.type))return null;var q=N&&/string|escape/.test(N.type),K=!z||/string|escape/.test(z.type),J;if(P==I)J=q!==K,J&&/string\.end/.test(z.type)&&(J=!1);else{if(q&&!K||q&&K)return null;var Q=L.$mode.tokenRe;Q.lastIndex=0;var U=Q.test(b);Q.lastIndex=0;var re=Q.test(P),Z=L.$mode.$pairQuotesAfter,ue=Z&&Z[I]&&Z[I].test(b);if(!ue&&U||re||P&&!/[\s;,.})\]\\]/.test(P))return null;var ce=T[B.column-2];if(b==I&&(ce==I||Q.test(ce)))return null;J=!0}return{text:J?I+I:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(k,F,O,L,E){var _=L.$mode.$quotes||f,I=L.doc.getTextRange(E);if(!E.isMultiLine()&&_.hasOwnProperty(I)){p(O);var M=L.doc.getLine(E.start.row),$=M.substring(E.start.column+1,E.start.column+2);if($==I)return E.end.column++,E}}),C.closeDocComment!==!1&&this.add("doc comment end","insertion",function(k,F,O,L,E){if(k==="doc-start"&&(E===`
`||E===`\r
`)&&O.selection.isEmpty()){var _=O.getCursorPosition();if(_.column===0)return;for(var I=L.doc.getLine(_.row),M=L.doc.getLine(_.row+1),$=L.getTokens(_.row),B=0,T=0;T<$.length;T++){B+=$[T].value.length;var b=$[T];if(B>=_.column){if(B===_.column){if(!/\.doc/.test(b.type))return;if(/\*\//.test(b.value)){var P=$[T+1];if(!P||!/\.doc/.test(P.type))return}}var N=_.column-(B-b.value.length),z=b.value.indexOf("*/"),q=b.value.indexOf("/**",z>-1?z+2:0);if(q!==-1&&N>q&&N<q+3||z!==-1&&q!==-1&&N>=z&&N<=q||!/\.doc/.test(b.type))return;break}}var K=this.$getIndent(I);if(/\s*\*/.test(M))return/^\s*\*/.test(I)?{text:E+K+"* ",selection:[1,2+K.length,1,2+K.length]}:{text:E+K+" * ",selection:[1,3+K.length,1,3+K.length]};if(/\/\*\*/.test(I.substring(0,_.column)))return{text:E+K+" * "+E+" "+K+"*/",selection:[1,4+K.length,1,4+K.length]}}})},y.isSaneInsertion=function(C,k){var F=C.getCursorPosition(),O=new m(k,F.row,F.column);if(!this.$matchTokenType(O.getCurrentToken()||"text",g)){if(/[)}\]]/.test(C.session.getLine(F.row)[F.column]))return!0;var L=new m(k,F.row,F.column+1);if(!this.$matchTokenType(L.getCurrentToken()||"text",g))return!1}return O.stepForward(),O.getCurrentTokenRow()!==F.row||this.$matchTokenType(O.getCurrentToken()||"text",l)},y.$matchTokenType=function(C,k){return k.indexOf(C.type||C)>-1},y.recordAutoInsert=function(C,k,F){var O=C.getCursorPosition(),L=k.doc.getLine(O.row);this.isAutoInsertedClosing(O,L,h.autoInsertedLineEnd[0])||(h.autoInsertedBrackets=0),h.autoInsertedRow=O.row,h.autoInsertedLineEnd=F+L.substr(O.column),h.autoInsertedBrackets++},y.recordMaybeInsert=function(C,k,F){var O=C.getCursorPosition(),L=k.doc.getLine(O.row);this.isMaybeInsertedClosing(O,L)||(h.maybeInsertedBrackets=0),h.maybeInsertedRow=O.row,h.maybeInsertedLineStart=L.substr(0,O.column)+F,h.maybeInsertedLineEnd=L.substr(O.column),h.maybeInsertedBrackets++},y.isAutoInsertedClosing=function(C,k,F){return h.autoInsertedBrackets>0&&C.row===h.autoInsertedRow&&F===h.autoInsertedLineEnd[0]&&k.substr(C.column)===h.autoInsertedLineEnd},y.isMaybeInsertedClosing=function(C,k){return h.maybeInsertedBrackets>0&&C.row===h.maybeInsertedRow&&k.substr(C.column)===h.maybeInsertedLineEnd&&k.substr(0,C.column)==h.maybeInsertedLineStart},y.popAutoInsertedClosing=function(){h.autoInsertedLineEnd=h.autoInsertedLineEnd.substr(1),h.autoInsertedBrackets--},y.clearMaybeInsertedClosing=function(){h&&(h.maybeInsertedBrackets=0,h.maybeInsertedRow=-1)},o.inherits(y,c),r.CstyleBehaviour=y}),ace.define("ace/unicode",["require","exports","module"],function(t,r,s){for(var o=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],c=0,m=[],u=0;u<o.length;u+=2)m.push(c+=o[u]),o[u+1]&&m.push(45,c+=o[u+1]);r.wordChars=String.fromCharCode.apply(null,m)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,r,s){var o=t("../config"),c=t("../tokenizer").Tokenizer,m=t("./text_highlight_rules").TextHighlightRules,u=t("./behaviour/cstyle").CstyleBehaviour,g=t("../unicode"),l=t("../lib/lang"),h=t("../token_iterator").TokenIterator,d=t("../range").Range,f;f=function(){this.HighlightRules=m},(function(){this.$defaultBehaviour=new u,this.tokenRe=new RegExp("^["+g.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+g.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new c(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(p,v,y,C){var k=v.doc,F=!0,O=!0,L=1/0,E=v.getTabSize(),_=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var $=this.lineCommentStart.map(l.escapeRegExp).join("|"),I=this.lineCommentStart[0];else var $=l.escapeRegExp(this.lineCommentStart),I=this.lineCommentStart;$=new RegExp("^(\\s*)(?:"+$+") ?"),_=v.getUseSoftTabs();var b=function(re,Z){var ue=re.match($);if(ue){var ce=ue[1].length,oe=ue[0].length;!z(re,ce,oe)&&ue[0][oe-1]==" "&&oe--,k.removeInLine(Z,ce,oe)}},N=I+" ",T=function(re,Z){(!F||/\S/.test(re))&&(z(re,L,L)?k.insertInLine({row:Z,column:L},N):k.insertInLine({row:Z,column:L},I))},P=function(re,Z){return $.test(re)},z=function(re,Z,ue){for(var ce=0;Z--&&re.charAt(Z)==" ";)ce++;if(ce%E!=0)return!1;for(var ce=0;re.charAt(ue++)==" ";)ce++;return E>2?ce%E!=E-1:ce%E==0}}else{if(!this.blockComment)return!1;var I=this.blockComment.start,M=this.blockComment.end,$=new RegExp("^(\\s*)(?:"+l.escapeRegExp(I)+")"),B=new RegExp("(?:"+l.escapeRegExp(M)+")\\s*$"),T=function(J,Q){P(J,Q)||(!F||/\S/.test(J))&&(k.insertInLine({row:Q,column:J.length},M),k.insertInLine({row:Q,column:L},I))},b=function(J,Q){var U;(U=J.match(B))&&k.removeInLine(Q,J.length-U[0].length,J.length),(U=J.match($))&&k.removeInLine(Q,U[1].length,U[0].length)},P=function(J,Q){if($.test(J))return!0;for(var U=v.getTokens(Q),re=0;re<U.length;re++)if(U[re].type==="comment")return!0}}function q(J){for(var Q=y;Q<=C;Q++)J(k.getLine(Q),Q)}var K=1/0;q(function(J,Q){var U=J.search(/\S/);U!==-1?(U<L&&(L=U),O&&!P(J,Q)&&(O=!1)):K>J.length&&(K=J.length)}),L==1/0&&(L=K,F=!1,O=!1),_&&L%E!=0&&(L=Math.floor(L/E)*E),q(O?b:T)},this.toggleBlockComment=function(p,v,y,C){var k=this.blockComment;if(k){!k.start&&k[0]&&(k=k[0]);var F=new h(v,C.row,C.column),O=F.getCurrentToken();v.selection;var L=v.selection.toOrientedRange(),E,_;if(O&&/comment/.test(O.type)){for(var I,M;O&&/comment/.test(O.type);){var $=O.value.indexOf(k.start);if($!=-1){var B=F.getCurrentTokenRow(),T=F.getCurrentTokenColumn()+$;I=new d(B,T,B,T+k.start.length);break}O=F.stepBackward()}for(var F=new h(v,C.row,C.column),O=F.getCurrentToken();O&&/comment/.test(O.type);){var $=O.value.indexOf(k.end);if($!=-1){var B=F.getCurrentTokenRow(),T=F.getCurrentTokenColumn()+$;M=new d(B,T,B,T+k.end.length);break}O=F.stepForward()}M&&v.remove(M),I&&(v.remove(I),E=I.start.row,_=-k.start.length)}else _=k.start.length,E=y.start.row,v.insert(y.end,k.end),v.insert(y.start,k.start);L.start.row==E&&(L.start.column+=_),L.end.row==E&&(L.end.column+=_),v.selection.fromOrientedRange(L)}},this.getNextLineIndent=function(p,v,y){return this.$getIndent(v)},this.checkOutdent=function(p,v,y){return!1},this.autoOutdent=function(p,v,y){},this.$getIndent=function(p){return p.match(/^\s*/)[0]},this.createWorker=function(p){return null},this.createModeDelegates=function(p){this.$embeds=[],this.$modes={};for(var v in p)if(p[v]){var y=p[v],C=y.prototype.$id,k=o.$modes[C];k||(o.$modes[C]=k=new y),o.$modes[v]||(o.$modes[v]=k),this.$embeds.push(v),this.$modes[v]=k}for(var F=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],O=function(E){(function(_){var I=F[E],M=_[I];_[F[E]]=function(){return this.$delegator(I,arguments,M)}})(L)},L=this,v=0;v<F.length;v++)O(v)},this.$delegator=function(p,v,y){var C=v[0]||"start";if(typeof C!="string"){if(Array.isArray(C[2])){var k=C[2][C[2].length-1],F=this.$modes[k];if(F)return F[p].apply(F,[C[1]].concat([].slice.call(v,1)))}C=C[0]||"start"}for(var O=0;O<this.$embeds.length;O++)if(this.$modes[this.$embeds[O]]){var L=C.split(this.$embeds[O]);if(!L[0]&&L[1]){v[0]=L[1];var F=this.$modes[this.$embeds[O]];return F[p].apply(F,v)}}var E=y.apply(this,v);return y?E:void 0},this.transformAction=function(p,v,y,C,k){if(this.$behaviour){var F=this.$behaviour.getBehaviours();for(var O in F)if(F[O][v]){var L=F[O][v].apply(this,arguments);if(L)return L}}},this.getKeywords=function(p){if(!this.completionKeywords){var v=this.$tokenizer.rules,y=[];for(var C in v)for(var k=v[C],F=0,O=k.length;F<O;F++)if(typeof k[F].token=="string")/keyword|support|storage/.test(k[F].token)&&y.push(k[F].regex);else if(typeof k[F].token=="object"){for(var L=0,E=k[F].token.length;L<E;L++)if(/keyword|support|storage/.test(k[F].token[L])){var C=k[F].regex.match(/\(.+?\)/g)[L];y.push(C.substr(1,C.length-2))}}this.completionKeywords=y}return p?y.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(p,v,y,C){var k=this.$keywordList||this.$createKeywordList();return k.map(function(F){return{name:F,value:F,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(f.prototype),r.Mode=f}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(t,r,s){var o=t("./lib/dom"),c=function(){function m(u){this.session=u,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return m.prototype.getRowLength=function(u){var g;return this.lineWidgets?g=this.lineWidgets[u]&&this.lineWidgets[u].rowCount||0:g=0,!this.$useWrapMode||!this.$wrapData[u]?1+g:this.$wrapData[u].length+1+g},m.prototype.$getWidgetScreenLength=function(){var u=0;return this.lineWidgets.forEach(function(g){g&&g.rowCount&&!g.hidden&&(u+=g.rowCount)}),u},m.prototype.$onChangeEditor=function(u){this.attach(u.editor)},m.prototype.attach=function(u){u&&u.widgetManager&&u.widgetManager!=this&&u.widgetManager.detach(),this.editor!=u&&(this.detach(),this.editor=u,u&&(u.widgetManager=this,u.renderer.on("beforeRender",this.measureWidgets),u.renderer.on("afterRender",this.renderWidgets)))},m.prototype.detach=function(u){var g=this.editor;if(g){this.editor=null,g.widgetManager=null,g.renderer.off("beforeRender",this.measureWidgets),g.renderer.off("afterRender",this.renderWidgets);var l=this.session.lineWidgets;l&&l.forEach(function(h){h&&h.el&&h.el.parentNode&&(h._inDocument=!1,h.el.parentNode.removeChild(h.el))})}},m.prototype.updateOnFold=function(u,g){var l=g.lineWidgets;if(!(!l||!u.action)){for(var h=u.data,d=h.start.row,f=h.end.row,p=u.action=="add",v=d+1;v<f;v++)l[v]&&(l[v].hidden=p);l[f]&&(p?l[d]?l[f].hidden=p:l[d]=l[f]:(l[d]==l[f]&&(l[d]=void 0),l[f].hidden=p))}},m.prototype.updateOnChange=function(u){var g=this.session.lineWidgets;if(g){var l=u.start.row,h=u.end.row-l;if(h!==0)if(u.action=="remove"){var d=g.splice(l+1,h);!g[l]&&d[d.length-1]&&(g[l]=d.pop()),d.forEach(function(p){p&&this.removeLineWidget(p)},this),this.$updateRows()}else{var f=new Array(h);g[l]&&g[l].column!=null&&u.start.column>g[l].column&&l++,f.unshift(l,0),g.splice.apply(g,f),this.$updateRows()}}},m.prototype.$updateRows=function(){var u=this.session.lineWidgets;if(u){var g=!0;u.forEach(function(l,h){if(l)for(g=!1,l.row=h;l.$oldWidget;)l.$oldWidget.row=h,l=l.$oldWidget}),g&&(this.session.lineWidgets=null)}},m.prototype.$registerLineWidget=function(u){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var g=this.session.lineWidgets[u.row];return g&&(u.$oldWidget=g,g.el&&g.el.parentNode&&(g.el.parentNode.removeChild(g.el),g._inDocument=!1)),this.session.lineWidgets[u.row]=u,u},m.prototype.addLineWidget=function(u){if(this.$registerLineWidget(u),u.session=this.session,!this.editor)return u;var g=this.editor.renderer;u.html&&!u.el&&(u.el=o.createElement("div"),u.el.innerHTML=u.html),u.text&&!u.el&&(u.el=o.createElement("div"),u.el.textContent=u.text),u.el&&(o.addCssClass(u.el,"ace_lineWidgetContainer"),u.className&&o.addCssClass(u.el,u.className),u.el.style.position="absolute",u.el.style.zIndex="5",g.container.appendChild(u.el),u._inDocument=!0,u.coverGutter||(u.el.style.zIndex="3"),u.pixelHeight==null&&(u.pixelHeight=u.el.offsetHeight)),u.rowCount==null&&(u.rowCount=u.pixelHeight/g.layerConfig.lineHeight);var l=this.session.getFoldAt(u.row,0);if(u.$fold=l,l){var h=this.session.lineWidgets;u.row==l.end.row&&!h[l.start.row]?h[l.start.row]=u:u.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:u.row}}}),this.$updateRows(),this.renderWidgets(null,g),this.onWidgetChanged(u),u},m.prototype.removeLineWidget=function(u){if(u._inDocument=!1,u.session=null,u.el&&u.el.parentNode&&u.el.parentNode.removeChild(u.el),u.editor&&u.editor.destroy)try{u.editor.destroy()}catch{}if(this.session.lineWidgets){var g=this.session.lineWidgets[u.row];if(g==u)this.session.lineWidgets[u.row]=u.$oldWidget,u.$oldWidget&&this.onWidgetChanged(u.$oldWidget);else for(;g;){if(g.$oldWidget==u){g.$oldWidget=u.$oldWidget;break}g=g.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:u.row}}}),this.$updateRows()},m.prototype.getWidgetsAtRow=function(u){for(var g=this.session.lineWidgets,l=g&&g[u],h=[];l;)h.push(l),l=l.$oldWidget;return h},m.prototype.onWidgetChanged=function(u){this.session._changedWidgets.push(u),this.editor&&this.editor.renderer.updateFull()},m.prototype.measureWidgets=function(u,g){var l=this.session._changedWidgets,h=g.layerConfig;if(!(!l||!l.length)){for(var d=1/0,f=0;f<l.length;f++){var p=l[f];if(!(!p||!p.el)&&p.session==this.session){if(!p._inDocument){if(this.session.lineWidgets[p.row]!=p)continue;p._inDocument=!0,g.container.appendChild(p.el)}p.h=p.el.offsetHeight,p.fixedWidth||(p.w=p.el.offsetWidth,p.screenWidth=Math.ceil(p.w/h.characterWidth));var v=p.h/h.lineHeight;p.coverLine&&(v-=this.session.getRowLineCount(p.row),v<0&&(v=0)),p.rowCount!=v&&(p.rowCount=v,p.row<d&&(d=p.row))}}d!=1/0&&(this.session._emit("changeFold",{data:{start:{row:d}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},m.prototype.renderWidgets=function(u,g){var l=g.layerConfig,h=this.session.lineWidgets;if(h){for(var d=Math.min(this.firstRow,l.firstRow),f=Math.max(this.lastRow,l.lastRow,h.length);d>0&&!h[d];)d--;this.firstRow=l.firstRow,this.lastRow=l.lastRow,g.$cursorLayer.config=l;for(var p=d;p<=f;p++){var v=h[p];if(!(!v||!v.el)){if(v.hidden){v.el.style.top=-100-(v.pixelHeight||0)+"px";continue}v._inDocument||(v._inDocument=!0,g.container.appendChild(v.el));var y=g.$cursorLayer.getPixelPosition({row:p,column:0},!0).top;v.coverLine||(y+=l.lineHeight*this.session.getRowLineCount(v.row)),v.el.style.top=y-l.offset+"px";var C=v.coverGutter?0:g.gutterWidth;v.fixedWidth||(C-=g.scrollLeft),v.el.style.left=C+"px",v.fullWidth&&v.screenWidth&&(v.el.style.minWidth=l.width+2*l.padding+"px"),v.fixedWidth?v.el.style.right=g.scrollBar.getWidth()+"px":v.el.style.right=""}}}},m}();r.LineWidgets=c}),ace.define("ace/apply_delta",["require","exports","module"],function(t,r,s){r.applyDelta=function(o,c,m){var u=c.start.row,g=c.start.column,l=o[u]||"";switch(c.action){case"insert":var h=c.lines;if(h.length===1)o[u]=l.substring(0,g)+c.lines[0]+l.substring(g);else{var d=[u,1].concat(c.lines);o.splice.apply(o,d),o[u]=l.substring(0,g)+o[u],o[u+c.lines.length-1]+=l.substring(g)}break;case"remove":var f=c.end.column,p=c.end.row;u===p?o[u]=l.substring(0,g)+l.substring(f):o.splice(u,p-u+1,l.substring(0,g)+o[p].substring(f));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,r,s){var o=t("./lib/oop"),c=t("./lib/event_emitter").EventEmitter,m=function(){function l(h,d,f){this.$onChange=this.onChange.bind(this),this.attach(h),typeof d!="number"?this.setPosition(d.row,d.column):this.setPosition(d,f)}return l.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},l.prototype.getDocument=function(){return this.document},l.prototype.onChange=function(h){if(!(h.start.row==h.end.row&&h.start.row!=this.row)&&!(h.start.row>this.row)){var d=g(h,{row:this.row,column:this.column},this.$insertRight);this.setPosition(d.row,d.column,!0)}},l.prototype.setPosition=function(h,d,f){var p;if(f?p={row:h,column:d}:p=this.$clipPositionToDocument(h,d),!(this.row==p.row&&this.column==p.column)){var v={row:this.row,column:this.column};this.row=p.row,this.column=p.column,this._signal("change",{old:v,value:p})}},l.prototype.detach=function(){this.document.off("change",this.$onChange)},l.prototype.attach=function(h){this.document=h||this.document,this.document.on("change",this.$onChange)},l.prototype.$clipPositionToDocument=function(h,d){var f={};return h>=this.document.getLength()?(f.row=Math.max(0,this.document.getLength()-1),f.column=this.document.getLine(f.row).length):h<0?(f.row=0,f.column=0):(f.row=h,f.column=Math.min(this.document.getLine(f.row).length,Math.max(0,d))),d<0&&(f.column=0),f},l}();m.prototype.$insertRight=!1,o.implement(m.prototype,c);function u(l,h,d){var f=d?l.column<=h.column:l.column<h.column;return l.row<h.row||l.row==h.row&&f}function g(l,h,d){var f=l.action=="insert",p=(f?1:-1)*(l.end.row-l.start.row),v=(f?1:-1)*(l.end.column-l.start.column),y=l.start,C=f?y:l.end;return u(h,y,d)?{row:h.row,column:h.column}:u(C,h,!d)?{row:h.row+p,column:h.column+(h.row==C.row?v:0)}:{row:y.row,column:y.column}}r.Anchor=m}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,r,s){var o=t("./lib/oop"),c=t("./apply_delta").applyDelta,m=t("./lib/event_emitter").EventEmitter,u=t("./range").Range,g=t("./anchor").Anchor,l=function(){function h(d){this.$lines=[""],d.length===0?this.$lines=[""]:Array.isArray(d)?this.insertMergedLines({row:0,column:0},d):this.insert({row:0,column:0},d)}return h.prototype.setValue=function(d){var f=this.getLength()-1;this.remove(new u(0,0,f,this.getLine(f).length)),this.insert({row:0,column:0},d||"")},h.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},h.prototype.createAnchor=function(d,f){return new g(this,d,f)},h.prototype.$detectNewLine=function(d){var f=d.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=f?f[1]:`
`,this._signal("changeNewLineMode")},h.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},h.prototype.setNewLineMode=function(d){this.$newLineMode!==d&&(this.$newLineMode=d,this._signal("changeNewLineMode"))},h.prototype.getNewLineMode=function(){return this.$newLineMode},h.prototype.isNewLine=function(d){return d==`\r
`||d=="\r"||d==`
`},h.prototype.getLine=function(d){return this.$lines[d]||""},h.prototype.getLines=function(d,f){return this.$lines.slice(d,f+1)},h.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},h.prototype.getLength=function(){return this.$lines.length},h.prototype.getTextRange=function(d){return this.getLinesForRange(d).join(this.getNewLineCharacter())},h.prototype.getLinesForRange=function(d){var f;if(d.start.row===d.end.row)f=[this.getLine(d.start.row).substring(d.start.column,d.end.column)];else{f=this.getLines(d.start.row,d.end.row),f[0]=(f[0]||"").substring(d.start.column);var p=f.length-1;d.end.row-d.start.row==p&&(f[p]=f[p].substring(0,d.end.column))}return f},h.prototype.insertLines=function(d,f){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(d,f)},h.prototype.removeLines=function(d,f){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(d,f)},h.prototype.insertNewLine=function(d){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(d,["",""])},h.prototype.insert=function(d,f){return this.getLength()<=1&&this.$detectNewLine(f),this.insertMergedLines(d,this.$split(f))},h.prototype.insertInLine=function(d,f){var p=this.clippedPos(d.row,d.column),v=this.pos(d.row,d.column+f.length);return this.applyDelta({start:p,end:v,action:"insert",lines:[f]},!0),this.clonePos(v)},h.prototype.clippedPos=function(d,f){var p=this.getLength();d===void 0?d=p:d<0?d=0:d>=p&&(d=p-1,f=void 0);var v=this.getLine(d);return f==null&&(f=v.length),f=Math.min(Math.max(f,0),v.length),{row:d,column:f}},h.prototype.clonePos=function(d){return{row:d.row,column:d.column}},h.prototype.pos=function(d,f){return{row:d,column:f}},h.prototype.$clipPosition=function(d){var f=this.getLength();return d.row>=f?(d.row=Math.max(0,f-1),d.column=this.getLine(f-1).length):(d.row=Math.max(0,d.row),d.column=Math.min(Math.max(d.column,0),this.getLine(d.row).length)),d},h.prototype.insertFullLines=function(d,f){d=Math.min(Math.max(d,0),this.getLength());var p=0;d<this.getLength()?(f=f.concat([""]),p=0):(f=[""].concat(f),d--,p=this.$lines[d].length),this.insertMergedLines({row:d,column:p},f)},h.prototype.insertMergedLines=function(d,f){var p=this.clippedPos(d.row,d.column),v={row:p.row+f.length-1,column:(f.length==1?p.column:0)+f[f.length-1].length};return this.applyDelta({start:p,end:v,action:"insert",lines:f}),this.clonePos(v)},h.prototype.remove=function(d){var f=this.clippedPos(d.start.row,d.start.column),p=this.clippedPos(d.end.row,d.end.column);return this.applyDelta({start:f,end:p,action:"remove",lines:this.getLinesForRange({start:f,end:p})}),this.clonePos(f)},h.prototype.removeInLine=function(d,f,p){var v=this.clippedPos(d,f),y=this.clippedPos(d,p);return this.applyDelta({start:v,end:y,action:"remove",lines:this.getLinesForRange({start:v,end:y})},!0),this.clonePos(v)},h.prototype.removeFullLines=function(d,f){d=Math.min(Math.max(0,d),this.getLength()-1),f=Math.min(Math.max(0,f),this.getLength()-1);var p=f==this.getLength()-1&&d>0,v=f<this.getLength()-1,y=p?d-1:d,C=p?this.getLine(y).length:0,k=v?f+1:f,F=v?0:this.getLine(k).length,O=new u(y,C,k,F),L=this.$lines.slice(d,f+1);return this.applyDelta({start:O.start,end:O.end,action:"remove",lines:this.getLinesForRange(O)}),L},h.prototype.removeNewLine=function(d){d<this.getLength()-1&&d>=0&&this.applyDelta({start:this.pos(d,this.getLine(d).length),end:this.pos(d+1,0),action:"remove",lines:["",""]})},h.prototype.replace=function(d,f){if(d instanceof u||(d=u.fromPoints(d.start,d.end)),f.length===0&&d.isEmpty())return d.start;if(f==this.getTextRange(d))return d.end;this.remove(d);var p;return f?p=this.insert(d.start,f):p=d.start,p},h.prototype.applyDeltas=function(d){for(var f=0;f<d.length;f++)this.applyDelta(d[f])},h.prototype.revertDeltas=function(d){for(var f=d.length-1;f>=0;f--)this.revertDelta(d[f])},h.prototype.applyDelta=function(d,f){var p=d.action=="insert";(p?d.lines.length<=1&&!d.lines[0]:!u.comparePoints(d.start,d.end))||(p&&d.lines.length>2e4?this.$splitAndapplyLargeDelta(d,2e4):(c(this.$lines,d,f),this._signal("change",d)))},h.prototype.$safeApplyDelta=function(d){var f=this.$lines.length;(d.action=="remove"&&d.start.row<f&&d.end.row<f||d.action=="insert"&&d.start.row<=f)&&this.applyDelta(d)},h.prototype.$splitAndapplyLargeDelta=function(d,f){for(var p=d.lines,v=p.length-f+1,y=d.start.row,C=d.start.column,k=0,F=0;k<v;k=F){F+=f-1;var O=p.slice(k,F);O.push(""),this.applyDelta({start:this.pos(y+k,C),end:this.pos(y+F,C=0),action:d.action,lines:O},!0)}d.lines=p.slice(k),d.start.row=y+k,d.start.column=C,this.applyDelta(d,!0)},h.prototype.revertDelta=function(d){this.$safeApplyDelta({start:this.clonePos(d.start),end:this.clonePos(d.end),action:d.action=="insert"?"remove":"insert",lines:d.lines.slice()})},h.prototype.indexToPosition=function(d,f){for(var p=this.$lines||this.getAllLines(),v=this.getNewLineCharacter().length,y=f||0,C=p.length;y<C;y++)if(d-=p[y].length+v,d<0)return{row:y,column:d+p[y].length+v};return{row:C-1,column:d+p[C-1].length+v}},h.prototype.positionToIndex=function(d,f){for(var p=this.$lines||this.getAllLines(),v=this.getNewLineCharacter().length,y=0,C=Math.min(d.row,p.length),k=f||0;k<C;++k)y+=p[k].length+v;return y+d.column},h.prototype.$split=function(d){return d.split(/\r\n|\r|\n/)},h}();l.prototype.$autoNewLine="",l.prototype.$newLineMode="auto",o.implement(l.prototype,m),r.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,r,s){var o=t("./lib/oop"),c=t("./lib/event_emitter").EventEmitter,m=function(){function u(g,l){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=g;var h=this;this.$worker=function(){if(h.running){for(var d=new Date,f=h.currentLine,p=-1,v=h.doc,y=f;h.lines[f];)f++;var C=v.getLength(),k=0;for(h.running=!1;f<C;){h.$tokenizeRow(f),p=f;do f++;while(h.lines[f]);if(k++,k%5===0&&new Date-d>20){h.running=setTimeout(h.$worker,20);break}}h.currentLine=f,p==-1&&(p=f),y<=p&&h.fireUpdateEvent(y,p)}}}return u.prototype.setTokenizer=function(g){this.tokenizer=g,this.lines=[],this.states=[],this.start(0)},u.prototype.setDocument=function(g){this.doc=g,this.lines=[],this.states=[],this.stop()},u.prototype.fireUpdateEvent=function(g,l){var h={first:g,last:l};this._signal("update",{data:h})},u.prototype.start=function(g){this.currentLine=Math.min(g||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},u.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},u.prototype.$updateOnChange=function(g){var l=g.start.row,h=g.end.row-l;if(h===0)this.lines[l]=null;else if(g.action=="remove")this.lines.splice(l,h+1,null),this.states.splice(l,h+1,null);else{var d=Array(h+1);d.unshift(l,1),this.lines.splice.apply(this.lines,d),this.states.splice.apply(this.states,d)}this.currentLine=Math.min(l,this.currentLine,this.doc.getLength()),this.stop()},u.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},u.prototype.getTokens=function(g){return this.lines[g]||this.$tokenizeRow(g)},u.prototype.getState=function(g){return this.currentLine==g&&this.$tokenizeRow(g),this.states[g]||"start"},u.prototype.$tokenizeRow=function(g){var l=this.doc.getLine(g),h=this.states[g-1],d=this.tokenizer.getLineTokens(l,h,g);return this.states[g]+""!=d.state+""?(this.states[g]=d.state,this.lines[g+1]=null,this.currentLine>g+1&&(this.currentLine=g+1)):this.currentLine==g&&(this.currentLine=g+1),this.lines[g]=d.tokens},u.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},u}();o.implement(m.prototype,c),r.BackgroundTokenizer=m}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(t,r,s){var o=t("./lib/lang"),c=t("./range").Range,m=function(){function u(g,l,h){h===void 0&&(h="text"),this.setRegexp(g),this.clazz=l,this.type=h}return u.prototype.setRegexp=function(g){this.regExp+""!=g+""&&(this.regExp=g,this.cache=[])},u.prototype.update=function(g,l,h,d){if(this.regExp)for(var f=d.firstRow,p=d.lastRow,v={},y=f;y<=p;y++){var C=this.cache[y];C==null&&(C=o.getMatchOffsets(h.getLine(y),this.regExp),C.length>this.MAX_RANGES&&(C=C.slice(0,this.MAX_RANGES)),C=C.map(function(L){return new c(y,L.offset,y,L.offset+L.length)}),this.cache[y]=C.length?C:"");for(var k=C.length;k--;){var F=C[k].toScreenRange(h),O=F.toString();v[O]||(v[O]=!0,l.drawSingleLineMarker(g,F,this.clazz,d))}}},u}();m.prototype.MAX_RANGES=500,r.SearchHighlight=m}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(t,r,s){var o=function(){function L(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return L.prototype.addSession=function(E){this.$session=E},L.prototype.add=function(E,_,I){if(!this.$fromUndo&&E!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),_===!1||!this.lastDeltas){this.lastDeltas=[];var M=this.$undoStack.length;M>this.$undoDepth-1&&this.$undoStack.splice(0,M-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),E.id=this.$rev=++this.$maxRev}(E.action=="remove"||E.action=="insert")&&(this.$lastDelta=E),this.lastDeltas.push(E)}},L.prototype.addSelection=function(E,_){this.selections.push({value:E,rev:_||this.$rev})},L.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},L.prototype.markIgnored=function(E,_){_==null&&(_=this.$rev+1);for(var I=this.$undoStack,M=I.length;M--;){var $=I[M][0];if($.id<=E)break;$.id<_&&($.ignore=!0)}this.lastDeltas=null},L.prototype.getSelection=function(E,_){for(var I=this.selections,M=I.length;M--;){var $=I[M];if($.rev<E)return _&&($=I[M+1]),$}},L.prototype.getRevision=function(){return this.$rev},L.prototype.getDeltas=function(E,_){_==null&&(_=this.$rev+1);for(var I=this.$undoStack,M=null,$=0,B=I.length;B--;){var T=I[B][0];if(T.id<_&&!M&&(M=B+1),T.id<=E){$=B+1;break}}return I.slice($,M)},L.prototype.getChangedRanges=function(E,_){_==null&&(_=this.$rev+1)},L.prototype.getChangedLines=function(E,_){_==null&&(_=this.$rev+1)},L.prototype.undo=function(E,_){this.lastDeltas=null;var I=this.$undoStack;if(c(I,I.length)){E||(E=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var M=I.pop(),$=null;return M&&($=E.undoChanges(M,_),this.$redoStack.push(M),this.$syncRev()),this.$fromUndo=!1,$}},L.prototype.redo=function(E,_){if(this.lastDeltas=null,E||(E=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var I=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);O(this.$redoStack,I),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(B){B[0].id=++this.$maxRev},this)}var M=this.$redoStack.pop(),$=null;return M&&($=E.redoChanges(M,_),this.$undoStack.push(M),this.$syncRev()),this.$fromUndo=!1,$},L.prototype.$syncRev=function(){var E=this.$undoStack,_=E[E.length-1],I=_&&_[0].id||0;this.$redoStackBaseRev=I,this.$rev=I},L.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},L.prototype.canUndo=function(){return this.$undoStack.length>0},L.prototype.canRedo=function(){return this.$redoStack.length>0},L.prototype.bookmark=function(E){E==null&&(E=this.$rev),this.mark=E},L.prototype.isAtBookmark=function(){return this.$rev===this.mark},L.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},L.prototype.fromJSON=function(E){this.reset(),this.$undoStack=E.$undoStack,this.$redoStack=E.$redoStack},L.prototype.$prettyPrint=function(E){return E?h(E):h(this.$undoStack)+`
---
`+h(this.$redoStack)},L}();o.prototype.hasUndo=o.prototype.canUndo,o.prototype.hasRedo=o.prototype.canRedo,o.prototype.isClean=o.prototype.isAtBookmark,o.prototype.markClean=o.prototype.bookmark;function c(L,E){for(var _=E;_--;){var I=L[_];if(I&&!I[0].ignore){for(;_<E-1;){var M=p(L[_],L[_+1]);L[_]=M[0],L[_+1]=M[1],_++}return!0}}}var m=t("./range").Range,u=m.comparePoints;m.comparePoints;function g(L){return{row:L.row,column:L.column}}function l(L){return{start:g(L.start),end:g(L.end),action:L.action,lines:L.lines.slice()}}function h(L){if(L=L||this,Array.isArray(L))return L.map(h).join(`
`);var E="";return L.action?(E=L.action=="insert"?"+":"-",E+="["+L.lines+"]"):L.value&&(Array.isArray(L.value)?E=L.value.map(d).join(`
`):E=d(L.value)),L.start&&(E+=d(L)),(L.id||L.rev)&&(E+="	("+(L.id||L.rev)+")"),E}function d(L){return L.start.row+":"+L.start.column+"=>"+L.end.row+":"+L.end.column}function f(L,E){var _=L.action=="insert",I=E.action=="insert";if(_&&I)if(u(E.start,L.end)>=0)y(E,L,-1);else if(u(E.start,L.start)<=0)y(L,E,1);else return null;else if(_&&!I)if(u(E.start,L.end)>=0)y(E,L,-1);else if(u(E.end,L.start)<=0)y(L,E,-1);else return null;else if(!_&&I)if(u(E.start,L.start)>=0)y(E,L,1);else if(u(E.start,L.start)<=0)y(L,E,1);else return null;else if(!_&&!I)if(u(E.start,L.start)>=0)y(E,L,1);else if(u(E.end,L.start)<=0)y(L,E,-1);else return null;return[E,L]}function p(L,E){for(var _=L.length;_--;)for(var I=0;I<E.length;I++)if(!f(L[_],E[I])){for(;_<L.length;){for(;I--;)f(E[I],L[_]);I=E.length,_++}return[L,E]}return L.selectionBefore=E.selectionBefore=L.selectionAfter=E.selectionAfter=null,[E,L]}function v(L,E){var _=L.action=="insert",I=E.action=="insert";if(_&&I)u(L.start,E.start)<0?y(E,L,1):y(L,E,1);else if(_&&!I)u(L.start,E.end)>=0?y(L,E,-1):(u(L.start,E.start)<=0||y(L,m.fromPoints(E.start,L.start),-1),y(E,L,1));else if(!_&&I)u(E.start,L.end)>=0?y(E,L,-1):(u(E.start,L.start)<=0||y(E,m.fromPoints(L.start,E.start),-1),y(L,E,1));else if(!_&&!I)if(u(E.start,L.end)>=0)y(E,L,-1);else if(u(E.end,L.start)<=0)y(L,E,-1);else{var M,$;return u(L.start,E.start)<0&&(M=L,L=k(L,E.start)),u(L.end,E.end)>0&&($=k(L,E.end)),C(E.end,L.start,L.end,-1),$&&!M&&(L.lines=$.lines,L.start=$.start,L.end=$.end,$=L),[E,M,$].filter(Boolean)}return[E,L]}function y(L,E,_){C(L.start,E.start,E.end,_),C(L.end,E.start,E.end,_)}function C(L,E,_,I){L.row==(I==1?E:_).row&&(L.column+=I*(_.column-E.column)),L.row+=I*(_.row-E.row)}function k(L,E){var _=L.lines,I=L.end;L.end=g(E);var M=L.end.row-L.start.row,$=_.splice(M,_.length),B=M?E.column:E.column-L.start.column;_.push($[0].substring(0,B)),$[0]=$[0].substr(B);var T={start:g(E),end:I,lines:$,action:L.action};return T}function F(L,E){E=l(E);for(var _=L.length;_--;){for(var I=L[_],M=0;M<I.length;M++){var $=I[M],B=v($,E);E=B[0],B.length!=2&&(B[2]?(I.splice(M+1,1,B[1],B[2]),M++):B[1]||(I.splice(M,1),M--))}I.length||L.splice(_,1)}return L}function O(L,E){for(var _=0;_<E.length;_++)for(var I=E[_],M=0;M<I.length;M++)F(L,I[M])}r.UndoManager=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,r,s){var o=t("../range").Range,c=function(){function m(u,g){this.foldData=u,Array.isArray(g)?this.folds=g:g=this.folds=[g];var l=g[g.length-1];this.range=new o(g[0].start.row,g[0].start.column,l.end.row,l.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(h){h.setFoldLine(this)},this)}return m.prototype.shiftRow=function(u){this.start.row+=u,this.end.row+=u,this.folds.forEach(function(g){g.start.row+=u,g.end.row+=u})},m.prototype.addFold=function(u){if(u.sameRow){if(u.start.row<this.startRow||u.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(u),this.folds.sort(function(g,l){return-g.range.compareEnd(l.start.row,l.start.column)}),this.range.compareEnd(u.start.row,u.start.column)>0?(this.end.row=u.end.row,this.end.column=u.end.column):this.range.compareStart(u.end.row,u.end.column)<0&&(this.start.row=u.start.row,this.start.column=u.start.column)}else if(u.start.row==this.end.row)this.folds.push(u),this.end.row=u.end.row,this.end.column=u.end.column;else if(u.end.row==this.start.row)this.folds.unshift(u),this.start.row=u.start.row,this.start.column=u.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");u.foldLine=this},m.prototype.containsRow=function(u){return u>=this.start.row&&u<=this.end.row},m.prototype.walk=function(u,g,l){var h=0,d=this.folds,f,p,v,y=!0;g==null&&(g=this.end.row,l=this.end.column);for(var C=0;C<d.length;C++){if(f=d[C],p=f.range.compareStart(g,l),p==-1){u(null,g,l,h,y);return}if(v=u(null,f.start.row,f.start.column,h,y),v=!v&&u(f.placeholder,f.start.row,f.start.column,h),v||p===0)return;y=!f.sameRow,h=f.end.column}u(null,g,l,h,y)},m.prototype.getNextFoldTo=function(u,g){for(var l,h,d=0;d<this.folds.length;d++){if(l=this.folds[d],h=l.range.compareEnd(u,g),h==-1)return{fold:l,kind:"after"};if(h===0)return{fold:l,kind:"inside"}}return null},m.prototype.addRemoveChars=function(u,g,l){var h=this.getNextFoldTo(u,g),d,f;if(h){if(d=h.fold,h.kind=="inside"&&d.start.column!=g&&d.start.row!=u)window.console&&window.console.log(u,g,d);else if(d.start.row==u){f=this.folds;var p=f.indexOf(d);for(p===0&&(this.start.column+=l),p;p<f.length;p++){if(d=f[p],d.start.column+=l,!d.sameRow)return;d.end.column+=l}this.end.column+=l}}},m.prototype.split=function(u,g){var l=this.getNextFoldTo(u,g);if(!l||l.kind=="inside")return null;var h=l.fold,d=this.folds,f=this.foldData,p=d.indexOf(h),v=d[p-1];this.end.row=v.end.row,this.end.column=v.end.column,d=d.splice(p,d.length-p);var y=new m(f,d);return f.splice(f.indexOf(this)+1,0,y),y},m.prototype.merge=function(u){for(var g=u.folds,l=0;l<g.length;l++)this.addFold(g[l]);var h=this.foldData;h.splice(h.indexOf(u),1)},m.prototype.toString=function(){var u=[this.range.toString()+": ["];return this.folds.forEach(function(g){u.push("  "+g.toString())}),u.push("]"),u.join(`
`)},m.prototype.idxToPosition=function(u){for(var g=0,l=0;l<this.folds.length;l++){var h=this.folds[l];if(u-=h.start.column-g,u<0)return{row:h.start.row,column:h.start.column+u};if(u-=h.placeholder.length,u<0)return h.start;g=h.end.column}return{row:this.end.row,column:this.end.column+u}},m}();r.FoldLine=c}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,r,s){var o=t("./range").Range,c=o.comparePoints,m=function(){function u(){this.ranges=[],this.$bias=1}return u.prototype.pointIndex=function(g,l,h){for(var d=this.ranges,f=h||0;f<d.length;f++){var p=d[f],v=c(g,p.end);if(!(v>0)){var y=c(g,p.start);return v===0?l&&y!==0?-f-2:f:y>0||y===0&&!l?f:-f-1}}return-f-1},u.prototype.add=function(g){var l=!g.isEmpty(),h=this.pointIndex(g.start,l);h<0&&(h=-h-1);var d=this.pointIndex(g.end,l,h);return d<0?d=-d-1:d++,this.ranges.splice(h,d-h,g)},u.prototype.addList=function(g){for(var l=[],h=g.length;h--;)l.push.apply(l,this.add(g[h]));return l},u.prototype.substractPoint=function(g){var l=this.pointIndex(g);if(l>=0)return this.ranges.splice(l,1)},u.prototype.merge=function(){var g=[],l=this.ranges;l=l.sort(function(v,y){return c(v.start,y.start)});for(var h=l[0],d,f=1;f<l.length;f++){d=h,h=l[f];var p=c(d.end,h.start);p<0||p==0&&!d.isEmpty()&&!h.isEmpty()||(c(d.end,h.end)<0&&(d.end.row=h.end.row,d.end.column=h.end.column),l.splice(f,1),g.push(h),h=d,f--)}return this.ranges=l,g},u.prototype.contains=function(g,l){return this.pointIndex({row:g,column:l})>=0},u.prototype.containsPoint=function(g){return this.pointIndex(g)>=0},u.prototype.rangeAtPoint=function(g){var l=this.pointIndex(g);if(l>=0)return this.ranges[l]},u.prototype.clipRows=function(g,l){var h=this.ranges;if(h[0].start.row>l||h[h.length-1].start.row<g)return[];var d=this.pointIndex({row:g,column:0});d<0&&(d=-d-1);var f=this.pointIndex({row:l,column:0},d);f<0&&(f=-f-1);for(var p=[],v=d;v<f;v++)p.push(h[v]);return p},u.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},u.prototype.attach=function(g){this.session&&this.detach(),this.session=g,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},u.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},u.prototype.$onChange=function(g){for(var l=g.start,h=g.end,d=l.row,f=h.row,p=this.ranges,v=0,y=p.length;v<y;v++){var C=p[v];if(C.end.row>=d)break}if(g.action=="insert")for(var k=f-d,F=-l.column+h.column;v<y;v++){var C=p[v];if(C.start.row>d)break;if(C.start.row==d&&C.start.column>=l.column&&(C.start.column==l.column&&this.$bias<=0||(C.start.column+=F,C.start.row+=k)),C.end.row==d&&C.end.column>=l.column){if(C.end.column==l.column&&this.$bias<0)continue;C.end.column==l.column&&F>0&&v<y-1&&C.end.column>C.start.column&&C.end.column==p[v+1].start.column&&(C.end.column-=F),C.end.column+=F,C.end.row+=k}}else for(var k=d-f,F=l.column-h.column;v<y;v++){var C=p[v];if(C.start.row>f)break;C.end.row<f&&(d<C.end.row||d==C.end.row&&l.column<C.end.column)?(C.end.row=d,C.end.column=l.column):C.end.row==f?C.end.column<=h.column?(k||C.end.column>l.column)&&(C.end.column=l.column,C.end.row=l.row):(C.end.column+=F,C.end.row+=k):C.end.row>f&&(C.end.row+=k),C.start.row<f&&(d<C.start.row||d==C.start.row&&l.column<C.start.column)?(C.start.row=d,C.start.column=l.column):C.start.row==f?C.start.column<=h.column?(k||C.start.column>l.column)&&(C.start.column=l.column,C.start.row=l.row):(C.start.column+=F,C.start.row+=k):C.start.row>f&&(C.start.row+=k)}if(k!=0&&v<y)for(;v<y;v++){var C=p[v];C.start.row+=k,C.end.row+=k}},u}();m.prototype.comparePoints=c,r.RangeList=m}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(t,r,s){var o=this&&this.__extends||function(){var d=function(f,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(v[C]=y[C])},d(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(f,p);function v(){this.constructor=f}f.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}(),c=t("../range_list").RangeList,m=function(d){o(f,d);function f(p,v){var y=d.call(this)||this;return y.foldLine=null,y.placeholder=v,y.range=p,y.start=p.start,y.end=p.end,y.sameRow=p.start.row==p.end.row,y.subFolds=y.ranges=[],y}return f.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},f.prototype.setFoldLine=function(p){this.foldLine=p,this.subFolds.forEach(function(v){v.setFoldLine(p)})},f.prototype.clone=function(){var p=this.range.clone(),v=new f(p,this.placeholder);return this.subFolds.forEach(function(y){v.subFolds.push(y.clone())}),v.collapseChildren=this.collapseChildren,v},f.prototype.addSubFold=function(p){if(!this.range.isEqual(p)){g(p,this.start);for(var F=p.start.row,O=p.start.column,v=0,y=-1;v<this.subFolds.length&&(y=this.subFolds[v].range.compare(F,O),y==1);v++);var C=this.subFolds[v],k=0;if(y==0){if(C.range.containsRange(p))return C.addSubFold(p);k=1}for(var F=p.range.end.row,O=p.range.end.column,L=v,y=-1;L<this.subFolds.length&&(y=this.subFolds[L].range.compare(F,O),y==1);L++);y==0&&L++;for(var E=this.subFolds.splice(v,L-v,p),_=y==0?E.length-1:E.length,I=k;I<_;I++)p.addSubFold(E[I]);return p.setFoldLine(this.foldLine),p}},f.prototype.restoreRange=function(p){return h(p,this.start)},f}(c);function u(d,f){d.row-=f.row,d.row==0&&(d.column-=f.column)}function g(d,f){u(d.start,f),u(d.end,f)}function l(d,f){d.row==0&&(d.column+=f.column),d.row+=f.row}function h(d,f){l(d.start,f),l(d.end,f)}r.Fold=m}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(t,r,s){var o=t("../range").Range,c=t("./fold_line").FoldLine,m=t("./fold").Fold,u=t("../token_iterator").TokenIterator,g=t("../mouse/mouse_event").MouseEvent;function l(){this.getFoldAt=function(h,d,f){var p=this.getFoldLine(h);if(!p)return null;for(var v=p.folds,y=0;y<v.length;y++){var C=v[y].range;if(C.contains(h,d)){if(f==1&&C.isEnd(h,d)&&!C.isEmpty())continue;if(f==-1&&C.isStart(h,d)&&!C.isEmpty())continue;return v[y]}}},this.getFoldsInRange=function(h){var d=h.start,f=h.end,p=this.$foldData,v=[];d.column+=1,f.column-=1;for(var y=0;y<p.length;y++){var C=p[y].range.compareRange(h);if(C!=2){if(C==-2)break;for(var k=p[y].folds,F=0;F<k.length;F++){var O=k[F];if(C=O.range.compareRange(h),C==-2)break;if(C==2)continue;if(C==42)break;v.push(O)}}}return d.column-=1,f.column+=1,v},this.getFoldsInRangeList=function(h){if(Array.isArray(h)){var d=[];h.forEach(function(f){d=d.concat(this.getFoldsInRange(f))},this)}else var d=this.getFoldsInRange(h);return d},this.getAllFolds=function(){for(var h=[],d=this.$foldData,f=0;f<d.length;f++)for(var p=0;p<d[f].folds.length;p++)h.push(d[f].folds[p]);return h},this.getFoldStringAt=function(h,d,f,p){if(p=p||this.getFoldLine(h),!p)return null;for(var v={end:{column:0}},y,C,k=0;k<p.folds.length;k++){C=p.folds[k];var F=C.range.compareEnd(h,d);if(F==-1){y=this.getLine(C.start.row).substring(v.end.column,C.start.column);break}else if(F===0)return null;v=C}return y||(y=this.getLine(C.start.row).substring(v.end.column)),f==-1?y.substring(0,d-v.end.column):f==1?y.substring(d-v.end.column):y},this.getFoldLine=function(h,d){var f=this.$foldData,p=0;for(d&&(p=f.indexOf(d)),p==-1&&(p=0),p;p<f.length;p++){var v=f[p];if(v.start.row<=h&&v.end.row>=h)return v;if(v.end.row>h)return null}return null},this.getNextFoldLine=function(h,d){var f=this.$foldData,p=0;for(d&&(p=f.indexOf(d)),p==-1&&(p=0),p;p<f.length;p++){var v=f[p];if(v.end.row>=h)return v}return null},this.getFoldedRowCount=function(h,d){for(var f=this.$foldData,p=d-h+1,v=0;v<f.length;v++){var y=f[v],C=y.end.row,k=y.start.row;if(C>=d){k<d&&(k>=h?p-=d-k:p=0);break}else C>=h&&(k>=h?p-=C-k:p-=C-h+1)}return p},this.$addFoldLine=function(h){return this.$foldData.push(h),this.$foldData.sort(function(d,f){return d.start.row-f.start.row}),h},this.addFold=function(h,d){var f=this.$foldData,p=!1,v;h instanceof m?v=h:(v=new m(d,h),v.collapseChildren=d.collapseChildren),this.$clipRangeToDocument(v.range);var y=v.start.row,C=v.start.column,k=v.end.row,F=v.end.column,O=this.getFoldAt(y,C,1),L=this.getFoldAt(k,F,-1);if(O&&L==O)return O.addSubFold(v);O&&!O.range.isStart(y,C)&&this.removeFold(O),L&&!L.range.isEnd(k,F)&&this.removeFold(L);var E=this.getFoldsInRange(v.range);E.length>0&&(this.removeFolds(E),v.collapseChildren||E.forEach(function($){v.addSubFold($)}));for(var _=0;_<f.length;_++){var I=f[_];if(k==I.start.row){I.addFold(v),p=!0;break}else if(y==I.end.row){if(I.addFold(v),p=!0,!v.sameRow){var M=f[_+1];if(M&&M.start.row==k){I.merge(M);break}}break}else if(k<=I.start.row)break}return p||(I=this.$addFoldLine(new c(this.$foldData,v))),this.$useWrapMode?this.$updateWrapData(I.start.row,I.start.row):this.$updateRowLengthCache(I.start.row,I.start.row),this.$modified=!0,this._signal("changeFold",{data:v,action:"add"}),v},this.addFolds=function(h){h.forEach(function(d){this.addFold(d)},this)},this.removeFold=function(h){var d=h.foldLine,f=d.start.row,p=d.end.row,v=this.$foldData,y=d.folds;if(y.length==1)v.splice(v.indexOf(d),1);else if(d.range.isEnd(h.end.row,h.end.column))y.pop(),d.end.row=y[y.length-1].end.row,d.end.column=y[y.length-1].end.column;else if(d.range.isStart(h.start.row,h.start.column))y.shift(),d.start.row=y[0].start.row,d.start.column=y[0].start.column;else if(h.sameRow)y.splice(y.indexOf(h),1);else{var C=d.split(h.start.row,h.start.column);y=C.folds,y.shift(),C.start.row=y[0].start.row,C.start.column=y[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(f,p):this.$updateRowLengthCache(f,p)),this.$modified=!0,this._signal("changeFold",{data:h,action:"remove"})},this.removeFolds=function(h){for(var d=[],f=0;f<h.length;f++)d.push(h[f]);d.forEach(function(p){this.removeFold(p)},this),this.$modified=!0},this.expandFold=function(h){this.removeFold(h),h.subFolds.forEach(function(d){h.restoreRange(d),this.addFold(d)},this),h.collapseChildren>0&&this.foldAll(h.start.row+1,h.end.row,h.collapseChildren-1),h.subFolds=[]},this.expandFolds=function(h){h.forEach(function(d){this.expandFold(d)},this)},this.unfold=function(h,d){var f,p;if(h==null)f=new o(0,0,this.getLength(),0),d==null&&(d=!0);else if(typeof h=="number")f=new o(h,0,h,this.getLine(h).length);else if("row"in h)f=o.fromPoints(h,h);else{if(Array.isArray(h))return p=[],h.forEach(function(y){p=p.concat(this.unfold(y))},this),p;f=h}p=this.getFoldsInRangeList(f);for(var v=p;p.length==1&&o.comparePoints(p[0].start,f.start)<0&&o.comparePoints(p[0].end,f.end)>0;)this.expandFolds(p),p=this.getFoldsInRangeList(f);if(d!=!1?this.removeFolds(p):this.expandFolds(p),v.length)return v},this.isRowFolded=function(h,d){return!!this.getFoldLine(h,d)},this.getRowFoldEnd=function(h,d){var f=this.getFoldLine(h,d);return f?f.end.row:h},this.getRowFoldStart=function(h,d){var f=this.getFoldLine(h,d);return f?f.start.row:h},this.getFoldDisplayLine=function(h,d,f,p,v){p==null&&(p=h.start.row),v==null&&(v=0),d==null&&(d=h.end.row),f==null&&(f=this.getLine(d).length);var y=this.doc,C="";return h.walk(function(k,F,O,L){if(!(F<p)){if(F==p){if(O<v)return;L=Math.max(v,L)}k!=null?C+=k:C+=y.getLine(F).substring(L,O)}},d,f),C},this.getDisplayLine=function(h,d,f,p){var v=this.getFoldLine(h);if(v)return this.getFoldDisplayLine(v,h,d,f,p);var y;return y=this.doc.getLine(h),y.substring(p||0,d||y.length)},this.$cloneFoldData=function(){var h=[];return h=this.$foldData.map(function(d){var f=d.folds.map(function(p){return p.clone()});return new c(h,f)}),h},this.toggleFold=function(h){var d=this.selection,f=d.getRange(),p,v;if(f.isEmpty()){var y=f.start;if(p=this.getFoldAt(y.row,y.column),p){this.expandFold(p);return}else(v=this.findMatchingBracket(y))?f.comparePoint(v)==1?f.end=v:(f.start=v,f.start.column++,f.end.column--):(v=this.findMatchingBracket({row:y.row,column:y.column+1}))?(f.comparePoint(v)==1?f.end=v:f.start=v,f.start.column++):f=this.getCommentFoldRange(y.row,y.column)||f}else{var C=this.getFoldsInRange(f);if(h&&C.length){this.expandFolds(C);return}else C.length==1&&(p=C[0])}if(p||(p=this.getFoldAt(f.start.row,f.start.column)),p&&p.range.toString()==f.toString()){this.expandFold(p);return}var k="...";if(!f.isMultiLine()){if(k=this.getTextRange(f),k.length<4)return;k=k.trim().substring(0,2)+".."}this.addFold(k,f)},this.getCommentFoldRange=function(h,d,f){var p=new u(this,h,d),v=p.getCurrentToken(),y=v&&v.type;if(v&&/^comment|string/.test(y)){y=y.match(/comment|string/)[0],y=="comment"&&(y+="|doc-start|\\.doc");var C=new RegExp(y),k=new o;if(f!=1){do v=p.stepBackward();while(v&&C.test(v.type));v=p.stepForward()}k.start.row=p.getCurrentTokenRow(),k.start.column=p.getCurrentTokenColumn()+v.value.length,p=new u(this,h,d);var F=this.getState(p.$row);if(f!=-1){var O=-1;do if(v=p.stepForward(),O==-1){var L=this.getState(p.$row);F.toString()!==L.toString()&&(O=p.$row)}else if(p.$row>O)break;while(v&&C.test(v.type));v=p.stepBackward()}else v=p.getCurrentToken();return k.end.row=p.getCurrentTokenRow(),k.end.column=p.getCurrentTokenColumn(),k}},this.foldAll=function(h,d,f,p){f==null&&(f=1e5);var v=this.foldWidgets;if(v){d=d||this.getLength(),h=h||0;for(var y=h;y<d;y++)if(v[y]==null&&(v[y]=this.getFoldWidget(y)),v[y]=="start"&&!(p&&!p(y))){var C=this.getFoldWidgetRange(y);C&&C.isMultiLine()&&C.end.row<=d&&C.start.row>=h&&(y=C.end.row,C.collapseChildren=f,this.addFold("...",C))}}},this.foldToLevel=function(h){for(this.foldAll();h-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var h=this;this.foldAll(null,null,null,function(d){for(var f=h.getTokens(d),p=0;p<f.length;p++){var v=f[p];if(!(v.type=="text"&&/^\s+$/.test(v.value)))return!!/comment/.test(v.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(h){if(!this.$foldStyles[h])throw new Error("invalid fold style: "+h+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=h){this.$foldStyle=h,h=="manual"&&this.unfold();var d=this.$foldMode;this.$setFolding(null),this.$setFolding(d)}},this.$setFolding=function(h){if(this.$foldMode!=h){if(this.$foldMode=h,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!h||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=h.getFoldWidget.bind(h,this,this.$foldStyle),this.getFoldWidgetRange=h.getFoldWidgetRange.bind(h,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(h,d){var f=this.foldWidgets;if(!f||d&&f[h])return{};for(var p=h-1,v;p>=0;){var y=f[p];if(y==null&&(y=f[p]=this.getFoldWidget(p)),y=="start"){var C=this.getFoldWidgetRange(p);if(v||(v=C),C&&C.end.row>=h)break}p--}return{range:p!==-1&&C,firstRange:v}},this.onFoldWidgetClick=function(h,d){d instanceof g&&(d=d.domEvent);var f={children:d.shiftKey,all:d.ctrlKey||d.metaKey,siblings:d.altKey},p=this.$toggleFoldWidget(h,f);if(!p){var v=d.target||d.srcElement;v&&/ace_fold-widget/.test(v.className)&&(v.className+=" ace_invalid")}},this.$toggleFoldWidget=function(h,d){if(this.getFoldWidget){var f=this.getFoldWidget(h),p=this.getLine(h),v=f==="end"?-1:1,y=this.getFoldAt(h,v===-1?0:p.length,v);if(y)return d.children||d.all?this.removeFold(y):this.expandFold(y),y;var C=this.getFoldWidgetRange(h,!0);if(C&&!C.isMultiLine()&&(y=this.getFoldAt(C.start.row,C.start.column,1),y&&C.isEqual(y.range)))return this.removeFold(y),y;if(d.siblings){var k=this.getParentFoldRangeData(h);if(k.range)var F=k.range.start.row+1,O=k.range.end.row;this.foldAll(F,O,d.all?1e4:0)}else d.children?(O=C?C.end.row:this.getLength(),this.foldAll(h+1,O,d.all?1e4:0)):C&&(d.all&&(C.collapseChildren=1e4),this.addFold("...",C));return C}},this.toggleFoldWidget=function(h){var d=this.selection.getCursor().row;d=this.getRowFoldStart(d);var f=this.$toggleFoldWidget(d,{});if(!f){var p=this.getParentFoldRangeData(d,!0);if(f=p.range||p.firstRange,f){d=f.start.row;var v=this.getFoldAt(d,this.getLine(d).length,1);v?this.removeFold(v):this.addFold("...",f)}}},this.updateFoldWidgets=function(h){var d=h.start.row,f=h.end.row-d;if(f===0)this.foldWidgets[d]=null;else if(h.action=="remove")this.foldWidgets.splice(d,f+1,null);else{var p=Array(f+1);p.unshift(d,1),this.foldWidgets.splice.apply(this.foldWidgets,p)}},this.tokenizerUpdateFoldWidgets=function(h){var d=h.data;d.first!=d.last&&this.foldWidgets.length>d.first&&this.foldWidgets.splice(d.first,this.foldWidgets.length)}}r.Folding=l}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,r,s){var o=t("../token_iterator").TokenIterator,c=t("../range").Range;function m(){this.findMatchingBracket=function(u,g){if(u.column==0)return null;var l=g||this.getLine(u.row).charAt(u.column-1);if(l=="")return null;var h=l.match(/([\(\[\{])|([\)\]\}])/);return h?h[1]?this.$findClosingBracket(h[1],u):this.$findOpeningBracket(h[2],u):null},this.getBracketRange=function(u){var g=this.getLine(u.row),l=!0,h,d=g.charAt(u.column-1),f=d&&d.match(/([\(\[\{])|([\)\]\}])/);if(f||(d=g.charAt(u.column),u={row:u.row,column:u.column+1},f=d&&d.match(/([\(\[\{])|([\)\]\}])/),l=!1),!f)return null;if(f[1]){var p=this.$findClosingBracket(f[1],u);if(!p)return null;h=c.fromPoints(u,p),l||(h.end.column++,h.start.column--),h.cursor=h.end}else{var p=this.$findOpeningBracket(f[2],u);if(!p)return null;h=c.fromPoints(p,u),l||(h.start.column++,h.end.column--),h.cursor=h.start}return h},this.getMatchingBracketRanges=function(u,g){var l=this.getLine(u.row),h=/([\(\[\{])|([\)\]\}])/,d=!g&&l.charAt(u.column-1),f=d&&d.match(h);if(f||(d=(g===void 0||g)&&l.charAt(u.column),u={row:u.row,column:u.column+1},f=d&&d.match(h)),!f)return null;var p=new c(u.row,u.column-1,u.row,u.column),v=f[1]?this.$findClosingBracket(f[1],u):this.$findOpeningBracket(f[2],u);if(!v)return[p];var y=new c(v.row,v.column,v.row,v.column+1);return[p,y]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(u,g,l){var h=this.$brackets[u],d=1,f=new o(this,g.row,g.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){l||(l=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var v=g.column-f.getCurrentTokenColumn()-2,y=p.value;;){for(;v>=0;){var C=y.charAt(v);if(C==h){if(d-=1,d==0)return{row:f.getCurrentTokenRow(),column:v+f.getCurrentTokenColumn()}}else C==u&&(d+=1);v-=1}do p=f.stepBackward();while(p&&!l.test(p.type));if(p==null)break;y=p.value,v=y.length-1}return null}},this.$findClosingBracket=function(u,g,l){var h=this.$brackets[u],d=1,f=new o(this,g.row,g.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),!!p){l||(l=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var v=g.column-f.getCurrentTokenColumn();;){for(var y=p.value,C=y.length;v<C;){var k=y.charAt(v);if(k==h){if(d-=1,d==0)return{row:f.getCurrentTokenRow(),column:v+f.getCurrentTokenColumn()}}else k==u&&(d+=1);v+=1}do p=f.stepForward();while(p&&!l.test(p.type));if(p==null)break;v=0}return null}},this.getMatchingTags=function(u){var g=new o(this,u.row,u.column),l=this.$findTagName(g);if(l){var h=g.stepBackward();return h.value==="<"?this.$findClosingTag(g,l):this.$findOpeningTag(g,l)}},this.$findTagName=function(u){var g=u.getCurrentToken(),l=!1,h=!1;if(g&&g.type.indexOf("tag-name")===-1)do h?g=u.stepBackward():g=u.stepForward(),g&&(g.value==="/>"?h=!0:g.type.indexOf("tag-name")!==-1&&(l=!0));while(g&&!l);return g},this.$findClosingTag=function(u,g){var l,h=g.value,d=g.value,f=0,p=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);g=u.stepForward();var v=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+g.value.length),y=!1;do{if(l=g,l.type.indexOf("tag-close")!==-1&&!y){var C=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);y=!0}if(g=u.stepForward(),g){if(g.value===">"&&!y){var C=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);y=!0}if(g.type.indexOf("tag-name")!==-1){if(h=g.value,d===h){if(l.value==="<")f++;else if(l.value==="</"&&(f--,f<0)){u.stepBackward();var k=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+2);g=u.stepForward();var F=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+g.value.length);if(g.type.indexOf("tag-close")===-1&&(g=u.stepForward()),g&&g.value===">")var O=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);else return}}}else if(d===h&&g.value==="/>"&&(f--,f<0))var k=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+2),F=k,O=F,C=new c(v.end.row,v.end.column,v.end.row,v.end.column+1)}}while(g&&f>=0);if(p&&C&&k&&O&&v&&F)return{openTag:new c(p.start.row,p.start.column,C.end.row,C.end.column),closeTag:new c(k.start.row,k.start.column,O.end.row,O.end.column),openTagName:v,closeTagName:F}},this.$findOpeningTag=function(u,g){var l=u.getCurrentToken(),h=g.value,d=0,f=u.getCurrentTokenRow(),p=u.getCurrentTokenColumn(),v=p+2,y=new c(f,p,f,v);u.stepForward();var C=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+g.value.length);if(g.type.indexOf("tag-close")===-1&&(g=u.stepForward()),!(!g||g.value!==">")){var k=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);u.stepBackward(),u.stepBackward();do if(g=l,f=u.getCurrentTokenRow(),p=u.getCurrentTokenColumn(),v=p+g.value.length,l=u.stepBackward(),g){if(g.type.indexOf("tag-name")!==-1){if(h===g.value)if(l.value==="<"){if(d++,d>0){var F=new c(f,p,f,v),O=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1);do g=u.stepForward();while(g&&g.value!==">");var L=new c(u.getCurrentTokenRow(),u.getCurrentTokenColumn(),u.getCurrentTokenRow(),u.getCurrentTokenColumn()+1)}}else l.value==="</"&&d--}else if(g.value==="/>"){for(var E=0,_=l;_;){if(_.type.indexOf("tag-name")!==-1&&_.value===h){d--;break}else if(_.value==="<")break;_=u.stepBackward(),E++}for(var I=0;I<E;I++)u.stepForward()}}while(l&&d<=0);if(O&&L&&y&&k&&F&&C)return{openTag:new c(O.start.row,O.start.column,L.end.row,L.end.column),closeTag:new c(y.start.row,y.start.column,k.end.row,k.end.column),openTagName:F,closeTagName:C}}}}r.BracketMatch=m}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,r,s){var o=t("./lib/oop"),c=t("./lib/lang"),m=t("./bidihandler").BidiHandler,u=t("./config"),g=t("./lib/event_emitter").EventEmitter,l=t("./selection").Selection,h=t("./mode/text").Mode,d=t("./range").Range,f=t("./line_widgets").LineWidgets,p=t("./document").Document,v=t("./background_tokenizer").BackgroundTokenizer,y=t("./search_highlight").SearchHighlight,C=t("./undomanager").UndoManager,k=function(){function T(b,P){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++T.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new v(new h().getTokenizer(),this);var N=this;this.bgTokenizer.on("update",function(z){N._signal("tokenizerUpdate",z)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof b!="object"||!b.getLine)&&(b=new p(b)),this.setDocument(b),this.selection=new l(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new m(this),u.resetOptions(this),this.setMode(P),u._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return T.prototype.$initOperationListeners=function(){var b=this;this.curOp=null,this.on("change",function(){b.curOp||(b.startOperation(),b.curOp.selectionBefore=b.$lastSel),b.curOp.docChanged=!0},!0),this.on("changeSelection",function(){b.curOp||(b.startOperation(),b.curOp.selectionBefore=b.$lastSel),b.curOp.selectionChanged=!0},!0),this.$operationResetTimer=c.delayedCall(this.endOperation.bind(this,!0))},T.prototype.startOperation=function(b){if(this.curOp){if(!b||this.curOp.command)return;this.prevOp=this.curOp}b||(b={}),this.$operationResetTimer.schedule(),this.curOp={command:b.command||{},args:b.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",b)},T.prototype.endOperation=function(b){if(this.curOp){if(b&&b.returnValue===!1){this.curOp=null,this._signal("endOperation",b);return}if(b==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var P=this.selection.toJSON();this.curOp.selectionAfter=P,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(P),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",b)}},T.prototype.setDocument=function(b){this.doc&&this.doc.off("change",this.$onChange),this.doc=b,b.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},T.prototype.getDocument=function(){return this.doc},Object.defineProperty(T.prototype,"widgetManager",{get:function(){var b=new f(this);return this.widgetManager=b,this.$editor&&b.attach(this.$editor),b},set:function(b){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:b})},enumerable:!1,configurable:!0}),T.prototype.$resetRowCache=function(b){if(!b){this.$docRowCache=[],this.$screenRowCache=[];return}var P=this.$docRowCache.length,N=this.$getRowCacheIndex(this.$docRowCache,b)+1;P>N&&(this.$docRowCache.splice(N,P),this.$screenRowCache.splice(N,P))},T.prototype.$getRowCacheIndex=function(b,P){for(var N=0,z=b.length-1;N<=z;){var q=N+z>>1,K=b[q];if(P>K)N=q+1;else if(P<K)z=q-1;else return q}return N-1},T.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},T.prototype.onChangeFold=function(b){var P=b.data;this.$resetRowCache(P.start.row)},T.prototype.onChange=function(b){this.$modified=!0,this.$bidiHandler.onChange(b),this.$resetRowCache(b.start.row);var P=this.$updateInternalDataOnChange(b);!this.$fromUndo&&this.$undoManager&&(P&&P.length&&(this.$undoManager.add({action:"removeFolds",folds:P},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(b,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(b),this._signal("change",b)},T.prototype.onSelectionChange=function(){this._signal("changeSelection")},T.prototype.setValue=function(b){this.doc.setValue(b),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},T.fromJSON=function(b){typeof b=="string"&&(b=JSON.parse(b));var P=new C;P.$undoStack=b.history.undo,P.$redoStack=b.history.redo,P.mark=b.history.mark,P.$rev=b.history.rev;var N=new T(b.value);return b.folds.forEach(function(z){N.addFold("...",d.fromPoints(z.start,z.end))}),N.setAnnotations(b.annotations),N.setBreakpoints(b.breakpoints),N.setMode(b.mode),N.setScrollLeft(b.scrollLeft),N.setScrollTop(b.scrollTop),N.setUndoManager(P),N.selection.fromJSON(b.selection),N},T.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(b){return b.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},T.prototype.toString=function(){return this.doc.getValue()},T.prototype.getSelection=function(){return this.selection},T.prototype.getState=function(b){return this.bgTokenizer.getState(b)},T.prototype.getTokens=function(b){return this.bgTokenizer.getTokens(b)},T.prototype.getTokenAt=function(b,P){var N=this.bgTokenizer.getTokens(b),z,q=0;if(P==null){var K=N.length-1;q=this.getLine(b).length}else for(var K=0;K<N.length&&(q+=N[K].value.length,!(q>=P));K++);return z=N[K],z?(z.index=K,z.start=q-z.value.length,z):null},T.prototype.setUndoManager=function(b){if(this.$undoManager=b,this.$informUndoManager&&this.$informUndoManager.cancel(),b){var P=this;b.addSession(this),this.$syncInformUndoManager=function(){P.$informUndoManager.cancel(),P.mergeUndoDeltas=!1},this.$informUndoManager=c.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},T.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},T.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},T.prototype.getTabString=function(){return this.getUseSoftTabs()?c.stringRepeat(" ",this.getTabSize()):"	"},T.prototype.setUseSoftTabs=function(b){this.setOption("useSoftTabs",b)},T.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},T.prototype.setTabSize=function(b){this.setOption("tabSize",b)},T.prototype.getTabSize=function(){return this.$tabSize},T.prototype.isTabStop=function(b){return this.$useSoftTabs&&b.column%this.$tabSize===0},T.prototype.setNavigateWithinSoftTabs=function(b){this.setOption("navigateWithinSoftTabs",b)},T.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},T.prototype.setOverwrite=function(b){this.setOption("overwrite",b)},T.prototype.getOverwrite=function(){return this.$overwrite},T.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},T.prototype.addGutterDecoration=function(b,P){this.$decorations[b]||(this.$decorations[b]=""),this.$decorations[b]+=" "+P,this._signal("changeBreakpoint",{})},T.prototype.removeGutterDecoration=function(b,P){this.$decorations[b]=(this.$decorations[b]||"").replace(" "+P,""),this._signal("changeBreakpoint",{})},T.prototype.getBreakpoints=function(){return this.$breakpoints},T.prototype.setBreakpoints=function(b){this.$breakpoints=[];for(var P=0;P<b.length;P++)this.$breakpoints[b[P]]="ace_breakpoint";this._signal("changeBreakpoint",{})},T.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},T.prototype.setBreakpoint=function(b,P){P===void 0&&(P="ace_breakpoint"),P?this.$breakpoints[b]=P:delete this.$breakpoints[b],this._signal("changeBreakpoint",{})},T.prototype.clearBreakpoint=function(b){delete this.$breakpoints[b],this._signal("changeBreakpoint",{})},T.prototype.addMarker=function(b,P,N,z){var q=this.$markerId++,K={range:b,type:N||"line",renderer:typeof N=="function"?N:null,clazz:P,inFront:!!z,id:q};return z?(this.$frontMarkers[q]=K,this._signal("changeFrontMarker")):(this.$backMarkers[q]=K,this._signal("changeBackMarker")),q},T.prototype.addDynamicMarker=function(b,P){if(b.update){var N=this.$markerId++;return b.id=N,b.inFront=!!P,P?(this.$frontMarkers[N]=b,this._signal("changeFrontMarker")):(this.$backMarkers[N]=b,this._signal("changeBackMarker")),b}},T.prototype.removeMarker=function(b){var P=this.$frontMarkers[b]||this.$backMarkers[b];if(P){var N=P.inFront?this.$frontMarkers:this.$backMarkers;delete N[b],this._signal(P.inFront?"changeFrontMarker":"changeBackMarker")}},T.prototype.getMarkers=function(b){return b?this.$frontMarkers:this.$backMarkers},T.prototype.highlight=function(b){if(!this.$searchHighlight){var P=new y(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(P)}this.$searchHighlight.setRegexp(b)},T.prototype.highlightLines=function(b,P,N,z){typeof P!="number"&&(N=P,P=b),N||(N="ace_step");var q=new d(b,0,P,1/0);return q.id=this.addMarker(q,N,"fullLine",z),q},T.prototype.setAnnotations=function(b){this.$annotations=b,this._signal("changeAnnotation",{})},T.prototype.getAnnotations=function(){return this.$annotations||[]},T.prototype.clearAnnotations=function(){this.setAnnotations([])},T.prototype.$detectNewLine=function(b){var P=b.match(/^.*?(\r?\n)/m);P?this.$autoNewLine=P[1]:this.$autoNewLine=`
`},T.prototype.getWordRange=function(b,P){var N=this.getLine(b),z=!1;if(P>0&&(z=!!N.charAt(P-1).match(this.tokenRe)),z||(z=!!N.charAt(P).match(this.tokenRe)),z)var q=this.tokenRe;else if(/^\s+$/.test(N.slice(P-1,P+1)))var q=/\s/;else var q=this.nonTokenRe;var K=P;if(K>0){do K--;while(K>=0&&N.charAt(K).match(q));K++}for(var J=P;J<N.length&&N.charAt(J).match(q);)J++;return new d(b,K,b,J)},T.prototype.getAWordRange=function(b,P){for(var N=this.getWordRange(b,P),z=this.getLine(N.end.row);z.charAt(N.end.column).match(/[ \t]/);)N.end.column+=1;return N},T.prototype.setNewLineMode=function(b){this.doc.setNewLineMode(b)},T.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},T.prototype.setUseWorker=function(b){this.setOption("useWorker",b)},T.prototype.getUseWorker=function(){return this.$useWorker},T.prototype.onReloadTokenizer=function(b){var P=b.data;this.bgTokenizer.start(P.first),this._signal("tokenizerUpdate",b)},T.prototype.setMode=function(b,P){if(b&&typeof b=="object"){if(b.getTokenizer)return this.$onChangeMode(b);var N=b,z=N.path}else z=b||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[z]&&!N){this.$onChangeMode(this.$modes[z]),P&&P();return}this.$modeId=z,u.loadModule(["mode",z],(function(q){if(this.$modeId!==z)return P&&P();this.$modes[z]&&!N?this.$onChangeMode(this.$modes[z]):q&&q.Mode&&(q=new q.Mode(N),N||(this.$modes[z]=q,q.$id=z),this.$onChangeMode(q)),P&&P()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},T.prototype.$onChangeMode=function(b,P){if(P||(this.$modeId=b.$id),this.$mode!==b){var N=this.$mode;this.$mode=b,this.$stopWorker(),this.$useWorker&&this.$startWorker();var z=b.getTokenizer();if(z.on!==void 0){var q=this.onReloadTokenizer.bind(this);z.on("update",q)}this.bgTokenizer.setTokenizer(z),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=b.tokenRe,this.nonTokenRe=b.nonTokenRe,P||(b.attachToSession&&b.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(b.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:N,mode:b}))}},T.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},T.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(b){u.warn("Could not load worker",b),this.$worker=null}},T.prototype.getMode=function(){return this.$mode},T.prototype.setScrollTop=function(b){this.$scrollTop===b||isNaN(b)||(this.$scrollTop=b,this._signal("changeScrollTop",b))},T.prototype.getScrollTop=function(){return this.$scrollTop},T.prototype.setScrollLeft=function(b){this.$scrollLeft===b||isNaN(b)||(this.$scrollLeft=b,this._signal("changeScrollLeft",b))},T.prototype.getScrollLeft=function(){return this.$scrollLeft},T.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},T.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var b=0;return this.lineWidgets.forEach(function(P){P&&P.screenWidth>b&&(b=P.screenWidth)}),this.lineWidgetWidth=b},T.prototype.$computeWidth=function(b){if(this.$modified||b){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var P=this.doc.getAllLines(),N=this.$rowLengthCache,z=0,q=0,K=this.$foldData[q],J=K?K.start.row:1/0,Q=P.length,U=0;U<Q;U++){if(U>J){if(U=K.end.row+1,U>=Q)break;K=this.$foldData[q++],J=K?K.start.row:1/0}N[U]==null&&(N[U]=this.$getStringScreenWidth(P[U])[0]),N[U]>z&&(z=N[U])}this.screenWidth=z}},T.prototype.getLine=function(b){return this.doc.getLine(b)},T.prototype.getLines=function(b,P){return this.doc.getLines(b,P)},T.prototype.getLength=function(){return this.doc.getLength()},T.prototype.getTextRange=function(b){return this.doc.getTextRange(b||this.selection.getRange())},T.prototype.insert=function(b,P){return this.doc.insert(b,P)},T.prototype.remove=function(b){return this.doc.remove(b)},T.prototype.removeFullLines=function(b,P){return this.doc.removeFullLines(b,P)},T.prototype.undoChanges=function(b,P){if(b.length){this.$fromUndo=!0;for(var N=b.length-1;N!=-1;N--){var z=b[N];z.action=="insert"||z.action=="remove"?this.doc.revertDelta(z):z.folds&&this.addFolds(z.folds)}!P&&this.$undoSelect&&(b.selectionBefore?this.selection.fromJSON(b.selectionBefore):this.selection.setRange(this.$getUndoSelection(b,!0))),this.$fromUndo=!1}},T.prototype.redoChanges=function(b,P){if(b.length){this.$fromUndo=!0;for(var N=0;N<b.length;N++){var z=b[N];(z.action=="insert"||z.action=="remove")&&this.doc.$safeApplyDelta(z)}!P&&this.$undoSelect&&(b.selectionAfter?this.selection.fromJSON(b.selectionAfter):this.selection.setRange(this.$getUndoSelection(b,!1))),this.$fromUndo=!1}},T.prototype.setUndoSelect=function(b){this.$undoSelect=b},T.prototype.$getUndoSelection=function(b,P){function N(Q){return P?Q.action!=="insert":Q.action==="insert"}for(var z,q,K=0;K<b.length;K++){var J=b[K];if(J.start){if(!z){N(J)?z=d.fromPoints(J.start,J.end):z=d.fromPoints(J.start,J.start);continue}N(J)?(q=J.start,z.compare(q.row,q.column)==-1&&z.setStart(q),q=J.end,z.compare(q.row,q.column)==1&&z.setEnd(q)):(q=J.start,z.compare(q.row,q.column)==-1&&(z=d.fromPoints(J.start,J.start)))}}return z},T.prototype.replace=function(b,P){return this.doc.replace(b,P)},T.prototype.moveText=function(b,P,N){var z=this.getTextRange(b),q=this.getFoldsInRange(b),K=d.fromPoints(P,P);if(!N){this.remove(b);var J=b.start.row-b.end.row,Q=J?-b.end.column:b.start.column-b.end.column;Q&&(K.start.row==b.end.row&&K.start.column>b.end.column&&(K.start.column+=Q),K.end.row==b.end.row&&K.end.column>b.end.column&&(K.end.column+=Q)),J&&K.start.row>=b.end.row&&(K.start.row+=J,K.end.row+=J)}if(K.end=this.insert(K.start,z),q.length){var U=b.start,re=K.start,J=re.row-U.row,Q=re.column-U.column;this.addFolds(q.map(function(ce){return ce=ce.clone(),ce.start.row==U.row&&(ce.start.column+=Q),ce.end.row==U.row&&(ce.end.column+=Q),ce.start.row+=J,ce.end.row+=J,ce}))}return K},T.prototype.indentRows=function(b,P,N){N=N.replace(/\t/g,this.getTabString());for(var z=b;z<=P;z++)this.doc.insertInLine({row:z,column:0},N)},T.prototype.outdentRows=function(b){for(var P=b.collapseRows(),N=new d(0,0,0,0),z=this.getTabSize(),q=P.start.row;q<=P.end.row;++q){var K=this.getLine(q);N.start.row=q,N.end.row=q;for(var J=0;J<z&&K.charAt(J)==" ";++J);J<z&&K.charAt(J)=="	"?(N.start.column=J,N.end.column=J+1):(N.start.column=0,N.end.column=J),this.remove(N)}},T.prototype.$moveLines=function(b,P,N){if(b=this.getRowFoldStart(b),P=this.getRowFoldEnd(P),N<0){var z=this.getRowFoldStart(b+N);if(z<0)return 0;var q=z-b}else if(N>0){var z=this.getRowFoldEnd(P+N);if(z>this.doc.getLength()-1)return 0;var q=z-P}else{b=this.$clipRowToDocument(b),P=this.$clipRowToDocument(P);var q=P-b+1}var K=new d(b,0,P,Number.MAX_VALUE),J=this.getFoldsInRange(K).map(function(U){return U=U.clone(),U.start.row+=q,U.end.row+=q,U}),Q=N==0?this.doc.getLines(b,P):this.doc.removeFullLines(b,P);return this.doc.insertFullLines(b+q,Q),J.length&&this.addFolds(J),q},T.prototype.moveLinesUp=function(b,P){return this.$moveLines(b,P,-1)},T.prototype.moveLinesDown=function(b,P){return this.$moveLines(b,P,1)},T.prototype.duplicateLines=function(b,P){return this.$moveLines(b,P,0)},T.prototype.$clipRowToDocument=function(b){return Math.max(0,Math.min(b,this.doc.getLength()-1))},T.prototype.$clipColumnToRow=function(b,P){return P<0?0:Math.min(this.doc.getLine(b).length,P)},T.prototype.$clipPositionToDocument=function(b,P){if(P=Math.max(0,P),b<0)b=0,P=0;else{var N=this.doc.getLength();b>=N?(b=N-1,P=this.doc.getLine(N-1).length):P=Math.min(this.doc.getLine(b).length,P)}return{row:b,column:P}},T.prototype.$clipRangeToDocument=function(b){b.start.row<0?(b.start.row=0,b.start.column=0):b.start.column=this.$clipColumnToRow(b.start.row,b.start.column);var P=this.doc.getLength()-1;return b.end.row>P?(b.end.row=P,b.end.column=this.doc.getLine(P).length):b.end.column=this.$clipColumnToRow(b.end.row,b.end.column),b},T.prototype.setUseWrapMode=function(b){if(b!=this.$useWrapMode){if(this.$useWrapMode=b,this.$modified=!0,this.$resetRowCache(0),b){var P=this.getLength();this.$wrapData=Array(P),this.$updateWrapData(0,P-1)}this._signal("changeWrapMode")}},T.prototype.getUseWrapMode=function(){return this.$useWrapMode},T.prototype.setWrapLimitRange=function(b,P){(this.$wrapLimitRange.min!==b||this.$wrapLimitRange.max!==P)&&(this.$wrapLimitRange={min:b,max:P},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},T.prototype.adjustWrapLimit=function(b,P){var N=this.$wrapLimitRange;N.max<0&&(N={min:P,max:P});var z=this.$constrainWrapLimit(b,N.min,N.max);return z!=this.$wrapLimit&&z>1?(this.$wrapLimit=z,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},T.prototype.$constrainWrapLimit=function(b,P,N){return P&&(b=Math.max(P,b)),N&&(b=Math.min(N,b)),b},T.prototype.getWrapLimit=function(){return this.$wrapLimit},T.prototype.setWrapLimit=function(b){this.setWrapLimitRange(b,b)},T.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},T.prototype.$updateInternalDataOnChange=function(b){var P=this.$useWrapMode,N=b.action,z=b.start,q=b.end,K=z.row,J=q.row,Q=J-K,U=null;if(this.$updating=!0,Q!=0)if(N==="remove"){this[P?"$wrapData":"$rowLengthCache"].splice(K,Q);var re=this.$foldData;U=this.getFoldsInRange(b),this.removeFolds(U);var Z=this.getFoldLine(q.row),ue=0;if(Z){Z.addRemoveChars(q.row,q.column,z.column-q.column),Z.shiftRow(-Q);var ce=this.getFoldLine(K);ce&&ce!==Z&&(ce.merge(Z),Z=ce),ue=re.indexOf(Z)+1}for(ue;ue<re.length;ue++){var Z=re[ue];Z.start.row>=q.row&&Z.shiftRow(-Q)}J=K}else{var oe=Array(Q);oe.unshift(K,0);var pe=P?this.$wrapData:this.$rowLengthCache;pe.splice.apply(pe,oe);var re=this.$foldData,Z=this.getFoldLine(K),ue=0;if(Z){var Ee=Z.range.compareInside(z.row,z.column);Ee==0?(Z=Z.split(z.row,z.column),Z&&(Z.shiftRow(Q),Z.addRemoveChars(J,0,q.column-z.column))):Ee==-1&&(Z.addRemoveChars(K,0,q.column-z.column),Z.shiftRow(Q)),ue=re.indexOf(Z)+1}for(ue;ue<re.length;ue++){var Z=re[ue];Z.start.row>=K&&Z.shiftRow(Q)}}else{Q=Math.abs(b.start.column-b.end.column),N==="remove"&&(U=this.getFoldsInRange(b),this.removeFolds(U),Q=-Q);var Z=this.getFoldLine(K);Z&&Z.addRemoveChars(K,z.column,Q)}return P&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,P?this.$updateWrapData(K,J):this.$updateRowLengthCache(K,J),U},T.prototype.$updateRowLengthCache=function(b,P){this.$rowLengthCache[b]=null,this.$rowLengthCache[P]=null},T.prototype.$updateWrapData=function(b,P){var N=this.doc.getAllLines(),z=this.getTabSize(),q=this.$wrapData,K=this.$wrapLimit,J,Q,U=b;for(P=Math.min(P,N.length-1);U<=P;)Q=this.getFoldLine(U,Q),Q?(J=[],Q.walk((function(re,Z,ue,ce){var oe;if(re!=null){oe=this.$getDisplayTokens(re,J.length),oe[0]=L;for(var pe=1;pe<oe.length;pe++)oe[pe]=E}else oe=this.$getDisplayTokens(N[Z].substring(ce,ue),J.length);J=J.concat(oe)}).bind(this),Q.end.row,N[Q.end.row].length+1),q[Q.start.row]=this.$computeWrapSplits(J,K,z),U=Q.end.row+1):(J=this.$getDisplayTokens(N[U]),q[U]=this.$computeWrapSplits(J,K,z),U++)},T.prototype.$computeWrapSplits=function(b,P,N){if(b.length==0)return[];var z=[],q=b.length,K=0,J=0,Q=this.$wrapAsCode,U=this.$indentedSoftWrap,re=P<=Math.max(2*N,8)||U===!1?0:Math.floor(P/2);function Z(){var Ee=0;if(re===0)return Ee;if(U)for(var me=0;me<b.length;me++){var Ae=b[me];if(Ae==I)Ee+=1;else if(Ae==M)Ee+=N;else{if(Ae==$)continue;break}}return Q&&U!==!1&&(Ee+=N),Math.min(Ee,re)}function ue(Ee){for(var me=Ee-K,Ae=K;Ae<Ee;Ae++){var $e=b[Ae];($e===12||$e===2)&&(me-=1)}z.length||(ce=Z(),z.indent=ce),J+=me,z.push(J),K=Ee}for(var ce=0;q-K>P-ce;){var oe=K+P-ce;if(b[oe-1]>=I&&b[oe]>=I){ue(oe);continue}if(b[oe]==L||b[oe]==E){for(oe;oe!=K-1&&b[oe]!=L;oe--);if(oe>K){ue(oe);continue}for(oe=K+P,oe;oe<b.length&&b[oe]==E;oe++);if(oe==b.length)break;ue(oe);continue}for(var pe=Math.max(oe-(P-(P>>2)),K-1);oe>pe&&b[oe]<L;)oe--;if(Q){for(;oe>pe&&b[oe]<L;)oe--;for(;oe>pe&&b[oe]==_;)oe--}else for(;oe>pe&&b[oe]<I;)oe--;if(oe>pe){ue(++oe);continue}oe=K+P,b[oe]==O&&oe--,ue(oe-ce)}return z},T.prototype.$getDisplayTokens=function(b,P){var N=[],z;P=P||0;for(var q=0;q<b.length;q++){var K=b.charCodeAt(q);if(K==9){z=this.getScreenTabSize(N.length+P),N.push(M);for(var J=1;J<z;J++)N.push($)}else K==32?N.push(I):K>39&&K<48||K>57&&K<64?N.push(_):K>=4352&&B(K)?N.push(F,O):N.push(F)}return N},T.prototype.$getStringScreenWidth=function(b,P,N){if(P==0)return[0,0];P==null&&(P=1/0),N=N||0;var z,q;for(q=0;q<b.length&&(z=b.charCodeAt(q),z==9?N+=this.getScreenTabSize(N):z>=4352&&B(z)?N+=2:N+=1,!(N>P));q++);return[N,q]},T.prototype.getRowLength=function(b){var P=1;return this.lineWidgets&&(P+=this.lineWidgets[b]&&this.lineWidgets[b].rowCount||0),!this.$useWrapMode||!this.$wrapData[b]?P:this.$wrapData[b].length+P},T.prototype.getRowLineCount=function(b){return!this.$useWrapMode||!this.$wrapData[b]?1:this.$wrapData[b].length+1},T.prototype.getRowWrapIndent=function(b){if(this.$useWrapMode){var P=this.screenToDocumentPosition(b,Number.MAX_VALUE),N=this.$wrapData[P.row];return N.length&&N[0]<P.column?N.indent:0}else return 0},T.prototype.getScreenLastRowColumn=function(b){var P=this.screenToDocumentPosition(b,Number.MAX_VALUE);return this.documentToScreenColumn(P.row,P.column)},T.prototype.getDocumentLastRowColumn=function(b,P){var N=this.documentToScreenRow(b,P);return this.getScreenLastRowColumn(N)},T.prototype.getDocumentLastRowColumnPosition=function(b,P){var N=this.documentToScreenRow(b,P);return this.screenToDocumentPosition(N,Number.MAX_VALUE/10)},T.prototype.getRowSplitData=function(b){if(this.$useWrapMode)return this.$wrapData[b]},T.prototype.getScreenTabSize=function(b){return this.$tabSize-(b%this.$tabSize|0)},T.prototype.screenToDocumentRow=function(b,P){return this.screenToDocumentPosition(b,P).row},T.prototype.screenToDocumentColumn=function(b,P){return this.screenToDocumentPosition(b,P).column},T.prototype.screenToDocumentPosition=function(b,P,N){if(b<0)return{row:0,column:0};var z,q=0,K=0,J,Q=0,U=0,re=this.$screenRowCache,Z=this.$getRowCacheIndex(re,b),ue=re.length;if(ue&&Z>=0)var Q=re[Z],q=this.$docRowCache[Z],ce=b>re[ue-1];else var ce=!ue;for(var oe=this.getLength()-1,pe=this.getNextFoldLine(q),Ee=pe?pe.start.row:1/0;Q<=b&&(U=this.getRowLength(q),!(Q+U>b||q>=oe));)Q+=U,q++,q>Ee&&(q=pe.end.row+1,pe=this.getNextFoldLine(q,pe),Ee=pe?pe.start.row:1/0),ce&&(this.$docRowCache.push(q),this.$screenRowCache.push(Q));if(pe&&pe.start.row<=q)z=this.getFoldDisplayLine(pe),q=pe.start.row;else{if(Q+U<=b||q>oe)return{row:oe,column:this.getLine(oe).length};z=this.getLine(q),pe=null}var me=0,Ae=Math.floor(b-Q);if(this.$useWrapMode){var $e=this.$wrapData[q];$e&&(J=$e[Ae],Ae>0&&$e.length&&(me=$e.indent,K=$e[Ae-1]||$e[$e.length-1],z=z.substring(K)))}return N!==void 0&&this.$bidiHandler.isBidiRow(Q+Ae,q,Ae)&&(P=this.$bidiHandler.offsetToCol(N)),K+=this.$getStringScreenWidth(z,P-me)[1],this.$useWrapMode&&K>=J&&(K=J-1),pe?pe.idxToPosition(K):{row:q,column:K}},T.prototype.documentToScreenPosition=function(b,P){if(typeof P>"u")var N=this.$clipPositionToDocument(b.row,b.column);else N=this.$clipPositionToDocument(b,P);b=N.row,P=N.column;var z=0,q=null,K=null;K=this.getFoldAt(b,P,1),K&&(b=K.start.row,P=K.start.column);var J,Q=0,U=this.$docRowCache,re=this.$getRowCacheIndex(U,b),Z=U.length;if(Z&&re>=0)var Q=U[re],z=this.$screenRowCache[re],ue=b>U[Z-1];else var ue=!Z;for(var ce=this.getNextFoldLine(Q),oe=ce?ce.start.row:1/0;Q<b;){if(Q>=oe){if(J=ce.end.row+1,J>b)break;ce=this.getNextFoldLine(J,ce),oe=ce?ce.start.row:1/0}else J=Q+1;z+=this.getRowLength(Q),Q=J,ue&&(this.$docRowCache.push(Q),this.$screenRowCache.push(z))}var pe="";ce&&Q>=oe?(pe=this.getFoldDisplayLine(ce,b,P),q=ce.start.row):(pe=this.getLine(b).substring(0,P),q=b);var Ee=0;if(this.$useWrapMode){var me=this.$wrapData[q];if(me){for(var Ae=0;pe.length>=me[Ae];)z++,Ae++;pe=pe.substring(me[Ae-1]||0,pe.length),Ee=Ae>0?me.indent:0}}return this.lineWidgets&&this.lineWidgets[Q]&&this.lineWidgets[Q].rowsAbove&&(z+=this.lineWidgets[Q].rowsAbove),{row:z,column:Ee+this.$getStringScreenWidth(pe)[0]}},T.prototype.documentToScreenColumn=function(b,P){return this.documentToScreenPosition(b,P).column},T.prototype.documentToScreenRow=function(b,P){return this.documentToScreenPosition(b,P).row},T.prototype.getScreenLength=function(){var b=0,P=null;if(this.$useWrapMode)for(var q=this.$wrapData.length,K=0,z=0,P=this.$foldData[z++],J=P?P.start.row:1/0;K<q;){var Q=this.$wrapData[K];b+=Q?Q.length+1:1,K++,K>J&&(K=P.end.row+1,P=this.$foldData[z++],J=P?P.start.row:1/0)}else{b=this.getLength();for(var N=this.$foldData,z=0;z<N.length;z++)P=N[z],b-=P.end.row-P.start.row}return this.lineWidgets&&(b+=this.$getWidgetScreenLength()),b},T.prototype.$setFontMetrics=function(b){this.$enableVarChar&&(this.$getStringScreenWidth=function(P,N,z){if(N===0)return[0,0];N||(N=1/0),z=z||0;var q,K;for(K=0;K<P.length&&(q=P.charAt(K),q==="	"?z+=this.getScreenTabSize(z):z+=b.getCharacterWidth(q),!(z>N));K++);return[z,K]})},T.prototype.getPrecedingCharacter=function(){var b=this.selection.getCursor();if(b.column===0)return b.row===0?"":this.doc.getNewLineCharacter();var P=this.getLine(b.row);return P[b.column-1]},T.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},T}();k.$uid=0,k.prototype.$modes=u.$modes,k.prototype.getValue=k.prototype.toString,k.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},k.prototype.$overwrite=!1,k.prototype.$mode=null,k.prototype.$modeId=null,k.prototype.$scrollTop=0,k.prototype.$scrollLeft=0,k.prototype.$wrapLimit=80,k.prototype.$useWrapMode=!1,k.prototype.$wrapLimitRange={min:null,max:null},k.prototype.lineWidgets=null,k.prototype.isFullWidth=B,o.implement(k.prototype,g);var F=1,O=2,L=3,E=4,_=9,I=10,M=11,$=12;function B(T){return T<4352?!1:T>=4352&&T<=4447||T>=4515&&T<=4519||T>=4602&&T<=4607||T>=9001&&T<=9002||T>=11904&&T<=11929||T>=11931&&T<=12019||T>=12032&&T<=12245||T>=12272&&T<=12283||T>=12288&&T<=12350||T>=12353&&T<=12438||T>=12441&&T<=12543||T>=12549&&T<=12589||T>=12593&&T<=12686||T>=12688&&T<=12730||T>=12736&&T<=12771||T>=12784&&T<=12830||T>=12832&&T<=12871||T>=12880&&T<=13054||T>=13056&&T<=19903||T>=19968&&T<=42124||T>=42128&&T<=42182||T>=43360&&T<=43388||T>=44032&&T<=55203||T>=55216&&T<=55238||T>=55243&&T<=55291||T>=63744&&T<=64255||T>=65040&&T<=65049||T>=65072&&T<=65106||T>=65108&&T<=65126||T>=65128&&T<=65131||T>=65281&&T<=65376||T>=65504&&T<=65510}t("./edit_session/folding").Folding.call(k.prototype),t("./edit_session/bracket_match").BracketMatch.call(k.prototype),u.defineOptions(k.prototype,"session",{wrap:{set:function(T){if(!T||T=="off"?T=!1:T=="free"?T=!0:T=="printMargin"?T=-1:typeof T=="string"&&(T=parseInt(T,10)||!1),this.$wrap!=T)if(this.$wrap=T,!T)this.setUseWrapMode(!1);else{var b=typeof T=="number"?T:null;this.setWrapLimitRange(b,b),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(T){T=T=="auto"?this.$mode.type!="text":T!="text",T!=this.$wrapAsCode&&(this.$wrapAsCode=T,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(T){this.$useWorker=T,this.$stopWorker(),T&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(T){T=parseInt(T),T>0&&this.$tabSize!==T&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=T,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(T){this.setFoldStyle(T)},handlesSet:!0},overwrite:{set:function(T){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(T){this.doc.setNewLineMode(T)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(T){this.setMode(T)},get:function(){return this.$modeId},handlesSet:!0}}),r.EditSession=k}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,r,s){var o=t("./lib/lang"),c=t("./lib/oop"),m=t("./range").Range,u=function(){function l(){this.$options={}}return l.prototype.set=function(h){return c.mixin(this.$options,h),this},l.prototype.getOptions=function(){return o.copyObject(this.$options)},l.prototype.setOptions=function(h){this.$options=h},l.prototype.find=function(h){var d=this.$options,f=this.$matchIterator(h,d);if(!f)return!1;var p=null;return f.forEach(function(v,y,C,k){return p=new m(v,y,C,k),y==k&&d.start&&d.start.start&&d.skipCurrent!=!1&&p.isEqual(d.start)?(p=null,!1):!0}),p},l.prototype.findAll=function(h){var d=this.$options;if(!d.needle)return[];this.$assembleRegExp(d);var f=d.range,p=f?h.getLines(f.start.row,f.end.row):h.doc.getAllLines(),v=[],y=d.re;if(d.$isMultiLine){var C=y.length,k=p.length-C,F;e:for(var O=y.offset||0;O<=k;O++){for(var L=0;L<C;L++)if(p[O+L].search(y[L])==-1)continue e;var E=p[O],_=p[O+C-1],I=E.length-E.match(y[0])[0].length,M=_.match(y[C-1])[0].length;F&&F.end.row===O&&F.end.column>I||(v.push(F=new m(O,I,O+C-1,M)),C>2&&(O=O+C-2))}}else for(var $=0;$<p.length;$++)for(var B=o.getMatchOffsets(p[$],y),L=0;L<B.length;L++){var T=B[L];v.push(new m($,T.offset,$,T.offset+T.length))}if(f){for(var b=f.start.column,P=f.end.column,$=0,L=v.length-1;$<L&&v[$].start.column<b&&v[$].start.row==0;)$++;for(var N=f.end.row-f.start.row;$<L&&v[L].end.column>P&&v[L].end.row==N;)L--;for(v=v.slice($,L+1),$=0,L=v.length;$<L;$++)v[$].start.row+=f.start.row,v[$].end.row+=f.start.row}return v},l.prototype.replace=function(h,d){var f=this.$options,p=this.$assembleRegExp(f);if(f.$isMultiLine)return d;if(p){var v=p.exec(h);if(!v||v[0].length!=h.length)return null;if(f.regExp||(d=d.replace(/\$/g,"$$$$")),d=h.replace(p,d),f.preserveCase){d=d.split("");for(var y=Math.min(h.length,h.length);y--;){var C=h[y];C&&C.toLowerCase()!=C?d[y]=d[y].toUpperCase():d[y]=d[y].toLowerCase()}d=d.join("")}return d}},l.prototype.$assembleRegExp=function(h,d){if(h.needle instanceof RegExp)return h.re=h.needle;var f=h.needle;if(!h.needle)return h.re=!1;h.regExp||(f=o.escapeRegExp(f));var p=h.caseSensitive?"gm":"gmi";try{new RegExp(f,"u"),h.$supportsUnicodeFlag=!0,p+="u"}catch{h.$supportsUnicodeFlag=!1}if(h.wholeWord&&(f=g(f,h)),h.$isMultiLine=!d&&/[\n\r]/.test(f),h.$isMultiLine)return h.re=this.$assembleMultilineRegExp(f,p);try{var v=new RegExp(f,p)}catch{v=!1}return h.re=v},l.prototype.$assembleMultilineRegExp=function(h,d){for(var f=h.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),p=[],v=0;v<f.length;v++)try{p.push(new RegExp(f[v],d))}catch{return!1}return p},l.prototype.$matchIterator=function(h,d){var f=this.$assembleRegExp(d);if(!f)return!1;var p=d.backwards==!0,v=d.skipCurrent!=!1,y=f.unicode,C=d.range,k=d.start;k||(k=C?C[p?"end":"start"]:h.selection.getRange()),k.start&&(k=k[v!=p?"end":"start"]);var F=C?C.start.row:0,O=C?C.end.row:h.getLength()-1;if(p)var L=function(I){var M=k.row;if(!_(M,k.column,I)){for(M--;M>=F;M--)if(_(M,Number.MAX_VALUE,I))return;if(d.wrap!=!1){for(M=O,F=k.row;M>=F;M--)if(_(M,Number.MAX_VALUE,I))return}}};else var L=function(M){var $=k.row;if(!_($,k.column,M)){for($=$+1;$<=O;$++)if(_($,0,M))return;if(d.wrap!=!1){for($=F,O=k.row;$<=O;$++)if(_($,0,M))return}}};if(d.$isMultiLine)var E=f.length,_=function(I,M,$){var B=p?I-E+1:I;if(!(B<0||B+E>h.getLength())){var T=h.getLine(B),b=T.search(f[0]);if(!(!p&&b<M||b===-1)){for(var P=1;P<E;P++)if(T=h.getLine(B+P),T.search(f[P])==-1)return;var N=T.match(f[E-1])[0].length;if(!(p&&N>M)&&$(B,b,B+E-1,N))return!0}}};else if(p)var _=function(M,$,B){var T=h.getLine(M),b=[],P,N=0;for(f.lastIndex=0;P=f.exec(T);){var z=P[0].length;if(N=P.index,!z){if(N>=T.length)break;f.lastIndex=N+=o.skipEmptyMatch(T,N,y)}if(P.index+z>$)break;b.push(P.index,z)}for(var q=b.length-1;q>=0;q-=2){var K=b[q-1],z=b[q];if(B(M,K,M,K+z))return!0}};else var _=function(M,$,B){var T=h.getLine(M),b,P;for(f.lastIndex=$;P=f.exec(T);){var N=P[0].length;if(b=P.index,B(M,b,M,b+N))return!0;if(!N&&(f.lastIndex=b+=o.skipEmptyMatch(T,b,y),b>=T.length))return!1}};return{forEach:L}},l}();function g(l,h){var d=o.supportsLookbehind();function f(C,k){k===void 0&&(k=!0);var F=d&&h.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return F.test(C)||h.regExp?d&&h.$supportsUnicodeFlag?k?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var p=Array.from(l),v=p[0],y=p[p.length-1];return f(v)+l+f(y,!1)}r.Search=u}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,r,s){var o=this&&this.__extends||function(){var d=function(f,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(v[C]=y[C])},d(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");d(f,p);function v(){this.constructor=f}f.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}(),c=t("../lib/keys"),m=t("../lib/useragent"),u=c.KEY_MODS,g=function(){function d(f,p){this.$init(f,p,!1)}return d.prototype.$init=function(f,p,v){this.platform=p||(m.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(f),this.$singleCommand=v},d.prototype.addCommand=function(f){this.commands[f.name]&&this.removeCommand(f),this.commands[f.name]=f,f.bindKey&&this._buildKeyHash(f)},d.prototype.removeCommand=function(f,p){var v=f&&(typeof f=="string"?f:f.name);f=this.commands[v],p||delete this.commands[v];var y=this.commandKeyBinding;for(var C in y){var k=y[C];if(k==f)delete y[C];else if(Array.isArray(k)){var F=k.indexOf(f);F!=-1&&(k.splice(F,1),k.length==1&&(y[C]=k[0]))}}},d.prototype.bindKey=function(f,p,v){if(typeof f=="object"&&f&&(v==null&&(v=f.position),f=f[this.platform]),!!f){if(typeof p=="function")return this.addCommand({exec:p,bindKey:f,name:p.name||f});f.split("|").forEach(function(y){var C="";if(y.indexOf(" ")!=-1){var k=y.split(/\s+/);y=k.pop(),k.forEach(function(L){var E=this.parseKeys(L),_=u[E.hashId]+E.key;C+=(C?" ":"")+_,this._addCommandToBinding(C,"chainKeys")},this),C+=" "}var F=this.parseKeys(y),O=u[F.hashId]+F.key;this._addCommandToBinding(C+O,p,v)},this)}},d.prototype._addCommandToBinding=function(f,p,v){var y=this.commandKeyBinding,C;if(!p)delete y[f];else if(!y[f]||this.$singleCommand)y[f]=p;else{Array.isArray(y[f])?(C=y[f].indexOf(p))!=-1&&y[f].splice(C,1):y[f]=[y[f]],typeof v!="number"&&(v=l(p));var k=y[f];for(C=0;C<k.length;C++){var F=k[C],O=l(F);if(O>v)break}k.splice(C,0,p)}},d.prototype.addCommands=function(f){f&&Object.keys(f).forEach(function(p){var v=f[p];if(v){if(typeof v=="string")return this.bindKey(v,p);typeof v=="function"&&(v={exec:v}),typeof v=="object"&&(v.name||(v.name=p),this.addCommand(v))}},this)},d.prototype.removeCommands=function(f){Object.keys(f).forEach(function(p){this.removeCommand(f[p])},this)},d.prototype.bindKeys=function(f){Object.keys(f).forEach(function(p){this.bindKey(p,f[p])},this)},d.prototype._buildKeyHash=function(f){this.bindKey(f.bindKey,f)},d.prototype.parseKeys=function(f){var p=f.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(O){return O}),v=p.pop(),y=c[v];if(c.FUNCTION_KEYS[y])v=c.FUNCTION_KEYS[y].toLowerCase();else if(p.length){if(p.length==1&&p[0]=="shift")return{key:v.toUpperCase(),hashId:-1}}else return{key:v,hashId:-1};for(var C=0,k=p.length;k--;){var F=c.KEY_MODS[p[k]];if(F==null)return typeof console<"u"&&console.error("invalid modifier "+p[k]+" in "+f),!1;C|=F}return{key:v,hashId:C}},d.prototype.findKeyCommand=function(f,p){var v=u[f]+p;return this.commandKeyBinding[v]},d.prototype.handleKeyboard=function(f,p,v,y){if(!(y<0)){var C=u[p]+v,k=this.commandKeyBinding[C];return f.$keyChain&&(f.$keyChain+=" "+C,k=this.commandKeyBinding[f.$keyChain]||k),k&&(k=="chainKeys"||k[k.length-1]=="chainKeys")?(f.$keyChain=f.$keyChain||C,{command:"null"}):(f.$keyChain&&((!p||p==4)&&v.length==1?f.$keyChain=f.$keyChain.slice(0,-C.length-1):(p==-1||y>0)&&(f.$keyChain="")),{command:k})}},d.prototype.getStatusText=function(f,p){return p.$keyChain||""},d}();function l(d){return typeof d=="object"&&d.bindKey&&d.bindKey.position||(d.isDefault?-100:0)}var h=function(d){o(f,d);function f(p,v){var y=d.call(this,p,v)||this;return y.$singleCommand=!0,y}return f}(g);h.call=function(d,f,p){g.prototype.$init.call(d,f,p,!0)},g.call=function(d,f,p){g.prototype.$init.call(d,f,p,!1)},r.HashHandler=h,r.MultiHashHandler=g}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,r,s){var o=this&&this.__extends||function(){var l=function(h,d){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(f[v]=p[v])},l(h,d)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");l(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}(),c=t("../lib/oop"),m=t("../keyboard/hash_handler").MultiHashHandler,u=t("../lib/event_emitter").EventEmitter,g=function(l){o(h,l);function h(d,f){var p=l.call(this,f,d)||this;return p.byName=p.commands,p.setDefaultHandler("exec",function(v){return v.args?v.command.exec(v.editor,v.args,v.event,!1):v.command.exec(v.editor,{},v.event,!0)}),p}return h.prototype.exec=function(d,f,p){if(Array.isArray(d)){for(var v=d.length;v--;)if(this.exec(d[v],f,p))return!0;return!1}if(typeof d=="string"&&(d=this.commands[d]),!this.canExecute(d,f))return!1;var y={editor:f,command:d,args:p};return y.returnValue=this._emit("exec",y),this._signal("afterExec",y),y.returnValue!==!1},h.prototype.canExecute=function(d,f){return typeof d=="string"&&(d=this.commands[d]),!(!d||f&&f.$readOnly&&!d.readOnly||this.$checkCommandState!=!1&&d.isAvailable&&!d.isAvailable(f))},h.prototype.toggleRecording=function(d){if(!this.$inReplay)return d&&d._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(f){this.macro.push([f.command,f.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},h.prototype.replay=function(d){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(d);try{this.$inReplay=!0,this.macro.forEach(function(f){typeof f=="string"?this.exec(f,d):this.exec(f[0],d,f[1])},this)}finally{this.$inReplay=!1}}},h.prototype.trimMacro=function(d){return d.map(function(f){return typeof f[0]!="string"&&(f[0]=f[0].name),f[1]||(f=f[0]),f})},h}(m);c.implement(g.prototype,u),r.CommandManager=g}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,r,s){var o=t("../lib/lang"),c=t("../config"),m=t("../range").Range;function u(l,h){return{win:l,mac:h}}r.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:u("Ctrl-,","Command-,"),exec:function(l){c.loadModule("ace/ext/settings_menu",function(h){h.init(l),l.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:u("Alt-E","F4"),exec:function(l){c.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(l,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:u("Alt-Shift-E","Shift-F4"),exec:function(l){c.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(l,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:u("Ctrl-A","Command-A"),exec:function(l){l.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:u(null,"Ctrl-L"),exec:function(l){l.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:u("Ctrl-L","Command-L"),exec:function(l,h){typeof h=="number"&&!isNaN(h)&&l.gotoLine(h),l.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:u("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(l){l.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:u("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(l){l.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:u("F2","F2"),exec:function(l){l.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:u("Alt-F2","Alt-F2"),exec:function(l){l.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:u(null,"Ctrl-Command-Option-0"),exec:function(l){l.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:u(null,"Ctrl-Command-Option-0"),exec:function(l){l.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:u("Alt-0","Command-Option-0"),exec:function(l){l.session.foldAll(),l.session.unfold(l.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:u("Alt-Shift-0","Command-Option-Shift-0"),exec:function(l){l.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:u("Ctrl-K","Command-G"),exec:function(l){l.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:u("Ctrl-Shift-K","Command-Shift-G"),exec:function(l){l.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:u("Alt-K","Ctrl-G"),exec:function(l){l.selection.isEmpty()?l.selection.selectWord():l.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:u("Alt-Shift-K","Ctrl-Shift-G"),exec:function(l){l.selection.isEmpty()?l.selection.selectWord():l.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:u("Ctrl-F","Command-F"),exec:function(l){c.loadModule("ace/ext/searchbox",function(h){h.Search(l)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(l){l.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:u("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(l){l.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:u("Ctrl-Home","Command-Home|Command-Up"),exec:function(l){l.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:u("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(l){l.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:u("Up","Up|Ctrl-P"),exec:function(l,h){l.navigateUp(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:u("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(l){l.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:u("Ctrl-End","Command-End|Command-Down"),exec:function(l){l.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:u("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(l){l.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:u("Down","Down|Ctrl-N"),exec:function(l,h){l.navigateDown(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:u("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(l){l.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:u("Ctrl-Left","Option-Left"),exec:function(l){l.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:u("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(l){l.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:u("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(l){l.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:u("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(l){l.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:u("Left","Left|Ctrl-B"),exec:function(l,h){l.navigateLeft(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:u("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(l){l.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:u("Ctrl-Right","Option-Right"),exec:function(l){l.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:u("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(l){l.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:u("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(l){l.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:u("Shift-Right","Shift-Right"),exec:function(l){l.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:u("Right","Right|Ctrl-F"),exec:function(l,h){l.navigateRight(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(l){l.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:u(null,"Option-PageDown"),exec:function(l){l.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:u("PageDown","PageDown|Ctrl-V"),exec:function(l){l.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(l){l.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:u(null,"Option-PageUp"),exec:function(l){l.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(l){l.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:u("Ctrl-Up",null),exec:function(l){l.renderer.scrollBy(0,-2*l.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:u("Ctrl-Down",null),exec:function(l){l.renderer.scrollBy(0,2*l.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(l){l.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(l){l.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:u("Ctrl-Alt-E","Command-Option-E"),exec:function(l){l.commands.toggleRecording(l)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:u("Ctrl-Shift-E","Command-Shift-E"),exec:function(l){l.commands.replay(l)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:u("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(l){l.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:u("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(l){l.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:u("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(l){l.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:u(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(l){},readOnly:!0},{name:"cut",description:"Cut",exec:function(l){var h=l.$copyWithEmptySelection&&l.selection.isEmpty(),d=h?l.selection.getLineRange():l.selection.getRange();l._emit("cut",d),d.isEmpty()||l.session.remove(d),l.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(l,h){l.$handlePaste(h)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:u("Ctrl-D","Command-D"),exec:function(l){l.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:u("Ctrl-Shift-D","Command-Shift-D"),exec:function(l){l.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:u("Ctrl-Alt-S","Command-Alt-S"),exec:function(l){l.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:u("Ctrl-/","Command-/"),exec:function(l){l.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:u("Ctrl-Shift-/","Command-Shift-/"),exec:function(l){l.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:u("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(l){l.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:u("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(l){l.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:u("Ctrl-H","Command-Option-F"),exec:function(l){c.loadModule("ace/ext/searchbox",function(h){h.Search(l,!0)})}},{name:"undo",description:"Undo",bindKey:u("Ctrl-Z","Command-Z"),exec:function(l){l.undo()}},{name:"redo",description:"Redo",bindKey:u("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(l){l.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:u("Alt-Shift-Up","Command-Option-Up"),exec:function(l){l.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:u("Alt-Up","Option-Up"),exec:function(l){l.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:u("Alt-Shift-Down","Command-Option-Down"),exec:function(l){l.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:u("Alt-Down","Option-Down"),exec:function(l){l.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:u("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(l){l.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:u("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(l){l.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:u("Shift-Delete",null),exec:function(l){if(l.selection.isEmpty())l.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:u("Alt-Backspace","Command-Backspace"),exec:function(l){l.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:u("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(l){l.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:u("Ctrl-Shift-Backspace",null),exec:function(l){var h=l.selection.getRange();h.start.column=0,l.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:u("Ctrl-Shift-Delete",null),exec:function(l){var h=l.selection.getRange();h.end.column=Number.MAX_VALUE,l.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:u("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(l){l.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:u("Ctrl-Delete","Alt-Delete"),exec:function(l){l.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:u("Shift-Tab","Shift-Tab"),exec:function(l){l.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:u("Tab","Tab"),exec:function(l){l.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:u("Ctrl-[","Ctrl-["),exec:function(l){l.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:u("Ctrl-]","Ctrl-]"),exec:function(l){l.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(l,h){l.insert(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(l,h){l.insert(o.stringRepeat(h.text||"",h.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:u(null,"Ctrl-O"),exec:function(l){l.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:u("Alt-Shift-X","Ctrl-T"),exec:function(l){l.transposeLetters()},multiSelectAction:function(l){l.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:u("Ctrl-U","Ctrl-U"),exec:function(l){l.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:u("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(l){l.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:u(null,null),exec:function(l){l.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:u("Ctrl-Shift-L","Command-Shift-L"),exec:function(l){var h=l.selection.getRange();h.start.column=h.end.column=0,h.end.row++,l.selection.setRange(h,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:u("Ctrl+F3","F3"),exec:function(l){l.openLink()}},{name:"joinlines",description:"Join lines",bindKey:u(null,null),exec:function(l){for(var h=l.selection.isBackwards(),d=h?l.selection.getSelectionLead():l.selection.getSelectionAnchor(),f=h?l.selection.getSelectionAnchor():l.selection.getSelectionLead(),p=l.session.doc.getLine(d.row).length,v=l.session.doc.getTextRange(l.selection.getRange()),y=v.replace(/\n\s*/," ").length,C=l.session.doc.getLine(d.row),k=d.row+1;k<=f.row+1;k++){var F=o.stringTrimLeft(o.stringTrimRight(l.session.doc.getLine(k)));F.length!==0&&(F=" "+F),C+=F}f.row+1<l.session.doc.getLength()-1&&(C+=l.session.doc.getNewLineCharacter()),l.clearSelection(),l.session.doc.replace(new m(d.row,0,f.row+2,0),C),y>0?(l.selection.moveCursorTo(d.row,d.column),l.selection.selectTo(d.row,d.column+y)):(p=l.session.doc.getLine(d.row).length>p?p+1:p,l.selection.moveCursorTo(d.row,p))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:u(null,null),exec:function(l){var h=l.session.doc.getLength()-1,d=l.session.doc.getLine(h).length,f=l.selection.rangeList.ranges,p=[];f.length<1&&(f=[l.selection.getRange()]);for(var v=0;v<f.length;v++)v==f.length-1&&(f[v].end.row===h&&f[v].end.column===d||p.push(new m(f[v].end.row,f[v].end.column,h,d))),v===0?f[v].start.row===0&&f[v].start.column===0||p.push(new m(0,0,f[v].start.row,f[v].start.column)):p.push(new m(f[v-1].end.row,f[v-1].end.column,f[v].start.row,f[v].start.column));l.exitMultiSelectMode(),l.clearSelection();for(var v=0;v<p.length;v++)l.selection.addRange(p[v],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(l){l.selection.clearSelection(),l.navigateLineEnd(),l.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(l){l.selection.clearSelection();var h=l.getCursorPosition();l.selection.moveTo(h.row-1,Number.MAX_VALUE),l.insert(`
`),h.row===0&&l.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(l){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),l.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:u("F1","F1"),exec:function(l){l.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:u(null,null),exec:function(l){l.prompt({$type:"modes"})},readOnly:!0}];for(var g=1;g<9;g++)r.commands.push({name:"foldToLevel"+g,description:"Fold To Level "+g,level:g,exec:function(l){l.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(t,r,s){var o=t("../lib/keys"),c=t("../mouse/default_gutter_handler").GutterTooltip,m=function(){function g(l){this.editor=l,this.gutterLayer=l.renderer.$gutterLayer,this.element=l.renderer.$gutter,this.lines=l.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new c(this.editor)}return g.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},g.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},g.prototype.$onGutterKeyDown=function(l){if(this.annotationTooltip.isOpen){l.preventDefault(),l.keyCode===o.escape&&this.annotationTooltip.hideTooltip();return}if(l.target===this.element){if(l.keyCode!=o.enter)return;l.preventDefault();var h=this.editor.getCursorPosition().row;this.editor.isRowVisible(h)||this.editor.scrollToLine(h,!0,!0),setTimeout((function(){var d=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),f=this.$findNearestFoldWidget(d),p=this.$findNearestAnnotation(d);if(!(f===null&&p===null)){if(f===null&&p!==null){this.activeRowIndex=p,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(f!==null&&p===null){this.activeRowIndex=f,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(p-d)<Math.abs(f-d)){this.activeRowIndex=p,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=f,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(l),setTimeout((function(){this.editor._signal("gutterkeydown",new u(l,this))}).bind(this),10)},g.prototype.$handleGutterKeyboardInteraction=function(l){if(l.keyCode===o.tab){l.preventDefault();return}if(l.keyCode===o.escape){l.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(l.keyCode===o.up){switch(l.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(l.keyCode===o.down){switch(l.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(l.keyCode===o.left){l.preventDefault(),this.$switchLane("annotation");return}if(l.keyCode===o.right){l.preventDefault(),this.$switchLane("fold");return}if(l.keyCode===o.enter||l.keyCode===o.space){switch(l.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var h=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),l),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==h&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(h),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var d=this.lines.cells[this.activeRowIndex].element.childNodes[2],f=d.getBoundingClientRect(),p=this.annotationTooltip.getElement().style;p.left=f.right+"px",p.top=f.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},g.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},g.prototype.$isFoldWidgetVisible=function(l){var h=this.editor.isRowFullyVisible(this.$rowIndexToRow(l)),d=this.$getFoldWidget(l).style.display!=="none";return h&&d},g.prototype.$isAnnotationVisible=function(l){var h=this.editor.isRowFullyVisible(this.$rowIndexToRow(l)),d=this.$getAnnotation(l).style.display!=="none";return h&&d},g.prototype.$getFoldWidget=function(l){var h=this.lines.get(l),d=h.element;return d.childNodes[1]},g.prototype.$getAnnotation=function(l){var h=this.lines.get(l),d=h.element;return d.childNodes[2]},g.prototype.$findNearestFoldWidget=function(l){if(this.$isFoldWidgetVisible(l))return l;for(var h=0;l-h>0||l+h<this.lines.getLength()-1;){if(h++,l-h>=0&&this.$isFoldWidgetVisible(l-h))return l-h;if(l+h<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(l+h))return l+h}return null},g.prototype.$findNearestAnnotation=function(l){if(this.$isAnnotationVisible(l))return l;for(var h=0;l-h>0||l+h<this.lines.getLength()-1;){if(h++,l-h>=0&&this.$isAnnotationVisible(l-h))return l-h;if(l+h<=this.lines.getLength()-1&&this.$isAnnotationVisible(l+h))return l+h}return null},g.prototype.$focusFoldWidget=function(l){if(l!=null){var h=this.$getFoldWidget(l);h.classList.add(this.editor.renderer.keyboardFocusClassName),h.focus()}},g.prototype.$focusAnnotation=function(l){if(l!=null){var h=this.$getAnnotation(l);h.classList.add(this.editor.renderer.keyboardFocusClassName),h.focus()}},g.prototype.$blurFoldWidget=function(l){var h=this.$getFoldWidget(l);h.classList.remove(this.editor.renderer.keyboardFocusClassName),h.blur()},g.prototype.$blurAnnotation=function(l){var h=this.$getAnnotation(l);h.classList.remove(this.editor.renderer.keyboardFocusClassName),h.blur()},g.prototype.$moveFoldWidgetUp=function(){for(var l=this.activeRowIndex;l>0;)if(l--,this.$isFoldWidgetVisible(l)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=l,this.$focusFoldWidget(this.activeRowIndex);return}},g.prototype.$moveFoldWidgetDown=function(){for(var l=this.activeRowIndex;l<this.lines.getLength()-1;)if(l++,this.$isFoldWidgetVisible(l)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=l,this.$focusFoldWidget(this.activeRowIndex);return}},g.prototype.$moveAnnotationUp=function(){for(var l=this.activeRowIndex;l>0;)if(l--,this.$isAnnotationVisible(l)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=l,this.$focusAnnotation(this.activeRowIndex);return}},g.prototype.$moveAnnotationDown=function(){for(var l=this.activeRowIndex;l<this.lines.getLength()-1;)if(l++,this.$isAnnotationVisible(l)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=l,this.$focusAnnotation(this.activeRowIndex);return}},g.prototype.$switchLane=function(l){switch(l){case"annotation":if(this.activeLane==="annotation")break;var h=this.$findNearestAnnotation(this.activeRowIndex);if(h==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=h,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var d=this.$findNearestFoldWidget(this.activeRowIndex);if(d==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=d,this.$focusFoldWidget(this.activeRowIndex);break}},g.prototype.$rowIndexToRow=function(l){var h=this.lines.get(l);return h?h.row:null},g.prototype.$rowToRowIndex=function(l){for(var h=0;h<this.lines.getLength();h++){var d=this.lines.get(h);if(d.row==l)return h}return null},g}();r.GutterKeyboardHandler=m;var u=function(){function g(l,h){this.gutterKeyboardHandler=h,this.domEvent=l}return g.prototype.getKey=function(){return o.keyCodeToString(this.domEvent.keyCode)},g.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},g.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},g.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},g}();r.GutterKeyboardEvent=u}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(t,r,s){var o=this&&this.__values||function(T){var b=typeof Symbol=="function"&&Symbol.iterator,P=b&&T[b],N=0;if(P)return P.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&N>=T.length&&(T=void 0),{value:T&&T[N++],done:!T}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},c=t("./lib/oop"),m=t("./lib/dom"),u=t("./lib/lang"),g=t("./lib/useragent"),l=t("./keyboard/textinput").TextInput,h=t("./mouse/mouse_handler").MouseHandler,d=t("./mouse/fold_handler").FoldHandler,f=t("./keyboard/keybinding").KeyBinding,p=t("./edit_session").EditSession,v=t("./search").Search,y=t("./range").Range,C=t("./lib/event_emitter").EventEmitter,k=t("./commands/command_manager").CommandManager,F=t("./commands/default_commands").commands,O=t("./config"),L=t("./token_iterator").TokenIterator,E=t("./keyboard/gutter_handler").GutterKeyboardHandler,_=t("./config").nls,I=t("./clipboard"),M=t("./lib/keys"),$=function(){function T(b,P,N){this.session,this.$toDestroy=[];var z=b.getContainerElement();this.container=z,this.renderer=b,this.id="editor"+ ++T.$uid,this.commands=new k(g.isMac?"mac":"win",F),typeof document=="object"&&(this.textInput=new l(b.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new h(this),new d(this)),this.keyBinding=new f(this),this.$search=new v().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=u.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(q,K){K._$emitInputEvent.schedule(31)}),this.setSession(P||N&&N.session||new p("")),O.resetOptions(this),N&&this.setOptions(N),O._signal("editor",this)}return T.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},T.prototype.startOperation=function(b){this.session.startOperation(b)},T.prototype.endOperation=function(b){this.session.endOperation(b)},T.prototype.onStartOperation=function(b){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,b||(this.previousCommand=null)},T.prototype.onEndOperation=function(b){if(this.curOp&&this.session){if(b&&b.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var P=this.curOp.command,N=P&&P.scrollIntoView;if(N){switch(N){case"center-animate":N="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var z=this.selection.getRange(),q=this.renderer.layerConfig;(z.start.row>=q.lastRow||z.end.row<=q.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}N=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},T.prototype.$historyTracker=function(b){if(this.$mergeUndoDeltas){var P=this.prevOp,N=this.$mergeableCommands,z=P.command&&b.command.name==P.command.name;if(b.command.name=="insertstring"){var q=b.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),z=z&&this.mergeNextCommand&&(!/\s/.test(q)||/\s/.test(P.args)),this.mergeNextCommand=!0}else z=z&&N.indexOf(b.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(z=!1),z?this.session.mergeUndoDeltas=!0:N.indexOf(b.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},T.prototype.setKeyboardHandler=function(b,P){if(b&&typeof b=="string"&&b!="ace"){this.$keybindingId=b;var N=this;O.loadModule(["keybinding",b],function(z){N.$keybindingId==b&&N.keyBinding.setKeyboardHandler(z&&z.handler),P&&P()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(b),P&&P()},T.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},T.prototype.setSession=function(b){if(this.session!=b){this.curOp&&this.endOperation(),this.curOp={};var P=this.session;if(P){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var N=this.session.getSelection();N.off("changeCursor",this.$onCursorChange),N.off("changeSelection",this.$onSelectionChange)}this.session=b,b?(this.$onDocumentChange=this.onDocumentChange.bind(this),b.on("change",this.$onDocumentChange),this.renderer.setSession(b),this.$onChangeMode=this.onChangeMode.bind(this),b.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),b.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),b.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),b.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),b.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),b.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=b.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(b)),this._signal("changeSession",{session:b,oldSession:P}),this.curOp=null,P&&P._signal("changeEditor",{oldEditor:this}),P&&(P.$editor=null),b&&b._signal("changeEditor",{editor:this}),b&&(b.$editor=this),b&&!b.destroyed&&b.bgTokenizer.scheduleStart()}},T.prototype.getSession=function(){return this.session},T.prototype.setValue=function(b,P){return this.session.doc.setValue(b),P?P==1?this.navigateFileEnd():P==-1&&this.navigateFileStart():this.selectAll(),b},T.prototype.getValue=function(){return this.session.getValue()},T.prototype.getSelection=function(){return this.selection},T.prototype.resize=function(b){this.renderer.onResize(b)},T.prototype.setTheme=function(b,P){this.renderer.setTheme(b,P)},T.prototype.getTheme=function(){return this.renderer.getTheme()},T.prototype.setStyle=function(b){this.renderer.setStyle(b)},T.prototype.unsetStyle=function(b){this.renderer.unsetStyle(b)},T.prototype.getFontSize=function(){return this.getOption("fontSize")||m.computedStyle(this.container).fontSize},T.prototype.setFontSize=function(b){this.setOption("fontSize",b)},T.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var b=this;this.$highlightPending=!0,setTimeout(function(){b.$highlightPending=!1;var P=b.session;if(!(!P||P.destroyed)){P.$bracketHighlight&&(P.$bracketHighlight.markerIds.forEach(function(Z){P.removeMarker(Z)}),P.$bracketHighlight=null);var N=b.getCursorPosition(),z=b.getKeyboardHandler(),q=z&&z.$getDirectionForHighlight&&z.$getDirectionForHighlight(b),K=P.getMatchingBracketRanges(N,q);if(!K){var J=new L(P,N.row,N.column),Q=J.getCurrentToken();if(Q&&/\b(?:tag-open|tag-name)/.test(Q.type)){var U=P.getMatchingTags(N);U&&(K=[U.openTagName.isEmpty()?U.openTag:U.openTagName,U.closeTagName.isEmpty()?U.closeTag:U.closeTagName])}}if(!K&&P.$mode.getMatching&&(K=P.$mode.getMatching(b.session)),!K){b.getHighlightIndentGuides()&&b.renderer.$textLayer.$highlightIndentGuide();return}var re="ace_bracket";Array.isArray(K)?K.length==1&&(re="ace_error_bracket"):K=[K],K.length==2&&(y.comparePoints(K[0].end,K[1].start)==0?K=[y.fromPoints(K[0].start,K[1].end)]:y.comparePoints(K[0].start,K[1].end)==0&&(K=[y.fromPoints(K[1].start,K[0].end)])),P.$bracketHighlight={ranges:K,markerIds:K.map(function(Z){return P.addMarker(Z,re,"text")})},b.getHighlightIndentGuides()&&b.renderer.$textLayer.$highlightIndentGuide()}},50)}},T.prototype.focus=function(){this.textInput.focus()},T.prototype.isFocused=function(){return this.textInput.isFocused()},T.prototype.blur=function(){this.textInput.blur()},T.prototype.onFocus=function(b){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",b))},T.prototype.onBlur=function(b){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",b))},T.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},T.prototype.onDocumentChange=function(b){var P=this.session.$useWrapMode,N=b.start.row==b.end.row?b.end.row:1/0;this.renderer.updateLines(b.start.row,N,P),this._signal("change",b),this.$cursorChange()},T.prototype.onTokenizerUpdate=function(b){var P=b.data;this.renderer.updateLines(P.first,P.last)},T.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},T.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},T.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},T.prototype.$updateHighlightActiveLine=function(){var b=this.getSession(),P;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(P=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(P=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(P=!1)),b.$highlightLineMarker&&!P)b.removeMarker(b.$highlightLineMarker.id),b.$highlightLineMarker=null;else if(!b.$highlightLineMarker&&P){var N=new y(P.row,P.column,P.row,1/0);N.id=b.addMarker(N,"ace_active-line","screenLine"),b.$highlightLineMarker=N}else P&&(b.$highlightLineMarker.start.row=P.row,b.$highlightLineMarker.end.row=P.row,b.$highlightLineMarker.start.column=P.column,b._signal("changeBackMarker"))},T.prototype.onSelectionChange=function(b){var P=this.session;if(P.$selectionMarker&&P.removeMarker(P.$selectionMarker),P.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var N=this.selection.getRange(),z=this.getSelectionStyle();P.$selectionMarker=P.addMarker(N,"ace_selection",z)}var q=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(q),this._signal("changeSelection")},T.prototype.$getSelectionHighLightRegexp=function(){var b=this.session,P=this.getSelectionRange();if(!(P.isEmpty()||P.isMultiLine())){var N=P.start.column,z=P.end.column,q=b.getLine(P.start.row),K=q.substring(N,z);if(!(K.length>5e3||!/[\w\d]/.test(K))){var J=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:K}),Q=q.substring(N-1,z+1);if(J.test(Q))return J}}},T.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},T.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},T.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},T.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},T.prototype.onChangeMode=function(b){this.renderer.updateText(),this._emit("changeMode",b)},T.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},T.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},T.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},T.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},T.prototype.getCopyText=function(){var b=this.getSelectedText(),P=this.session.doc.getNewLineCharacter(),N=!1;if(!b&&this.$copyWithEmptySelection){N=!0;for(var z=this.selection.getAllRanges(),q=0;q<z.length;q++){var K=z[q];q&&z[q-1].start.row==K.start.row||(b+=this.session.getLine(K.start.row)+P)}}var J={text:b};return this._signal("copy",J),I.lineMode=N?J.text:!1,J.text},T.prototype.onCopy=function(){this.commands.exec("copy",this)},T.prototype.onCut=function(){this.commands.exec("cut",this)},T.prototype.onPaste=function(b,P){var N={text:b,event:P};this.commands.exec("paste",this,N)},T.prototype.$handlePaste=function(b){typeof b=="string"&&(b={text:b}),this._signal("paste",b);var P=b.text,N=P===I.lineMode,z=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)N?z.insert({row:this.selection.lead.row,column:0},P):this.insert(P);else if(N)this.selection.rangeList.ranges.forEach(function(re){z.insert({row:re.start.row,column:0},P)});else{var q=P.split(/\r\n|\r|\n/),K=this.selection.rangeList.ranges,J=q.length==2&&(!q[0]||!q[1]);if(q.length!=K.length||J)return this.commands.exec("insertstring",this,P);for(var Q=K.length;Q--;){var U=K[Q];U.isEmpty()||z.remove(U),z.insert(U.start,q[Q])}}},T.prototype.execCommand=function(b,P){return this.commands.exec(b,this,P)},T.prototype.insert=function(b,P){var N=this.session,z=N.getMode(),q=this.getCursorPosition();if(this.getBehavioursEnabled()&&!P){var K=z.transformAction(N.getState(q.row),"insertion",this,N,b);K&&(b!==K.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),b=K.text)}if(b=="	"&&(b=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&b.indexOf(`
`)==-1){var J=y.fromPoints(q,q);J.end.column+=b.length,this.session.remove(J)}}else{var J=this.getSelectionRange();q=this.session.remove(J),this.clearSelection()}if(b==`
`||b==`\r
`){var Z=N.getLine(q.row);if(q.column>Z.search(/\S|$/)){var Q=Z.substr(q.column).search(/\S|$/);N.doc.removeInLine(q.row,q.column,q.column+Q)}}this.clearSelection();var U=q.column,re=N.getState(q.row),Z=N.getLine(q.row),ue=z.checkOutdent(re,Z,b);if(N.insert(q,b),K&&K.selection&&(K.selection.length==2?this.selection.setSelectionRange(new y(q.row,U+K.selection[0],q.row,U+K.selection[1])):this.selection.setSelectionRange(new y(q.row+K.selection[0],K.selection[1],q.row+K.selection[2],K.selection[3]))),this.$enableAutoIndent){if(N.getDocument().isNewLine(b)){var ce=z.getNextLineIndent(re,Z.slice(0,q.column),N.getTabString());N.insert({row:q.row+1,column:0},ce)}ue&&z.autoOutdent(re,N,q.row)}},T.prototype.autoIndent=function(){for(var b=this.session,P=b.getMode(),N=this.selection.isEmpty()?[new y(0,0,b.doc.getLength()-1,0)]:this.selection.getAllRanges(),z="",q="",K="",J=b.getTabString(),Q=0;Q<N.length;Q++)for(var U=N[Q].start.row,re=N[Q].end.row,Z=U;Z<=re;Z++){Z>0&&(z=b.getState(Z-1),q=b.getLine(Z-1),K=P.getNextLineIndent(z,q,J));var ue=b.getLine(Z),ce=P.$getIndent(ue);if(K!==ce){if(ce.length>0){var oe=new y(Z,0,Z,ce.length);b.remove(oe)}K.length>0&&b.insert({row:Z,column:0},K)}P.autoOutdent(z,b,Z)}},T.prototype.onTextInput=function(b,P){if(!P)return this.keyBinding.onTextInput(b);this.startOperation({command:{name:"insertstring"}});var N=this.applyComposition.bind(this,b,P);this.selection.rangeCount?this.forEachSelection(N):N(),this.endOperation()},T.prototype.applyComposition=function(b,P){if(P.extendLeft||P.extendRight){var N=this.selection.getRange();N.start.column-=P.extendLeft,N.end.column+=P.extendRight,N.start.column<0&&(N.start.row--,N.start.column+=this.session.getLine(N.start.row).length+1),this.selection.setRange(N),!b&&!N.isEmpty()&&this.remove()}if((b||!this.selection.isEmpty())&&this.insert(b,!0),P.restoreStart||P.restoreEnd){var N=this.selection.getRange();N.start.column-=P.restoreStart,N.end.column-=P.restoreEnd,this.selection.setRange(N)}},T.prototype.onCommandKey=function(b,P,N){return this.keyBinding.onCommandKey(b,P,N)},T.prototype.setOverwrite=function(b){this.session.setOverwrite(b)},T.prototype.getOverwrite=function(){return this.session.getOverwrite()},T.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},T.prototype.setScrollSpeed=function(b){this.setOption("scrollSpeed",b)},T.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},T.prototype.setDragDelay=function(b){this.setOption("dragDelay",b)},T.prototype.getDragDelay=function(){return this.getOption("dragDelay")},T.prototype.setSelectionStyle=function(b){this.setOption("selectionStyle",b)},T.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},T.prototype.setHighlightActiveLine=function(b){this.setOption("highlightActiveLine",b)},T.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},T.prototype.setHighlightGutterLine=function(b){this.setOption("highlightGutterLine",b)},T.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},T.prototype.setHighlightSelectedWord=function(b){this.setOption("highlightSelectedWord",b)},T.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},T.prototype.setAnimatedScroll=function(b){this.renderer.setAnimatedScroll(b)},T.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},T.prototype.setShowInvisibles=function(b){this.renderer.setShowInvisibles(b)},T.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},T.prototype.setDisplayIndentGuides=function(b){this.renderer.setDisplayIndentGuides(b)},T.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},T.prototype.setHighlightIndentGuides=function(b){this.renderer.setHighlightIndentGuides(b)},T.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},T.prototype.setShowPrintMargin=function(b){this.renderer.setShowPrintMargin(b)},T.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},T.prototype.setPrintMarginColumn=function(b){this.renderer.setPrintMarginColumn(b)},T.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},T.prototype.setReadOnly=function(b){this.setOption("readOnly",b)},T.prototype.getReadOnly=function(){return this.getOption("readOnly")},T.prototype.setBehavioursEnabled=function(b){this.setOption("behavioursEnabled",b)},T.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},T.prototype.setWrapBehavioursEnabled=function(b){this.setOption("wrapBehavioursEnabled",b)},T.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},T.prototype.setShowFoldWidgets=function(b){this.setOption("showFoldWidgets",b)},T.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},T.prototype.setFadeFoldWidgets=function(b){this.setOption("fadeFoldWidgets",b)},T.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},T.prototype.remove=function(b){this.selection.isEmpty()&&(b=="left"?this.selection.selectLeft():this.selection.selectRight());var P=this.getSelectionRange();if(this.getBehavioursEnabled()){var N=this.session,z=N.getState(P.start.row),q=N.getMode().transformAction(z,"deletion",this,N,P);if(P.end.column===0){var K=N.getTextRange(P);if(K[K.length-1]==`
`){var J=N.getLine(P.end.row);/^\s+$/.test(J)&&(P.end.column=J.length)}}q&&(P=q)}this.session.remove(P),this.clearSelection()},T.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},T.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},T.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},T.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var b=this.getSelectionRange();b.start.column==b.end.column&&b.start.row==b.end.row&&(b.end.column=0,b.end.row++),this.session.remove(b),this.clearSelection()},T.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var b=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(b)},T.prototype.setGhostText=function(b,P){this.renderer.setGhostText(b,P)},T.prototype.removeGhostText=function(){this.renderer.removeGhostText()},T.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var b=this.getCursorPosition(),P=b.column;if(P!==0){var N=this.session.getLine(b.row),z,q;P<N.length?(z=N.charAt(P)+N.charAt(P-1),q=new y(b.row,P-1,b.row,P+1)):(z=N.charAt(P-1)+N.charAt(P-2),q=new y(b.row,P-2,b.row,P)),this.session.replace(q,z),this.session.selection.moveToPosition(q.end)}}},T.prototype.toLowerCase=function(){var b=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var P=this.getSelectionRange(),N=this.session.getTextRange(P);this.session.replace(P,N.toLowerCase()),this.selection.setSelectionRange(b)},T.prototype.toUpperCase=function(){var b=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var P=this.getSelectionRange(),N=this.session.getTextRange(P);this.session.replace(P,N.toUpperCase()),this.selection.setSelectionRange(b)},T.prototype.indent=function(){var b=this.session,P=this.getSelectionRange();if(P.start.row<P.end.row){var N=this.$getSelectedRows();b.indentRows(N.first,N.last,"	");return}else if(P.start.column<P.end.column){var z=b.getTextRange(P);if(!/^\s+$/.test(z)){var N=this.$getSelectedRows();b.indentRows(N.first,N.last,"	");return}}var q=b.getLine(P.start.row),K=P.start,J=b.getTabSize(),Q=b.documentToScreenColumn(K.row,K.column);if(this.session.getUseSoftTabs())var U=J-Q%J,re=u.stringRepeat(" ",U);else{for(var U=Q%J;q[P.start.column-1]==" "&&U;)P.start.column--,U--;this.selection.setSelectionRange(P),re="	"}return this.insert(re)},T.prototype.blockIndent=function(){var b=this.$getSelectedRows();this.session.indentRows(b.first,b.last,"	")},T.prototype.blockOutdent=function(){var b=this.session.getSelection();this.session.outdentRows(b.getRange())},T.prototype.sortLines=function(){for(var b=this.$getSelectedRows(),P=this.session,N=[],z=b.first;z<=b.last;z++)N.push(P.getLine(z));N.sort(function(J,Q){return J.toLowerCase()<Q.toLowerCase()?-1:J.toLowerCase()>Q.toLowerCase()?1:0});for(var q=new y(0,0,0,0),z=b.first;z<=b.last;z++){var K=P.getLine(z);q.start.row=z,q.end.row=z,q.end.column=K.length,P.replace(q,N[z-b.first])}},T.prototype.toggleCommentLines=function(){var b=this.session.getState(this.getCursorPosition().row),P=this.$getSelectedRows();this.session.getMode().toggleCommentLines(b,this.session,P.first,P.last)},T.prototype.toggleBlockComment=function(){var b=this.getCursorPosition(),P=this.session.getState(b.row),N=this.getSelectionRange();this.session.getMode().toggleBlockComment(P,this.session,N,b)},T.prototype.getNumberAt=function(b,P){var N=/[\-]?[0-9]+(?:\.[0-9]+)?/g;N.lastIndex=0;for(var z=this.session.getLine(b);N.lastIndex<P;){var q=N.exec(z);if(q.index<=P&&q.index+q[0].length>=P){var K={value:q[0],start:q.index,end:q.index+q[0].length};return K}}return null},T.prototype.modifyNumber=function(b){var P=this.selection.getCursor().row,N=this.selection.getCursor().column,z=new y(P,N-1,P,N),q=this.session.getTextRange(z);if(!isNaN(parseFloat(q))&&isFinite(q)){var K=this.getNumberAt(P,N);if(K){var J=K.value.indexOf(".")>=0?K.start+K.value.indexOf(".")+1:K.end,Q=K.start+K.value.length-J,U=parseFloat(K.value);U*=Math.pow(10,Q),J!==K.end&&N<J?b*=Math.pow(10,K.end-N-1):b*=Math.pow(10,K.end-N),U+=b,U/=Math.pow(10,Q);var re=U.toFixed(Q),Z=new y(P,K.start,P,K.end);this.session.replace(Z,re),this.moveCursorTo(P,Math.max(K.start+1,N+re.length-K.value.length))}}else this.toggleWord()},T.prototype.toggleWord=function(){var b=this.selection.getCursor().row,P=this.selection.getCursor().column;this.selection.selectWord();var N=this.getSelectedText(),z=this.selection.getWordRange().start.column,q=N.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),K=P-z-1;K<0&&(K=0);var J=0,Q=0,U=this;N.match(/[A-Za-z0-9_]+/)&&q.forEach(function(Ae,$e){Q=J+Ae.length,K>=J&&K<=Q&&(N=Ae,U.selection.clearSelection(),U.moveCursorTo(b,J+z),U.selection.selectTo(b,Q+z)),J=Q});for(var re=this.$toggleWordPairs,Z,ue=0;ue<re.length;ue++)for(var ce=re[ue],oe=0;oe<=1;oe++){var pe=+!oe,Ee=N.match(new RegExp("^\\s?_?("+u.escapeRegExp(ce[oe])+")\\s?$","i"));if(Ee){var me=N.match(new RegExp("([_]|^|\\s)("+u.escapeRegExp(Ee[1])+")($|\\s)","g"));me&&(Z=N.replace(new RegExp(u.escapeRegExp(ce[oe]),"i"),function(Ae){var $e=ce[pe];return Ae.toUpperCase()==Ae?$e=$e.toUpperCase():Ae.charAt(0).toUpperCase()==Ae.charAt(0)&&($e=$e.substr(0,0)+ce[pe].charAt(0).toUpperCase()+$e.substr(1)),$e}),this.insert(Z),Z="")}}},T.prototype.findLinkAt=function(b,P){var N,z,q=this.session.getLine(b),K=q.split(/((?:https?|ftp):\/\/[\S]+)/),J=P;J<0&&(J=0);var Q=0,U=0,re;try{for(var Z=o(K),ue=Z.next();!ue.done;ue=Z.next()){var ce=ue.value;if(U=Q+ce.length,J>=Q&&J<=U&&ce.match(/((?:https?|ftp):\/\/[\S]+)/)){re=ce.replace(/[\s:.,'";}\]]+$/,"");break}Q=U}}catch(oe){N={error:oe}}finally{try{ue&&!ue.done&&(z=Z.return)&&z.call(Z)}finally{if(N)throw N.error}}return re},T.prototype.openLink=function(){var b=this.selection.getCursor(),P=this.findLinkAt(b.row,b.column);return P&&window.open(P,"_blank"),P!=null},T.prototype.removeLines=function(){var b=this.$getSelectedRows();this.session.removeFullLines(b.first,b.last),this.clearSelection()},T.prototype.duplicateSelection=function(){var b=this.selection,P=this.session,N=b.getRange(),z=b.isBackwards();if(N.isEmpty()){var q=N.start.row;P.duplicateLines(q,q)}else{var K=z?N.start:N.end,J=P.insert(K,P.getTextRange(N));N.start=K,N.end=J,b.setSelectionRange(N,z)}},T.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},T.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},T.prototype.moveText=function(b,P,N){return this.session.moveText(b,P,N)},T.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},T.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},T.prototype.$moveLines=function(b,P){var N,z,q=this.selection;if(!q.inMultiSelectMode||this.inVirtualSelectionMode){var K=q.toOrientedRange();N=this.$getSelectedRows(K),z=this.session.$moveLines(N.first,N.last,P?0:b),P&&b==-1&&(z=0),K.moveBy(z,0),q.fromOrientedRange(K)}else{var J=q.rangeList.ranges;q.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var Q=0,U=0,re=J.length,Z=0;Z<re;Z++){var ue=Z;J[Z].moveBy(Q,0),N=this.$getSelectedRows(J[Z]);for(var ce=N.first,oe=N.last;++Z<re;){U&&J[Z].moveBy(U,0);var pe=this.$getSelectedRows(J[Z]);if(P&&pe.first!=oe)break;if(!P&&pe.first>oe+1)break;oe=pe.last}for(Z--,Q=this.session.$moveLines(ce,oe,P?0:b),P&&b==-1&&(ue=Z+1);ue<=Z;)J[ue].moveBy(Q,0),ue++;P||(Q=0),U+=Q}q.fromOrientedRange(q.ranges[0]),q.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},T.prototype.$getSelectedRows=function(b){return b=(b||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(b.start.row),last:this.session.getRowFoldEnd(b.end.row)}},T.prototype.onCompositionStart=function(b){this.renderer.showComposition(b)},T.prototype.onCompositionUpdate=function(b){this.renderer.setCompositionText(b)},T.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},T.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},T.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},T.prototype.isRowVisible=function(b){return b>=this.getFirstVisibleRow()&&b<=this.getLastVisibleRow()},T.prototype.isRowFullyVisible=function(b){return b>=this.renderer.getFirstFullyVisibleRow()&&b<=this.renderer.getLastFullyVisibleRow()},T.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},T.prototype.$moveByPage=function(b,P){var N=this.renderer,z=this.renderer.layerConfig,q=b*Math.floor(z.height/z.lineHeight);P===!0?this.selection.$moveSelection(function(){this.moveCursorBy(q,0)}):P===!1&&(this.selection.moveCursorBy(q,0),this.selection.clearSelection());var K=N.scrollTop;N.scrollBy(0,q*z.lineHeight),P!=null&&N.scrollCursorIntoView(null,.5),N.animateScrolling(K)},T.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},T.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},T.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},T.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},T.prototype.scrollPageDown=function(){this.$moveByPage(1)},T.prototype.scrollPageUp=function(){this.$moveByPage(-1)},T.prototype.scrollToRow=function(b){this.renderer.scrollToRow(b)},T.prototype.scrollToLine=function(b,P,N,z){this.renderer.scrollToLine(b,P,N,z)},T.prototype.centerSelection=function(){var b=this.getSelectionRange(),P={row:Math.floor(b.start.row+(b.end.row-b.start.row)/2),column:Math.floor(b.start.column+(b.end.column-b.start.column)/2)};this.renderer.alignCursor(P,.5)},T.prototype.getCursorPosition=function(){return this.selection.getCursor()},T.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},T.prototype.getSelectionRange=function(){return this.selection.getRange()},T.prototype.selectAll=function(){this.selection.selectAll()},T.prototype.clearSelection=function(){this.selection.clearSelection()},T.prototype.moveCursorTo=function(b,P){this.selection.moveCursorTo(b,P)},T.prototype.moveCursorToPosition=function(b){this.selection.moveCursorToPosition(b)},T.prototype.jumpToMatching=function(b,P){var N=this.getCursorPosition(),z=new L(this.session,N.row,N.column),q=z.getCurrentToken(),K=0;q&&q.type.indexOf("tag-name")!==-1&&(q=z.stepBackward());var J=q||z.stepForward();if(J){var Q,U=!1,re={},Z=N.column-J.start,ue,ce={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(J.value.match(/[{}()\[\]]/g)){for(;Z<J.value.length&&!U;Z++)if(ce[J.value[Z]])switch(ue=ce[J.value[Z]]+"."+J.type.replace("rparen","lparen"),isNaN(re[ue])&&(re[ue]=0),J.value[Z]){case"(":case"[":case"{":re[ue]++;break;case")":case"]":case"}":re[ue]--,re[ue]===-1&&(Q="bracket",U=!0);break}}else J.type.indexOf("tag-name")!==-1&&(isNaN(re[J.value])&&(re[J.value]=0),q.value==="<"&&K>1?re[J.value]++:q.value==="</"&&re[J.value]--,re[J.value]===-1&&(Q="tag",U=!0));U||(q=J,K++,J=z.stepForward(),Z=0)}while(J&&!U);if(Q){var oe,pe;if(Q==="bracket")oe=this.session.getBracketRange(N),oe||(oe=new y(z.getCurrentTokenRow(),z.getCurrentTokenColumn()+Z-1,z.getCurrentTokenRow(),z.getCurrentTokenColumn()+Z-1),pe=oe.start,(P||pe.row===N.row&&Math.abs(pe.column-N.column)<2)&&(oe=this.session.getBracketRange(pe)));else if(Q==="tag"){if(!J||J.type.indexOf("tag-name")===-1)return;if(oe=new y(z.getCurrentTokenRow(),z.getCurrentTokenColumn()-2,z.getCurrentTokenRow(),z.getCurrentTokenColumn()-2),oe.compare(N.row,N.column)===0){var Ee=this.session.getMatchingTags(N);Ee&&(Ee.openTag.contains(N.row,N.column)?(oe=Ee.closeTag,pe=oe.start):(oe=Ee.openTag,Ee.closeTag.start.row===N.row&&Ee.closeTag.start.column===N.column?pe=oe.end:pe=oe.start))}pe=pe||oe.start}pe=oe&&oe.cursor||pe,pe&&(b?oe&&P?this.selection.setRange(oe):oe&&oe.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(pe.row,pe.column):this.selection.moveTo(pe.row,pe.column))}}},T.prototype.gotoLine=function(b,P,N){this.selection.clearSelection(),this.session.unfold({row:b-1,column:P||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(b-1,P||0),this.isRowFullyVisible(b-1)||this.scrollToLine(b-1,!0,N)},T.prototype.navigateTo=function(b,P){this.selection.moveTo(b,P)},T.prototype.navigateUp=function(b){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var P=this.selection.anchor.getPosition();return this.moveCursorToPosition(P)}this.selection.clearSelection(),this.selection.moveCursorBy(-b||-1,0)},T.prototype.navigateDown=function(b){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var P=this.selection.anchor.getPosition();return this.moveCursorToPosition(P)}this.selection.clearSelection(),this.selection.moveCursorBy(b||1,0)},T.prototype.navigateLeft=function(b){if(this.selection.isEmpty())for(b=b||1;b--;)this.selection.moveCursorLeft();else{var P=this.getSelectionRange().start;this.moveCursorToPosition(P)}this.clearSelection()},T.prototype.navigateRight=function(b){if(this.selection.isEmpty())for(b=b||1;b--;)this.selection.moveCursorRight();else{var P=this.getSelectionRange().end;this.moveCursorToPosition(P)}this.clearSelection()},T.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},T.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},T.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},T.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},T.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},T.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},T.prototype.replace=function(b,P){P&&this.$search.set(P);var N=this.$search.find(this.session),z=0;return N&&(this.$tryReplace(N,b)&&(z=1),this.selection.setSelectionRange(N),this.renderer.scrollSelectionIntoView(N.start,N.end)),z},T.prototype.replaceAll=function(b,P){P&&this.$search.set(P);var N=this.$search.findAll(this.session),z=0;if(!N.length)return z;var q=this.getSelectionRange();this.selection.moveTo(0,0);for(var K=N.length-1;K>=0;--K)this.$tryReplace(N[K],b)&&z++;return this.selection.setSelectionRange(q),z},T.prototype.$tryReplace=function(b,P){var N=this.session.getTextRange(b);return P=this.$search.replace(N,P),P!==null?(b.end=this.session.replace(b,P),b):null},T.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},T.prototype.find=function(b,P,N){P||(P={}),typeof b=="string"||b instanceof RegExp?P.needle=b:typeof b=="object"&&c.mixin(P,b);var z=this.selection.getRange();P.needle==null&&(b=this.session.getTextRange(z)||this.$search.$options.needle,b||(z=this.session.getWordRange(z.start.row,z.start.column),b=this.session.getTextRange(z)),this.$search.set({needle:b})),this.$search.set(P),P.start||this.$search.set({start:z});var q=this.$search.find(this.session);if(P.preventScroll)return q;if(q)return this.revealRange(q,N),q;P.backwards?z.start=z.end:z.end=z.start,this.selection.setRange(z)},T.prototype.findNext=function(b,P){this.find({skipCurrent:!0,backwards:!1},b,P)},T.prototype.findPrevious=function(b,P){this.find(b,{skipCurrent:!0,backwards:!0},P)},T.prototype.revealRange=function(b,P){this.session.unfold(b),this.selection.setSelectionRange(b);var N=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(b.start,b.end,.5),P!==!1&&this.renderer.animateScrolling(N)},T.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},T.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},T.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(b){b.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},T.prototype.setAutoScrollEditorIntoView=function(b){if(b){var P,N=this,z=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var q=this.$scrollAnchor;q.style.cssText="position:absolute",this.container.insertBefore(q,this.container.firstChild);var K=this.on("changeSelection",function(){z=!0}),J=this.renderer.on("beforeRender",function(){z&&(P=N.renderer.container.getBoundingClientRect())}),Q=this.renderer.on("afterRender",function(){if(z&&P&&(N.isFocused()||N.searchBox&&N.searchBox.isFocused())){var U=N.renderer,re=U.$cursorLayer.$pixelPos,Z=U.layerConfig,ue=re.top-Z.offset;re.top>=0&&ue+P.top<0?z=!0:re.top<Z.height&&re.top+P.top+Z.lineHeight>window.innerHeight?z=!1:z=null,z!=null&&(q.style.top=ue+"px",q.style.left=re.left+"px",q.style.height=Z.lineHeight+"px",q.scrollIntoView(z)),z=P=null}});this.setAutoScrollEditorIntoView=function(U){U||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",K),this.renderer.off("afterRender",Q),this.renderer.off("beforeRender",J))}}},T.prototype.$resetCursorStyle=function(){var b=this.$cursorStyle||"ace",P=this.renderer.$cursorLayer;P&&(P.setSmoothBlinking(/smooth/.test(b)),P.isBlinking=!this.$readOnly&&b!="wide",m.setCssClass(P.element,"ace_slim-cursors",/slim/.test(b)))},T.prototype.prompt=function(b,P,N){var z=this;O.loadModule("ace/ext/prompt",function(q){q.prompt(z,b,P,N)})},T}();$.$uid=0,$.prototype.curOp=null,$.prototype.prevOp={},$.prototype.$mergeableCommands=["backspace","del","insertstring"],$.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],c.implement($.prototype,C),O.defineOptions($.prototype,"editor",{selectionStyle:{set:function(T){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:T})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(T){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(T){this.textInput.setReadOnly(T),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(T){this.textInput.setCopyWithEmptySelection(T)},initialValue:!1},cursorStyle:{set:function(T){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(T){this.setAutoScrollEditorIntoView(T)}},keyboardHandler:{set:function(T){this.setKeyboardHandler(T)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(T){this.session.setValue(T)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(T){this.setSession(T)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(T){this.renderer.$gutterLayer.setShowLineNumbers(T),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),T&&this.$relativeLineNumbers?B.attach(this):B.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(T){this.$showLineNumbers&&T?B.attach(this):B.detach(this)}},placeholder:{set:function(T){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var b=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(b&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),m.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!b&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),m.addCssClass(this.container,"ace_hasPlaceholder");var P=m.createElement("div");P.className="ace_placeholder",P.textContent=this.$placeholder||"",this.renderer.placeholderNode=P,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!b&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(T){var b={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(z){z.blur(),z.renderer.scroller.focus()},readOnly:!0},P=function(z){if(z.target==this.renderer.scroller&&z.keyCode===M.enter){z.preventDefault();var q=this.getCursorPosition().row;this.isRowVisible(q)||this.scrollToLine(q,!0,!0),this.focus()}},N;T?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(g.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",_("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",_("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",P.bind(this)),this.commands.addCommand(b),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",_("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",_("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),N||(N=new E(this)),N.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",P.bind(this)),this.commands.removeCommand(b),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),N&&N.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(T){this.$textInputAriaLabel=T},initialValue:""},enableMobileMenu:{set:function(T){this.$enableMobileMenu=T},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var B={getText:function(T,b){return(Math.abs(T.selection.lead.row-b)||b+1+(b<9?"·":""))+""},getWidth:function(T,b,P){return Math.max(b.toString().length,(P.lastRow+1).toString().length,2)*P.characterWidth},update:function(T,b){b.renderer.$loop.schedule(b.renderer.CHANGE_GUTTER)},attach:function(T){T.renderer.$gutterLayer.$renderer=this,T.on("changeSelection",this.update),this.update(null,T)},detach:function(T){T.renderer.$gutterLayer.$renderer==this&&(T.renderer.$gutterLayer.$renderer=null),T.off("changeSelection",this.update),this.update(null,T)}};r.Editor=$}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(t,r,s){var o=t("../lib/dom"),c=function(){function m(u,g){this.element=u,this.canvasHeight=g||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return m.prototype.moveContainer=function(u){o.translate(this.element,0,-(u.firstRowScreen*u.lineHeight%this.canvasHeight)-u.offset*this.$offsetCoefficient)},m.prototype.pageChanged=function(u,g){return Math.floor(u.firstRowScreen*u.lineHeight/this.canvasHeight)!==Math.floor(g.firstRowScreen*g.lineHeight/this.canvasHeight)},m.prototype.computeLineTop=function(u,g,l){var h=g.firstRowScreen*g.lineHeight,d=Math.floor(h/this.canvasHeight),f=l.documentToScreenRow(u,0)*g.lineHeight;return f-d*this.canvasHeight},m.prototype.computeLineHeight=function(u,g,l){return g.lineHeight*l.getRowLineCount(u)},m.prototype.getLength=function(){return this.cells.length},m.prototype.get=function(u){return this.cells[u]},m.prototype.shift=function(){this.$cacheCell(this.cells.shift())},m.prototype.pop=function(){this.$cacheCell(this.cells.pop())},m.prototype.push=function(u){if(Array.isArray(u)){this.cells.push.apply(this.cells,u);for(var g=o.createFragment(this.element),l=0;l<u.length;l++)g.appendChild(u[l].element);this.element.appendChild(g)}else this.cells.push(u),this.element.appendChild(u.element)},m.prototype.unshift=function(u){if(Array.isArray(u)){this.cells.unshift.apply(this.cells,u);for(var g=o.createFragment(this.element),l=0;l<u.length;l++)g.appendChild(u[l].element);this.element.firstChild?this.element.insertBefore(g,this.element.firstChild):this.element.appendChild(g)}else this.cells.unshift(u),this.element.insertAdjacentElement("afterbegin",u.element)},m.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},m.prototype.$cacheCell=function(u){u&&(u.element.remove(),this.cellCache.push(u))},m.prototype.createCell=function(u,g,l,h){var d=this.cellCache.pop();if(!d){var f=o.createElement("div");h&&h(f),this.element.appendChild(f),d={element:f,text:"",row:u}}return d.row=u,d},m}();r.Lines=c}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(t,r,s){var o=t("../lib/dom"),c=t("../lib/oop"),m=t("../lib/lang"),u=t("../lib/event_emitter").EventEmitter,g=t("./lines").Lines,l=t("../config").nls,h=function(){function f(p){this.element=o.createElement("div"),this.element.className="ace_layer ace_gutter-layer",p.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new g(this.element),this.$lines.$offsetCoefficient=1}return f.prototype.setSession=function(p){this.session&&this.session.off("change",this.$updateAnnotations),this.session=p,p&&p.on("change",this.$updateAnnotations)},f.prototype.addGutterDecoration=function(p,v){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(p,v)},f.prototype.removeGutterDecoration=function(p,v){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(p,v)},f.prototype.setAnnotations=function(p){this.$annotations=[];for(var v=0;v<p.length;v++){var y=p[v],C=y.row,k=this.$annotations[C];k||(k=this.$annotations[C]={text:[],type:[],displayText:[]});var F=y.text,O=y.text,L=y.type;F=F?m.escapeHTML(F):y.html||"",O=O||y.html||"",k.text.indexOf(F)===-1&&(k.text.push(F),k.type.push(L),k.displayText.push(O));var E=y.className;E?k.className=E:L==="error"?k.className=" ace_error":L==="security"&&!/\bace_error\b/.test(k.className)?k.className=" ace_security":L==="warning"&&!/\bace_(error|security)\b/.test(k.className)?k.className=" ace_warning":L==="info"&&!k.className?k.className=" ace_info":L==="hint"&&!k.className&&(k.className=" ace_hint")}},f.prototype.$updateAnnotations=function(p){if(this.$annotations.length){var v=p.start.row,y=p.end.row-v;if(y!==0)if(p.action=="remove")this.$annotations.splice(v,y+1,null);else{var C=new Array(y+1);C.unshift(v,1),this.$annotations.splice.apply(this.$annotations,C)}}},f.prototype.update=function(p){this.config=p;var v=this.session,y=p.firstRow,C=Math.min(p.lastRow+p.gutterOffset,v.getLength()-1);this.oldLastRow=C,this.config=p,this.$lines.moveContainer(p),this.$updateCursorRow();for(var k=v.getNextFoldLine(y),F=k?k.start.row:1/0,O=null,L=-1,E=y;;){if(E>F&&(E=k.end.row+1,k=v.getNextFoldLine(E,k),F=k?k.start.row:1/0),E>C){for(;this.$lines.getLength()>L+1;)this.$lines.pop();break}O=this.$lines.get(++L),O?O.row=E:(O=this.$lines.createCell(E,p,this.session,d),this.$lines.push(O)),this.$renderCell(O,p,k,E),E++}this._signal("afterRender"),this.$updateGutterWidth(p)},f.prototype.$updateGutterWidth=function(p){var v=this.session,y=v.gutterRenderer||this.$renderer,C=v.$firstLineNumber,k=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||v.$useWrapMode)&&(k=v.getLength()+C-1);var F=y?y.getWidth(v,k,p):k.toString().length*p.characterWidth,O=this.$padding||this.$computePadding();F+=O.left+O.right,F!==this.gutterWidth&&!isNaN(F)&&(this.gutterWidth=F,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",F))},f.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var p=this.session.selection.getCursor();this.$cursorRow!==p.row&&(this.$cursorRow=p.row)}},f.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var p=this.session.selection.cursor.row;if(this.$cursorRow=p,!(this.$cursorCell&&this.$cursorCell.row==p)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var v=this.$lines.cells;this.$cursorCell=null;for(var y=0;y<v.length;y++){var C=v[y];if(C.row>=this.$cursorRow){if(C.row>this.$cursorRow){var k=this.session.getFoldLine(this.$cursorRow);if(y>0&&k&&k.start.row==v[y-1].row)C=v[y-1];else break}C.element.className="ace_gutter-active-line "+C.element.className,this.$cursorCell=C;break}}}}},f.prototype.scrollLines=function(p){var v=this.config;if(this.config=p,this.$updateCursorRow(),this.$lines.pageChanged(v,p))return this.update(p);this.$lines.moveContainer(p);var y=Math.min(p.lastRow+p.gutterOffset,this.session.getLength()-1),C=this.oldLastRow;if(this.oldLastRow=y,!v||C<p.firstRow)return this.update(p);if(y<v.firstRow)return this.update(p);if(v.firstRow<p.firstRow)for(var k=this.session.getFoldedRowCount(v.firstRow,p.firstRow-1);k>0;k--)this.$lines.shift();if(C>y)for(var k=this.session.getFoldedRowCount(y+1,C);k>0;k--)this.$lines.pop();p.firstRow<v.firstRow&&this.$lines.unshift(this.$renderLines(p,p.firstRow,v.firstRow-1)),y>C&&this.$lines.push(this.$renderLines(p,C+1,y)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(p)},f.prototype.$renderLines=function(p,v,y){for(var C=[],k=v,F=this.session.getNextFoldLine(k),O=F?F.start.row:1/0;k>O&&(k=F.end.row+1,F=this.session.getNextFoldLine(k,F),O=F?F.start.row:1/0),!(k>y);){var L=this.$lines.createCell(k,p,this.session,d);this.$renderCell(L,p,F,k),C.push(L),k++}return C},f.prototype.$renderCell=function(p,v,y,C){var k=p.element,F=this.session,O=k.childNodes[0],L=k.childNodes[1],E=k.childNodes[2],_=E.firstChild,I=F.$firstLineNumber,M=F.$breakpoints,$=F.$decorations,B=F.gutterRenderer||this.$renderer,T=this.$showFoldWidgets&&F.foldWidgets,b=y?y.start.row:Number.MAX_VALUE,P=v.lineHeight+"px",N=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",z=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",q=(B?B.getText(F,C):C+I).toString();if(this.$highlightGutterLine&&(C==this.$cursorRow||y&&C<this.$cursorRow&&C>=b&&this.$cursorRow<=y.end.row)&&(N+="ace_gutter-active-line ",this.$cursorCell!=p&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=p)),M[C]&&(N+=M[C]),$[C]&&(N+=$[C]),this.$annotations[C]&&C!==b&&(N+=this.$annotations[C].className),T){var K=T[C];K==null&&(K=T[C]=F.getFoldWidget(C))}if(K){var J="ace_fold-widget ace_"+K,Q=K=="start"&&C==b&&C<y.end.row;if(Q){J+=" ace_closed";for(var U="",re=!1,Z=C+1;Z<=y.end.row;Z++)if(this.$annotations[Z]){if(this.$annotations[Z].className===" ace_error"){re=!0,U=" ace_error_fold";break}this.$annotations[Z].className===" ace_security"?(re=!0,U=" ace_security_fold"):this.$annotations[Z].className===" ace_warning"&&U!==" ace_security_fold"&&(re=!0,U=" ace_warning_fold")}N+=U}else J+=" ace_open";L.className!=J&&(L.className=J),o.setStyle(L.style,"height",P),o.setStyle(L.style,"display","inline-block"),L.setAttribute("role","button"),L.setAttribute("tabindex","-1");var ue=F.getFoldWidgetRange(C);ue?L.setAttribute("aria-label",l("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[ue.start.row+1,ue.end.row+1])):y?L.setAttribute("aria-label",l("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[y.start.row+1,y.end.row+1])):L.setAttribute("aria-label",l("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[C+1])),Q?(L.setAttribute("aria-expanded","false"),L.setAttribute("title",l("gutter.code-folding.closed.title","Unfold code"))):(L.setAttribute("aria-expanded","true"),L.setAttribute("title",l("gutter.code-folding.open.title","Fold code")))}else L&&(o.setStyle(L.style,"display","none"),L.setAttribute("tabindex","0"),L.removeAttribute("role"),L.removeAttribute("aria-label"));if(re&&this.$showFoldedAnnotations){E.className="ace_gutter_annotation",_.className=z,_.className+=U,o.setStyle(_.style,"height",P),o.setStyle(E.style,"display","block"),o.setStyle(E.style,"height",P);var ce;switch(U){case" ace_error_fold":ce=l("gutter.annotation.aria-label.error","Error, read annotations row $0",[q]);break;case" ace_security_fold":ce=l("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[q]);break;case" ace_warning_fold":ce=l("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[q]);break}E.setAttribute("aria-label",ce),E.setAttribute("tabindex","-1"),E.setAttribute("role","button")}else if(this.$annotations[C]){E.className="ace_gutter_annotation",_.className=z,this.$useSvgGutterIcons?_.className+=this.$annotations[C].className:k.classList.add(this.$annotations[C].className.replace(" ","")),o.setStyle(_.style,"height",P),o.setStyle(E.style,"display","block"),o.setStyle(E.style,"height",P);var ce;switch(this.$annotations[C].className){case" ace_error":ce=l("gutter.annotation.aria-label.error","Error, read annotations row $0",[q]);break;case" ace_security":ce=l("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[q]);break;case" ace_warning":ce=l("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[q]);break;case" ace_info":ce=l("gutter.annotation.aria-label.info","Info, read annotations row $0",[q]);break;case" ace_hint":ce=l("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[q]);break}E.setAttribute("aria-label",ce),E.setAttribute("tabindex","-1"),E.setAttribute("role","button")}else o.setStyle(E.style,"display","none"),E.removeAttribute("aria-label"),E.removeAttribute("role"),E.setAttribute("tabindex","0");return q!==O.data&&(O.data=q),k.className!=N&&(k.className=N),o.setStyle(p.element.style,"height",this.$lines.computeLineHeight(C,v,F)+"px"),o.setStyle(p.element.style,"top",this.$lines.computeLineTop(C,v,F)+"px"),p.text=q,E.style.display==="none"&&L.style.display==="none"?p.element.setAttribute("aria-hidden",!0):p.element.setAttribute("aria-hidden",!1),p},f.prototype.setHighlightGutterLine=function(p){this.$highlightGutterLine=p},f.prototype.setShowLineNumbers=function(p){this.$renderer=!p&&{getWidth:function(){return 0},getText:function(){return""}}},f.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},f.prototype.setShowFoldWidgets=function(p){p?o.addCssClass(this.element,"ace_folding-enabled"):o.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=p,this.$padding=null},f.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},f.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var p=o.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(p.borderLeftWidth)||0)+(parseInt(p.paddingLeft)||0)+1,this.$padding.right=(parseInt(p.borderRightWidth)||0)+(parseInt(p.paddingRight)||0),this.$padding},f.prototype.getRegion=function(p){var v=this.$padding||this.$computePadding(),y=this.element.getBoundingClientRect();if(p.x<v.left+y.left)return"markers";if(this.$showFoldWidgets&&p.x>y.right-v.right)return"foldWidgets"},f}();h.prototype.$fixedWidth=!1,h.prototype.$highlightGutterLine=!0,h.prototype.$renderer="",h.prototype.$showLineNumbers=!0,h.prototype.$showFoldWidgets=!0,c.implement(h.prototype,u);function d(f){var p=document.createTextNode("");f.appendChild(p);var v=o.createElement("span");f.appendChild(v);var y=o.createElement("span");f.appendChild(y);var C=o.createElement("span");return y.appendChild(C),f}r.Gutter=h}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,r,s){var o=t("../range").Range,c=t("../lib/dom"),m=function(){function g(l){this.element=c.createElement("div"),this.element.className="ace_layer ace_marker-layer",l.appendChild(this.element)}return g.prototype.setPadding=function(l){this.$padding=l},g.prototype.setSession=function(l){this.session=l},g.prototype.setMarkers=function(l){this.markers=l},g.prototype.elt=function(l,h){var d=this.i!=-1&&this.element.childNodes[this.i];d?this.i++:(d=document.createElement("div"),this.element.appendChild(d),this.i=-1),d.style.cssText=h,d.className=l},g.prototype.update=function(l){if(l){this.config=l,this.i=0;var h;for(var d in this.markers){var f=this.markers[d];if(!f.range){f.update(h,this,this.session,l);continue}var p=f.range.clipRows(l.firstRow,l.lastRow);if(!p.isEmpty())if(p=p.toScreenRange(this.session),f.renderer){var v=this.$getTop(p.start.row,l),y=this.$padding+p.start.column*l.characterWidth;f.renderer(h,p,y,v,l)}else f.type=="fullLine"?this.drawFullLineMarker(h,p,f.clazz,l):f.type=="screenLine"?this.drawScreenLineMarker(h,p,f.clazz,l):p.isMultiLine()?f.type=="text"?this.drawTextMarker(h,p,f.clazz,l):this.drawMultiLineMarker(h,p,f.clazz,l):this.drawSingleLineMarker(h,p,f.clazz+" ace_start ace_br15",l)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},g.prototype.$getTop=function(l,h){return(l-h.firstRowScreen)*h.lineHeight},g.prototype.drawTextMarker=function(l,h,d,f,p){for(var v=this.session,y=h.start.row,C=h.end.row,k=y,F=0,O=0,L=v.getScreenLastRowColumn(k),E=new o(k,h.start.column,k,O);k<=C;k++)E.start.row=E.end.row=k,E.start.column=k==y?h.start.column:v.getRowWrapIndent(k),E.end.column=L,F=O,O=L,L=k+1<C?v.getScreenLastRowColumn(k+1):k==C?0:h.end.column,this.drawSingleLineMarker(l,E,d+(k==y?" ace_start":"")+" ace_br"+u(k==y||k==y+1&&h.start.column,F<O,O>L,k==C),f,k==C?0:1,p)},g.prototype.drawMultiLineMarker=function(l,h,d,f,p){var v=this.$padding,y=f.lineHeight,C=this.$getTop(h.start.row,f),k=v+h.start.column*f.characterWidth;if(p=p||"",this.session.$bidiHandler.isBidiRow(h.start.row)){var F=h.clone();F.end.row=F.start.row,F.end.column=this.session.getLine(F.start.row).length,this.drawBidiSingleLineMarker(l,F,d+" ace_br1 ace_start",f,null,p)}else this.elt(d+" ace_br1 ace_start","height:"+y+"px;right:"+v+"px;top:"+C+"px;left:"+k+"px;"+(p||""));if(this.session.$bidiHandler.isBidiRow(h.end.row)){var F=h.clone();F.start.row=F.end.row,F.start.column=0,this.drawBidiSingleLineMarker(l,F,d+" ace_br12",f,null,p)}else{C=this.$getTop(h.end.row,f);var O=h.end.column*f.characterWidth;this.elt(d+" ace_br12","height:"+y+"px;width:"+O+"px;top:"+C+"px;left:"+v+"px;"+(p||""))}if(y=(h.end.row-h.start.row-1)*f.lineHeight,!(y<=0)){C=this.$getTop(h.start.row+1,f);var L=(h.start.column?1:0)|(h.end.column?0:8);this.elt(d+(L?" ace_br"+L:""),"height:"+y+"px;right:"+v+"px;top:"+C+"px;left:"+v+"px;"+(p||""))}},g.prototype.drawSingleLineMarker=function(l,h,d,f,p,v){if(this.session.$bidiHandler.isBidiRow(h.start.row))return this.drawBidiSingleLineMarker(l,h,d,f,p,v);var y=f.lineHeight,C=(h.end.column+(p||0)-h.start.column)*f.characterWidth,k=this.$getTop(h.start.row,f),F=this.$padding+h.start.column*f.characterWidth;this.elt(d,"height:"+y+"px;width:"+C+"px;top:"+k+"px;left:"+F+"px;"+(v||""))},g.prototype.drawBidiSingleLineMarker=function(l,h,d,f,p,v){var y=f.lineHeight,C=this.$getTop(h.start.row,f),k=this.$padding,F=this.session.$bidiHandler.getSelections(h.start.column,h.end.column);F.forEach(function(O){this.elt(d,"height:"+y+"px;width:"+(O.width+(p||0))+"px;top:"+C+"px;left:"+(k+O.left)+"px;"+(v||""))},this)},g.prototype.drawFullLineMarker=function(l,h,d,f,p){var v=this.$getTop(h.start.row,f),y=f.lineHeight;h.start.row!=h.end.row&&(y+=this.$getTop(h.end.row,f)-v),this.elt(d,"height:"+y+"px;top:"+v+"px;left:0;right:0;"+(p||""))},g.prototype.drawScreenLineMarker=function(l,h,d,f,p){var v=this.$getTop(h.start.row,f),y=f.lineHeight;this.elt(d,"height:"+y+"px;top:"+v+"px;left:0;right:0;"+(p||""))},g}();m.prototype.$padding=0;function u(g,l,h,d){return(g?1:0)|(l?2:0)|(h?4:0)|(d?8:0)}r.Marker=m}),ace.define("ace/layer/text_util",["require","exports","module"],function(t,r,s){var o=new Set(["text","rparen","lparen"]);r.isTextToken=function(c){return o.has(c)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(t,r,s){var o=t("../lib/oop"),c=t("../lib/dom"),m=t("../lib/lang"),u=t("./lines").Lines,g=t("../lib/event_emitter").EventEmitter,l=t("../config").nls,h=t("./text_util").isTextToken,d=function(){function f(p){this.dom=c,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",p.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new u(this.element)}return f.prototype.$updateEolChar=function(){var p=this.session.doc,v=p.getNewLineCharacter()==`
`&&p.getNewLineMode()!="windows",y=v?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=y)return this.EOL_CHAR=y,!0},f.prototype.setPadding=function(p){this.$padding=p,this.element.style.margin="0 "+p+"px"},f.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},f.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},f.prototype.$setFontMetrics=function(p){this.$fontMetrics=p,this.$fontMetrics.on("changeCharacterSize",(function(v){this._signal("changeCharacterSize",v)}).bind(this)),this.$pollSizeChanges()},f.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},f.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},f.prototype.setSession=function(p){this.session=p,p&&this.$computeTabString()},f.prototype.setShowInvisibles=function(p){return this.showInvisibles==p?!1:(this.showInvisibles=p,typeof p=="string"?(this.showSpaces=/tab/i.test(p),this.showTabs=/space/i.test(p),this.showEOL=/eol/i.test(p)):this.showSpaces=this.showTabs=this.showEOL=p,this.$computeTabString(),!0)},f.prototype.setDisplayIndentGuides=function(p){return this.displayIndentGuides==p?!1:(this.displayIndentGuides=p,this.$computeTabString(),!0)},f.prototype.setHighlightIndentGuides=function(p){return this.$highlightIndentGuides===p?!1:(this.$highlightIndentGuides=p,p)},f.prototype.$computeTabString=function(){var p=this.session.getTabSize();this.tabSize=p;for(var v=this.$tabStrings=[0],y=1;y<p+1;y++)if(this.showTabs){var C=this.dom.createElement("span");C.className="ace_invisible ace_invisible_tab",C.textContent=m.stringRepeat(this.TAB_CHAR,y),v.push(C)}else v.push(this.dom.createTextNode(m.stringRepeat(" ",y),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var k="ace_indent-guide",F=this.showSpaces?" ace_invisible ace_invisible_space":"",O=this.showSpaces?m.stringRepeat(this.SPACE_CHAR,this.tabSize):m.stringRepeat(" ",this.tabSize),L=this.showTabs?" ace_invisible ace_invisible_tab":"",E=this.showTabs?m.stringRepeat(this.TAB_CHAR,this.tabSize):O,C=this.dom.createElement("span");C.className=k+F,C.textContent=O,this.$tabStrings[" "]=C;var C=this.dom.createElement("span");C.className=k+L,C.textContent=E,this.$tabStrings["	"]=C}},f.prototype.updateLines=function(p,v,y){if(this.config.lastRow!=p.lastRow||this.config.firstRow!=p.firstRow)return this.update(p);this.config=p;for(var C=Math.max(v,p.firstRow),k=Math.min(y,p.lastRow),F=this.element.childNodes,O=0,E=p.firstRow;E<C;E++){var _=this.session.getFoldLine(E);if(_)if(_.containsRow(C)){C=_.start.row;break}else E=_.end.row;O++}for(var L=!1,E=C,_=this.session.getNextFoldLine(E),I=_?_.start.row:1/0;E>I&&(E=_.end.row+1,_=this.session.getNextFoldLine(E,_),I=_?_.start.row:1/0),!(E>k);){var M=F[O++];if(M){this.dom.removeChildren(M),this.$renderLine(M,E,E==I?_:!1),L&&(M.style.top=this.$lines.computeLineTop(E,p,this.session)+"px");var $=p.lineHeight*this.session.getRowLength(E)+"px";M.style.height!=$&&(L=!0,M.style.height=$)}E++}if(L)for(;O<this.$lines.cells.length;){var B=this.$lines.cells[O++];B.element.style.top=this.$lines.computeLineTop(B.row,p,this.session)+"px"}},f.prototype.scrollLines=function(p){var v=this.config;if(this.config=p,this.$lines.pageChanged(v,p))return this.update(p);this.$lines.moveContainer(p);var y=p.lastRow,C=v?v.lastRow:-1;if(!v||C<p.firstRow)return this.update(p);if(y<v.firstRow)return this.update(p);if(!v||v.lastRow<p.firstRow)return this.update(p);if(p.lastRow<v.firstRow)return this.update(p);if(v.firstRow<p.firstRow)for(var k=this.session.getFoldedRowCount(v.firstRow,p.firstRow-1);k>0;k--)this.$lines.shift();if(v.lastRow>p.lastRow)for(var k=this.session.getFoldedRowCount(p.lastRow+1,v.lastRow);k>0;k--)this.$lines.pop();p.firstRow<v.firstRow&&this.$lines.unshift(this.$renderLinesFragment(p,p.firstRow,v.firstRow-1)),p.lastRow>v.lastRow&&this.$lines.push(this.$renderLinesFragment(p,v.lastRow+1,p.lastRow)),this.$highlightIndentGuide()},f.prototype.$renderLinesFragment=function(p,v,y){for(var C=[],k=v,F=this.session.getNextFoldLine(k),O=F?F.start.row:1/0;k>O&&(k=F.end.row+1,F=this.session.getNextFoldLine(k,F),O=F?F.start.row:1/0),!(k>y);){var L=this.$lines.createCell(k,p,this.session),E=L.element;this.dom.removeChildren(E),c.setStyle(E.style,"height",this.$lines.computeLineHeight(k,p,this.session)+"px"),c.setStyle(E.style,"top",this.$lines.computeLineTop(k,p,this.session)+"px"),this.$renderLine(E,k,k==O?F:!1),this.$useLineGroups()?E.className="ace_line_group":E.className="ace_line",C.push(L),k++}return C},f.prototype.update=function(p){this.$lines.moveContainer(p),this.config=p;for(var v=p.firstRow,y=p.lastRow,C=this.$lines;C.getLength();)C.pop();C.push(this.$renderLinesFragment(p,v,y))},f.prototype.$renderToken=function(p,v,y,C){for(var k=this,F=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,O=this.dom.createFragment(this.element),L,E=0;L=F.exec(C);){var _=L[1],I=L[2],M=L[3],$=L[4],B=L[5];if(!(!k.showSpaces&&I)){var T=E!=L.index?C.slice(E,L.index):"";if(E=L.index+L[0].length,T&&O.appendChild(this.dom.createTextNode(T,this.element)),_){var b=k.session.getScreenTabSize(v+L.index);O.appendChild(k.$tabStrings[b].cloneNode(!0)),v+=b-1}else if(I)if(k.showSpaces){var P=this.dom.createElement("span");P.className="ace_invisible ace_invisible_space",P.textContent=m.stringRepeat(k.SPACE_CHAR,I.length),O.appendChild(P)}else O.appendChild(this.dom.createTextNode(I,this.element));else if(M){var P=this.dom.createElement("span");P.className="ace_invisible ace_invisible_space ace_invalid",P.textContent=m.stringRepeat(k.SPACE_CHAR,M.length),O.appendChild(P)}else if($){v+=1;var P=this.dom.createElement("span");P.style.width=k.config.characterWidth*2+"px",P.className=k.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",P.textContent=k.showSpaces?k.SPACE_CHAR:$,O.appendChild(P)}else if(B){v+=1;var P=this.dom.createElement("span");P.style.width=k.config.characterWidth*2+"px",P.className="ace_cjk",P.textContent=B,O.appendChild(P)}}}if(O.appendChild(this.dom.createTextNode(E?C.slice(E):C,this.element)),h(y.type))p.appendChild(O);else{var N="ace_"+y.type.replace(/\./g," ace_"),P=this.dom.createElement("span");y.type=="fold"&&(P.style.width=y.value.length*this.config.characterWidth+"px",P.setAttribute("title",l("inline-fold.closed.title","Unfold code"))),P.className=N,P.appendChild(O),p.appendChild(P)}return v+C.length},f.prototype.renderIndentGuide=function(p,v,y){var C=v.search(this.$indentGuideRe);if(C<=0||C>=y)return v;if(v[0]==" "){C-=C%this.tabSize;for(var k=C/this.tabSize,F=0;F<k;F++)p.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),v.substr(C)}else if(v[0]=="	"){for(var F=0;F<C;F++)p.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),v.substr(C)}return this.$highlightIndentGuide(),v},f.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var p=this.session.doc.$lines;if(p){var v=this.session.selection.getCursor(),y=/^\s*/.exec(this.session.doc.getLine(v.row))[0].length,C=Math.floor(y/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:C,start:v.row};var k=this.session.$bracketHighlight;if(k){for(var F=this.session.$bracketHighlight.ranges,O=0;O<F.length;O++)if(v.row!==F[O].start.row){this.$highlightIndentGuideMarker.end=F[O].start.row,v.row>F[O].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&p[v.row]!==""&&v.column===p[v.row].length){this.$highlightIndentGuideMarker.dir=1;for(var O=v.row+1;O<p.length;O++){var L=p[O],E=/^\s*/.exec(L)[0].length;if(L!==""&&(this.$highlightIndentGuideMarker.end=O,E<=y))break}}this.$renderHighlightIndentGuide()}}},f.prototype.$clearActiveIndentGuide=function(){for(var p=this.$lines.cells,v=0;v<p.length;v++){var y=p[v],C=y.element.childNodes;if(C.length>0){for(var k=0;k<C.length;k++)if(C[k].classList&&C[k].classList.contains("ace_indent-guide-active")){C[k].classList.remove("ace_indent-guide-active");break}}}},f.prototype.$setIndentGuideActive=function(p,v){var y=this.session.doc.getLine(p.row);if(y!==""){var C=p.element.childNodes;if(C){var k=C[v-1];k&&k.classList&&k.classList.contains("ace_indent-guide")&&k.classList.add("ace_indent-guide-active")}}},f.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var p=this.$lines.cells;this.$clearActiveIndentGuide();var v=this.$highlightIndentGuideMarker.indentLevel;if(v!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var y=0;y<p.length;y++){var C=p[y];if(this.$highlightIndentGuideMarker.end&&C.row>=this.$highlightIndentGuideMarker.start+1){if(C.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(C,v)}}else for(var y=p.length-1;y>=0;y--){var C=p[y];if(this.$highlightIndentGuideMarker.end&&C.row<this.$highlightIndentGuideMarker.start){if(C.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(C,v)}}}},f.prototype.$createLineElement=function(p){var v=this.dom.createElement("div");return v.className="ace_line",v.style.height=this.config.lineHeight+"px",v},f.prototype.$renderWrappedLine=function(p,v,y){var C=0,k=0,F=y[0],O=0,L=this.$createLineElement();p.appendChild(L);for(var E=0;E<v.length;E++){var _=v[E],I=_.value;if(E==0&&this.displayIndentGuides){if(C=I.length,I=this.renderIndentGuide(L,I,F),!I)continue;C-=I.length}if(C+I.length<F)O=this.$renderToken(L,O,_,I),C+=I.length;else{for(;C+I.length>=F;)O=this.$renderToken(L,O,_,I.substring(0,F-C)),I=I.substring(F-C),C=F,L=this.$createLineElement(),p.appendChild(L),L.appendChild(this.dom.createTextNode(m.stringRepeat(" ",y.indent),this.element)),k++,O=0,F=y[k]||Number.MAX_VALUE;I.length!=0&&(C+=I.length,O=this.$renderToken(L,O,_,I))}}y[y.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(L,O,null,"",!0)},f.prototype.$renderSimpleLine=function(p,v){for(var y=0,C=0;C<v.length;C++){var k=v[C],F=k.value;if(!(C==0&&this.displayIndentGuides&&(F=this.renderIndentGuide(p,F),!F))){if(y+F.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(p,y,k,F);y=this.$renderToken(p,y,k,F)}}},f.prototype.$renderOverflowMessage=function(p,v,y,C,k){y&&this.$renderToken(p,v,y,C.slice(0,this.MAX_LINE_LENGTH-v));var F=this.dom.createElement("span");F.className="ace_inline_button ace_keyword ace_toggle_wrap",F.textContent=k?"<hide>":"<click to see more...>",p.appendChild(F)},f.prototype.$renderLine=function(p,v,y){if(!y&&y!=!1&&(y=this.session.getFoldLine(v)),y)var C=this.$getFoldLineTokens(v,y);else var C=this.session.getTokens(v);var k=p;if(C.length){var F=this.session.getRowSplitData(v);if(F&&F.length){this.$renderWrappedLine(p,C,F);var k=p.lastChild}else{var k=p;this.$useLineGroups()&&(k=this.$createLineElement(),p.appendChild(k)),this.$renderSimpleLine(k,C)}}else this.$useLineGroups()&&(k=this.$createLineElement(),p.appendChild(k));if(this.showEOL&&k){y&&(v=y.end.row);var O=this.dom.createElement("span");O.className="ace_invisible ace_invisible_eol",O.textContent=v==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,k.appendChild(O)}},f.prototype.$getFoldLineTokens=function(p,v){var y=this.session,C=[];function k(O,L,E){for(var _=0,I=0;I+O[_].value.length<L;)if(I+=O[_].value.length,_++,_==O.length)return;if(I!=L){var M=O[_].value.substring(L-I);M.length>E-L&&(M=M.substring(0,E-L)),C.push({type:O[_].type,value:M}),I=L+M.length,_+=1}for(;I<E&&_<O.length;){var M=O[_].value;M.length+I>E?C.push({type:O[_].type,value:M.substring(0,E-I)}):C.push(O[_]),I+=M.length,_+=1}}var F=y.getTokens(p);return v.walk(function(O,L,E,_,I){O!=null?C.push({type:"fold",value:O}):(I&&(F=y.getTokens(L)),F.length&&k(F,_,E))},v.end.row,this.session.getLine(v.end.row).length),C},f.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},f}();d.prototype.EOF_CHAR="¶",d.prototype.EOL_CHAR_LF="¬",d.prototype.EOL_CHAR_CRLF="¤",d.prototype.EOL_CHAR=d.prototype.EOL_CHAR_LF,d.prototype.TAB_CHAR="—",d.prototype.SPACE_CHAR="·",d.prototype.$padding=0,d.prototype.MAX_LINE_LENGTH=1e4,d.prototype.showInvisibles=!1,d.prototype.showSpaces=!1,d.prototype.showTabs=!1,d.prototype.showEOL=!1,d.prototype.displayIndentGuides=!0,d.prototype.$highlightIndentGuides=!0,d.prototype.$tabStrings=[],d.prototype.destroy={},d.prototype.onChangeTabSize=d.prototype.$computeTabString,o.implement(d.prototype,g),r.Text=d}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,r,s){var o=t("../lib/dom"),c=function(){function m(u){this.element=o.createElement("div"),this.element.className="ace_layer ace_cursor-layer",u.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),o.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return m.prototype.$updateOpacity=function(u){for(var g=this.cursors,l=g.length;l--;)o.setStyle(g[l].style,"opacity",u?"":"0")},m.prototype.$startCssAnimation=function(){for(var u=this.cursors,g=u.length;g--;)u[g].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&o.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},m.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,o.removeCssClass(this.element,"ace_animate-blinking")},m.prototype.setPadding=function(u){this.$padding=u},m.prototype.setSession=function(u){this.session=u},m.prototype.setBlinking=function(u){u!=this.isBlinking&&(this.isBlinking=u,this.restartTimer())},m.prototype.setBlinkInterval=function(u){u!=this.blinkInterval&&(this.blinkInterval=u,this.restartTimer())},m.prototype.setSmoothBlinking=function(u){u!=this.smoothBlinking&&(this.smoothBlinking=u,o.setCssClass(this.element,"ace_smooth-blinking",u),this.$updateCursors(!0),this.restartTimer())},m.prototype.addCursor=function(){var u=o.createElement("div");return u.className="ace_cursor",this.element.appendChild(u),this.cursors.push(u),u},m.prototype.removeCursor=function(){if(this.cursors.length>1){var u=this.cursors.pop();return u.parentNode.removeChild(u),u}},m.prototype.hideCursor=function(){this.isVisible=!1,o.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},m.prototype.showCursor=function(){this.isVisible=!0,o.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},m.prototype.restartTimer=function(){var u=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,o.removeCssClass(this.element,"ace_smooth-blinking")),u(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&o.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),o.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var g=(function(){this.timeoutId=setTimeout(function(){u(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){u(!0),g()},this.blinkInterval),g()}},m.prototype.getPixelPosition=function(u,g){if(!this.config||!this.session)return{left:0,top:0};u||(u=this.session.selection.getCursor());var l=this.session.documentToScreenPosition(u),h=this.$padding+(this.session.$bidiHandler.isBidiRow(l.row,u.row)?this.session.$bidiHandler.getPosLeft(l.column):l.column*this.config.characterWidth),d=(l.row-(g?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:h,top:d}},m.prototype.isCursorInView=function(u,g){return u.top>=0&&u.top<g.maxHeight},m.prototype.update=function(u){this.config=u;var g=this.session.$selectionMarkers,l=0,h=0;(g===void 0||g.length===0)&&(g=[{cursor:null}]);for(var l=0,d=g.length;l<d;l++){var f=this.getPixelPosition(g[l].cursor,!0);if(!((f.top>u.height+u.offset||f.top<0)&&l>1)){var p=this.cursors[h++]||this.addCursor(),v=p.style;this.drawCursor?this.drawCursor(p,f,u,g[l],this.session):this.isCursorInView(f,u)?(o.setStyle(v,"display","block"),o.translate(p,f.left,f.top),o.setStyle(v,"width",Math.round(u.characterWidth)+"px"),o.setStyle(v,"height",u.lineHeight+"px")):o.setStyle(v,"display","none")}}for(;this.cursors.length>h;)this.removeCursor();var y=this.session.getOverwrite();this.$setOverwrite(y),this.$pixelPos=f,this.restartTimer()},m.prototype.$setOverwrite=function(u){u!=this.overwrite&&(this.overwrite=u,u?o.addCssClass(this.element,"ace_overwrite-cursors"):o.removeCssClass(this.element,"ace_overwrite-cursors"))},m.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},m}();c.prototype.$padding=0,c.prototype.drawCursor=null,r.Cursor=c}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,r,s){var o=this&&this.__extends||function(){var p=function(v,y){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,k){C.__proto__=k}||function(C,k){for(var F in k)Object.prototype.hasOwnProperty.call(k,F)&&(C[F]=k[F])},p(v,y)};return function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");p(v,y);function C(){this.constructor=v}v.prototype=y===null?Object.create(y):(C.prototype=y.prototype,new C)}}(),c=t("./lib/oop"),m=t("./lib/dom"),u=t("./lib/event"),g=t("./lib/event_emitter").EventEmitter,l=32768,h=function(){function p(v,y){this.element=m.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+y,this.inner=m.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),v.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,u.addListener(this.element,"scroll",this.onScroll.bind(this)),u.addListener(this.element,"mousedown",u.preventDefault)}return p.prototype.setVisible=function(v){this.element.style.display=v?"":"none",this.isVisible=v,this.coeff=1},p}();c.implement(h.prototype,g);var d=function(p){o(v,p);function v(y,C){var k=p.call(this,y,"-v")||this;return k.scrollTop=0,k.scrollHeight=0,C.$scrollbarWidth=k.width=m.scrollbarWidth(y.ownerDocument),k.inner.style.width=k.element.style.width=(k.width||15)+5+"px",k.$minWidth=0,k}return v.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var y=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-y)/(this.coeff-y)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},v.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},v.prototype.setHeight=function(y){this.element.style.height=y+"px"},v.prototype.setScrollHeight=function(y){this.scrollHeight=y,y>l?(this.coeff=l/y,y=l):this.coeff!=1&&(this.coeff=1),this.inner.style.height=y+"px"},v.prototype.setScrollTop=function(y){this.scrollTop!=y&&(this.skipEvent=!0,this.scrollTop=y,this.element.scrollTop=y*this.coeff)},v}(h);d.prototype.setInnerHeight=d.prototype.setScrollHeight;var f=function(p){o(v,p);function v(y,C){var k=p.call(this,y,"-h")||this;return k.scrollLeft=0,k.height=C.$scrollbarWidth,k.inner.style.height=k.element.style.height=(k.height||15)+5+"px",k}return v.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},v.prototype.getHeight=function(){return this.isVisible?this.height:0},v.prototype.setWidth=function(y){this.element.style.width=y+"px"},v.prototype.setInnerWidth=function(y){this.inner.style.width=y+"px"},v.prototype.setScrollWidth=function(y){this.inner.style.width=y+"px"},v.prototype.setScrollLeft=function(y){this.scrollLeft!=y&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=y)},v}(h);r.ScrollBar=d,r.ScrollBarV=d,r.ScrollBarH=f,r.VScrollBar=d,r.HScrollBar=f}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,r,s){var o=this&&this.__extends||function(){var f=function(p,v){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var k in C)Object.prototype.hasOwnProperty.call(C,k)&&(y[k]=C[k])},f(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");f(p,v);function y(){this.constructor=p}p.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),c=t("./lib/oop"),m=t("./lib/dom"),u=t("./lib/event"),g=t("./lib/event_emitter").EventEmitter;m.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var l=function(){function f(p,v){this.element=m.createElement("div"),this.element.className="ace_sb"+v,this.inner=m.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,p.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,u.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return f.prototype.setVisible=function(p){this.element.style.display=p?"":"none",this.isVisible=p,this.coeff=1},f}();c.implement(l.prototype,g);var h=function(f){o(p,f);function p(v,y){var C=f.call(this,v,"-v")||this;return C.scrollTop=0,C.scrollHeight=0,C.parent=v,C.width=C.VScrollWidth,C.renderer=y,C.inner.style.width=C.element.style.width=(C.width||15)+"px",C.$minWidth=0,C}return p.prototype.onMouseDown=function(v,y){if(v==="mousedown"&&!(u.getButton(y)!==0||y.detail===2)){if(y.target===this.inner){var C=this,k=y.clientY,F=function($){k=$.clientY},O=function(){clearInterval(I)},L=y.clientY,E=this.thumbTop,_=function(){if(k!==void 0){var $=C.scrollTopFromThumbTop(E+k-L);$!==C.scrollTop&&C._emit("scroll",{data:$})}};u.capture(this.inner,F,O);var I=setInterval(_,20);return u.preventDefault(y)}var M=y.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(M)}),u.preventDefault(y)}},p.prototype.getHeight=function(){return this.height},p.prototype.scrollTopFromThumbTop=function(v){var y=v*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return y=y>>0,y<0?y=0:y>this.pageHeight-this.viewHeight&&(y=this.pageHeight-this.viewHeight),y},p.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},p.prototype.setHeight=function(v){this.height=Math.max(0,v),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},p.prototype.setScrollHeight=function(v,y){this.pageHeight===v&&!y||(this.pageHeight=v,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},p.prototype.setScrollTop=function(v){this.scrollTop=v,v<0&&(v=0),this.thumbTop=v*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},p}(l);h.prototype.setInnerHeight=h.prototype.setScrollHeight;var d=function(f){o(p,f);function p(v,y){var C=f.call(this,v,"-h")||this;return C.scrollLeft=0,C.scrollWidth=0,C.height=C.HScrollHeight,C.inner.style.height=C.element.style.height=(C.height||12)+"px",C.renderer=y,C}return p.prototype.onMouseDown=function(v,y){if(v==="mousedown"&&!(u.getButton(y)!==0||y.detail===2)){if(y.target===this.inner){var C=this,k=y.clientX,F=function($){k=$.clientX},O=function(){clearInterval(I)},L=y.clientX,E=this.thumbLeft,_=function(){if(k!==void 0){var $=C.scrollLeftFromThumbLeft(E+k-L);$!==C.scrollLeft&&C._emit("scroll",{data:$})}};u.capture(this.inner,F,O);var I=setInterval(_,20);return u.preventDefault(y)}var M=y.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(M)}),u.preventDefault(y)}},p.prototype.getHeight=function(){return this.isVisible?this.height:0},p.prototype.scrollLeftFromThumbLeft=function(v){var y=v*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return y=y>>0,y<0?y=0:y>this.pageWidth-this.viewWidth&&(y=this.pageWidth-this.viewWidth),y},p.prototype.setWidth=function(v){this.width=Math.max(0,v),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},p.prototype.setScrollWidth=function(v,y){this.pageWidth===v&&!y||(this.pageWidth=v,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},p.prototype.setScrollLeft=function(v){this.scrollLeft=v,v<0&&(v=0),this.thumbLeft=v*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},p}(l);d.prototype.setInnerWidth=d.prototype.setScrollWidth,r.ScrollBar=h,r.ScrollBarV=h,r.ScrollBarH=d,r.VScrollBar=h,r.HScrollBar=d}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,r,s){var o=t("./lib/event"),c=function(){function m(u,g){this.onRender=u,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=g||window;var l=this;this._flush=function(h){l.pending=!1;var d=l.changes;if(d&&(o.blockIdle(100),l.changes=0,l.onRender(d)),l.changes){if(l.$recursionLimit--<0)return;l.schedule()}else l.$recursionLimit=2}}return m.prototype.schedule=function(u){this.changes=this.changes|u,this.changes&&!this.pending&&(o.nextFrame(this._flush),this.pending=!0)},m.prototype.clear=function(u){var g=this.changes;return this.changes=0,g},m}();r.RenderLoop=c}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(t,r,s){var o=t("../lib/oop"),c=t("../lib/dom"),m=t("../lib/lang"),u=t("../lib/event"),g=t("../lib/useragent"),l=t("../lib/event_emitter").EventEmitter,h=512,d=typeof ResizeObserver=="function",f=200,p=function(){function v(y){this.el=c.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=c.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=c.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),y.appendChild(this.el),this.$measureNode.textContent=m.stringRepeat("X",h),this.$characterSize={width:0,height:0},d?this.$addObserver():this.checkForSizeChanges()}return v.prototype.$setMeasureNodeStyles=function(y,C){y.width=y.height="auto",y.left=y.top="0px",y.visibility="hidden",y.position="absolute",y.whiteSpace="pre",g.isIE<8?y["font-family"]="inherit":y.font="inherit",y.overflow=C?"hidden":"visible"},v.prototype.checkForSizeChanges=function(y){if(y===void 0&&(y=this.$measureSizes()),y&&(this.$characterSize.width!==y.width||this.$characterSize.height!==y.height)){this.$measureNode.style.fontWeight="bold";var C=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=y,this.charSizes=Object.create(null),this.allowBoldFonts=C&&C.width===y.width&&C.height===y.height,this._emit("changeCharacterSize",{data:y})}},v.prototype.$addObserver=function(){var y=this;this.$observer=new window.ResizeObserver(function(C){y.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},v.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var y=this;return this.$pollSizeChangesTimer=u.onIdle(function C(){y.checkForSizeChanges(),u.onIdle(C,500)},500)},v.prototype.setPolling=function(y){y?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},v.prototype.$measureSizes=function(y){var C={height:(y||this.$measureNode).clientHeight,width:(y||this.$measureNode).clientWidth/h};return C.width===0||C.height===0?null:C},v.prototype.$measureCharWidth=function(y){this.$main.textContent=m.stringRepeat(y,h);var C=this.$main.getBoundingClientRect();return C.width/h},v.prototype.getCharacterWidth=function(y){var C=this.charSizes[y];return C===void 0&&(C=this.charSizes[y]=this.$measureCharWidth(y)/this.$characterSize.width),C},v.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},v.prototype.$getZoom=function(y){return!y||!y.parentElement?1:(Number(window.getComputedStyle(y).zoom)||1)*this.$getZoom(y.parentElement)},v.prototype.$initTransformMeasureNodes=function(){var y=function(C,k){return["div",{style:"position: absolute;top:"+C+"px;left:"+k+"px;"}]};this.els=c.buildDom([y(0,0),y(f,0),y(0,f),y(f,f)],this.el)},v.prototype.transformCoordinates=function(y,C){if(y){var k=this.$getZoom(this.el);y=E(1/k,y)}function F(Q,U,re){var Z=Q[1]*U[0]-Q[0]*U[1];return[(-U[1]*re[0]+U[0]*re[1])/Z,(+Q[1]*re[0]-Q[0]*re[1])/Z]}function O(Q,U){return[Q[0]-U[0],Q[1]-U[1]]}function L(Q,U){return[Q[0]+U[0],Q[1]+U[1]]}function E(Q,U){return[Q*U[0],Q*U[1]]}this.els||this.$initTransformMeasureNodes();function _(Q){var U=Q.getBoundingClientRect();return[U.left,U.top]}var I=_(this.els[0]),M=_(this.els[1]),$=_(this.els[2]),B=_(this.els[3]),T=F(O(B,M),O(B,$),O(L(M,$),L(B,I))),b=E(1+T[0],O(M,I)),P=E(1+T[1],O($,I));if(C){var N=C,z=T[0]*N[0]/f+T[1]*N[1]/f+1,q=L(E(N[0],b),E(N[1],P));return L(E(1/z/f,q),I)}var K=O(y,I),J=F(O(b,E(T[0],K)),O(P,E(T[1],K)),K);return E(f,J)},v}();p.prototype.$characterSize={width:0,height:0},o.implement(p.prototype,l),r.FontMetrics=p}),ace.define("ace/css/editor-css",["require","exports","module"],function(t,r,s){s.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "↩";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(t,r,s){var o=t("../lib/dom"),c=t("../lib/oop"),m=t("../lib/event_emitter").EventEmitter,u=function(){function g(l,h){this.canvas=o.createElement("canvas"),this.renderer=h,this.pixelRatio=1,this.maxHeight=h.layerConfig.maxHeight,this.lineHeight=h.layerConfig.lineHeight,this.canvasHeight=l.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=l.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},l.element.appendChild(this.canvas)}return g.prototype.$updateDecorators=function(l){var h=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(l){this.maxHeight=l.maxHeight,this.lineHeight=l.lineHeight,this.canvasHeight=l.height;var d=(l.lastRow+1)*this.lineHeight;d<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var f=this.canvas.getContext("2d");function p(B,T){return B.priority<T.priority?-1:B.priority>T.priority?1:0}var v=this.renderer.session.$annotations;if(f.clearRect(0,0,this.canvas.width,this.canvas.height),v){var y={info:1,warning:2,error:3};v.forEach(function(B){B.priority=y[B.type]||null}),v=v.sort(p);for(var C=this.renderer.session.$foldData,k=0;k<v.length;k++){var F=v[k].row,O=this.compensateFoldRows(F,C),L=Math.round((F-O)*this.lineHeight*this.heightRatio),E=Math.round((F-O)*this.lineHeight*this.heightRatio),_=Math.round(((F-O)*this.lineHeight+this.lineHeight)*this.heightRatio),I=_-E;if(I<this.minDecorationHeight){var M=(E+_)/2|0;M<this.halfMinDecorationHeight?M=this.halfMinDecorationHeight:M+this.halfMinDecorationHeight>this.canvasHeight&&(M=this.canvasHeight-this.halfMinDecorationHeight),E=Math.round(M-this.halfMinDecorationHeight),_=Math.round(M+this.halfMinDecorationHeight)}f.fillStyle=h[v[k].type]||null,f.fillRect(0,L,this.canvasWidth,_-E)}}var $=this.renderer.session.selection.getCursor();if($){var O=this.compensateFoldRows($.row,C),L=Math.round(($.row-O)*this.lineHeight*this.heightRatio);f.fillStyle="rgba(0, 0, 0, 0.5)",f.fillRect(0,L,this.canvasWidth,2)}},g.prototype.compensateFoldRows=function(l,h){var d=0;if(h&&h.length>0)for(var f=0;f<h.length;f++)l>h[f].start.row&&l<h[f].end.row?d+=l-h[f].start.row:l>=h[f].end.row&&(d+=h[f].end.row-h[f].start.row);return d},g}();c.implement(u.prototype,m),r.Decorator=u}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(t,r,s){var o=t("./lib/oop"),c=t("./lib/dom"),m=t("./lib/lang"),u=t("./config"),g=t("./layer/gutter").Gutter,l=t("./layer/marker").Marker,h=t("./layer/text").Text,d=t("./layer/cursor").Cursor,f=t("./scrollbar").HScrollBar,p=t("./scrollbar").VScrollBar,v=t("./scrollbar_custom").HScrollBar,y=t("./scrollbar_custom").VScrollBar,C=t("./renderloop").RenderLoop,k=t("./layer/font_metrics").FontMetrics,F=t("./lib/event_emitter").EventEmitter,O=t("./css/editor-css"),L=t("./layer/decorators").Decorator,E=t("./lib/useragent"),_=t("./layer/text_util").isTextToken;c.importCssString(O,"ace_editor.css",!1);var I=function(){function M($,B){var T=this;this.container=$||c.createElement("div"),c.addCssClass(this.container,"ace_editor"),c.HI_DPI&&c.addCssClass(this.container,"ace_hidpi"),this.setTheme(B),u.get("useStrictCSP")==null&&u.set("useStrictCSP",!1),this.$gutter=c.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=c.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=c.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new g(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var b=this.$textLayer=new h(this.content);this.canvas=b.element,this.$markerFront=new l(this.content),this.$cursorLayer=new d(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.on("scroll",function(P){T.$scrollAnimation||T.session.setScrollTop(P.data-T.scrollMargin.top)}),this.scrollBarH.on("scroll",function(P){T.$scrollAnimation||T.session.setScrollLeft(P.data-T.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new k(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(P){T.updateCharacterSize(),T.onResize(!0,T.gutterWidth,T.$size.width,T.$size.height),T._signal("changeCharacterSize",P)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!E.isIOS,this.$loop=new C(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),u.resetOptions(this),u._signal("renderer",this)}return M.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),c.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},M.prototype.setSession=function($){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=$,$&&this.scrollMargin.top&&$.getScrollTop()<=0&&$.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession($),this.$markerBack.setSession($),this.$markerFront.setSession($),this.$gutterLayer.setSession($),this.$textLayer.setSession($),$&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},M.prototype.updateLines=function($,B,T){if(B===void 0&&(B=1/0),this.$changedLines?(this.$changedLines.firstRow>$&&(this.$changedLines.firstRow=$),this.$changedLines.lastRow<B&&(this.$changedLines.lastRow=B)):this.$changedLines={firstRow:$,lastRow:B},this.$changedLines.lastRow<this.layerConfig.firstRow)if(T)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},M.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},M.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},M.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},M.prototype.updateFull=function($){$?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},M.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},M.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},M.prototype.onResize=function($,B,T,b){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=$?1:0;var P=this.container;b||(b=P.clientHeight||P.scrollHeight),!b&&this.$maxLines&&this.lineHeight>1&&(!P.style.height||P.style.height=="0px")&&(P.style.height="1px",b=P.clientHeight||P.scrollHeight),T||(T=P.clientWidth||P.scrollWidth);var N=this.$updateCachedSize($,B,T,b);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!T&&!b)return this.resizing=0;$&&(this.$gutterLayer.$padding=null),$?this.$renderChanges(N|this.$changes,!0):this.$loop.schedule(N|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},M.prototype.$updateCachedSize=function($,B,T,b){b-=this.$extraHeight||0;var P=0,N=this.$size,z={width:N.width,height:N.height,scrollerHeight:N.scrollerHeight,scrollerWidth:N.scrollerWidth};if(b&&($||N.height!=b)&&(N.height=b,P|=this.CHANGE_SIZE,N.scrollerHeight=N.height,this.$horizScroll&&(N.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(N.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",P=P|this.CHANGE_SCROLL),T&&($||N.width!=T)){P|=this.CHANGE_SIZE,N.width=T,B==null&&(B=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=B,c.setStyle(this.scrollBarH.element.style,"left",B+"px"),c.setStyle(this.scroller.style,"left",B+this.margin.left+"px"),N.scrollerWidth=Math.max(0,T-B-this.scrollBarV.getWidth()-this.margin.h),c.setStyle(this.$gutter.style,"left",this.margin.left+"px");var q=this.scrollBarV.getWidth()+"px";c.setStyle(this.scrollBarH.element.style,"right",q),c.setStyle(this.scroller.style,"right",q),c.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(N.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||$)&&(P|=this.CHANGE_FULL)}return N.$dirty=!T||!b,P&&this._signal("resize",z),P},M.prototype.onGutterResize=function($){var B=this.$showGutter?$:0;B!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,B,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},M.prototype.adjustWrapLimit=function(){var $=this.$size.scrollerWidth-this.$padding*2,B=Math.floor($/this.characterWidth);return this.session.adjustWrapLimit(B,this.$showPrintMargin&&this.$printMarginColumn)},M.prototype.setAnimatedScroll=function($){this.setOption("animatedScroll",$)},M.prototype.getAnimatedScroll=function(){return this.$animatedScroll},M.prototype.setShowInvisibles=function($){this.setOption("showInvisibles",$),this.session.$bidiHandler.setShowInvisibles($)},M.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},M.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},M.prototype.setDisplayIndentGuides=function($){this.setOption("displayIndentGuides",$)},M.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},M.prototype.setHighlightIndentGuides=function($){this.setOption("highlightIndentGuides",$)},M.prototype.setShowPrintMargin=function($){this.setOption("showPrintMargin",$)},M.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},M.prototype.setPrintMarginColumn=function($){this.setOption("printMarginColumn",$)},M.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},M.prototype.getShowGutter=function(){return this.getOption("showGutter")},M.prototype.setShowGutter=function($){return this.setOption("showGutter",$)},M.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},M.prototype.setFadeFoldWidgets=function($){this.setOption("fadeFoldWidgets",$)},M.prototype.setHighlightGutterLine=function($){this.setOption("highlightGutterLine",$)},M.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},M.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var $=c.createElement("div");$.className="ace_layer ace_print-margin-layer",this.$printMarginEl=c.createElement("div"),this.$printMarginEl.className="ace_print-margin",$.appendChild(this.$printMarginEl),this.content.insertBefore($,this.content.firstChild)}var B=this.$printMarginEl.style;B.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",B.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},M.prototype.getContainerElement=function(){return this.container},M.prototype.getMouseEventTarget=function(){return this.scroller},M.prototype.getTextAreaContainer=function(){return this.container},M.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var $=this.textarea.style,B=this.$composition;if(!this.$keepTextAreaAtCursor&&!B){c.translate(this.textarea,-100,0);return}var T=this.$cursorLayer.$pixelPos;if(T){B&&B.markerRange&&(T=this.$cursorLayer.getPixelPosition(B.markerRange.start,!0));var b=this.layerConfig,P=T.top,N=T.left;P-=b.offset;var z=B&&B.useTextareaForIME||E.isMobile?this.lineHeight:1;if(P<0||P>b.height-z){c.translate(this.textarea,0,0);return}var q=1,K=this.$size.height-z;if(!B)P+=this.lineHeight;else if(B.useTextareaForIME){var J=this.textarea.value;q=this.characterWidth*this.session.$getStringScreenWidth(J)[0]}else P+=this.lineHeight+2;N-=this.scrollLeft,N>this.$size.scrollerWidth-q&&(N=this.$size.scrollerWidth-q),N+=this.gutterWidth+this.margin.left,c.setStyle($,"height",z+"px"),c.setStyle($,"width",q+"px"),c.translate(this.textarea,Math.min(N,this.$size.scrollerWidth-q),Math.min(P,K))}}},M.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},M.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},M.prototype.getLastFullyVisibleRow=function(){var $=this.layerConfig,B=$.lastRow,T=this.session.documentToScreenRow(B,0)*$.lineHeight;return T-this.session.getScrollTop()>$.height-$.lineHeight?B-1:B},M.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},M.prototype.setPadding=function($){this.$padding=$,this.$textLayer.setPadding($),this.$cursorLayer.setPadding($),this.$markerFront.setPadding($),this.$markerBack.setPadding($),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},M.prototype.setScrollMargin=function($,B,T,b){var P=this.scrollMargin;P.top=$|0,P.bottom=B|0,P.right=b|0,P.left=T|0,P.v=P.top+P.bottom,P.h=P.left+P.right,P.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-P.top),this.updateFull()},M.prototype.setMargin=function($,B,T,b){var P=this.margin;P.top=$|0,P.bottom=B|0,P.right=b|0,P.left=T|0,P.v=P.top+P.bottom,P.h=P.left+P.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},M.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},M.prototype.setHScrollBarAlwaysVisible=function($){this.setOption("hScrollBarAlwaysVisible",$)},M.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},M.prototype.setVScrollBarAlwaysVisible=function($){this.setOption("vScrollBarAlwaysVisible",$)},M.prototype.$updateScrollBarV=function(){var $=this.layerConfig.maxHeight,B=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&($-=(B-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>$-B&&($=this.scrollTop+B,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight($+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},M.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},M.prototype.freeze=function(){this.$frozen=!0},M.prototype.unfreeze=function(){this.$frozen=!1},M.prototype.$renderChanges=function($,B){if(this.$changes&&($|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!$&&!B){this.$changes|=$;return}if(this.$size.$dirty)return this.$changes|=$,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",$),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var T=this.layerConfig;if($&this.CHANGE_FULL||$&this.CHANGE_SIZE||$&this.CHANGE_TEXT||$&this.CHANGE_LINES||$&this.CHANGE_SCROLL||$&this.CHANGE_H_SCROLL){if($|=this.$computeLayerConfig()|this.$loop.clear(),T.firstRow!=this.layerConfig.firstRow&&T.firstRowScreen==this.layerConfig.firstRowScreen){var b=this.scrollTop+(T.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;b>0&&(this.scrollTop=b,$=$|this.CHANGE_SCROLL,$|=this.$computeLayerConfig()|this.$loop.clear())}T=this.layerConfig,this.$updateScrollBarV(),$&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),c.translate(this.content,-this.scrollLeft,-T.offset);var P=T.width+2*this.$padding+"px",N=T.minHeight+"px";c.setStyle(this.content.style,"width",P),c.setStyle(this.content.style,"height",N)}if($&this.CHANGE_H_SCROLL&&(c.translate(this.content,-this.scrollLeft,-T.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),$&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(T),this.$showGutter&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T),this.$markerBack.update(T),this.$markerFront.update(T),this.$cursorLayer.update(T),this.$moveTextAreaToCursor(),this._signal("afterRender",$);return}if($&this.CHANGE_SCROLL){this.$changedLines=null,$&this.CHANGE_TEXT||$&this.CHANGE_LINES?this.$textLayer.update(T):this.$textLayer.scrollLines(T),this.$showGutter&&($&this.CHANGE_GUTTER||$&this.CHANGE_LINES?this.$gutterLayer.update(T):this.$gutterLayer.scrollLines(T)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T),this.$markerBack.update(T),this.$markerFront.update(T),this.$cursorLayer.update(T),this.$moveTextAreaToCursor(),this._signal("afterRender",$);return}$&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(T),this.$showGutter&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)):$&this.CHANGE_LINES?((this.$updateLines()||$&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)):$&this.CHANGE_TEXT||$&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)):$&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)),$&this.CHANGE_CURSOR&&(this.$cursorLayer.update(T),this.$moveTextAreaToCursor()),$&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(T),$&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(T),this._signal("afterRender",$)},M.prototype.$autosize=function(){var $=this.session.getScreenLength()*this.lineHeight,B=this.$maxLines*this.lineHeight,T=Math.min(B,Math.max((this.$minLines||1)*this.lineHeight,$))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(T+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&T>this.$maxPixelHeight&&(T=this.$maxPixelHeight);var b=T<=2*this.lineHeight,P=!b&&$>B;if(T!=this.desiredHeight||this.$size.height!=this.desiredHeight||P!=this.$vScroll){P!=this.$vScroll&&(this.$vScroll=P,this.scrollBarV.setVisible(P));var N=this.container.clientWidth;this.container.style.height=T+"px",this.$updateCachedSize(!0,this.$gutterWidth,N,T),this.desiredHeight=T,this._signal("autosize")}},M.prototype.$computeLayerConfig=function(){var $=this.session,B=this.$size,T=B.height<=2*this.lineHeight,b=this.session.getScreenLength(),P=b*this.lineHeight,N=this.$getLongestLine(),z=!T&&(this.$hScrollBarAlwaysVisible||B.scrollerWidth-N-2*this.$padding<0),q=this.$horizScroll!==z;q&&(this.$horizScroll=z,this.scrollBarH.setVisible(z));var K=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var J=B.scrollerHeight+this.lineHeight,Q=!this.$maxLines&&this.$scrollPastEnd?(B.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;P+=Q;var U=this.scrollMargin;this.session.setScrollTop(Math.max(-U.top,Math.min(this.scrollTop,P-B.scrollerHeight+U.bottom))),this.session.setScrollLeft(Math.max(-U.left,Math.min(this.scrollLeft,N+2*this.$padding-B.scrollerWidth+U.right)));var re=!T&&(this.$vScrollBarAlwaysVisible||B.scrollerHeight-P+Q<0||this.scrollTop>U.top),Z=K!==re;Z&&(this.$vScroll=re,this.scrollBarV.setVisible(re));var ue=this.scrollTop%this.lineHeight,ce=Math.ceil(J/this.lineHeight)-1,oe=Math.max(0,Math.round((this.scrollTop-ue)/this.lineHeight)),pe=oe+ce,Ee,me,Ae=this.lineHeight;oe=$.screenToDocumentRow(oe,0);var $e=$.getFoldLine(oe);$e&&(oe=$e.start.row),Ee=$.documentToScreenRow(oe,0),me=$.getRowLength(oe)*Ae,pe=Math.min($.screenToDocumentRow(pe,0),$.getLength()-1),J=B.scrollerHeight+$.getRowLength(pe)*Ae+me,ue=this.scrollTop-Ee*Ae;var Qe=0;return(this.layerConfig.width!=N||q)&&(Qe=this.CHANGE_H_SCROLL),(q||Z)&&(Qe|=this.$updateCachedSize(!0,this.gutterWidth,B.width,B.height),this._signal("scrollbarVisibilityChanged"),Z&&(N=this.$getLongestLine())),this.layerConfig={width:N,padding:this.$padding,firstRow:oe,firstRowScreen:Ee,lastRow:pe,lineHeight:Ae,characterWidth:this.characterWidth,minHeight:J,maxHeight:P,offset:ue,gutterOffset:Ae?Math.max(0,Math.ceil((ue+B.height-B.scrollerHeight)/Ae)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(N-this.$padding),Qe},M.prototype.$updateLines=function(){if(this.$changedLines){var $=this.$changedLines.firstRow,B=this.$changedLines.lastRow;this.$changedLines=null;var T=this.layerConfig;if(!($>T.lastRow+1)&&!(B<T.firstRow)){if(B===1/0){this.$showGutter&&this.$gutterLayer.update(T),this.$textLayer.update(T);return}return this.$textLayer.updateLines(T,$,B),!0}}},M.prototype.$getLongestLine=function(){var $=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&($+=1),this.$textLayer&&$>this.$textLayer.MAX_LINE_LENGTH&&($=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round($*this.characterWidth))},M.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},M.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},M.prototype.addGutterDecoration=function($,B){this.$gutterLayer.addGutterDecoration($,B)},M.prototype.removeGutterDecoration=function($,B){this.$gutterLayer.removeGutterDecoration($,B)},M.prototype.updateBreakpoints=function($){this._rows=$,this.$loop.schedule(this.CHANGE_GUTTER)},M.prototype.setAnnotations=function($){this.$gutterLayer.setAnnotations($),this.$loop.schedule(this.CHANGE_GUTTER)},M.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},M.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},M.prototype.showCursor=function(){this.$cursorLayer.showCursor()},M.prototype.scrollSelectionIntoView=function($,B,T){this.scrollCursorIntoView($,T),this.scrollCursorIntoView(B,T)},M.prototype.scrollCursorIntoView=function($,B,T){if(this.$size.scrollerHeight!==0){var b=this.$cursorLayer.getPixelPosition($),P=b.left,N=b.top,z=T&&T.top||0,q=T&&T.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var K=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;K+z>N?(B&&K+z>N+this.lineHeight&&(N-=B*this.$size.scrollerHeight),N===0&&(N=-this.scrollMargin.top),this.session.setScrollTop(N)):K+this.$size.scrollerHeight-q<N+this.lineHeight&&(B&&K+this.$size.scrollerHeight-q<N-this.lineHeight&&(N+=B*this.$size.scrollerHeight),this.session.setScrollTop(N+this.lineHeight+q-this.$size.scrollerHeight));var J=this.scrollLeft,Q=2*this.layerConfig.characterWidth;P-Q<J?(P-=Q,P<this.$padding+Q&&(P=-this.scrollMargin.left),this.session.setScrollLeft(P)):(P+=Q,J+this.$size.scrollerWidth<P+this.characterWidth?this.session.setScrollLeft(Math.round(P+this.characterWidth-this.$size.scrollerWidth)):J<=this.$padding&&P-J<this.characterWidth&&this.session.setScrollLeft(0))}},M.prototype.getScrollTop=function(){return this.session.getScrollTop()},M.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},M.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},M.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},M.prototype.scrollToRow=function($){this.session.setScrollTop($*this.lineHeight)},M.prototype.alignCursor=function($,B){typeof $=="number"&&($={row:$,column:0});var T=this.$cursorLayer.getPixelPosition($),b=this.$size.scrollerHeight-this.lineHeight,P=T.top-b*(B||0);return this.session.setScrollTop(P),P},M.prototype.$calcSteps=function($,B){var T=0,b=this.STEPS,P=[],N=function(z,q,K){return K*(Math.pow(z-1,3)+1)+q};for(T=0;T<b;++T)P.push(N(T/this.STEPS,$,B-$));return P},M.prototype.scrollToLine=function($,B,T,b){var P=this.$cursorLayer.getPixelPosition({row:$,column:0}),N=P.top;B&&(N-=this.$size.scrollerHeight/2);var z=this.scrollTop;this.session.setScrollTop(N),T!==!1&&this.animateScrolling(z,b)},M.prototype.animateScrolling=function($,B){var T=this.scrollTop;if(!this.$animatedScroll)return;var b=this;if($==T)return;if(this.$scrollAnimation){var P=this.$scrollAnimation.steps;if(P.length&&($=P[0],$==T))return}var N=b.$calcSteps($,T);this.$scrollAnimation={from:$,to:T,steps:N},clearInterval(this.$timer),b.session.setScrollTop(N.shift()),b.session.$scrollTop=T;function z(){b.$timer=clearInterval(b.$timer),b.$scrollAnimation=null,b.$stopAnimation=!1,B&&B()}this.$timer=setInterval(function(){if(b.$stopAnimation){z();return}if(!b.session)return clearInterval(b.$timer);N.length?(b.session.setScrollTop(N.shift()),b.session.$scrollTop=T):T!=null?(b.session.$scrollTop=-1,b.session.setScrollTop(T),T=null):z()},10)},M.prototype.scrollToY=function($){this.scrollTop!==$&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=$)},M.prototype.scrollToX=function($){this.scrollLeft!==$&&(this.scrollLeft=$),this.$loop.schedule(this.CHANGE_H_SCROLL)},M.prototype.scrollTo=function($,B){this.session.setScrollTop(B),this.session.setScrollLeft($)},M.prototype.scrollBy=function($,B){B&&this.session.setScrollTop(this.session.getScrollTop()+B),$&&this.session.setScrollLeft(this.session.getScrollLeft()+$)},M.prototype.isScrollableBy=function($,B){if(B<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||B>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||$<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||$>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},M.prototype.pixelToScreenCoordinates=function($,B){var T;if(this.$hasCssTransforms){T={top:0,left:0};var b=this.$fontMetrics.transformCoordinates([$,B]);$=b[1]-this.gutterWidth-this.margin.left,B=b[0]}else T=this.scroller.getBoundingClientRect();var P=$+this.scrollLeft-T.left-this.$padding,N=P/this.characterWidth,z=Math.floor((B+this.scrollTop-T.top)/this.lineHeight),q=this.$blockCursor?Math.floor(N):Math.round(N);return{row:z,column:q,side:N-q>0?1:-1,offsetX:P}},M.prototype.screenToTextCoordinates=function($,B){var T;if(this.$hasCssTransforms){T={top:0,left:0};var b=this.$fontMetrics.transformCoordinates([$,B]);$=b[1]-this.gutterWidth-this.margin.left,B=b[0]}else T=this.scroller.getBoundingClientRect();var P=$+this.scrollLeft-T.left-this.$padding,N=P/this.characterWidth,z=this.$blockCursor?Math.floor(N):Math.round(N),q=Math.floor((B+this.scrollTop-T.top)/this.lineHeight);return this.session.screenToDocumentPosition(q,Math.max(z,0),P)},M.prototype.textToScreenCoordinates=function($,B){var T=this.scroller.getBoundingClientRect(),b=this.session.documentToScreenPosition($,B),P=this.$padding+(this.session.$bidiHandler.isBidiRow(b.row,$)?this.session.$bidiHandler.getPosLeft(b.column):Math.round(b.column*this.characterWidth)),N=b.row*this.lineHeight;return{pageX:T.left+P-this.scrollLeft,pageY:T.top+N-this.scrollTop}},M.prototype.visualizeFocus=function(){c.addCssClass(this.container,"ace_focus")},M.prototype.visualizeBlur=function(){c.removeCssClass(this.container,"ace_focus")},M.prototype.showComposition=function($){this.$composition=$,$.cssText||($.cssText=this.textarea.style.cssText),$.useTextareaForIME==null&&($.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(c.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):$.markerId=this.session.addMarker($.markerRange,"ace_composition_marker","text")},M.prototype.setCompositionText=function($){var B=this.session.selection.cursor;this.addToken($,"composition_placeholder",B.row,B.column),this.$moveTextAreaToCursor()},M.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),c.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var $=this.session.selection.cursor;this.removeExtraToken($.row,$.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},M.prototype.setGhostText=function($,B){var T=this.session.selection.cursor,b=B||{row:T.row,column:T.column};this.removeGhostText();var P=this.$calculateWrappedTextChunks($,b);this.addToken(P[0].text,"ghost_text",b.row,b.column),this.$ghostText={text:$,position:{row:b.row,column:b.column}};var N=c.createElement("div");if(P.length>1){var z=this.hideTokensAfterPosition(b.row,b.column),q;P.slice(1).forEach(function(Z){var ue=c.createElement("div"),ce=c.createElement("span");ce.className="ace_ghost_text",Z.wrapped&&(ue.className="ghost_text_line_wrapped"),Z.text.length===0&&(Z.text=" "),ce.appendChild(c.createTextNode(Z.text)),ue.appendChild(ce),N.appendChild(ue),q=ue}),z.forEach(function(Z){var ue=c.createElement("span");_(Z.type)||(ue.className="ace_"+Z.type.replace(/\./g," ace_")),ue.appendChild(c.createTextNode(Z.value)),q.appendChild(ue)}),this.$ghostTextWidget={el:N,row:b.row,column:b.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var K=this.$cursorLayer.getPixelPosition(b,!0),J=this.container,Q=J.getBoundingClientRect().height,U=P.length*this.lineHeight,re=U<Q-K.top;if(re)return;U<Q?this.scrollBy(0,(P.length-1)*this.lineHeight):this.scrollToRow(b.row)}},M.prototype.$calculateWrappedTextChunks=function($,B){var T=this.$size.scrollerWidth-this.$padding*2,b=Math.floor(T/this.characterWidth)-2;b=b<=0?60:b;for(var P=$.split(/\r?\n/),N=[],z=0;z<P.length;z++){var q=this.session.$getDisplayTokens(P[z],B.column),K=this.session.$computeWrapSplits(q,b,this.session.$tabSize);if(K.length>0){var J=0;K.push(P[z].length);for(var Q=0;Q<K.length;Q++){var U=P[z].slice(J,K[Q]);N.push({text:U,wrapped:!0}),J=K[Q]}}else N.push({text:P[z],wrapped:!1})}return N},M.prototype.removeGhostText=function(){if(this.$ghostText){var $=this.$ghostText.position;this.removeExtraToken($.row,$.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},M.prototype.addToken=function($,B,T,b){var P=this.session;P.bgTokenizer.lines[T]=null;var N={type:B,value:$},z=P.getTokens(T);if(b==null||!z.length)z.push(N);else for(var q=0,K=0;K<z.length;K++){var J=z[K];if(q+=J.value.length,b<=q){var Q=J.value.length-(q-b),U=J.value.slice(0,Q),re=J.value.slice(Q);z.splice(K,1,{type:J.type,value:U},N,{type:J.type,value:re});break}}this.updateLines(T,T)},M.prototype.hideTokensAfterPosition=function($,B){for(var T=this.session.getTokens($),b=0,P=!1,N=[],z=0;z<T.length;z++){var q=T[z];if(b+=q.value.length,q.type!=="ghost_text"){if(P){N.push({type:q.type,value:q.value}),q.type="hidden_token";continue}b===B&&(P=!0)}}return this.updateLines($,$),N},M.prototype.removeExtraToken=function($,B){this.session.bgTokenizer.lines[$]=null,this.updateLines($,$)},M.prototype.setTheme=function($,B){var T=this;if(this.$themeId=$,T._dispatchEvent("themeChange",{theme:$}),!$||typeof $=="string"){var b=$||this.$options.theme.initialValue;u.loadModule(["theme",b],P)}else P($);function P(N){if(T.$themeId!=$)return B&&B();if(!N||!N.cssClass)throw new Error("couldn't load module "+$+" or it didn't call define");N.$id&&(T.$themeId=N.$id),c.importCssString(N.cssText,N.cssClass,T.container),T.theme&&c.removeCssClass(T.container,T.theme.cssClass);var z="padding"in N?N.padding:"padding"in(T.theme||{})?4:T.$padding;T.$padding&&z!=T.$padding&&T.setPadding(z),T.$theme=N.cssClass,T.theme=N,c.addCssClass(T.container,N.cssClass),c.setCssClass(T.container,"ace_dark",N.isDark),T.$size&&(T.$size.width=0,T.$updateSizeAsync()),T._dispatchEvent("themeLoaded",{theme:N}),B&&B(),E.isSafari&&T.scroller&&(T.scroller.style.background="red",T.scroller.style.background="")}},M.prototype.getTheme=function(){return this.$themeId},M.prototype.setStyle=function($,B){c.setCssClass(this.container,$,B!==!1)},M.prototype.unsetStyle=function($){c.removeCssClass(this.container,$)},M.prototype.setCursorStyle=function($){c.setStyle(this.scroller.style,"cursor",$)},M.prototype.setMouseCursor=function($){c.setStyle(this.scroller.style,"cursor",$)},M.prototype.attachToShadowRoot=function(){c.importCssString(O,"ace_editor.css",this.container)},M.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},M.prototype.$updateCustomScrollbar=function($){var B=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,$===!0?(this.scrollBarV=new y(this.container,this),this.scrollBarH=new v(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(T){B.$scrollAnimation||B.session.setScrollTop(T.data-B.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(T){B.$scrollAnimation||B.session.setScrollLeft(T.data-B.scrollMargin.left)}),this.$scrollDecorator=new L(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.addEventListener("scroll",function(T){B.$scrollAnimation||B.session.setScrollTop(T.data-B.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(T){B.$scrollAnimation||B.session.setScrollLeft(T.data-B.scrollMargin.left)}))},M.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var $=this;this.$resizeTimer=m.delayedCall(function(){$.destroyed||$.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(B){var T=B[0].contentRect.width,b=B[0].contentRect.height;Math.abs($.$size.width-T)>1||Math.abs($.$size.height-b)>1?$.$resizeTimer.delay():$.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},M}();I.prototype.CHANGE_CURSOR=1,I.prototype.CHANGE_MARKER=2,I.prototype.CHANGE_GUTTER=4,I.prototype.CHANGE_SCROLL=8,I.prototype.CHANGE_LINES=16,I.prototype.CHANGE_TEXT=32,I.prototype.CHANGE_SIZE=64,I.prototype.CHANGE_MARKER_BACK=128,I.prototype.CHANGE_MARKER_FRONT=256,I.prototype.CHANGE_FULL=512,I.prototype.CHANGE_H_SCROLL=1024,I.prototype.$changes=0,I.prototype.$padding=null,I.prototype.$frozen=!1,I.prototype.STEPS=8,o.implement(I.prototype,F),u.defineOptions(I.prototype,"renderer",{useResizeObserver:{set:function(M){!M&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):M&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(M){this.$textLayer.setShowInvisibles(M)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(M){typeof M=="number"&&(this.$printMarginColumn=M),this.$showPrintMargin=!!M,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(M){this.$gutter.style.display=M?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(M){this.$gutterLayer.$useSvgGutterIcons=M},initialValue:!1},showFoldedAnnotations:{set:function(M){this.$gutterLayer.$showFoldedAnnotations=M},initialValue:!1},fadeFoldWidgets:{set:function(M){c.setCssClass(this.$gutter,"ace_fade-fold-widgets",M)},initialValue:!1},showFoldWidgets:{set:function(M){this.$gutterLayer.setShowFoldWidgets(M),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(M){this.$textLayer.setDisplayIndentGuides(M)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(M){this.$textLayer.setHighlightIndentGuides(M)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(M){this.$gutterLayer.setHighlightGutterLine(M),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(M){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(M){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(M){typeof M=="number"&&(M=M+"px"),this.container.style.fontSize=M,this.updateFontSize()},initialValue:12},fontFamily:{set:function(M){this.container.style.fontFamily=M,this.updateFontSize()}},maxLines:{set:function(M){this.updateFull()}},minLines:{set:function(M){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(M){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(M){M=+M||0,this.$scrollPastEnd!=M&&(this.$scrollPastEnd=M,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(M){this.$gutterLayer.$fixedWidth=!!M,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(M){this.$updateCustomScrollbar(M)},initialValue:!1},theme:{set:function(M){this.setTheme(M)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!E.isMobile&&!E.isIE}}),r.VirtualRenderer=I}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,r,s){var o=t("../lib/oop"),c=t("../lib/net"),m=t("../lib/event_emitter").EventEmitter,u=t("../config");function g(f){var p="importScripts('"+c.qualifyURL(f)+"');";try{return new Blob([p],{type:"application/javascript"})}catch{var v=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,y=new v;return y.append(p),y.getBlob("application/javascript")}}function l(f){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(u.get("loadWorkerFromBlob")){var p=g(f),v=window.URL||window.webkitURL,y=v.createObjectURL(p);return new Worker(y)}return new Worker(f)}var h=function(f){f.postMessage||(f=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=f,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){o.implement(this,m),this.$createWorkerFromOldConfig=function(f,p,v,y,C){if(t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),u.get("packaged")||!t.toUrl)y=y||u.moduleUrl(p,"worker");else{var k=this.$normalizePath;y=y||k(t.toUrl("ace/worker/worker.js",null,"_"));var F={};f.forEach(function(O){F[O]=k(t.toUrl(O,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=l(y),C&&this.send("importScripts",C),this.$worker.postMessage({init:!0,tlns:F,module:p,classname:v}),this.$worker},this.onMessage=function(f){var p=f.data;switch(p.type){case"event":this._signal(p.name,{data:p.data});break;case"call":var v=this.callbacks[p.id];v&&(v(p.data),delete this.callbacks[p.id]);break;case"error":this.reportError(p.data);break;case"log":window.console&&console.log&&console.log.apply(console,p.data);break}},this.reportError=function(f){window.console&&console.error&&console.error(f)},this.$normalizePath=function(f){return c.qualifyURL(f)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(f){f.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(f,p){this.$worker.postMessage({command:f,args:p})},this.call=function(f,p,v){if(v){var y=this.callbackId++;this.callbacks[y]=v,p.push(y)}this.send(f,p)},this.emit=function(f,p){try{p.data&&p.data.err&&(p.data.err={message:p.data.err.message,stack:p.data.err.stack,code:p.data.err.code}),this.$worker&&this.$worker.postMessage({event:f,data:{data:p.data}})}catch(v){console.error(v.stack)}},this.attachToDocument=function(f){this.$doc&&this.terminate(),this.$doc=f,this.call("setValue",[f.getValue()]),f.on("change",this.changeListener,!0)},this.changeListener=function(f){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),f.action=="insert"?this.deltaQueue.push(f.start,f.lines):this.deltaQueue.push(f.start,f.end)},this.$sendDeltaQueue=function(){var f=this.deltaQueue;f&&(this.deltaQueue=null,f.length>50&&f.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:f}))}}).call(h.prototype);var d=function(f,p,v){var y=null,C=!1,k=Object.create(m),F=[],O=new h({messageBuffer:F,terminate:function(){},postMessage:function(E){F.push(E),y&&(C?setTimeout(L):L())}});O.setEmitSync=function(E){C=E};var L=function(){var E=F.shift();E.command?y[E.command].apply(y,E.args):E.event&&k._signal(E.event,E.data)};return k.postMessage=function(E){O.onMessage({data:E})},k.callback=function(E,_){this.postMessage({type:"call",id:_,data:E})},k.emit=function(E,_){this.postMessage({type:"event",name:E,data:_})},u.loadModule(["worker",p],function(E){for(y=new E[v](k);F.length;)L()}),O};r.UIWorkerClient=d,r.WorkerClient=h,r.createWorker=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,r,s){var o=t("./range").Range,c=t("./lib/event_emitter").EventEmitter,m=t("./lib/oop"),u=function(){function g(l,h,d,f,p,v){var y=this;this.length=h,this.session=l,this.doc=l.getDocument(),this.mainClass=p,this.othersClass=v,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=f,this.$onCursorChange=function(){setTimeout(function(){y.onCursorChange()})},this.$pos=d;var C=l.getUndoManager().$undoStack||l.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=C.length,this.setup(),l.selection.on("changeCursor",this.$onCursorChange)}return g.prototype.setup=function(){var l=this,h=this.doc,d=this.session;this.selectionBefore=d.selection.toJSON(),d.selection.inMultiSelectMode&&d.selection.toSingleRange(),this.pos=h.createAnchor(this.$pos.row,this.$pos.column);var f=this.pos;f.$insertRight=!0,f.detach(),f.markerId=d.addMarker(new o(f.row,f.column,f.row,f.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(p){var v=h.createAnchor(p.row,p.column);v.$insertRight=!0,v.detach(),l.others.push(v)}),d.setUndoSelect(!1)},g.prototype.showOtherMarkers=function(){if(!this.othersActive){var l=this.session,h=this;this.othersActive=!0,this.others.forEach(function(d){d.markerId=l.addMarker(new o(d.row,d.column,d.row,d.column+h.length),h.othersClass,null,!1)})}},g.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var l=0;l<this.others.length;l++)this.session.removeMarker(this.others[l].markerId)}},g.prototype.onUpdate=function(l){if(this.$updating)return this.updateAnchors(l);var h=l;if(h.start.row===h.end.row&&h.start.row===this.pos.row){this.$updating=!0;var d=l.action==="insert"?h.end.column-h.start.column:h.start.column-h.end.column,f=h.start.column>=this.pos.column&&h.start.column<=this.pos.column+this.length+1,p=h.start.column-this.pos.column;if(this.updateAnchors(l),f&&(this.length+=d),f&&!this.session.$fromUndo){if(l.action==="insert")for(var v=this.others.length-1;v>=0;v--){var y=this.others[v],C={row:y.row,column:y.column+p};this.doc.insertMergedLines(C,l.lines)}else if(l.action==="remove")for(var v=this.others.length-1;v>=0;v--){var y=this.others[v],C={row:y.row,column:y.column+p};this.doc.remove(new o(C.row,C.column,C.row,C.column-d))}}this.$updating=!1,this.updateMarkers()}},g.prototype.updateAnchors=function(l){this.pos.onChange(l);for(var h=this.others.length;h--;)this.others[h].onChange(l);this.updateMarkers()},g.prototype.updateMarkers=function(){if(!this.$updating){var l=this,h=this.session,d=function(p,v){h.removeMarker(p.markerId),p.markerId=h.addMarker(new o(p.row,p.column,p.row,p.column+l.length),v,null,!1)};d(this.pos,this.mainClass);for(var f=this.others.length;f--;)d(this.others[f],this.othersClass)}},g.prototype.onCursorChange=function(l){if(!(this.$updating||!this.session)){var h=this.session.selection.getCursor();h.row===this.pos.row&&h.column>=this.pos.column&&h.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",l)):(this.hideOtherMarkers(),this._emit("cursorLeave",l))}},g.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},g.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var l=this.session.getUndoManager(),h=(l.$undoStack||l.$undostack).length-this.$undoStackDepth,d=0;d<h;d++)l.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},g}();m.implement(u.prototype,c),r.PlaceHolder=u}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,r,s){var o=t("../lib/event"),c=t("../lib/useragent");function m(g,l){return g.row==l.row&&g.column==l.column}function u(g){var l=g.domEvent,h=l.altKey,d=l.shiftKey,f=l.ctrlKey,p=g.getAccelKey(),v=g.getButton();if(f&&c.isMac&&(v=l.button),g.editor.inMultiSelectMode&&v==2){g.editor.textInput.onContextMenu(g.domEvent);return}if(!f&&!h&&!p){v===0&&g.editor.inMultiSelectMode&&g.editor.exitMultiSelectMode();return}if(v===0){var y=g.editor,C=y.selection,k=y.inMultiSelectMode,F=g.getDocumentPosition(),O=C.getCursor(),L=g.inSelection()||C.isEmpty()&&m(F,O),E=g.x,_=g.y,I=function(U){E=U.clientX,_=U.clientY},M=y.session,$=y.renderer.pixelToScreenCoordinates(E,_),B=$,T;if(y.$mouseHandler.$enableJumpToDef)f&&h||p&&h?T=d?"block":"add":h&&y.$blockSelectEnabled&&(T="block");else if(p&&!h){if(T="add",!k&&d)return}else h&&y.$blockSelectEnabled&&(T="block");if(T&&c.isMac&&l.ctrlKey&&y.$mouseHandler.cancelContextMenu(),T=="add"){if(!k&&L)return;if(!k){var b=C.toOrientedRange();y.addSelectionMarker(b)}var P=C.rangeList.rangeAtPoint(F);y.inVirtualSelectionMode=!0,d&&(P=null,b=C.ranges[0]||b,y.removeSelectionMarker(b)),y.once("mouseup",function(){var U=C.toOrientedRange();P&&U.isEmpty()&&m(P.cursor,U.cursor)?C.substractPoint(U.cursor):(d?C.substractPoint(b.cursor):b&&(y.removeSelectionMarker(b),C.addRange(b)),C.addRange(U)),y.inVirtualSelectionMode=!1})}else if(T=="block"){g.stop(),y.inVirtualSelectionMode=!0;var N,z=[],q=function(){var U=y.renderer.pixelToScreenCoordinates(E,_),re=M.screenToDocumentPosition(U.row,U.column,U.offsetX);m(B,U)&&m(re,C.lead)||(B=U,y.selection.moveToPosition(re),y.renderer.scrollCursorIntoView(),y.removeSelectionMarkers(z),z=C.rectangularRangeBlock(B,$),y.$mouseHandler.$clickSelection&&z.length==1&&z[0].isEmpty()&&(z[0]=y.$mouseHandler.$clickSelection.clone()),z.forEach(y.addSelectionMarker,y),y.updateSelectionMarkers())};k&&!p?C.toSingleRange():!k&&p&&(N=C.toOrientedRange(),y.addSelectionMarker(N)),d?$=M.documentToScreenPosition(C.lead):C.moveToPosition(F),B={row:-1,column:-1};var K=function(U){q(),clearInterval(Q),y.removeSelectionMarkers(z),z.length||(z=[C.toOrientedRange()]),N&&(y.removeSelectionMarker(N),C.toSingleRange(N));for(var re=0;re<z.length;re++)C.addRange(z[re]);y.inVirtualSelectionMode=!1,y.$mouseHandler.$clickSelection=null},J=q;o.capture(y.container,I,K);var Q=setInterval(function(){J()},20);return g.preventDefault()}}}r.onMouseDown=u}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,r,s){r.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(c){c.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(c){c.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(c){c.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(c){c.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(c){c.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(c){c.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(c){c.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(c){c.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(c){c.multiSelect.rangeCount>1?c.multiSelect.joinSelections():c.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(c){c.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(c){c.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(c){c.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],r.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(c){c.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(c){return c&&c.inMultiSelectMode}}];var o=t("../keyboard/hash_handler").HashHandler;r.keyboardHandler=new o(r.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,r,s){var o=t("./range_list").RangeList,c=t("./range").Range,m=t("./selection").Selection,u=t("./mouse/multi_select_handler").onMouseDown,g=t("./lib/event"),l=t("./lib/lang"),h=t("./commands/multi_select_commands");r.commands=h.defaultCommands.concat(h.multiSelectCommands);var d=t("./search").Search,f=new d;function p(O,L,E){return f.$options.wrap=!0,f.$options.needle=L,f.$options.backwards=E==-1,f.find(O)}var v=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(v.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(O,L){if(O){if(!this.inMultiSelectMode&&this.rangeCount===0){var E=this.toOrientedRange();if(this.rangeList.add(E),this.rangeList.add(O),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),L||this.fromOrientedRange(O);this.rangeList.removeAll(),this.rangeList.add(E),this.$onAddRange(E)}O.cursor||(O.cursor=O.end);var _=this.rangeList.add(O);return this.$onAddRange(O),_.length&&this.$onRemoveRange(_),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),L||this.fromOrientedRange(O)}},this.toSingleRange=function(O){O=O||this.ranges[0];var L=this.rangeList.removeAll();L.length&&this.$onRemoveRange(L),O&&this.fromOrientedRange(O)},this.substractPoint=function(O){var L=this.rangeList.substractPoint(O);if(L)return this.$onRemoveRange(L),L[0]},this.mergeOverlappingRanges=function(){var O=this.rangeList.merge();O.length&&this.$onRemoveRange(O)},this.$onAddRange=function(O){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(O),this._signal("addRange",{range:O})},this.$onRemoveRange=function(O){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var L=this.rangeList.ranges.pop();O.push(L),this.rangeCount=0}for(var E=O.length;E--;){var _=this.ranges.indexOf(O[E]);this.ranges.splice(_,1)}this._signal("removeRange",{ranges:O}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),L=L||this.ranges[0],L&&!L.isEqual(this.getRange())&&this.fromOrientedRange(L)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var O=this.ranges.length?this.ranges:[this.getRange()],L=[],E=0;E<O.length;E++){var _=O[E],I=_.start.row,M=_.end.row;if(I===M)L.push(_.clone());else{for(L.push(new c(I,_.start.column,I,this.session.getLine(I).length));++I<M;)L.push(this.getLineRange(I,!0));L.push(new c(M,0,M,_.end.column))}E==0&&!this.isBackwards()&&(L=L.reverse())}this.toSingleRange();for(var E=L.length;E--;)this.addRange(L[E])},this.joinSelections=function(){var O=this.rangeList.ranges,L=O[O.length-1],E=c.fromPoints(O[0].start,L.end);this.toSingleRange(),this.setSelectionRange(E,L.cursor==L.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var O=this.rangeList.ranges,L=O[O.length-1],E=c.fromPoints(O[0].start,L.end);this.toSingleRange(),this.setSelectionRange(E,L.cursor==L.start)}else{var _=this.session.documentToScreenPosition(this.cursor),I=this.session.documentToScreenPosition(this.anchor),M=this.rectangularRangeBlock(_,I);M.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(O,L,E){var _=[],I=O.column<L.column;if(I)var M=O.column,$=L.column,B=O.offsetX,T=L.offsetX;else var M=L.column,$=O.column,B=L.offsetX,T=O.offsetX;var b=O.row<L.row;if(b)var P=O.row,N=L.row;else var P=L.row,N=O.row;M<0&&(M=0),P<0&&(P=0),P==N&&(E=!0);for(var z,q=P;q<=N;q++){var K=c.fromPoints(this.session.screenToDocumentPosition(q,M,B),this.session.screenToDocumentPosition(q,$,T));if(K.isEmpty()){if(z&&C(K.end,z))break;z=K.end}K.cursor=I?K.start:K.end,_.push(K)}if(b&&_.reverse(),!E){for(var J=_.length-1;_[J].isEmpty()&&J>0;)J--;if(J>0)for(var Q=0;_[Q].isEmpty();)Q++;for(var U=J;U>=Q;U--)_[U].isEmpty()&&_.splice(U,1)}return _}}).call(m.prototype);var y=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(O){O.cursor||(O.cursor=O.end);var L=this.getSelectionStyle();return O.marker=this.session.addMarker(O,"ace_selection",L),this.session.$selectionMarkers.push(O),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,O},this.removeSelectionMarker=function(O){if(O.marker){this.session.removeMarker(O.marker);var L=this.session.$selectionMarkers.indexOf(O);L!=-1&&this.session.$selectionMarkers.splice(L,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(O){for(var L=this.session.$selectionMarkers,E=O.length;E--;){var _=O[E];if(_.marker){this.session.removeMarker(_.marker);var I=L.indexOf(_);I!=-1&&L.splice(I,1)}}this.session.selectionMarkerCount=L.length},this.$onAddRange=function(O){this.addSelectionMarker(O.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(O){this.removeSelectionMarkers(O.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(O){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(O){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(O){var L=O.command,E=O.editor;if(E.multiSelect){if(L.multiSelectAction)L.multiSelectAction=="forEach"?_=E.forEachSelection(L,O.args):L.multiSelectAction=="forEachLine"?_=E.forEachSelection(L,O.args,!0):L.multiSelectAction=="single"?(E.exitMultiSelectMode(),_=L.exec(E,O.args||{})):_=L.multiSelectAction(E,O.args||{});else{var _=L.exec(E,O.args||{});E.multiSelect.addRange(E.multiSelect.toOrientedRange()),E.multiSelect.mergeOverlappingRanges()}return _}},this.forEachSelection=function(O,L,E){if(!this.inVirtualSelectionMode){var _=E&&E.keepOrder,I=E==!0||E&&E.$byLines,M=this.session,$=this.selection,B=$.rangeList,T=(_?$:B).ranges,b;if(!T.length)return O.exec?O.exec(this,L||{}):O(this,L||{});var P=$._eventRegistry;$._eventRegistry={};var N=new m(M);this.inVirtualSelectionMode=!0;for(var z=T.length;z--;){if(I)for(;z>0&&T[z].start.row==T[z-1].end.row;)z--;N.fromOrientedRange(T[z]),N.index=z,this.selection=M.selection=N;var q=O.exec?O.exec(this,L||{}):O(this,L||{});!b&&q!==void 0&&(b=q),N.toOrientedRange(T[z])}N.detach(),this.selection=M.selection=$,this.inVirtualSelectionMode=!1,$._eventRegistry=P,$.mergeOverlappingRanges(),$.ranges[0]&&$.fromOrientedRange($.ranges[0]);var K=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),K&&K.from==K.to&&this.renderer.animateScrolling(K.from),b}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var O="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var L=this.multiSelect.rangeList.ranges,E=[],_=0;_<L.length;_++)E.push(this.session.getTextRange(L[_]));var I=this.session.getDocument().getNewLineCharacter();O=E.join(I),O.length==(E.length-1)*I.length&&(O="")}else this.selection.isEmpty()||(O=this.session.getTextRange(this.getSelectionRange()));return O},this.$checkMultiselectChange=function(O,L){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var E=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&L==this.multiSelect.anchor)return;var _=L==this.multiSelect.anchor?E.cursor==E.start?E.end:E.start:E.cursor;_.row!=L.row||this.session.$clipPositionToDocument(_.row,_.column).column!=L.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(O,L,E){if(L=L||{},L.needle=O||L.needle,L.needle==null){var _=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();L.needle=this.session.getTextRange(_)}this.$search.set(L);var I=this.$search.findAll(this.session);if(!I.length)return 0;var M=this.multiSelect;E||M.toSingleRange(I[0]);for(var $=I.length;$--;)M.addRange(I[$],!0);return _&&M.rangeList.rangeAtPoint(_.start)&&M.addRange(_,!0),I.length},this.selectMoreLines=function(O,L){var E=this.selection.toOrientedRange(),_=E.cursor==E.end,I=this.session.documentToScreenPosition(E.cursor);this.selection.$desiredColumn&&(I.column=this.selection.$desiredColumn);var M=this.session.screenToDocumentPosition(I.row+O,I.column);if(E.isEmpty())var B=M;else var $=this.session.documentToScreenPosition(_?E.end:E.start),B=this.session.screenToDocumentPosition($.row+O,$.column);if(_){var T=c.fromPoints(M,B);T.cursor=T.start}else{var T=c.fromPoints(B,M);T.cursor=T.end}if(T.desiredColumn=I.column,!this.selection.inMultiSelectMode)this.selection.addRange(E);else if(L)var b=E.cursor;this.selection.addRange(T),b&&this.selection.substractPoint(b)},this.transposeSelections=function(O){for(var L=this.session,E=L.multiSelect,_=E.ranges,I=_.length;I--;){var M=_[I];if(M.isEmpty()){var $=L.getWordRange(M.start.row,M.start.column);M.start.row=$.start.row,M.start.column=$.start.column,M.end.row=$.end.row,M.end.column=$.end.column}}E.mergeOverlappingRanges();for(var B=[],I=_.length;I--;){var M=_[I];B.unshift(L.getTextRange(M))}O<0?B.unshift(B.pop()):B.push(B.shift());for(var I=_.length;I--;){var M=_[I],T=M.clone();L.replace(M,B[I]),M.start.row=T.start.row,M.start.column=T.start.column}E.fromOrientedRange(E.ranges[0])},this.selectMore=function(O,L,E){var _=this.session,I=_.multiSelect,M=I.toOrientedRange();if(!(M.isEmpty()&&(M=_.getWordRange(M.start.row,M.start.column),M.cursor=O==-1?M.start:M.end,this.multiSelect.addRange(M),E))){var $=_.getTextRange(M),B=p(_,$,O);B&&(B.cursor=O==-1?B.start:B.end,this.session.unfold(B),this.multiSelect.addRange(B),this.renderer.scrollCursorIntoView(null,.5)),L&&this.multiSelect.substractPoint(M.cursor)}},this.alignCursors=function(){var O=this.session,L=O.multiSelect,E=L.ranges,_=-1,I=E.filter(function(J){if(J.cursor.row==_)return!0;_=J.cursor.row});if(!E.length||I.length==E.length-1){var M=this.selection.getRange(),$=M.start.row,B=M.end.row,T=$==B;if(T){var b=this.session.getLength(),P;do P=this.session.getLine(B);while(/[=:]/.test(P)&&++B<b);do P=this.session.getLine($);while(/[=:]/.test(P)&&--$>0);$<0&&($=0),B>=b&&(B=b-1)}var N=this.session.removeFullLines($,B);N=this.$reAlignText(N,T),this.session.insert({row:$,column:0},N.join(`
`)+`
`),T||(M.start.column=0,M.end.column=N[N.length-1].length),this.selection.setRange(M)}else{I.forEach(function(J){L.substractPoint(J.cursor)});var z=0,q=1/0,K=E.map(function(J){var Q=J.cursor,U=O.getLine(Q.row),re=U.substr(Q.column).search(/\S/g);return re==-1&&(re=0),Q.column>z&&(z=Q.column),re<q&&(q=re),re});E.forEach(function(J,Q){var U=J.cursor,re=z-U.column,Z=K[Q]-q;re>Z?O.insert(U,l.stringRepeat(" ",re-Z)):O.remove(new c(U.row,U.column,U.row,U.column-re+Z)),J.start.column=J.end.column=z,J.start.row=J.end.row=U.row,J.cursor=J.end}),L.fromOrientedRange(E[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(O,L){var E=!0,_=!0,I,M,$;return O.map(function(N){var z=N.match(/(\s*)(.*?)(\s*)([=:].*)/);return z?I==null?(I=z[1].length,M=z[2].length,$=z[3].length,z):(I+M+$!=z[1].length+z[2].length+z[3].length&&(_=!1),I!=z[1].length&&(E=!1),I>z[1].length&&(I=z[1].length),M<z[2].length&&(M=z[2].length),$>z[3].length&&($=z[3].length),z):[N]}).map(L?T:E?_?b:T:P);function B(N){return l.stringRepeat(" ",N)}function T(N){return N[2]?B(I)+N[2]+B(M-N[2].length+$)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}function b(N){return N[2]?B(I+M-N[2].length)+N[2]+B($)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}function P(N){return N[2]?B(I)+N[2]+B($)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}}}).call(y.prototype);function C(O,L){return O.row==L.row&&O.column==L.column}r.onSessionChange=function(O){var L=O.session;L&&!L.multiSelect&&(L.$selectionMarkers=[],L.selection.$initRangeList(),L.multiSelect=L.selection),this.multiSelect=L&&L.multiSelect;var E=O.oldSession;E&&(E.multiSelect.off("addRange",this.$onAddRange),E.multiSelect.off("removeRange",this.$onRemoveRange),E.multiSelect.off("multiSelect",this.$onMultiSelect),E.multiSelect.off("singleSelect",this.$onSingleSelect),E.multiSelect.lead.off("change",this.$checkMultiselectChange),E.multiSelect.anchor.off("change",this.$checkMultiselectChange)),L&&(L.multiSelect.on("addRange",this.$onAddRange),L.multiSelect.on("removeRange",this.$onRemoveRange),L.multiSelect.on("multiSelect",this.$onMultiSelect),L.multiSelect.on("singleSelect",this.$onSingleSelect),L.multiSelect.lead.on("change",this.$checkMultiselectChange),L.multiSelect.anchor.on("change",this.$checkMultiselectChange)),L&&this.inMultiSelectMode!=L.selection.inMultiSelectMode&&(L.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function k(O){O.$multiselectOnSessionChange||(O.$onAddRange=O.$onAddRange.bind(O),O.$onRemoveRange=O.$onRemoveRange.bind(O),O.$onMultiSelect=O.$onMultiSelect.bind(O),O.$onSingleSelect=O.$onSingleSelect.bind(O),O.$multiselectOnSessionChange=r.onSessionChange.bind(O),O.$checkMultiselectChange=O.$checkMultiselectChange.bind(O),O.$multiselectOnSessionChange(O),O.on("changeSession",O.$multiselectOnSessionChange),O.on("mousedown",u),O.commands.addCommands(h.defaultCommands),F(O))}function F(O){if(!O.textInput)return;var L=O.textInput.getElement(),E=!1;g.addListener(L,"keydown",function(I){var M=I.keyCode==18&&!(I.ctrlKey||I.shiftKey||I.metaKey);O.$blockSelectEnabled&&M?E||(O.renderer.setMouseCursor("crosshair"),E=!0):E&&_()},O),g.addListener(L,"keyup",_,O),g.addListener(L,"blur",_,O);function _(I){E&&(O.renderer.setMouseCursor(""),E=!1)}}r.MultiSelect=k,t("./config").defineOptions(y.prototype,"editor",{enableMultiselect:{set:function(O){k(this),O?this.on("mousedown",u):this.off("mousedown",u)},value:!0},enableBlockSelect:{set:function(O){this.$blockSelectEnabled=O},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,r,s){var o=t("../../range").Range,c=r.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(m,u,g){var l=m.getLine(g);return this.foldingStartMarker.test(l)?"start":u=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(l)?"end":""},this.getFoldWidgetRange=function(m,u,g){return null},this.indentationBlock=function(m,u,g){var l=/\S/,h=m.getLine(u),d=h.search(l);if(d!=-1){for(var f=g||h.length,p=m.getLength(),v=u,y=u;++u<p;){var C=m.getLine(u).search(l);if(C!=-1){if(C<=d){var k=m.getTokenAt(u,0);if(!k||k.type!=="string")break}y=u}}if(y>v){var F=m.getLine(y).length;return new o(v,f,y,F)}}},this.openingBracketBlock=function(m,u,g,l,h){var d={row:g,column:l+1},f=m.$findClosingBracket(u,d,h);if(f){var p=m.foldWidgets[f.row];return p==null&&(p=m.getFoldWidget(f.row)),p=="start"&&f.row>d.row&&(f.row--,f.column=m.getLine(f.row).length),o.fromPoints(d,f)}},this.closingBracketBlock=function(m,u,g,l,h){var d={row:g,column:l},f=m.$findOpeningBracket(u,d);if(f)return f.column++,d.column--,o.fromPoints(f,d)}}).call(c.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(t,r,s){var o=t("../lib/dom"),c=t("../range").Range,m=t("../config").nls;function u(l,h,d){for(var f=0,p=l.length-1;f<=p;){var v=f+p>>1,y=d(h,l[v]);if(y>0)f=v+1;else if(y<0)p=v-1;else return v}return-(f+1)}function g(l,h,d){var f=l.getAnnotations().sort(c.comparePoints);if(f.length){var p=u(f,{row:h,column:-1},c.comparePoints);p<0&&(p=-p-1),p>=f.length?p=d>0?0:f.length-1:p===0&&d<0&&(p=f.length-1);var v=f[p];if(!(!v||!d)){if(v.row===h){do v=f[p+=d];while(v&&v.row===h);if(!v)return f.slice()}var y=[];h=v.row;do y[d<0?"unshift":"push"](v),v=f[p+=d];while(v&&v.row==h);return y.length&&y}}}r.showErrorMarker=function(l,h){var d=l.session,f=l.getCursorPosition(),p=f.row,v=d.widgetManager.getWidgetsAtRow(p).filter(function(I){return I.type=="errorMarker"})[0];v?v.destroy():p-=h;var y=g(d,p,h),C;if(y){var k=y[0];f.column=(k.pos&&typeof k.column!="number"?k.pos.sc:k.column)||0,f.row=k.row,C=l.renderer.$gutterLayer.$annotations[f.row]}else{if(v)return;C={displayText:[m("error-marker.good-state","Looks good!")],className:"ace_ok"}}l.session.unfold(f.row),l.selection.moveToPosition(f);var F={row:f.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},O=F.el.appendChild(o.createElement("div")),L=F.el.appendChild(o.createElement("div"));L.className="error_widget_arrow "+C.className;var E=l.renderer.$cursorLayer.getPixelPosition(f).left;L.style.left=E+l.renderer.gutterWidth-5+"px",F.el.className="error_widget_wrapper",O.className="error_widget "+C.className,C.displayText.forEach(function(I,M){O.appendChild(o.createTextNode(I)),M<C.displayText.length-1&&O.appendChild(o.createElement("br"))}),O.appendChild(o.createElement("div"));var _=function(I,M,$){if(M===0&&($==="esc"||$==="return"))return F.destroy(),{command:"null"}};F.destroy=function(){l.$mouseHandler.isMousePressed||(l.keyBinding.removeKeyboardHandler(_),d.widgetManager.removeLineWidget(F),l.off("changeSelection",F.destroy),l.off("changeSession",F.destroy),l.off("mouseup",F.destroy),l.off("change",F.destroy))},l.keyBinding.addKeyboardHandler(_),l.on("changeSelection",F.destroy),l.on("changeSession",F.destroy),l.on("mouseup",F.destroy),l.on("change",F.destroy),l.session.widgetManager.addLineWidget(F),F.el.onmousedown=l.focus.bind(l),l.renderer.scrollCursorIntoView(null,.5,{bottom:F.el.offsetHeight})},o.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(t,r,s){t("./loader_build")(r);var o=t("./lib/dom"),c=t("./range").Range,m=t("./editor").Editor,u=t("./edit_session").EditSession,g=t("./undomanager").UndoManager,l=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),r.config=t("./config"),r.edit=function(d,f){if(typeof d=="string"){var p=d;if(d=document.getElementById(p),!d)throw new Error("ace.edit can't find div #"+p)}if(d&&d.env&&d.env.editor instanceof m)return d.env.editor;var v="";if(d&&/input|textarea/i.test(d.tagName)){var y=d;v=y.value,d=o.createElement("pre"),y.parentNode.replaceChild(d,y)}else d&&(v=d.textContent,d.innerHTML="");var C=r.createEditSession(v),k=new m(new l(d),C,f),F={document:C,editor:k,onResize:k.resize.bind(k,null)};return y&&(F.textarea=y),k.on("destroy",function(){F.editor.container.env=null}),k.container.env=k.env=F,k},r.createEditSession=function(d,f){var p=new u(d,f);return p.setUndoManager(new g),p},r.Range=c,r.Editor=m,r.EditSession=u,r.UndoManager=g,r.VirtualRenderer=l;var h=r.config.version;r.version=h}),function(){ace.require(["ace/ace"],function(t){t&&(t.config.init(!0),t.define=ace.define);var r=function(){return this}();!r&&typeof window<"u"&&(r=window),!r&&typeof self<"u"&&(r=self),r.ace||(r.ace=t);for(var s in t)t.hasOwnProperty(s)&&(r.ace[s]=t[s]);r.ace.default=r.ace,n.exports=r.ace})}()}(Mg)),Mg.exports}var cu={exports:{}};cu.exports;var Jb;function CC(){return Jb||(Jb=1,function(n,e){var t=200,r="__lodash_hash_undefined__",s=1,o=2,c=9007199254740991,m="[object Arguments]",u="[object Array]",g="[object AsyncFunction]",l="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",v="[object Map]",y="[object Number]",C="[object Null]",k="[object Object]",F="[object Promise]",O="[object Proxy]",L="[object RegExp]",E="[object Set]",_="[object String]",I="[object Symbol]",M="[object Undefined]",$="[object WeakMap]",B="[object ArrayBuffer]",T="[object DataView]",b="[object Float32Array]",P="[object Float64Array]",N="[object Int8Array]",z="[object Int16Array]",q="[object Int32Array]",K="[object Uint8Array]",J="[object Uint8ClampedArray]",Q="[object Uint16Array]",U="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,Z=/^\[object .+?Constructor\]$/,ue=/^(?:0|[1-9]\d*)$/,ce={};ce[b]=ce[P]=ce[N]=ce[z]=ce[q]=ce[K]=ce[J]=ce[Q]=ce[U]=!0,ce[m]=ce[u]=ce[B]=ce[l]=ce[T]=ce[h]=ce[d]=ce[f]=ce[v]=ce[y]=ce[k]=ce[L]=ce[E]=ce[_]=ce[$]=!1;var oe=typeof Bo=="object"&&Bo&&Bo.Object===Object&&Bo,pe=typeof self=="object"&&self&&self.Object===Object&&self,Ee=oe||pe||Function("return this")(),me=e&&!e.nodeType&&e,Ae=me&&!0&&n&&!n.nodeType&&n,$e=Ae&&Ae.exports===me,Qe=$e&&oe.process,ut=function(){try{return Qe&&Qe.binding&&Qe.binding("util")}catch{}}(),qe=ut&&ut.isTypedArray;function Ge(ae,we){for(var Le=-1,Ye=ae==null?0:ae.length,Wt=0,pt=[];++Le<Ye;){var qt=ae[Le];we(qt,Le,ae)&&(pt[Wt++]=qt)}return pt}function yt(ae,we){for(var Le=-1,Ye=we.length,Wt=ae.length;++Le<Ye;)ae[Wt+Le]=we[Le];return ae}function Ot(ae,we){for(var Le=-1,Ye=ae==null?0:ae.length;++Le<Ye;)if(we(ae[Le],Le,ae))return!0;return!1}function Ht(ae,we){for(var Le=-1,Ye=Array(ae);++Le<ae;)Ye[Le]=we(Le);return Ye}function pn(ae){return function(we){return ae(we)}}function Nt(ae,we){return ae.has(we)}function wn(ae,we){return ae==null?void 0:ae[we]}function Wn(ae){var we=-1,Le=Array(ae.size);return ae.forEach(function(Ye,Wt){Le[++we]=[Wt,Ye]}),Le}function Pn(ae,we){return function(Le){return ae(we(Le))}}function bn(ae){var we=-1,Le=Array(ae.size);return ae.forEach(function(Ye){Le[++we]=Ye}),Le}var ur=Array.prototype,be=Function.prototype,ze=Object.prototype,Ke=Ee["__core-js_shared__"],ft=be.toString,lt=ze.hasOwnProperty,kt=function(){var ae=/[^.]+$/.exec(Ke&&Ke.keys&&Ke.keys.IE_PROTO||"");return ae?"Symbol(src)_1."+ae:""}(),Lt=ze.toString,Ft=RegExp("^"+ft.call(lt).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t=$e?Ee.Buffer:void 0,_t=Ee.Symbol,ln=Ee.Uint8Array,Ce=ze.propertyIsEnumerable,De=ur.splice,Ze=_t?_t.toStringTag:void 0,Rt=Object.getOwnPropertySymbols,An=$t?$t.isBuffer:void 0,On=Pn(Object.keys,Object),Lr=rr(Ee,"DataView"),Gn=rr(Ee,"Map"),Ai=rr(Ee,"Promise"),li=rr(Ee,"Set"),Vi=rr(Ee,"WeakMap"),_r=rr(Object,"create"),so=kn(Lr),hn=kn(Gn),Eo=kn(Ai),Yr=kn(li),Bi=kn(Vi),Kn=_t?_t.prototype:void 0,hr=Kn?Kn.valueOf:void 0;function sn(ae){var we=-1,Le=ae==null?0:ae.length;for(this.clear();++we<Le;){var Ye=ae[we];this.set(Ye[0],Ye[1])}}function Xo(){this.__data__=_r?_r(null):{},this.size=0}function Ca(ae){var we=this.has(ae)&&delete this.__data__[ae];return this.size-=we?1:0,we}function ao(ae){var we=this.__data__;if(_r){var Le=we[ae];return Le===r?void 0:Le}return lt.call(we,ae)?we[ae]:void 0}function Xr(ae){var we=this.__data__;return _r?we[ae]!==void 0:lt.call(we,ae)}function st(ae,we){var Le=this.__data__;return this.size+=this.has(ae)?0:1,Le[ae]=_r&&we===void 0?r:we,this}sn.prototype.clear=Xo,sn.prototype.delete=Ca,sn.prototype.get=ao,sn.prototype.has=Xr,sn.prototype.set=st;function qn(ae){var we=-1,Le=ae==null?0:ae.length;for(this.clear();++we<Le;){var Ye=ae[we];this.set(Ye[0],Ye[1])}}function $r(){this.__data__=[],this.size=0}function xs(ae){var we=this.__data__,Le=co(we,ae);if(Le<0)return!1;var Ye=we.length-1;return Le==Ye?we.pop():De.call(we,Le,1),--this.size,!0}function Zo(ae){var we=this.__data__,Le=co(we,ae);return Le<0?void 0:we[Le][1]}function ci(ae){return co(this.__data__,ae)>-1}function zi(ae,we){var Le=this.__data__,Ye=co(Le,ae);return Ye<0?(++this.size,Le.push([ae,we])):Le[Ye][1]=we,this}qn.prototype.clear=$r,qn.prototype.delete=xs,qn.prototype.get=Zo,qn.prototype.has=ci,qn.prototype.set=zi;function Zr(ae){var we=-1,Le=ae==null?0:ae.length;for(this.clear();++we<Le;){var Ye=ae[we];this.set(Ye[0],Ye[1])}}function As(){this.size=0,this.__data__={hash:new sn,map:new(Gn||qn),string:new sn}}function xa(ae){var we=It(this,ae).delete(ae);return this.size-=we?1:0,we}function en(ae){return It(this,ae).get(ae)}function ks(ae){return It(this,ae).has(ae)}function ji(ae,we){var Le=It(this,ae),Ye=Le.size;return Le.set(ae,we),this.size+=Le.size==Ye?0:1,this}Zr.prototype.clear=As,Zr.prototype.delete=xa,Zr.prototype.get=en,Zr.prototype.has=ks,Zr.prototype.set=ji;function Pr(ae){var we=-1,Le=ae==null?0:ae.length;for(this.__data__=new Zr;++we<Le;)this.add(ae[we])}function er(ae){return this.__data__.set(ae,r),this}function So(ae){return this.__data__.has(ae)}Pr.prototype.add=Pr.prototype.push=er,Pr.prototype.has=So;function Er(ae){var we=this.__data__=new qn(ae);this.size=we.size}function Ui(){this.__data__=new qn,this.size=0}function Sr(ae){var we=this.__data__,Le=we.delete(ae);return this.size=we.size,Le}function To(ae){return this.__data__.get(ae)}function tr(ae){return this.__data__.has(ae)}function lo(ae,we){var Le=this.__data__;if(Le instanceof qn){var Ye=Le.__data__;if(!Gn||Ye.length<t-1)return Ye.push([ae,we]),this.size=++Le.size,this;Le=this.__data__=new Zr(Ye)}return Le.set(ae,we),this.size=Le.size,this}Er.prototype.clear=Ui,Er.prototype.delete=Sr,Er.prototype.get=To,Er.prototype.has=tr,Er.prototype.set=lo;function Is(ae,we){var Le=ir(ae),Ye=!Le&&Ri(ae),Wt=!Le&&!Ye&&Jo(ae),pt=!Le&&!Ye&&!Wt&&Hi(ae),qt=Le||Ye||Wt||pt,gn=qt?Ht(ae.length,String):[],Qt=gn.length;for(var Pt in ae)lt.call(ae,Pt)&&!(qt&&(Pt=="length"||Wt&&(Pt=="offset"||Pt=="parent")||pt&&(Pt=="buffer"||Pt=="byteLength"||Pt=="byteOffset")||Ms(Pt,Qt)))&&gn.push(Pt);return gn}function co(ae,we){for(var Le=ae.length;Le--;)if(Nr(ae[Le][0],we))return Le;return-1}function Co(ae,we,Le){var Ye=we(ae);return ir(ae)?Ye:yt(Ye,Le(ae))}function ui(ae){return ae==null?ae===void 0?M:C:Ze&&Ze in Object(ae)?Rs(ae):Vn(ae)}function ki(ae){return fr(ae)&&ui(ae)==m}function Ii(ae,we,Le,Ye,Wt){return ae===we?!0:ae==null||we==null||!fr(ae)&&!fr(we)?ae!==ae&&we!==we:xo(ae,we,Le,Ye,Ii,Wt)}function xo(ae,we,Le,Ye,Wt,pt){var qt=ir(ae),gn=ir(we),Qt=qt?u:Dr(ae),Pt=gn?u:Dr(we);Qt=Qt==m?k:Qt,Pt=Pt==m?k:Pt;var rn=Qt==k,or=Pt==k,_n=Qt==Pt;if(_n&&Jo(ae)){if(!Jo(we))return!1;qt=!0,rn=!1}if(_n&&!rn)return pt||(pt=new Er),qt||Hi(ae)?Qn(ae,we,Le,Ye,Wt,pt):Or(ae,we,Qt,Le,Ye,Wt,pt);if(!(Le&s)){var mn=rn&&lt.call(ae,"__wrapped__"),Bn=or&&lt.call(we,"__wrapped__");if(mn||Bn){var Mt=mn?ae.value():ae,In=Bn?we.value():we;return pt||(pt=new Er),Wt(Mt,In,Le,Ye,pt)}}return _n?(pt||(pt=new Er),tn(ae,we,Le,Ye,Wt,pt)):!1}function dr(ae){if(!Io(ae)||ko(ae))return!1;var we=Yn(ae)?Ft:Z;return we.test(kn(ae))}function nr(ae){return fr(ae)&&$s(ae.length)&&!!ce[ui(ae)]}function hi(ae){if(!Jr(ae))return On(ae);var we=[];for(var Le in Object(ae))lt.call(ae,Le)&&Le!="constructor"&&we.push(Le);return we}function Qn(ae,we,Le,Ye,Wt,pt){var qt=Le&s,gn=ae.length,Qt=we.length;if(gn!=Qt&&!(qt&&Qt>gn))return!1;var Pt=pt.get(ae);if(Pt&&pt.get(we))return Pt==we;var rn=-1,or=!0,_n=Le&o?new Pr:void 0;for(pt.set(ae,we),pt.set(we,ae);++rn<gn;){var mn=ae[rn],Bn=we[rn];if(Ye)var Mt=qt?Ye(Bn,mn,rn,we,ae,pt):Ye(mn,Bn,rn,ae,we,pt);if(Mt!==void 0){if(Mt)continue;or=!1;break}if(_n){if(!Ot(we,function(In,Fr){if(!Nt(_n,Fr)&&(mn===In||Wt(mn,In,Le,Ye,pt)))return _n.push(Fr)})){or=!1;break}}else if(!(mn===Bn||Wt(mn,Bn,Le,Ye,pt))){or=!1;break}}return pt.delete(ae),pt.delete(we),or}function Or(ae,we,Le,Ye,Wt,pt,qt){switch(Le){case T:if(ae.byteLength!=we.byteLength||ae.byteOffset!=we.byteOffset)return!1;ae=ae.buffer,we=we.buffer;case B:return!(ae.byteLength!=we.byteLength||!pt(new ln(ae),new ln(we)));case l:case h:case y:return Nr(+ae,+we);case d:return ae.name==we.name&&ae.message==we.message;case L:case _:return ae==we+"";case v:var gn=Wn;case E:var Qt=Ye&s;if(gn||(gn=bn),ae.size!=we.size&&!Qt)return!1;var Pt=qt.get(ae);if(Pt)return Pt==we;Ye|=o,qt.set(ae,we);var rn=Qn(gn(ae),gn(we),Ye,Wt,pt,qt);return qt.delete(ae),rn;case I:if(hr)return hr.call(ae)==hr.call(we)}return!1}function tn(ae,we,Le,Ye,Wt,pt){var qt=Le&s,gn=di(ae),Qt=gn.length,Pt=di(we),rn=Pt.length;if(Qt!=rn&&!qt)return!1;for(var or=Qt;or--;){var _n=gn[or];if(!(qt?_n in we:lt.call(we,_n)))return!1}var mn=pt.get(ae);if(mn&&pt.get(we))return mn==we;var Bn=!0;pt.set(ae,we),pt.set(we,ae);for(var Mt=qt;++or<Qt;){_n=gn[or];var In=ae[_n],Fr=we[_n];if(Ye)var ti=qt?Ye(Fr,In,_n,we,ae,pt):Ye(In,Fr,_n,ae,we,pt);if(!(ti===void 0?In===Fr||Wt(In,Fr,Le,Ye,pt):ti)){Bn=!1;break}Mt||(Mt=_n=="constructor")}if(Bn&&!Mt){var Ro=ae.constructor,Mi=we.constructor;Ro!=Mi&&"constructor"in ae&&"constructor"in we&&!(typeof Ro=="function"&&Ro instanceof Ro&&typeof Mi=="function"&&Mi instanceof Mi)&&(Bn=!1)}return pt.delete(ae),pt.delete(we),Bn}function di(ae){return Co(ae,Wi,Ao)}function It(ae,we){var Le=ae.__data__;return Ls(we)?Le[typeof we=="string"?"string":"hash"]:Le.map}function rr(ae,we){var Le=wn(ae,we);return dr(Le)?Le:void 0}function Rs(ae){var we=lt.call(ae,Ze),Le=ae[Ze];try{ae[Ze]=void 0;var Ye=!0}catch{}var Wt=Lt.call(ae);return Ye&&(we?ae[Ze]=Le:delete ae[Ze]),Wt}var Ao=Rt?function(ae){return ae==null?[]:(ae=Object(ae),Ge(Rt(ae),function(we){return Ce.call(ae,we)}))}:pr,Dr=ui;(Lr&&Dr(new Lr(new ArrayBuffer(1)))!=T||Gn&&Dr(new Gn)!=v||Ai&&Dr(Ai.resolve())!=F||li&&Dr(new li)!=E||Vi&&Dr(new Vi)!=$)&&(Dr=function(ae){var we=ui(ae),Le=we==k?ae.constructor:void 0,Ye=Le?kn(Le):"";if(Ye)switch(Ye){case so:return T;case hn:return v;case Eo:return F;case Yr:return E;case Bi:return $}return we});function Ms(ae,we){return we=we??c,!!we&&(typeof ae=="number"||ue.test(ae))&&ae>-1&&ae%1==0&&ae<we}function Ls(ae){var we=typeof ae;return we=="string"||we=="number"||we=="symbol"||we=="boolean"?ae!=="__proto__":ae===null}function ko(ae){return!!kt&&kt in ae}function Jr(ae){var we=ae&&ae.constructor,Le=typeof we=="function"&&we.prototype||ze;return ae===Le}function Vn(ae){return Lt.call(ae)}function kn(ae){if(ae!=null){try{return ft.call(ae)}catch{}try{return ae+""}catch{}}return""}function Nr(ae,we){return ae===we||ae!==ae&&we!==we}var Ri=ki(function(){return arguments}())?ki:function(ae){return fr(ae)&&lt.call(ae,"callee")&&!Ce.call(ae,"callee")},ir=Array.isArray;function Tr(ae){return ae!=null&&$s(ae.length)&&!Yn(ae)}var Jo=An||ei;function es(ae,we){return Ii(ae,we)}function Yn(ae){if(!Io(ae))return!1;var we=ui(ae);return we==f||we==p||we==g||we==O}function $s(ae){return typeof ae=="number"&&ae>-1&&ae%1==0&&ae<=c}function Io(ae){var we=typeof ae;return ae!=null&&(we=="object"||we=="function")}function fr(ae){return ae!=null&&typeof ae=="object"}var Hi=qe?pn(qe):nr;function Wi(ae){return Tr(ae)?Is(ae):hi(ae)}function pr(){return[]}function ei(){return!1}n.exports=es}(cu,cu.exports)),cu.exports}var wo={},e_;function xC(){if(e_)return wo;e_=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.getAceInstance=wo.debounce=wo.editorEvents=wo.editorOptions=void 0;var n=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];wo.editorOptions=n;var e=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];wo.editorEvents=e;var t=function(){var s;return typeof window>"u"?(Bo.window={},s=Ru(),delete Bo.window):window.ace?(s=window.ace,s.acequire=window.ace.require||window.ace.acequire):s=Ru(),s};wo.getAceInstance=t;var r=function(s,o){var c=null;return function(){var m=this,u=arguments;clearTimeout(c),c=setTimeout(function(){s.apply(m,u)},o)}};return wo.debounce=r,wo}var t_;function QN(){if(t_)return Fl;t_=1;var n=Fl.__extends||function(){var g=function(l,h){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(d[p]=f[p])},g(l,h)};return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");g(l,h);function d(){this.constructor=l}l.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}(),e=Fl.__assign||function(){return e=Object.assign||function(g){for(var l,h=1,d=arguments.length;h<d;h++){l=arguments[h];for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(g[f]=l[f])}return g},e.apply(this,arguments)};Object.defineProperty(Fl,"__esModule",{value:!0});var t=Ru(),r=Sf(),s=dc(),o=CC(),c=xC(),m=(0,c.getAceInstance)(),u=function(g){n(l,g);function l(h){var d=g.call(this,h)||this;return c.editorEvents.forEach(function(f){d[f]=d[f].bind(d)}),d.debounce=c.debounce,d}return l.prototype.isInShadow=function(h){for(var d=h&&h.parentNode;d;){if(d.toString()==="[object ShadowRoot]")return!0;d=d.parentNode}return!1},l.prototype.componentDidMount=function(){var h=this,d=this.props,f=d.className,p=d.onBeforeLoad,v=d.onValidate,y=d.mode,C=d.focus,k=d.theme,F=d.fontSize,O=d.lineHeight,L=d.value,E=d.defaultValue,_=d.showGutter,I=d.wrapEnabled,M=d.showPrintMargin,$=d.scrollMargin,B=$===void 0?[0,0,0,0]:$,T=d.keyboardHandler,b=d.onLoad,P=d.commands,N=d.annotations,z=d.markers,q=d.placeholder;this.editor=m.edit(this.refEditor),p&&p(m);for(var K=Object.keys(this.props.editorProps),J=0;J<K.length;J++)this.editor[K[J]]=this.props.editorProps[K[J]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(B[0],B[1],B[2],B[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof y=="string"?"ace/mode/".concat(y):y),k&&k!==""&&this.editor.setTheme("ace/theme/".concat(k)),this.editor.setFontSize(typeof F=="number"?"".concat(F,"px"):F),O&&(this.editor.container.style.lineHeight=typeof O=="number"?"".concat(O,"px"):"".concat(O),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(E||L||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(_),this.editor.getSession().setUseWrapMode(I),this.editor.setShowPrintMargin(M),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),q&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),v&&this.editor.getSession().on("changeAnnotation",function(){var U=h.editor.getSession().getAnnotations();h.props.onValidate(U)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(N||[]),z&&z.length>0&&this.handleMarkers(z);var Q=this.editor.$options;c.editorOptions.forEach(function(U){Q.hasOwnProperty(U)?h.editor.setOption(U,h.props[U]):h.props[U]&&console.warn("ReactAce: editor option ".concat(U," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(P)&&P.forEach(function(U){typeof U.exec=="string"?h.editor.commands.bindKey(U.bindKey,U.exec):h.editor.commands.addCommand(U)}),T&&this.editor.setKeyboardHandler("ace/keyboard/"+T),f&&(this.refEditor.className+=" "+f),b&&b(this.editor),this.editor.resize(),C&&this.editor.focus()},l.prototype.componentDidUpdate=function(h){for(var d=h,f=this.props,p=0;p<c.editorOptions.length;p++){var v=c.editorOptions[p];f[v]!==d[v]&&this.editor.setOption(v,f[v])}if(f.className!==d.className){var y=this.refEditor.className,C=y.trim().split(" "),k=d.className.trim().split(" ");k.forEach(function(L){var E=C.indexOf(L);C.splice(E,1)}),this.refEditor.className=" "+f.className+" "+C.join(" ")}var F=this.editor&&f.value!=null&&this.editor.getValue()!==f.value;if(F){this.silent=!0;var O=this.editor.session.selection.toJSON();this.editor.setValue(f.value,f.cursorStart),this.editor.session.selection.fromJSON(O),this.silent=!1}f.placeholder!==d.placeholder&&this.updatePlaceholder(),f.mode!==d.mode&&this.editor.getSession().setMode(typeof f.mode=="string"?"ace/mode/".concat(f.mode):f.mode),f.theme!==d.theme&&this.editor.setTheme("ace/theme/"+f.theme),f.keyboardHandler!==d.keyboardHandler&&(f.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+f.keyboardHandler):this.editor.setKeyboardHandler(null)),f.fontSize!==d.fontSize&&this.editor.setFontSize(typeof f.fontSize=="number"?"".concat(f.fontSize,"px"):f.fontSize),f.lineHeight!==d.lineHeight&&(this.editor.container.style.lineHeight=typeof f.lineHeight=="number"?"".concat(f.lineHeight,"px"):f.lineHeight,this.editor.renderer.updateFontSize()),f.wrapEnabled!==d.wrapEnabled&&this.editor.getSession().setUseWrapMode(f.wrapEnabled),f.showPrintMargin!==d.showPrintMargin&&this.editor.setShowPrintMargin(f.showPrintMargin),f.showGutter!==d.showGutter&&this.editor.renderer.setShowGutter(f.showGutter),o(f.setOptions,d.setOptions)||this.handleOptions(f),(F||!o(f.annotations,d.annotations))&&this.editor.getSession().setAnnotations(f.annotations||[]),!o(f.markers,d.markers)&&Array.isArray(f.markers)&&this.handleMarkers(f.markers),o(f.scrollMargin,d.scrollMargin)||this.handleScrollMargins(f.scrollMargin),(h.height!==this.props.height||h.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!h.focus&&this.editor.focus()},l.prototype.handleScrollMargins=function(h){h===void 0&&(h=[0,0,0,0]),this.editor.renderer.setScrollMargin(h[0],h[1],h[2],h[3])},l.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},l.prototype.onChange=function(h){if(this.editor&&this.props.onChange&&!this.silent){var d=this.editor.getValue();this.props.onChange(d,h)}},l.prototype.onSelectionChange=function(h){if(this.props.onSelectionChange){var d=this.editor.getSelection();this.props.onSelectionChange(d,h)}},l.prototype.onCursorChange=function(h){if(this.props.onCursorChange){var d=this.editor.getSelection();this.props.onCursorChange(d,h)}},l.prototype.onInput=function(h){this.props.onInput&&this.props.onInput(h),this.props.placeholder&&this.updatePlaceholder()},l.prototype.onFocus=function(h){this.props.onFocus&&this.props.onFocus(h,this.editor)},l.prototype.onBlur=function(h){this.props.onBlur&&this.props.onBlur(h,this.editor)},l.prototype.onCopy=function(h){var d=h.text;this.props.onCopy&&this.props.onCopy(d)},l.prototype.onPaste=function(h){var d=h.text;this.props.onPaste&&this.props.onPaste(d)},l.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},l.prototype.handleOptions=function(h){for(var d=Object.keys(h.setOptions),f=0;f<d.length;f++)this.editor.setOption(d[f],h.setOptions[d[f]])},l.prototype.handleMarkers=function(h){var d=this,f=this.editor.getSession().getMarkers(!0);for(var p in f)f.hasOwnProperty(p)&&this.editor.getSession().removeMarker(f[p].id);f=this.editor.getSession().getMarkers(!1);for(var p in f)f.hasOwnProperty(p)&&f[p].clazz!=="ace_active-line"&&f[p].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(f[p].id);h.forEach(function(v){var y=v.startRow,C=v.startCol,k=v.endRow,F=v.endCol,O=v.className,L=v.type,E=v.inFront,_=E===void 0?!1:E,I=new t.Range(y,C,k,F);d.editor.getSession().addMarker(I,O,L,_)})},l.prototype.updatePlaceholder=function(){var h=this.editor,d=this.props.placeholder,f=!h.session.getValue().length,p=h.renderer.placeholderNode;!f&&p?(h.renderer.scroller.removeChild(h.renderer.placeholderNode),h.renderer.placeholderNode=null):f&&!p?(p=h.renderer.placeholderNode=document.createElement("div"),p.textContent=d||"",p.className="ace_comment ace_placeholder",p.style.padding="0 9px",p.style.position="absolute",p.style.zIndex="3",h.renderer.scroller.appendChild(p)):f&&p&&(p.textContent=d)},l.prototype.updateRef=function(h){this.refEditor=h},l.prototype.render=function(){var h=this.props,d=h.name,f=h.width,p=h.height,v=h.style,y=e({width:f,height:p},v);return s.createElement("div",{ref:this.updateRef,id:d,style:y})},l.propTypes={mode:r.oneOfType([r.string,r.object]),focus:r.bool,theme:r.string,name:r.string,className:r.string,height:r.string,width:r.string,fontSize:r.oneOfType([r.number,r.string]),lineHeight:r.oneOfType([r.number,r.string]),showGutter:r.bool,onChange:r.func,onCopy:r.func,onPaste:r.func,onFocus:r.func,onInput:r.func,onBlur:r.func,onScroll:r.func,value:r.string,defaultValue:r.string,onLoad:r.func,onSelectionChange:r.func,onCursorChange:r.func,onBeforeLoad:r.func,onValidate:r.func,minLines:r.number,maxLines:r.number,readOnly:r.bool,highlightActiveLine:r.bool,tabSize:r.number,showPrintMargin:r.bool,cursorStart:r.number,debounceChangePeriod:r.number,editorProps:r.object,setOptions:r.object,style:r.object,scrollMargin:r.array,annotations:r.array,markers:r.array,keyboardHandler:r.string,wrapEnabled:r.bool,enableSnippets:r.bool,enableBasicAutocompletion:r.oneOfType([r.bool,r.array]),enableLiveAutocompletion:r.oneOfType([r.bool,r.array]),navigateToFileEnd:r.bool,commands:r.array,placeholder:r.string},l.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},l}(s.Component);return Fl.default=u,Fl}var Xc={},Vl={},Lg={exports:{}},n_;function YN(){return n_||(n_=1,function(n,e){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(t,r,s){var o=t("./lib/oop");t("./lib/lang");var c=t("./lib/event_emitter").EventEmitter,m=t("./editor").Editor,u=t("./virtual_renderer").VirtualRenderer,g=t("./edit_session").EditSession,l;l=function(h,d,f){this.BELOW=1,this.BESIDE=0,this.$container=h,this.$theme=d,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(f||1),this.$cEditor=this.$editors[0],this.on("focus",(function(p){this.$cEditor=p}).bind(this))},(function(){o.implement(this,c),this.$createEditor=function(){var h=document.createElement("div");h.className=this.$editorCSS,h.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(h);var d=new m(new u(h,this.$theme));return d.on("focus",(function(){this._emit("focus",d)}).bind(this)),this.$editors.push(d),d.setFontSize(this.$fontSize),d},this.setSplits=function(h){var d;if(h<1)throw"The number of splits have to be > 0!";if(h!=this.$splits){if(h>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<h;)d=this.$editors[this.$splits],this.$container.appendChild(d.container),d.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<h;)this.$createEditor(),this.$splits++}else for(;this.$splits>h;)d=this.$editors[this.$splits-1],this.$container.removeChild(d.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(h){return this.$editors[h]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(h){this.$editors.forEach(function(d){d.setTheme(h)})},this.setKeyboardHandler=function(h){this.$editors.forEach(function(d){d.setKeyboardHandler(h)})},this.forEach=function(h,d){this.$editors.forEach(h,d)},this.$fontSize="",this.setFontSize=function(h){this.$fontSize=h,this.forEach(function(d){d.setFontSize(h)})},this.$cloneSession=function(h){var d=new g(h.getDocument(),h.getMode()),f=h.getUndoManager();return d.setUndoManager(f),d.setTabSize(h.getTabSize()),d.setUseSoftTabs(h.getUseSoftTabs()),d.setOverwrite(h.getOverwrite()),d.setBreakpoints(h.getBreakpoints()),d.setUseWrapMode(h.getUseWrapMode()),d.setUseWorker(h.getUseWorker()),d.setWrapLimitRange(h.$wrapLimitRange.min,h.$wrapLimitRange.max),d.$foldData=h.$cloneFoldData(),d},this.setSession=function(h,d){var f;d==null?f=this.$cEditor:f=this.$editors[d];var p=this.$editors.some(function(v){return v.session===h});return p&&(h=this.$cloneSession(h)),f.setSession(h),h},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(h){this.$orientation!=h&&(this.$orientation=h,this.resize())},this.resize=function(){var h=this.$container.clientWidth,d=this.$container.clientHeight,f;if(this.$orientation==this.BESIDE)for(var p=h/this.$splits,v=0;v<this.$splits;v++)f=this.$editors[v],f.container.style.width=p+"px",f.container.style.top="0px",f.container.style.left=v*p+"px",f.container.style.height=d+"px",f.resize();else for(var y=d/this.$splits,v=0;v<this.$splits;v++)f=this.$editors[v],f.container.style.width=h+"px",f.container.style.top=v*y+"px",f.container.style.left="0px",f.container.style.height=y+"px",f.resize()}}).call(l.prototype),r.Split=l}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(t,r,s){s.exports=t("../split")}),function(){ace.require(["ace/ext/split"],function(t){n.exports=t})}()}(Lg)),Lg.exports}var $g,r_;function XN(){if(r_)return $g;r_=1;var n="Expected a function",e="__lodash_hash_undefined__",t=1/0,r="[object Function]",s="[object GeneratorFunction]",o="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/,u=/^\./,g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/[\\^$.*+?()[\]{}|]/g,h=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,f=typeof Bo=="object"&&Bo&&Bo.Object===Object&&Bo,p=typeof self=="object"&&self&&self.Object===Object&&self,v=f||p||Function("return this")();function y(Ce,De){return Ce==null?void 0:Ce[De]}function C(Ce){var De=!1;if(Ce!=null&&typeof Ce.toString!="function")try{De=!!(Ce+"")}catch{}return De}var k=Array.prototype,F=Function.prototype,O=Object.prototype,L=v["__core-js_shared__"],E=function(){var Ce=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||"");return Ce?"Symbol(src)_1."+Ce:""}(),_=F.toString,I=O.hasOwnProperty,M=O.toString,$=RegExp("^"+_.call(I).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=v.Symbol,T=k.splice,b=wn(v,"Map"),P=wn(Object,"create"),N=B?B.prototype:void 0,z=N?N.toString:void 0;function q(Ce){var De=-1,Ze=Ce?Ce.length:0;for(this.clear();++De<Ze;){var Rt=Ce[De];this.set(Rt[0],Rt[1])}}function K(){this.__data__=P?P(null):{}}function J(Ce){return this.has(Ce)&&delete this.__data__[Ce]}function Q(Ce){var De=this.__data__;if(P){var Ze=De[Ce];return Ze===e?void 0:Ze}return I.call(De,Ce)?De[Ce]:void 0}function U(Ce){var De=this.__data__;return P?De[Ce]!==void 0:I.call(De,Ce)}function re(Ce,De){var Ze=this.__data__;return Ze[Ce]=P&&De===void 0?e:De,this}q.prototype.clear=K,q.prototype.delete=J,q.prototype.get=Q,q.prototype.has=U,q.prototype.set=re;function Z(Ce){var De=-1,Ze=Ce?Ce.length:0;for(this.clear();++De<Ze;){var Rt=Ce[De];this.set(Rt[0],Rt[1])}}function ue(){this.__data__=[]}function ce(Ce){var De=this.__data__,Ze=Ge(De,Ce);if(Ze<0)return!1;var Rt=De.length-1;return Ze==Rt?De.pop():T.call(De,Ze,1),!0}function oe(Ce){var De=this.__data__,Ze=Ge(De,Ce);return Ze<0?void 0:De[Ze][1]}function pe(Ce){return Ge(this.__data__,Ce)>-1}function Ee(Ce,De){var Ze=this.__data__,Rt=Ge(Ze,Ce);return Rt<0?Ze.push([Ce,De]):Ze[Rt][1]=De,this}Z.prototype.clear=ue,Z.prototype.delete=ce,Z.prototype.get=oe,Z.prototype.has=pe,Z.prototype.set=Ee;function me(Ce){var De=-1,Ze=Ce?Ce.length:0;for(this.clear();++De<Ze;){var Rt=Ce[De];this.set(Rt[0],Rt[1])}}function Ae(){this.__data__={hash:new q,map:new(b||Z),string:new q}}function $e(Ce){return Nt(this,Ce).delete(Ce)}function Qe(Ce){return Nt(this,Ce).get(Ce)}function ut(Ce){return Nt(this,Ce).has(Ce)}function qe(Ce,De){return Nt(this,Ce).set(Ce,De),this}me.prototype.clear=Ae,me.prototype.delete=$e,me.prototype.get=Qe,me.prototype.has=ut,me.prototype.set=qe;function Ge(Ce,De){for(var Ze=Ce.length;Ze--;)if(ft(Ce[Ze][0],De))return Ze;return-1}function yt(Ce,De){De=Wn(De,Ce)?[De]:pn(De);for(var Ze=0,Rt=De.length;Ce!=null&&Ze<Rt;)Ce=Ce[be(De[Ze++])];return Ze&&Ze==Rt?Ce:void 0}function Ot(Ce){if(!Lt(Ce)||bn(Ce))return!1;var De=kt(Ce)||C(Ce)?$:d;return De.test(ze(Ce))}function Ht(Ce){if(typeof Ce=="string")return Ce;if($t(Ce))return z?z.call(Ce):"";var De=Ce+"";return De=="0"&&1/Ce==-t?"-0":De}function pn(Ce){return lt(Ce)?Ce:ur(Ce)}function Nt(Ce,De){var Ze=Ce.__data__;return Pn(De)?Ze[typeof De=="string"?"string":"hash"]:Ze.map}function wn(Ce,De){var Ze=y(Ce,De);return Ot(Ze)?Ze:void 0}function Wn(Ce,De){if(lt(Ce))return!1;var Ze=typeof Ce;return Ze=="number"||Ze=="symbol"||Ze=="boolean"||Ce==null||$t(Ce)?!0:m.test(Ce)||!c.test(Ce)||De!=null&&Ce in Object(De)}function Pn(Ce){var De=typeof Ce;return De=="string"||De=="number"||De=="symbol"||De=="boolean"?Ce!=="__proto__":Ce===null}function bn(Ce){return!!E&&E in Ce}var ur=Ke(function(Ce){Ce=_t(Ce);var De=[];return u.test(Ce)&&De.push(""),Ce.replace(g,function(Ze,Rt,An,On){De.push(An?On.replace(h,"$1"):Rt||Ze)}),De});function be(Ce){if(typeof Ce=="string"||$t(Ce))return Ce;var De=Ce+"";return De=="0"&&1/Ce==-t?"-0":De}function ze(Ce){if(Ce!=null){try{return _.call(Ce)}catch{}try{return Ce+""}catch{}}return""}function Ke(Ce,De){if(typeof Ce!="function"||De&&typeof De!="function")throw new TypeError(n);var Ze=function(){var Rt=arguments,An=De?De.apply(this,Rt):Rt[0],On=Ze.cache;if(On.has(An))return On.get(An);var Lr=Ce.apply(this,Rt);return Ze.cache=On.set(An,Lr),Lr};return Ze.cache=new(Ke.Cache||me),Ze}Ke.Cache=me;function ft(Ce,De){return Ce===De||Ce!==Ce&&De!==De}var lt=Array.isArray;function kt(Ce){var De=Lt(Ce)?M.call(Ce):"";return De==r||De==s}function Lt(Ce){var De=typeof Ce;return!!Ce&&(De=="object"||De=="function")}function Ft(Ce){return!!Ce&&typeof Ce=="object"}function $t(Ce){return typeof Ce=="symbol"||Ft(Ce)&&M.call(Ce)==o}function _t(Ce){return Ce==null?"":Ht(Ce)}function ln(Ce,De,Ze){var Rt=Ce==null?void 0:yt(Ce,De);return Rt===void 0?Ze:Rt}return $g=ln,$g}var i_;function AC(){if(i_)return Vl;i_=1;var n=Vl.__extends||function(){var h=function(d,f){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(p[y]=v[y])},h(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),e=Vl.__assign||function(){return e=Object.assign||function(h){for(var d,f=1,p=arguments.length;f<p;f++){d=arguments[f];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(h[v]=d[v])}return h},e.apply(this,arguments)};Object.defineProperty(Vl,"__esModule",{value:!0});var t=xC(),r=(0,t.getAceInstance)(),s=Ru(),o=YN(),c=Sf(),m=dc(),u=CC(),g=XN(),l=function(h){n(d,h);function d(f){var p=h.call(this,f)||this;return t.editorEvents.forEach(function(v){p[v]=p[v].bind(p)}),p.debounce=t.debounce,p}return d.prototype.isInShadow=function(f){for(var p=f&&f.parentNode;p;){if(p.toString()==="[object ShadowRoot]")return!0;p=p.parentNode}return!1},d.prototype.componentDidMount=function(){var f=this,p=this.props,v=p.className,y=p.onBeforeLoad,C=p.mode,k=p.focus,F=p.theme,O=p.fontSize,L=p.value,E=p.defaultValue,_=p.cursorStart,I=p.showGutter,M=p.wrapEnabled,$=p.showPrintMargin,B=p.scrollMargin,T=B===void 0?[0,0,0,0]:B,b=p.keyboardHandler,P=p.onLoad,N=p.commands,z=p.annotations,q=p.markers,K=p.splits;this.editor=r.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(F)),y&&y(r);var J=Object.keys(this.props.editorProps),Q=new o.Split(this.editor.container,"ace/theme/".concat(F),K);this.editor.env.split=Q,this.splitEditor=Q.getEditor(0),this.split=Q,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var U=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),Q.forEach(function(Z,ue){for(var ce=0;ce<J.length;ce++)Z[J[ce]]=f.props.editorProps[J[ce]];var oe=g(E,ue),pe=g(L,ue,"");Z.session.setUndoManager(new r.UndoManager),Z.setTheme("ace/theme/".concat(F)),Z.renderer.setScrollMargin(T[0],T[1],T[2],T[3]),Z.getSession().setMode("ace/mode/".concat(C)),Z.setFontSize(O),Z.renderer.setShowGutter(I),Z.getSession().setUseWrapMode(M),Z.setShowPrintMargin($),Z.on("focus",f.onFocus),Z.on("blur",f.onBlur),Z.on("input",f.onInput),Z.on("copy",f.onCopy),Z.on("paste",f.onPaste),Z.on("change",f.onChange),Z.getSession().selection.on("changeSelection",f.onSelectionChange),Z.getSession().selection.on("changeCursor",f.onCursorChange),Z.session.on("changeScrollTop",f.onScroll),Z.setValue(oe===void 0?pe:oe,_);var Ee=g(z,ue,[]),me=g(q,ue,[]);Z.getSession().setAnnotations(Ee),me&&me.length>0&&f.handleMarkers(me,Z);for(var ce=0;ce<t.editorOptions.length;ce++){var Ae=t.editorOptions[ce];U.hasOwnProperty(Ae)?Z.setOption(Ae,f.props[Ae]):f.props[Ae]&&console.warn("ReaceAce: editor option ".concat(Ae," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}f.handleOptions(f.props,Z),Array.isArray(N)&&N.forEach(function($e){typeof $e.exec=="string"?Z.commands.bindKey($e.bindKey,$e.exec):Z.commands.addCommand($e)}),b&&Z.setKeyboardHandler("ace/keyboard/"+b)}),v&&(this.refEditor.className+=" "+v),k&&this.splitEditor.focus();var re=this.editor.env.split;re.setOrientation(this.props.orientation==="below"?re.BELOW:re.BESIDE),re.resize(!0),P&&P(re)},d.prototype.componentDidUpdate=function(f){var p=this,v=f,y=this.props,C=this.editor.env.split;if(y.splits!==v.splits&&C.setSplits(y.splits),y.orientation!==v.orientation&&C.setOrientation(y.orientation==="below"?C.BELOW:C.BESIDE),C.forEach(function(L,E){y.mode!==v.mode&&L.getSession().setMode("ace/mode/"+y.mode),y.keyboardHandler!==v.keyboardHandler&&(y.keyboardHandler?L.setKeyboardHandler("ace/keyboard/"+y.keyboardHandler):L.setKeyboardHandler(null)),y.fontSize!==v.fontSize&&L.setFontSize(y.fontSize),y.wrapEnabled!==v.wrapEnabled&&L.getSession().setUseWrapMode(y.wrapEnabled),y.showPrintMargin!==v.showPrintMargin&&L.setShowPrintMargin(y.showPrintMargin),y.showGutter!==v.showGutter&&L.renderer.setShowGutter(y.showGutter);for(var _=0;_<t.editorOptions.length;_++){var I=t.editorOptions[_];y[I]!==v[I]&&L.setOption(I,y[I])}u(y.setOptions,v.setOptions)||p.handleOptions(y,L);var M=g(y.value,E,"");if(L.getValue()!==M){p.silent=!0;var $=L.session.selection.toJSON();L.setValue(M,y.cursorStart),L.session.selection.fromJSON($),p.silent=!1}var B=g(y.annotations,E,[]),T=g(v.annotations,E,[]);u(B,T)||L.getSession().setAnnotations(B);var b=g(y.markers,E,[]),P=g(v.markers,E,[]);!u(b,P)&&Array.isArray(b)&&p.handleMarkers(b,L)}),y.className!==v.className){var k=this.refEditor.className,F=k.trim().split(" "),O=v.className.trim().split(" ");O.forEach(function(L){var E=F.indexOf(L);F.splice(E,1)}),this.refEditor.className=" "+y.className+" "+F.join(" ")}y.theme!==v.theme&&C.setTheme("ace/theme/"+y.theme),y.focus&&!v.focus&&this.splitEditor.focus(),(y.height!==this.props.height||y.width!==this.props.width)&&this.editor.resize()},d.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},d.prototype.onChange=function(f){if(this.props.onChange&&!this.silent){var p=[];this.editor.env.split.forEach(function(v){p.push(v.getValue())}),this.props.onChange(p,f)}},d.prototype.onSelectionChange=function(f){if(this.props.onSelectionChange){var p=[];this.editor.env.split.forEach(function(v){p.push(v.getSelection())}),this.props.onSelectionChange(p,f)}},d.prototype.onCursorChange=function(f){if(this.props.onCursorChange){var p=[];this.editor.env.split.forEach(function(v){p.push(v.getSelection())}),this.props.onCursorChange(p,f)}},d.prototype.onFocus=function(f){this.props.onFocus&&this.props.onFocus(f)},d.prototype.onInput=function(f){this.props.onInput&&this.props.onInput(f)},d.prototype.onBlur=function(f){this.props.onBlur&&this.props.onBlur(f)},d.prototype.onCopy=function(f){this.props.onCopy&&this.props.onCopy(f)},d.prototype.onPaste=function(f){this.props.onPaste&&this.props.onPaste(f)},d.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},d.prototype.handleOptions=function(f,p){for(var v=Object.keys(f.setOptions),y=0;y<v.length;y++)p.setOption(v[y],f.setOptions[v[y]])},d.prototype.handleMarkers=function(f,p){var v=p.getSession().getMarkers(!0);for(var y in v)v.hasOwnProperty(y)&&p.getSession().removeMarker(v[y].id);v=p.getSession().getMarkers(!1);for(var y in v)v.hasOwnProperty(y)&&p.getSession().removeMarker(v[y].id);f.forEach(function(C){var k=C.startRow,F=C.startCol,O=C.endRow,L=C.endCol,E=C.className,_=C.type,I=C.inFront,M=I===void 0?!1:I,$=new s.Range(k,F,O,L);p.getSession().addMarker($,E,_,M)})},d.prototype.updateRef=function(f){this.refEditor=f},d.prototype.render=function(){var f=this.props,p=f.name,v=f.width,y=f.height,C=f.style,k=e({width:v,height:y},C);return m.createElement("div",{ref:this.updateRef,id:p,style:k})},d.propTypes={className:c.string,debounceChangePeriod:c.number,defaultValue:c.arrayOf(c.string),focus:c.bool,fontSize:c.oneOfType([c.number,c.string]),height:c.string,mode:c.string,name:c.string,onBlur:c.func,onChange:c.func,onCopy:c.func,onFocus:c.func,onInput:c.func,onLoad:c.func,onPaste:c.func,onScroll:c.func,orientation:c.string,showGutter:c.bool,splits:c.number,theme:c.string,value:c.arrayOf(c.string),width:c.string,onSelectionChange:c.func,onCursorChange:c.func,onBeforeLoad:c.func,minLines:c.number,maxLines:c.number,readOnly:c.bool,highlightActiveLine:c.bool,tabSize:c.number,showPrintMargin:c.bool,cursorStart:c.number,editorProps:c.object,setOptions:c.object,style:c.object,scrollMargin:c.array,annotations:c.array,markers:c.array,keyboardHandler:c.string,wrapEnabled:c.bool,enableBasicAutocompletion:c.oneOfType([c.bool,c.array]),enableLiveAutocompletion:c.oneOfType([c.bool,c.array]),commands:c.array},d.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},d}(m.Component);return Vl.default=l,Vl}var Pg={exports:{}},o_;function ZN(){return o_||(o_=1,function(n){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},t=-1,r=1,s=0;e.Diff=function(o,c){return[o,c]},e.prototype.diff_main=function(o,c,m,u){typeof u>"u"&&(this.Diff_Timeout<=0?u=Number.MAX_VALUE:u=new Date().getTime()+this.Diff_Timeout*1e3);var g=u;if(o==null||c==null)throw new Error("Null input. (diff_main)");if(o==c)return o?[new e.Diff(s,o)]:[];typeof m>"u"&&(m=!0);var l=m,h=this.diff_commonPrefix(o,c),d=o.substring(0,h);o=o.substring(h),c=c.substring(h),h=this.diff_commonSuffix(o,c);var f=o.substring(o.length-h);o=o.substring(0,o.length-h),c=c.substring(0,c.length-h);var p=this.diff_compute_(o,c,l,g);return d&&p.unshift(new e.Diff(s,d)),f&&p.push(new e.Diff(s,f)),this.diff_cleanupMerge(p),p},e.prototype.diff_compute_=function(o,c,m,u){var g;if(!o)return[new e.Diff(r,c)];if(!c)return[new e.Diff(t,o)];var l=o.length>c.length?o:c,h=o.length>c.length?c:o,d=l.indexOf(h);if(d!=-1)return g=[new e.Diff(r,l.substring(0,d)),new e.Diff(s,h),new e.Diff(r,l.substring(d+h.length))],o.length>c.length&&(g[0][0]=g[2][0]=t),g;if(h.length==1)return[new e.Diff(t,o),new e.Diff(r,c)];var f=this.diff_halfMatch_(o,c);if(f){var p=f[0],v=f[1],y=f[2],C=f[3],k=f[4],F=this.diff_main(p,y,m,u),O=this.diff_main(v,C,m,u);return F.concat([new e.Diff(s,k)],O)}return m&&o.length>100&&c.length>100?this.diff_lineMode_(o,c,u):this.diff_bisect_(o,c,u)},e.prototype.diff_lineMode_=function(o,c,m){var u=this.diff_linesToChars_(o,c);o=u.chars1,c=u.chars2;var g=u.lineArray,l=this.diff_main(o,c,!1,m);this.diff_charsToLines_(l,g),this.diff_cleanupSemantic(l),l.push(new e.Diff(s,""));for(var h=0,d=0,f=0,p="",v="";h<l.length;){switch(l[h][0]){case r:f++,v+=l[h][1];break;case t:d++,p+=l[h][1];break;case s:if(d>=1&&f>=1){l.splice(h-d-f,d+f),h=h-d-f;for(var y=this.diff_main(p,v,!1,m),C=y.length-1;C>=0;C--)l.splice(h,0,y[C]);h=h+y.length}f=0,d=0,p="",v="";break}h++}return l.pop(),l},e.prototype.diff_bisect_=function(o,c,m){for(var u=o.length,g=c.length,l=Math.ceil((u+g)/2),h=l,d=2*l,f=new Array(d),p=new Array(d),v=0;v<d;v++)f[v]=-1,p[v]=-1;f[h+1]=0,p[h+1]=0;for(var y=u-g,C=y%2!=0,k=0,F=0,O=0,L=0,E=0;E<l&&!(new Date().getTime()>m);E++){for(var _=-E+k;_<=E-F;_+=2){var I=h+_,M;_==-E||_!=E&&f[I-1]<f[I+1]?M=f[I+1]:M=f[I-1]+1;for(var $=M-_;M<u&&$<g&&o.charAt(M)==c.charAt($);)M++,$++;if(f[I]=M,M>u)F+=2;else if($>g)k+=2;else if(C){var B=h+y-_;if(B>=0&&B<d&&p[B]!=-1){var T=u-p[B];if(M>=T)return this.diff_bisectSplit_(o,c,M,$,m)}}}for(var b=-E+O;b<=E-L;b+=2){var B=h+b,T;b==-E||b!=E&&p[B-1]<p[B+1]?T=p[B+1]:T=p[B-1]+1;for(var P=T-b;T<u&&P<g&&o.charAt(u-T-1)==c.charAt(g-P-1);)T++,P++;if(p[B]=T,T>u)L+=2;else if(P>g)O+=2;else if(!C){var I=h+y-b;if(I>=0&&I<d&&f[I]!=-1){var M=f[I],$=h+M-I;if(T=u-T,M>=T)return this.diff_bisectSplit_(o,c,M,$,m)}}}}return[new e.Diff(t,o),new e.Diff(r,c)]},e.prototype.diff_bisectSplit_=function(o,c,m,u,g){var l=o.substring(0,m),h=c.substring(0,u),d=o.substring(m),f=c.substring(u),p=this.diff_main(l,h,!1,g),v=this.diff_main(d,f,!1,g);return p.concat(v)},e.prototype.diff_linesToChars_=function(o,c){var m=[],u={};m[0]="";function g(f){for(var p="",v=0,y=-1,C=m.length;y<f.length-1;){y=f.indexOf(`
`,v),y==-1&&(y=f.length-1);var k=f.substring(v,y+1);(u.hasOwnProperty?u.hasOwnProperty(k):u[k]!==void 0)?p+=String.fromCharCode(u[k]):(C==l&&(k=f.substring(v),y=f.length),p+=String.fromCharCode(C),u[k]=C,m[C++]=k),v=y+1}return p}var l=4e4,h=g(o);l=65535;var d=g(c);return{chars1:h,chars2:d,lineArray:m}},e.prototype.diff_charsToLines_=function(o,c){for(var m=0;m<o.length;m++){for(var u=o[m][1],g=[],l=0;l<u.length;l++)g[l]=c[u.charCodeAt(l)];o[m][1]=g.join("")}},e.prototype.diff_commonPrefix=function(o,c){if(!o||!c||o.charAt(0)!=c.charAt(0))return 0;for(var m=0,u=Math.min(o.length,c.length),g=u,l=0;m<g;)o.substring(l,g)==c.substring(l,g)?(m=g,l=m):u=g,g=Math.floor((u-m)/2+m);return g},e.prototype.diff_commonSuffix=function(o,c){if(!o||!c||o.charAt(o.length-1)!=c.charAt(c.length-1))return 0;for(var m=0,u=Math.min(o.length,c.length),g=u,l=0;m<g;)o.substring(o.length-g,o.length-l)==c.substring(c.length-g,c.length-l)?(m=g,l=m):u=g,g=Math.floor((u-m)/2+m);return g},e.prototype.diff_commonOverlap_=function(o,c){var m=o.length,u=c.length;if(m==0||u==0)return 0;m>u?o=o.substring(m-u):m<u&&(c=c.substring(0,m));var g=Math.min(m,u);if(o==c)return g;for(var l=0,h=1;;){var d=o.substring(g-h),f=c.indexOf(d);if(f==-1)return l;h+=f,(f==0||o.substring(g-h)==c.substring(0,h))&&(l=h,h++)}},e.prototype.diff_halfMatch_=function(o,c){if(this.Diff_Timeout<=0)return null;var m=o.length>c.length?o:c,u=o.length>c.length?c:o;if(m.length<4||u.length*2<m.length)return null;var g=this;function l(F,O,L){for(var E=F.substring(L,L+Math.floor(F.length/4)),_=-1,I="",M,$,B,T;(_=O.indexOf(E,_+1))!=-1;){var b=g.diff_commonPrefix(F.substring(L),O.substring(_)),P=g.diff_commonSuffix(F.substring(0,L),O.substring(0,_));I.length<P+b&&(I=O.substring(_-P,_)+O.substring(_,_+b),M=F.substring(0,L-P),$=F.substring(L+b),B=O.substring(0,_-P),T=O.substring(_+b))}return I.length*2>=F.length?[M,$,B,T,I]:null}var h=l(m,u,Math.ceil(m.length/4)),d=l(m,u,Math.ceil(m.length/2)),f;if(!h&&!d)return null;d?h?f=h[4].length>d[4].length?h:d:f=d:f=h;var p,v,y,C;o.length>c.length?(p=f[0],v=f[1],y=f[2],C=f[3]):(y=f[0],C=f[1],p=f[2],v=f[3]);var k=f[4];return[p,v,y,C,k]},e.prototype.diff_cleanupSemantic=function(o){for(var c=!1,m=[],u=0,g=null,l=0,h=0,d=0,f=0,p=0;l<o.length;)o[l][0]==s?(m[u++]=l,h=f,d=p,f=0,p=0,g=o[l][1]):(o[l][0]==r?f+=o[l][1].length:p+=o[l][1].length,g&&g.length<=Math.max(h,d)&&g.length<=Math.max(f,p)&&(o.splice(m[u-1],0,new e.Diff(t,g)),o[m[u-1]+1][0]=r,u--,u--,l=u>0?m[u-1]:-1,h=0,d=0,f=0,p=0,g=null,c=!0)),l++;for(c&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),l=1;l<o.length;){if(o[l-1][0]==t&&o[l][0]==r){var v=o[l-1][1],y=o[l][1],C=this.diff_commonOverlap_(v,y),k=this.diff_commonOverlap_(y,v);C>=k?(C>=v.length/2||C>=y.length/2)&&(o.splice(l,0,new e.Diff(s,y.substring(0,C))),o[l-1][1]=v.substring(0,v.length-C),o[l+1][1]=y.substring(C),l++):(k>=v.length/2||k>=y.length/2)&&(o.splice(l,0,new e.Diff(s,v.substring(0,k))),o[l-1][0]=r,o[l-1][1]=y.substring(0,y.length-k),o[l+1][0]=t,o[l+1][1]=v.substring(k),l++),l++}l++}},e.prototype.diff_cleanupSemanticLossless=function(o){function c(k,F){if(!k||!F)return 6;var O=k.charAt(k.length-1),L=F.charAt(0),E=O.match(e.nonAlphaNumericRegex_),_=L.match(e.nonAlphaNumericRegex_),I=E&&O.match(e.whitespaceRegex_),M=_&&L.match(e.whitespaceRegex_),$=I&&O.match(e.linebreakRegex_),B=M&&L.match(e.linebreakRegex_),T=$&&k.match(e.blanklineEndRegex_),b=B&&F.match(e.blanklineStartRegex_);return T||b?5:$||B?4:E&&!I&&M?3:I||M?2:E||_?1:0}for(var m=1;m<o.length-1;){if(o[m-1][0]==s&&o[m+1][0]==s){var u=o[m-1][1],g=o[m][1],l=o[m+1][1],h=this.diff_commonSuffix(u,g);if(h){var d=g.substring(g.length-h);u=u.substring(0,u.length-h),g=d+g.substring(0,g.length-h),l=d+l}for(var f=u,p=g,v=l,y=c(u,g)+c(g,l);g.charAt(0)===l.charAt(0);){u+=g.charAt(0),g=g.substring(1)+l.charAt(0),l=l.substring(1);var C=c(u,g)+c(g,l);C>=y&&(y=C,f=u,p=g,v=l)}o[m-1][1]!=f&&(f?o[m-1][1]=f:(o.splice(m-1,1),m--),o[m][1]=p,v?o[m+1][1]=v:(o.splice(m+1,1),m--))}m++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(o){for(var c=!1,m=[],u=0,g=null,l=0,h=!1,d=!1,f=!1,p=!1;l<o.length;)o[l][0]==s?(o[l][1].length<this.Diff_EditCost&&(f||p)?(m[u++]=l,h=f,d=p,g=o[l][1]):(u=0,g=null),f=p=!1):(o[l][0]==t?p=!0:f=!0,g&&(h&&d&&f&&p||g.length<this.Diff_EditCost/2&&h+d+f+p==3)&&(o.splice(m[u-1],0,new e.Diff(t,g)),o[m[u-1]+1][0]=r,u--,g=null,h&&d?(f=p=!0,u=0):(u--,l=u>0?m[u-1]:-1,f=p=!1),c=!0)),l++;c&&this.diff_cleanupMerge(o)},e.prototype.diff_cleanupMerge=function(o){o.push(new e.Diff(s,""));for(var c=0,m=0,u=0,g="",l="",h;c<o.length;)switch(o[c][0]){case r:u++,l+=o[c][1],c++;break;case t:m++,g+=o[c][1],c++;break;case s:m+u>1?(m!==0&&u!==0&&(h=this.diff_commonPrefix(l,g),h!==0&&(c-m-u>0&&o[c-m-u-1][0]==s?o[c-m-u-1][1]+=l.substring(0,h):(o.splice(0,0,new e.Diff(s,l.substring(0,h))),c++),l=l.substring(h),g=g.substring(h)),h=this.diff_commonSuffix(l,g),h!==0&&(o[c][1]=l.substring(l.length-h)+o[c][1],l=l.substring(0,l.length-h),g=g.substring(0,g.length-h))),c-=m+u,o.splice(c,m+u),g.length&&(o.splice(c,0,new e.Diff(t,g)),c++),l.length&&(o.splice(c,0,new e.Diff(r,l)),c++),c++):c!==0&&o[c-1][0]==s?(o[c-1][1]+=o[c][1],o.splice(c,1)):c++,u=0,m=0,g="",l="";break}o[o.length-1][1]===""&&o.pop();var d=!1;for(c=1;c<o.length-1;)o[c-1][0]==s&&o[c+1][0]==s&&(o[c][1].substring(o[c][1].length-o[c-1][1].length)==o[c-1][1]?(o[c][1]=o[c-1][1]+o[c][1].substring(0,o[c][1].length-o[c-1][1].length),o[c+1][1]=o[c-1][1]+o[c+1][1],o.splice(c-1,1),d=!0):o[c][1].substring(0,o[c+1][1].length)==o[c+1][1]&&(o[c-1][1]+=o[c+1][1],o[c][1]=o[c][1].substring(o[c+1][1].length)+o[c+1][1],o.splice(c+1,1),d=!0)),c++;d&&this.diff_cleanupMerge(o)},e.prototype.diff_xIndex=function(o,c){var m=0,u=0,g=0,l=0,h;for(h=0;h<o.length&&(o[h][0]!==r&&(m+=o[h][1].length),o[h][0]!==t&&(u+=o[h][1].length),!(m>c));h++)g=m,l=u;return o.length!=h&&o[h][0]===t?l:l+(c-g)},e.prototype.diff_prettyHtml=function(o){for(var c=[],m=/&/g,u=/</g,g=/>/g,l=/\n/g,h=0;h<o.length;h++){var d=o[h][0],f=o[h][1],p=f.replace(m,"&amp;").replace(u,"&lt;").replace(g,"&gt;").replace(l,"&para;<br>");switch(d){case r:c[h]='<ins style="background:#e6ffe6;">'+p+"</ins>";break;case t:c[h]='<del style="background:#ffe6e6;">'+p+"</del>";break;case s:c[h]="<span>"+p+"</span>";break}}return c.join("")},e.prototype.diff_text1=function(o){for(var c=[],m=0;m<o.length;m++)o[m][0]!==r&&(c[m]=o[m][1]);return c.join("")},e.prototype.diff_text2=function(o){for(var c=[],m=0;m<o.length;m++)o[m][0]!==t&&(c[m]=o[m][1]);return c.join("")},e.prototype.diff_levenshtein=function(o){for(var c=0,m=0,u=0,g=0;g<o.length;g++){var l=o[g][0],h=o[g][1];switch(l){case r:m+=h.length;break;case t:u+=h.length;break;case s:c+=Math.max(m,u),m=0,u=0;break}}return c+=Math.max(m,u),c},e.prototype.diff_toDelta=function(o){for(var c=[],m=0;m<o.length;m++)switch(o[m][0]){case r:c[m]="+"+encodeURI(o[m][1]);break;case t:c[m]="-"+o[m][1].length;break;case s:c[m]="="+o[m][1].length;break}return c.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(o,c){for(var m=[],u=0,g=0,l=c.split(/\t/g),h=0;h<l.length;h++){var d=l[h].substring(1);switch(l[h].charAt(0)){case"+":try{m[u++]=new e.Diff(r,decodeURI(d))}catch{throw new Error("Illegal escape in diff_fromDelta: "+d)}break;case"-":case"=":var f=parseInt(d,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+d);var p=o.substring(g,g+=f);l[h].charAt(0)=="="?m[u++]=new e.Diff(s,p):m[u++]=new e.Diff(t,p);break;default:if(l[h])throw new Error("Invalid diff operation in diff_fromDelta: "+l[h])}}if(g!=o.length)throw new Error("Delta length ("+g+") does not equal source text length ("+o.length+").");return m},e.prototype.match_main=function(o,c,m){if(o==null||c==null||m==null)throw new Error("Null input. (match_main)");return m=Math.max(0,Math.min(m,o.length)),o==c?0:o.length?o.substring(m,m+c.length)==c?m:this.match_bitap_(o,c,m):-1},e.prototype.match_bitap_=function(o,c,m){if(c.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var u=this.match_alphabet_(c),g=this;function l(M,$){var B=M/c.length,T=Math.abs(m-$);return g.Match_Distance?B+T/g.Match_Distance:T?1:B}var h=this.Match_Threshold,d=o.indexOf(c,m);d!=-1&&(h=Math.min(l(0,d),h),d=o.lastIndexOf(c,m+c.length),d!=-1&&(h=Math.min(l(0,d),h)));var f=1<<c.length-1;d=-1;for(var p,v,y=c.length+o.length,C,k=0;k<c.length;k++){for(p=0,v=y;p<v;)l(k,m+v)<=h?p=v:y=v,v=Math.floor((y-p)/2+p);y=v;var F=Math.max(1,m-v+1),O=Math.min(m+v,o.length)+c.length,L=Array(O+2);L[O+1]=(1<<k)-1;for(var E=O;E>=F;E--){var _=u[o.charAt(E-1)];if(k===0?L[E]=(L[E+1]<<1|1)&_:L[E]=(L[E+1]<<1|1)&_|((C[E+1]|C[E])<<1|1)|C[E+1],L[E]&f){var I=l(k,E-1);if(I<=h)if(h=I,d=E-1,d>m)F=Math.max(1,2*m-d);else break}}if(l(k+1,m)>h)break;C=L}return d},e.prototype.match_alphabet_=function(o){for(var c={},m=0;m<o.length;m++)c[o.charAt(m)]=0;for(var m=0;m<o.length;m++)c[o.charAt(m)]|=1<<o.length-m-1;return c},e.prototype.patch_addContext_=function(o,c){if(c.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var m=c.substring(o.start2,o.start2+o.length1),u=0;c.indexOf(m)!=c.lastIndexOf(m)&&m.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)u+=this.Patch_Margin,m=c.substring(o.start2-u,o.start2+o.length1+u);u+=this.Patch_Margin;var g=c.substring(o.start2-u,o.start2);g&&o.diffs.unshift(new e.Diff(s,g));var l=c.substring(o.start2+o.length1,o.start2+o.length1+u);l&&o.diffs.push(new e.Diff(s,l)),o.start1-=g.length,o.start2-=g.length,o.length1+=g.length+l.length,o.length2+=g.length+l.length}},e.prototype.patch_make=function(o,c,m){var u,g;if(typeof o=="string"&&typeof c=="string"&&typeof m>"u")u=o,g=this.diff_main(u,c,!0),g.length>2&&(this.diff_cleanupSemantic(g),this.diff_cleanupEfficiency(g));else if(o&&typeof o=="object"&&typeof c>"u"&&typeof m>"u")g=o,u=this.diff_text1(g);else if(typeof o=="string"&&c&&typeof c=="object"&&typeof m>"u")u=o,g=c;else if(typeof o=="string"&&typeof c=="string"&&m&&typeof m=="object")u=o,g=m;else throw new Error("Unknown call format to patch_make.");if(g.length===0)return[];for(var l=[],h=new e.patch_obj,d=0,f=0,p=0,v=u,y=u,C=0;C<g.length;C++){var k=g[C][0],F=g[C][1];switch(!d&&k!==s&&(h.start1=f,h.start2=p),k){case r:h.diffs[d++]=g[C],h.length2+=F.length,y=y.substring(0,p)+F+y.substring(p);break;case t:h.length1+=F.length,h.diffs[d++]=g[C],y=y.substring(0,p)+y.substring(p+F.length);break;case s:F.length<=2*this.Patch_Margin&&d&&g.length!=C+1?(h.diffs[d++]=g[C],h.length1+=F.length,h.length2+=F.length):F.length>=2*this.Patch_Margin&&d&&(this.patch_addContext_(h,v),l.push(h),h=new e.patch_obj,d=0,v=y,f=p);break}k!==r&&(f+=F.length),k!==t&&(p+=F.length)}return d&&(this.patch_addContext_(h,v),l.push(h)),l},e.prototype.patch_deepCopy=function(o){for(var c=[],m=0;m<o.length;m++){var u=o[m],g=new e.patch_obj;g.diffs=[];for(var l=0;l<u.diffs.length;l++)g.diffs[l]=new e.Diff(u.diffs[l][0],u.diffs[l][1]);g.start1=u.start1,g.start2=u.start2,g.length1=u.length1,g.length2=u.length2,c[m]=g}return c},e.prototype.patch_apply=function(o,c){if(o.length==0)return[c,[]];o=this.patch_deepCopy(o);var m=this.patch_addPadding(o);c=m+c+m,this.patch_splitMax(o);for(var u=0,g=[],l=0;l<o.length;l++){var h=o[l].start2+u,d=this.diff_text1(o[l].diffs),f,p=-1;if(d.length>this.Match_MaxBits?(f=this.match_main(c,d.substring(0,this.Match_MaxBits),h),f!=-1&&(p=this.match_main(c,d.substring(d.length-this.Match_MaxBits),h+d.length-this.Match_MaxBits),(p==-1||f>=p)&&(f=-1))):f=this.match_main(c,d,h),f==-1)g[l]=!1,u-=o[l].length2-o[l].length1;else{g[l]=!0,u=f-h;var v;if(p==-1?v=c.substring(f,f+d.length):v=c.substring(f,p+this.Match_MaxBits),d==v)c=c.substring(0,f)+this.diff_text2(o[l].diffs)+c.substring(f+d.length);else{var y=this.diff_main(d,v,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(y)/d.length>this.Patch_DeleteThreshold)g[l]=!1;else{this.diff_cleanupSemanticLossless(y);for(var C=0,k,F=0;F<o[l].diffs.length;F++){var O=o[l].diffs[F];O[0]!==s&&(k=this.diff_xIndex(y,C)),O[0]===r?c=c.substring(0,f+k)+O[1]+c.substring(f+k):O[0]===t&&(c=c.substring(0,f+k)+c.substring(f+this.diff_xIndex(y,C+O[1].length))),O[0]!==t&&(C+=O[1].length)}}}}}return c=c.substring(m.length,c.length-m.length),[c,g]},e.prototype.patch_addPadding=function(o){for(var c=this.Patch_Margin,m="",u=1;u<=c;u++)m+=String.fromCharCode(u);for(var u=0;u<o.length;u++)o[u].start1+=c,o[u].start2+=c;var g=o[0],l=g.diffs;if(l.length==0||l[0][0]!=s)l.unshift(new e.Diff(s,m)),g.start1-=c,g.start2-=c,g.length1+=c,g.length2+=c;else if(c>l[0][1].length){var h=c-l[0][1].length;l[0][1]=m.substring(l[0][1].length)+l[0][1],g.start1-=h,g.start2-=h,g.length1+=h,g.length2+=h}if(g=o[o.length-1],l=g.diffs,l.length==0||l[l.length-1][0]!=s)l.push(new e.Diff(s,m)),g.length1+=c,g.length2+=c;else if(c>l[l.length-1][1].length){var h=c-l[l.length-1][1].length;l[l.length-1][1]+=m.substring(0,h),g.length1+=h,g.length2+=h}return m},e.prototype.patch_splitMax=function(o){for(var c=this.Match_MaxBits,m=0;m<o.length;m++)if(!(o[m].length1<=c)){var u=o[m];o.splice(m--,1);for(var g=u.start1,l=u.start2,h="";u.diffs.length!==0;){var d=new e.patch_obj,f=!0;for(d.start1=g-h.length,d.start2=l-h.length,h!==""&&(d.length1=d.length2=h.length,d.diffs.push(new e.Diff(s,h)));u.diffs.length!==0&&d.length1<c-this.Patch_Margin;){var p=u.diffs[0][0],v=u.diffs[0][1];p===r?(d.length2+=v.length,l+=v.length,d.diffs.push(u.diffs.shift()),f=!1):p===t&&d.diffs.length==1&&d.diffs[0][0]==s&&v.length>2*c?(d.length1+=v.length,g+=v.length,f=!1,d.diffs.push(new e.Diff(p,v)),u.diffs.shift()):(v=v.substring(0,c-d.length1-this.Patch_Margin),d.length1+=v.length,g+=v.length,p===s?(d.length2+=v.length,l+=v.length):f=!1,d.diffs.push(new e.Diff(p,v)),v==u.diffs[0][1]?u.diffs.shift():u.diffs[0][1]=u.diffs[0][1].substring(v.length))}h=this.diff_text2(d.diffs),h=h.substring(h.length-this.Patch_Margin);var y=this.diff_text1(u.diffs).substring(0,this.Patch_Margin);y!==""&&(d.length1+=y.length,d.length2+=y.length,d.diffs.length!==0&&d.diffs[d.diffs.length-1][0]===s?d.diffs[d.diffs.length-1][1]+=y:d.diffs.push(new e.Diff(s,y))),f||o.splice(++m,0,d)}}},e.prototype.patch_toText=function(o){for(var c=[],m=0;m<o.length;m++)c[m]=o[m];return c.join("")},e.prototype.patch_fromText=function(o){var c=[];if(!o)return c;for(var m=o.split(`
`),u=0,g=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;u<m.length;){var l=m[u].match(g);if(!l)throw new Error("Invalid patch string: "+m[u]);var h=new e.patch_obj;for(c.push(h),h.start1=parseInt(l[1],10),l[2]===""?(h.start1--,h.length1=1):l[2]=="0"?h.length1=0:(h.start1--,h.length1=parseInt(l[2],10)),h.start2=parseInt(l[3],10),l[4]===""?(h.start2--,h.length2=1):l[4]=="0"?h.length2=0:(h.start2--,h.length2=parseInt(l[4],10)),u++;u<m.length;){var d=m[u].charAt(0);try{var f=decodeURI(m[u].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+f)}if(d=="-")h.diffs.push(new e.Diff(t,f));else if(d=="+")h.diffs.push(new e.Diff(r,f));else if(d==" ")h.diffs.push(new e.Diff(s,f));else{if(d=="@")break;if(d!=="")throw new Error('Invalid patch mode "'+d+'" in: '+f)}u++}}return c},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var o,c;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?c=this.start2+",0":this.length2==1?c=this.start2+1:c=this.start2+1+","+this.length2;for(var m=["@@ -"+o+" +"+c+` @@
`],u,g=0;g<this.diffs.length;g++){switch(this.diffs[g][0]){case r:u="+";break;case t:u="-";break;case s:u=" ";break}m[g+1]=u+encodeURI(this.diffs[g][1])+`
`}return m.join("").replace(/%20/g," ")},n.exports=e,n.exports.diff_match_patch=e,n.exports.DIFF_DELETE=t,n.exports.DIFF_INSERT=r,n.exports.DIFF_EQUAL=s}(Pg)),Pg.exports}var s_;function JN(){if(s_)return Xc;s_=1;var n=Xc.__extends||function(){var c=function(m,u){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,l){g.__proto__=l}||function(g,l){for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(g[h]=l[h])},c(m,u)};return function(m,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");c(m,u);function g(){this.constructor=m}m.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}();Object.defineProperty(Xc,"__esModule",{value:!0});var e=Sf(),t=dc(),r=AC(),s=ZN(),o=function(c){n(m,c);function m(u){var g=c.call(this,u)||this;return g.state={value:g.props.value},g.onChange=g.onChange.bind(g),g.diff=g.diff.bind(g),g}return m.prototype.componentDidUpdate=function(){var u=this.props.value;u!==this.state.value&&this.setState({value:u})},m.prototype.onChange=function(u){this.setState({value:u}),this.props.onChange&&this.props.onChange(u)},m.prototype.diff=function(){var u=new s,g=this.state.value[0],l=this.state.value[1];if(g.length===0&&l.length===0)return[];var h=u.diff_main(g,l);u.diff_cleanupSemantic(h);var d=this.generateDiffedLines(h),f=this.setCodeMarkers(d);return f},m.prototype.generateDiffedLines=function(u){var g={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},l={left:[],right:[]},h={left:1,right:1};return u.forEach(function(d){var f=d[0],p=d[1],v=p.split(`
`).length-1;if(p.length!==0){var y=p[0],C=p[p.length-1],k=0;switch(f){case g.DIFF_EQUAL:h.left+=v,h.right+=v;break;case g.DIFF_DELETE:y===`
`&&(h.left++,v--),k=v,k===0&&l.right.push({startLine:h.right,endLine:h.right}),C===`
`&&(k-=1),l.left.push({startLine:h.left,endLine:h.left+k}),h.left+=v;break;case g.DIFF_INSERT:y===`
`&&(h.right++,v--),k=v,k===0&&l.left.push({startLine:h.left,endLine:h.left}),C===`
`&&(k-=1),l.right.push({startLine:h.right,endLine:h.right+k}),h.right+=v;break;default:throw new Error("Diff type was not defined.")}}}),l},m.prototype.setCodeMarkers=function(u){u===void 0&&(u={left:[],right:[]});for(var g=[],l={left:[],right:[]},h=0;h<u.left.length;h++){var d={startRow:u.left[h].startLine-1,endRow:u.left[h].endLine,type:"text",className:"codeMarker"};l.left.push(d)}for(var h=0;h<u.right.length;h++){var d={startRow:u.right[h].startLine-1,endRow:u.right[h].endLine,type:"text",className:"codeMarker"};l.right.push(d)}return g[0]=l.left,g[1]=l.right,g},m.prototype.render=function(){var u=this.diff();return t.createElement(r.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:u})},m.propTypes={cursorStart:e.number,editorProps:e.object,enableBasicAutocompletion:e.bool,enableLiveAutocompletion:e.bool,focus:e.bool,fontSize:e.number,height:e.string,highlightActiveLine:e.bool,maxLines:e.number,minLines:e.number,mode:e.string,name:e.string,className:e.string,onLoad:e.func,onPaste:e.func,onScroll:e.func,onChange:e.func,orientation:e.string,readOnly:e.bool,scrollMargin:e.array,setOptions:e.object,showGutter:e.bool,showPrintMargin:e.bool,splits:e.number,style:e.object,tabSize:e.number,theme:e.string,value:e.array,width:e.string,wrapEnabled:e.bool},m.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},m}(t.Component);return Xc.default=o,Xc}var a_;function eF(){if(a_)return Js;a_=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.diff=Js.split=void 0;var n=QN(),e=JN();Js.diff=e.default;var t=AC();return Js.split=t.default,Js.default=n.default,Js}var tF=eF();const nF=il(tF);var rF=Ru();const iF=il(rF),oF=async(n,e)=>{if(!n||!e)throw new Error("請填寫所有欄位！");try{const t=await tS(Id(cc,"lessons"),{title:n,content:e,createdAt:Qa(),lastUpdated:Qa()});return console.log("✅ 教材已成功上傳，文件 ID:",t.id),t.id}catch(t){return console.error("🔥 上傳教材失敗:",t),t}},sF=async(n,e,t,r,s)=>{if(!n||!e||!t||!r)throw new Error("請填寫所有欄位！");try{const o=await tS(Id(cc,"quiz"),{title:n,tag:e,question:t,code:r,codeLabels:s,createdAt:Qa(),lastUpdated:Qa()});return console.log("✅ 題目已成功上傳，文件 ID:",o.id),o.id}catch(o){throw console.error("🔥 上傳題目失敗:",o),o}},kC=async(n,e)=>{if(!n||!e)throw new Error("請提供集合名稱和文件 ID！");try{const t=ac(cc,n,e);await xR(t),console.log("✅ 文件已成功刪除，文件 ID:",e)}catch(t){throw console.error("🔥 刪除文件失敗:",t),t}};var Og={exports:{}},l_;function aF(){return l_||(l_=1,function(n,e){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,r,s){var o=t("../lib/oop"),c=t("./text_highlight_rules").TextHighlightRules,m=function(){var u="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",g="True|False|None|NotImplemented|Ellipsis|__debug__",l="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",h=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":l,"variable.language":"self|cls","constant.language":g,keyword:u},"identifier"),d="[uU]?",f="[rR]",p="[fF]",v="(?:[rR][fF]|[fF][rR])",y="(?:(?:[1-9]\\d*)|(?:0))",C="(?:0[oO]?[0-7]+)",k="(?:0[xX][\\dA-Fa-f]+)",F="(?:0[bB][01]+)",O="(?:"+y+"|"+C+"|"+k+"|"+F+")",L="(?:[eE][+-]?\\d+)",E="(?:\\.\\d+)",_="(?:\\d+)",I="(?:(?:"+_+"?"+E+")|(?:"+_+"\\.))",M="(?:(?:"+I+"|"+_+")"+L+")",$="(?:"+M+"|"+I+")",B=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:d+'"{3}',next:"qqstring3"},{token:"string",regex:d+'"(?=.)',next:"qqstring"},{token:"string",regex:d+"'{3}",next:"qstring3"},{token:"string",regex:d+"'(?=.)",next:"qstring"},{token:"string",regex:f+'"{3}',next:"rawqqstring3"},{token:"string",regex:f+'"(?=.)',next:"rawqqstring"},{token:"string",regex:f+"'{3}",next:"rawqstring3"},{token:"string",regex:f+"'(?=.)",next:"rawqstring"},{token:"string",regex:p+'"{3}',next:"fqqstring3"},{token:"string",regex:p+'"(?=.)',next:"fqqstring"},{token:"string",regex:p+"'{3}",next:"fqstring3"},{token:"string",regex:p+"'(?=.)",next:"fqstring"},{token:"string",regex:v+'"{3}',next:"rfqqstring3"},{token:"string",regex:v+'"(?=.)',next:"rfqqstring"},{token:"string",regex:v+"'{3}",next:"rfqstring3"},{token:"string",regex:v+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:B},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:B},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:B},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:B},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:B},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:B},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:B},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:B},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+$+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:$},{token:"constant.numeric",regex:O+"[lL]\\b"},{token:"constant.numeric",regex:O+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:h,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};o.inherits(m,c),r.PythonHighlightRules=m}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(t,r,s){var o=t("../../lib/oop"),c=t("./fold_mode").FoldMode,m=r.FoldMode=function(u){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+u+")(?:\\s*)(?:#.*)?$")};o.inherits(m,c),(function(){this.getFoldWidgetRange=function(u,g,l){var h=u.getLine(l),d=h.match(this.foldingStartMarker);if(d)return d[1]?this.openingBracketBlock(u,d[1],l,d.index):d[2]?this.indentationBlock(u,l,d.index+d[2].length):this.indentationBlock(u,l)}}).call(m.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(t,r,s){var o=t("../lib/oop"),c=t("./text").Mode,m=t("./python_highlight_rules").PythonHighlightRules,u=t("./folding/pythonic").FoldMode,g=t("../range").Range,l=function(){this.HighlightRules=m,this.foldingRules=new u("\\:"),this.$behaviour=this.$defaultBehaviour};o.inherits(l,c),(function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function(d,f,p){var v=this.$getIndent(f),y=this.getTokenizer().getLineTokens(f,d),C=y.tokens;if(C.length&&C[C.length-1].type=="comment")return v;if(d=="start"){var k=f.match(/^.*[\{\(\[:]\s*$/);k&&(v+=p)}return v};var h={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(d,f,p){if(p!==`\r
`&&p!=="\r"&&p!==`
`)return!1;var v=this.getTokenizer().getLineTokens(f.trim(),d).tokens;if(!v)return!1;do var y=v.pop();while(y&&(y.type=="comment"||y.type=="text"&&y.value.match(/^\s+$/)));return y?y.type=="keyword"&&h[y.value]:!1},this.autoOutdent=function(d,f,p){p+=1;var v=this.$getIndent(f.getLine(p)),y=f.getTabString();v.slice(-y.length)==y&&f.remove(new g(p,v.length-y.length,p,v.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}).call(l.prototype),r.Mode=l}),function(){ace.require(["ace/mode/python"],function(t){n.exports=t})}()}(Og)),Og.exports}aF();var Dg={exports:{}},c_;function lF(){return c_||(c_=1,function(n,e){ace.define("ace/theme/github-css",["require","exports","module"],function(t,r,s){s.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],function(t,r,s){r.isDark=!1,r.cssClass="ace-github",r.cssText=t("./github-css");var o=t("../lib/dom");o.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/github"],function(t){n.exports=t})}()}(Dg)),Dg.exports}lF();var Ng={exports:{}},u_;function cF(){return u_||(u_=1,function(n,e){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(t,r,s){var o=t("./lib/dom"),c=t("./lib/oop"),m=t("./lib/event_emitter").EventEmitter,u=t("./lib/lang"),g=t("./range").Range,l=t("./range_list").RangeList,h=t("./keyboard/hash_handler").HashHandler,d=t("./tokenizer").Tokenizer,f=t("./clipboard"),p={CURRENT_WORD:function(E){return E.session.getTextRange(E.session.getWordRange())},SELECTION:function(E,_,I){var M=E.session.getTextRange();return I?M.replace(/\n\r?([ \t]*\S)/g,`
`+I+"$1"):M},CURRENT_LINE:function(E){return E.session.getLine(E.getCursorPosition().row)},PREV_LINE:function(E){return E.session.getLine(E.getCursorPosition().row-1)},LINE_INDEX:function(E){return E.getCursorPosition().row},LINE_NUMBER:function(E){return E.getCursorPosition().row+1},SOFT_TABS:function(E){return E.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(E){return E.session.getTabSize()},CLIPBOARD:function(E){return f.getText&&f.getText()},FILENAME:function(E){return/[^/\\]*$/.exec(this.FILEPATH(E))[0]},FILENAME_BASE:function(E){return/[^/\\]*$/.exec(this.FILEPATH(E))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(E){return this.FILEPATH(E).replace(/[^/\\]*$/,"")},FILEPATH:function(E){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(E){var _=E.session.$mode||{};return _.blockComment&&_.blockComment.start||""},BLOCK_COMMENT_END:function(E){var _=E.session.$mode||{};return _.blockComment&&_.blockComment.end||""},LINE_COMMENT:function(E){var _=E.session.$mode||{};return _.lineCommentStart||""},CURRENT_YEAR:v.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:v.bind(null,{year:"2-digit"}),CURRENT_MONTH:v.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:v.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:v.bind(null,{month:"short"}),CURRENT_DATE:v.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:v.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:v.bind(null,{weekday:"short"}),CURRENT_HOUR:v.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:v.bind(null,{minute:"2-digit"}),CURRENT_SECOND:v.bind(null,{second:"2-digit"})};p.SELECTED_TEXT=p.SELECTION;function v(E){var _=new Date().toLocaleString("en-us",E);return _.length==1?"0"+_:_}var y=function(){function E(){this.snippetMap={},this.snippetNameMap={},this.variables=p}return E.prototype.getTokenizer=function(){return E.$tokenizer||this.createTokenizer()},E.prototype.createTokenizer=function(){function _($){return $=$.substr(1),/^\d+$/.test($)?[{tabstopId:parseInt($,10)}]:[{text:$}]}function I($){return"(?:[^\\\\"+$+"]|\\\\.)"}var M={regex:"/("+I("/")+"+)/",onMatch:function($,B,T){var b=T[0];return b.fmtString=!0,b.guard=$.slice(1,-1),b.flag="",""},next:"formatString"};return E.$tokenizer=new d({start:[{regex:/\\./,onMatch:function($,B,T){var b=$[1];return(b=="}"&&T.length||"`$\\".indexOf(b)!=-1)&&($=b),[$]}},{regex:/}/,onMatch:function($,B,T){return[T.length?T.shift():$]}},{regex:/\$(?:\d+|\w+)/,onMatch:_},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function($,B,T){var b=_($.substr(1));return T.unshift(b[0]),b},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+I("\\|")+"*\\|",onMatch:function($,B,T){var b=$.slice(1,-1).replace(/\\[,|\\]|,/g,function(P){return P.length==2?P[1]:"\0"}).split("\0").map(function(P){return{value:P}});return T[0].choices=b,[b[0]]},next:"start"},M,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function($,B,T){return T.length&&T[0].expectElse?(T[0].expectElse=!1,T[0].ifEnd={elseEnd:T[0]},[T[0].ifEnd]):":"}},{regex:/\\./,onMatch:function($,B,T){var b=$[1];return b=="}"&&T.length||"`$\\".indexOf(b)!=-1?$=b:b=="n"?$=`
`:b=="t"?$="	":"ulULE".indexOf(b)!=-1&&($={changeCase:b,local:b>"a"}),[$]}},{regex:"/\\w*}",onMatch:function($,B,T){var b=T.shift();return b&&(b.flag=$.slice(1,-1)),this.next=b&&b.tabstopId?"start":"",[b||$]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function($,B,T){return[{text:$.slice(1)}]}},{regex:/\${\w+/,onMatch:function($,B,T){var b={text:$.slice(2)};return T.unshift(b),[b]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function($,B,T){var b=T.shift();return this.next=b&&b.tabstopId?"start":"",[b||$]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function($,B,T){var b=T[0];return b.formatFunction=$.slice(2,-1),[T.shift()]},next:"formatString"},M,{regex:/:[\?\-+]?/,onMatch:function($,B,T){$[1]=="+"&&(T[0].ifEnd=T[0]),$[1]=="?"&&(T[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),E.$tokenizer},E.prototype.tokenizeTmSnippet=function(_,I){return this.getTokenizer().getLineTokens(_,I).tokens.map(function(M){return M.value||M})},E.prototype.getVariableValue=function(_,I,M){if(/^\d+$/.test(I))return(this.variables.__||{})[I]||"";if(/^[A-Z]\d+$/.test(I))return(this.variables[I[0]+"__"]||{})[I.substr(1)]||"";if(I=I.replace(/^TM_/,""),!this.variables.hasOwnProperty(I))return"";var $=this.variables[I];return typeof $=="function"&&($=this.variables[I](_,I,M)),$??""},E.prototype.tmStrFormat=function(_,I,M){if(!I.fmt)return _;var $=I.flag||"",B=I.guard;B=new RegExp(B,$.replace(/[^gim]/g,""));var T=typeof I.fmt=="string"?this.tokenizeTmSnippet(I.fmt,"formatString"):I.fmt,b=this,P=_.replace(B,function(){var N=b.variables.__;b.variables.__=[].slice.call(arguments);for(var z=b.resolveVariables(T,M),q="E",K=0;K<z.length;K++){var J=z[K];if(typeof J=="object")if(z[K]="",J.changeCase&&J.local){var Q=z[K+1];Q&&typeof Q=="string"&&(J.changeCase=="u"?z[K]=Q[0].toUpperCase():z[K]=Q[0].toLowerCase(),z[K+1]=Q.substr(1))}else J.changeCase&&(q=J.changeCase);else q=="U"?z[K]=J.toUpperCase():q=="L"&&(z[K]=J.toLowerCase())}return b.variables.__=N,z.join("")});return P},E.prototype.tmFormatFunction=function(_,I,M){return I.formatFunction=="upcase"?_.toUpperCase():I.formatFunction=="downcase"?_.toLowerCase():_},E.prototype.resolveVariables=function(_,I){for(var M=[],$="",B=!0,T=0;T<_.length;T++){var b=_[T];if(typeof b=="string"){M.push(b),b==`
`?(B=!0,$=""):B&&($=/^\t*/.exec(b)[0],B=/\S/.test(b));continue}if(b){if(B=!1,b.fmtString){var P=_.indexOf(b,T+1);P==-1&&(P=_.length),b.fmt=_.slice(T+1,P),T=P}if(b.text){var N=this.getVariableValue(I,b.text,$)+"";b.fmtString&&(N=this.tmStrFormat(N,b,I)),b.formatFunction&&(N=this.tmFormatFunction(N,b,I)),N&&!b.ifEnd?(M.push(N),z(b)):!N&&b.ifEnd&&z(b.ifEnd)}else b.elseEnd?z(b.elseEnd):(b.tabstopId!=null||b.changeCase!=null)&&M.push(b)}}function z(q){var K=_.indexOf(q,T+1);K!=-1&&(T=K)}return M},E.prototype.getDisplayTextForSnippet=function(_,I){var M=C.call(this,_,I);return M.text},E.prototype.insertSnippetForSelection=function(_,I,M){M===void 0&&(M={});var $=C.call(this,_,I,M),B=_.getSelectionRange(),T=_.session.replace(B,$.text),b=new k(_),P=_.inVirtualSelectionMode&&_.selection.index;b.addTabstops($.tabstops,B.start,T,P)},E.prototype.insertSnippet=function(_,I,M){M===void 0&&(M={});var $=this;if(_.inVirtualSelectionMode)return $.insertSnippetForSelection(_,I,M);_.forEachSelection(function(){$.insertSnippetForSelection(_,I,M)},null,{keepOrder:!0}),_.tabstopManager&&_.tabstopManager.tabNext()},E.prototype.$getScope=function(_){var I=_.session.$mode.$id||"";if(I=I.split("/").pop(),I==="html"||I==="php"){I==="php"&&!_.session.$mode.inlinePhp&&(I="html");var M=_.getCursorPosition(),$=_.session.getState(M.row);typeof $=="object"&&($=$[0]),$.substring&&($.substring(0,3)=="js-"?I="javascript":$.substring(0,4)=="css-"?I="css":$.substring(0,4)=="php-"&&(I="php"))}return I},E.prototype.getActiveScopes=function(_){var I=this.$getScope(_),M=[I],$=this.snippetMap;return $[I]&&$[I].includeScopes&&M.push.apply(M,$[I].includeScopes),M.push("_"),M},E.prototype.expandWithTab=function(_,I){var M=this,$=_.forEachSelection(function(){return M.expandSnippetForSelection(_,I)},null,{keepOrder:!0});return $&&_.tabstopManager&&_.tabstopManager.tabNext(),$},E.prototype.expandSnippetForSelection=function(_,I){var M=_.getCursorPosition(),$=_.session.getLine(M.row),B=$.substring(0,M.column),T=$.substr(M.column),b=this.snippetMap,P;return this.getActiveScopes(_).some(function(N){var z=b[N];return z&&(P=this.findMatchingSnippet(z,B,T)),!!P},this),P?(I&&I.dryRun||(_.session.doc.removeInLine(M.row,M.column-P.replaceBefore.length,M.column+P.replaceAfter.length),this.variables.M__=P.matchBefore,this.variables.T__=P.matchAfter,this.insertSnippetForSelection(_,P.content),this.variables.M__=this.variables.T__=null),!0):!1},E.prototype.findMatchingSnippet=function(_,I,M){for(var $=_.length;$--;){var B=_[$];if(!(B.startRe&&!B.startRe.test(I))&&!(B.endRe&&!B.endRe.test(M))&&!(!B.startRe&&!B.endRe))return B.matchBefore=B.startRe?B.startRe.exec(I):[""],B.matchAfter=B.endRe?B.endRe.exec(M):[""],B.replaceBefore=B.triggerRe?B.triggerRe.exec(I)[0]:"",B.replaceAfter=B.endTriggerRe?B.endTriggerRe.exec(M)[0]:"",B}},E.prototype.register=function(_,I){var M=this.snippetMap,$=this.snippetNameMap,B=this;_||(_=[]);function T(N){return N&&!/^\^?\(.*\)\$?$|^\\b$/.test(N)&&(N="(?:"+N+")"),N||""}function b(N,z,q){return N=T(N),z=T(z),N=z+N,N&&N[N.length-1]!="$"&&(N=N+"$"),new RegExp(N)}function P(N){N.scope||(N.scope=I||"_"),I=N.scope,M[I]||(M[I]=[],$[I]={});var z=$[I];if(N.name){var q=z[N.name];q&&B.unregister(q),z[N.name]=N}M[I].push(N),N.prefix&&(N.tabTrigger=N.prefix),!N.content&&N.body&&(N.content=Array.isArray(N.body)?N.body.join(`
`):N.body),N.tabTrigger&&!N.trigger&&(!N.guard&&/^\w/.test(N.tabTrigger)&&(N.guard="\\b"),N.trigger=u.escapeRegExp(N.tabTrigger)),!(!N.trigger&&!N.guard&&!N.endTrigger&&!N.endGuard)&&(N.startRe=b(N.trigger,N.guard),N.triggerRe=new RegExp(N.trigger),N.endRe=b(N.endTrigger,N.endGuard),N.endTriggerRe=new RegExp(N.endTrigger))}Array.isArray(_)?_.forEach(P):Object.keys(_).forEach(function(N){P(_[N])}),this._signal("registerSnippets",{scope:I})},E.prototype.unregister=function(_,I){var M=this.snippetMap,$=this.snippetNameMap;function B(T){var b=$[T.scope||I];if(b&&b[T.name]){delete b[T.name];var P=M[T.scope||I],N=P&&P.indexOf(T);N>=0&&P.splice(N,1)}}_.content?B(_):Array.isArray(_)&&_.forEach(B)},E.prototype.parseSnippetFile=function(_){_=_.replace(/\r/g,"");for(var I=[],M={},$=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,B;B=$.exec(_);){if(B[1])try{M=JSON.parse(B[1]),I.push(M)}catch{}if(B[4])M.content=B[4].replace(/^\t/gm,""),I.push(M),M={};else{var T=B[2],b=B[3];if(T=="regex"){var P=/\/((?:[^\/\\]|\\.)*)|$/g;M.guard=P.exec(b)[1],M.trigger=P.exec(b)[1],M.endTrigger=P.exec(b)[1],M.endGuard=P.exec(b)[1]}else T=="snippet"?(M.tabTrigger=b.match(/^\S*/)[0],M.name||(M.name=b)):T&&(M[T]=b)}}return I},E.prototype.getSnippetByName=function(_,I){var M=this.snippetNameMap,$;return this.getActiveScopes(I).some(function(B){var T=M[B];return T&&($=T[_]),!!$},this),$},E}();c.implement(y.prototype,m);var C=function(E,_,I){I===void 0&&(I={});var M=E.getCursorPosition(),$=E.session.getLine(M.row),B=E.session.getTabString(),T=$.match(/^\s*/)[0];M.column<T.length&&(T=T.slice(0,M.column)),_=_.replace(/\r/g,"");var b=this.tokenizeTmSnippet(_);b=this.resolveVariables(b,E),b=b.map(function(oe){return oe==`
`&&!I.excludeExtraIndent?oe+T:typeof oe=="string"?oe.replace(/\t/g,B):oe});var P=[];b.forEach(function(oe,pe){if(typeof oe=="object"){var Ee=oe.tabstopId,me=P[Ee];if(me||(me=P[Ee]=[],me.index=Ee,me.value="",me.parents={}),me.indexOf(oe)===-1){oe.choices&&!me.choices&&(me.choices=oe.choices),me.push(oe);var Ae=b.indexOf(oe,pe+1);if(Ae!==-1){var $e=b.slice(pe+1,Ae),Qe=$e.some(function(ut){return typeof ut=="object"});Qe&&!me.value?me.value=$e:$e.length&&(!me.value||typeof me.value!="string")&&(me.value=$e.join(""))}}}}),P.forEach(function(oe){oe.length=0});var N={};function z(oe){for(var pe=[],Ee=0;Ee<oe.length;Ee++){var me=oe[Ee];if(typeof me=="object"){if(N[me.tabstopId])continue;var Ae=oe.lastIndexOf(me,Ee-1);me=pe[Ae]||{tabstopId:me.tabstopId}}pe[Ee]=me}return pe}for(var q=0;q<b.length;q++){var K=b[q];if(typeof K=="object"){var J=K.tabstopId,Q=P[J],U=b.indexOf(K,q+1);if(N[J]){N[J]===K&&(delete N[J],Object.keys(N).forEach(function(oe){Q.parents[oe]=!0}));continue}N[J]=K;var re=Q.value;typeof re!="string"?re=z(re):K.fmt&&(re=this.tmStrFormat(re,K,E)),b.splice.apply(b,[q+1,Math.max(0,U-q)].concat(re,K)),Q.indexOf(K)===-1&&Q.push(K)}}var Z=0,ue=0,ce="";return b.forEach(function(oe){if(typeof oe=="string"){var pe=oe.split(`
`);pe.length>1?(ue=pe[pe.length-1].length,Z+=pe.length-1):ue+=oe.length,ce+=oe}else oe&&(oe.start?oe.end={row:Z,column:ue}:oe.start={row:Z,column:ue})}),{text:ce,tabstops:P,tokens:b}},k=function(){function E(_){if(this.index=0,this.ranges=[],this.tabstops=[],_.tabstopManager)return _.tabstopManager;_.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=u.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(_)}return E.prototype.attach=function(_){this.$openTabstops=null,this.selectedTabstop=null,this.editor=_,this.session=_.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},E.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},E.prototype.onChange=function(_){for(var I=_.action[0]=="r",M=this.selectedTabstop||{},$=M.parents||{},B=this.tabstops.slice(),T=0;T<B.length;T++){var b=B[T],P=b==M||$[b.index];if(b.rangeList.$bias=P?0:1,_.action=="remove"&&b!==M){var N=b.parents&&b.parents[M.index],z=b.rangeList.pointIndex(_.start,N);z=z<0?-z-1:z+1;var q=b.rangeList.pointIndex(_.end,N);q=q<0?-q-1:q-1;for(var K=b.rangeList.ranges.slice(z,q),J=0;J<K.length;J++)this.removeRange(K[J])}b.rangeList.$onChange(_)}var Q=this.session;!this.$inChange&&I&&Q.getLength()==1&&!Q.getValue()&&this.detach()},E.prototype.updateLinkedFields=function(){var _=this.selectedTabstop;if(!(!_||!_.hasLinkedRanges||!_.firstNonLinked)){this.$inChange=!0;for(var I=this.session,M=I.getTextRange(_.firstNonLinked),$=0;$<_.length;$++){var B=_[$];if(B.linked){var T=B.original,b=r.snippetManager.tmStrFormat(M,T,this.editor);I.replace(B,b)}}this.$inChange=!1}},E.prototype.onAfterExec=function(_){_.command&&!_.command.readOnly&&this.updateLinkedFields()},E.prototype.onChangeSelection=function(){if(this.editor){for(var _=this.editor.selection.lead,I=this.editor.selection.anchor,M=this.editor.selection.isEmpty(),$=0;$<this.ranges.length;$++)if(!this.ranges[$].linked){var B=this.ranges[$].contains(_.row,_.column),T=M||this.ranges[$].contains(I.row,I.column);if(B&&T)return}this.detach()}},E.prototype.onChangeSession=function(){this.detach()},E.prototype.tabNext=function(_){var I=this.tabstops.length,M=this.index+(_||1);M=Math.min(Math.max(M,1),I),M==I&&(M=0),this.selectTabstop(M),this.updateTabstopMarkers(),M===0&&this.detach()},E.prototype.selectTabstop=function(_){this.$openTabstops=null;var I=this.tabstops[this.index];if(I&&this.addTabstopMarkers(I),this.index=_,I=this.tabstops[this.index],!(!I||!I.length)){this.selectedTabstop=I;var M=I.firstNonLinked||I;if(I.choices&&(M.cursor=M.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(M);else{var $=this.editor.multiSelect;$.toSingleRange(M);for(var B=0;B<I.length;B++)I.hasLinkedRanges&&I[B].linked||$.addRange(I[B].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},E.prototype.addTabstops=function(_,I,M){var $=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!_[0]){var B=g.fromPoints(M,M);O(B.start,I),O(B.end,I),_[0]=[B],_[0].index=0}var T=this.index,b=[T+1,0],P=this.ranges,N=this.snippetId=(this.snippetId||0)+1;_.forEach(function(z,q){var K=this.$openTabstops[q]||z;K.snippetId=N;for(var J=0;J<z.length;J++){var Q=z[J],U=g.fromPoints(Q.start,Q.end||Q.start);F(U.start,I),F(U.end,I),U.original=Q,U.tabstop=K,P.push(U),K!=z?K.unshift(U):K[J]=U,Q.fmtString||K.firstNonLinked&&$?(U.linked=!0,K.hasLinkedRanges=!0):K.firstNonLinked||(K.firstNonLinked=U)}K.firstNonLinked||(K.hasLinkedRanges=!1),K===z&&(b.push(K),this.$openTabstops[q]=K),this.addTabstopMarkers(K),K.rangeList=K.rangeList||new l,K.rangeList.$bias=0,K.rangeList.addList(K)},this),b.length>2&&(this.tabstops.length&&b.push(b.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,b))},E.prototype.addTabstopMarkers=function(_){var I=this.session;_.forEach(function(M){M.markerId||(M.markerId=I.addMarker(M,"ace_snippet-marker","text"))})},E.prototype.removeTabstopMarkers=function(_){var I=this.session;_.forEach(function(M){I.removeMarker(M.markerId),M.markerId=null})},E.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var _=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&_--,this.tabstops.forEach(function(I){I.snippetId===_?this.addTabstopMarkers(I):this.removeTabstopMarkers(I)},this)}},E.prototype.removeRange=function(_){var I=_.tabstop.indexOf(_);I!=-1&&_.tabstop.splice(I,1),I=this.ranges.indexOf(_),I!=-1&&this.ranges.splice(I,1),I=_.tabstop.rangeList.ranges.indexOf(_),I!=-1&&_.tabstop.splice(I,1),this.session.removeMarker(_.markerId),_.tabstop.length||(I=this.tabstops.indexOf(_.tabstop),I!=-1&&this.tabstops.splice(I,1),this.tabstops.length||this.detach())},E}();k.prototype.keyboardHandler=new h,k.prototype.keyboardHandler.bindKeys({Tab:function(E){r.snippetManager&&r.snippetManager.expandWithTab(E)||(E.tabstopManager.tabNext(1),E.renderer.scrollCursorIntoView())},"Shift-Tab":function(E){E.tabstopManager.tabNext(-1),E.renderer.scrollCursorIntoView()},Esc:function(E){E.tabstopManager.detach()}});var F=function(E,_){E.row==0&&(E.column+=_.column),E.row+=_.row},O=function(E,_){E.row==_.row&&(E.column-=_.column),E.row-=_.row};o.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),r.snippetManager=new y;var L=t("./editor").Editor;(function(){this.insertSnippet=function(E,_){return r.snippetManager.insertSnippet(this,E,_)},this.expandSnippet=function(E){return r.snippetManager.expandWithTab(this,E)}}).call(L.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(t,r,s){var o=t("../virtual_renderer").VirtualRenderer,c=t("../editor").Editor,m=t("../range").Range,u=t("../lib/event"),g=t("../lib/lang"),l=t("../lib/dom"),h=t("../config").nls,d=t("./../lib/useragent"),f=function(F){return"suggest-aria-id:".concat(F)},p=d.isSafari?"menu":"listbox",v=d.isSafari?"menuitem":"option",y=d.isSafari?"aria-current":"aria-selected",C=function(F){var O=new o(F);O.$maxLines=4;var L=new c(O);return L.setHighlightActiveLine(!1),L.setShowPrintMargin(!1),L.renderer.setShowGutter(!1),L.renderer.setHighlightGutterLine(!1),L.$mouseHandler.$focusTimeout=0,L.$highlightTagPending=!0,L},k=function(){function F(O){var L=l.createElement("div"),E=C(L);O&&O.appendChild(L),L.style.display="none",E.renderer.content.style.cursor="default",E.renderer.setStyle("ace_autocomplete"),E.renderer.$textLayer.element.setAttribute("role",p),E.renderer.$textLayer.element.setAttribute("aria-roledescription",h("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),E.renderer.$textLayer.element.setAttribute("aria-label",h("autocomplete.popup.aria-label","Autocomplete suggestions")),E.renderer.textarea.setAttribute("aria-hidden","true"),E.setOption("displayIndentGuides",!1),E.setOption("dragDelay",150);var _=function(){};E.focus=_,E.$isFocused=!0,E.renderer.$cursorLayer.restartTimer=_,E.renderer.$cursorLayer.element.style.opacity="0",E.renderer.$maxLines=8,E.renderer.$keepTextAreaAtCursor=!1,E.setHighlightActiveLine(!1),E.session.highlight(""),E.session.$searchHighlight.clazz="ace_highlight-marker",E.on("mousedown",function(P){var N=P.getDocumentPosition();E.selection.moveToPosition(N),$.start.row=$.end.row=N.row,P.stop()});var I,M=new m(-1,0,-1,1/0),$=new m(-1,0,-1,1/0);$.id=E.session.addMarker($,"ace_active-line","fullLine"),E.setSelectOnHover=function(P){P?M.id&&(E.session.removeMarker(M.id),M.id=null):M.id=E.session.addMarker(M,"ace_line-hover","fullLine")},E.setSelectOnHover(!1),E.on("mousemove",function(P){if(!I){I=P;return}if(!(I.x==P.x&&I.y==P.y)){I=P,I.scrollTop=E.renderer.scrollTop,E.isMouseOver=!0;var N=I.getDocumentPosition().row;M.start.row!=N&&(M.id||E.setRow(N),T(N))}}),E.renderer.on("beforeRender",function(){if(I&&M.start.row!=-1){I.$pos=null;var P=I.getDocumentPosition().row;M.id||E.setRow(P),T(P,!0)}}),E.renderer.on("afterRender",function(){var P=E.getRow(),N=E.renderer.$textLayer,z=N.element.childNodes[P-N.config.firstRow],q=document.activeElement;if(z!==E.selectedNode&&E.selectedNode&&(l.removeCssClass(E.selectedNode,"ace_selected"),q.removeAttribute("aria-activedescendant"),E.selectedNode.removeAttribute(y),E.selectedNode.removeAttribute("id")),E.selectedNode=z,z){l.addCssClass(z,"ace_selected");var K=f(P);z.id=K,N.element.setAttribute("aria-activedescendant",K),q.setAttribute("aria-activedescendant",K),z.setAttribute("role",v),z.setAttribute("aria-roledescription",h("autocomplete.popup.item.aria-roledescription","item")),z.setAttribute("aria-label",E.getData(P).caption||E.getData(P).value),z.setAttribute("aria-setsize",E.data.length),z.setAttribute("aria-posinset",P+1),z.setAttribute("aria-describedby","doc-tooltip"),z.setAttribute(y,"true")}});var B=function(){T(-1)},T=function(P,N){P!==M.start.row&&(M.start.row=M.end.row=P,N||E.session._emit("changeBackMarker"),E._emit("changeHoverMarker"))};E.getHoveredRow=function(){return M.start.row},u.addListener(E.container,"mouseout",function(){E.isMouseOver=!1,B()}),E.on("hide",B),E.on("changeSelection",B),E.session.doc.getLength=function(){return E.data.length},E.session.doc.getLine=function(P){var N=E.data[P];return typeof N=="string"?N:N&&N.value||""};var b=E.session.bgTokenizer;return b.$tokenizeRow=function(P){var N=E.data[P],z=[];if(!N)return z;typeof N=="string"&&(N={value:N});var q=N.caption||N.value||N.name;function K(oe,pe){oe&&z.push({type:(N.className||"")+(pe||""),value:oe})}for(var J=q.toLowerCase(),Q=(E.filterText||"").toLowerCase(),U=0,re=0,Z=0;Z<=Q.length;Z++)if(Z!=re&&(N.matchMask&1<<Z||Z==Q.length)){var ue=Q.slice(re,Z);re=Z;var ce=J.indexOf(ue,U);if(ce==-1)continue;K(q.slice(U,ce),""),U=ce+ue.length,K(q.slice(ce,U),"completion-highlight")}return K(q.slice(U,q.length),""),z.push({type:"completion-spacer",value:" "}),N.meta&&z.push({type:"completion-meta",value:N.meta}),N.message&&z.push({type:"completion-message",value:N.message}),z},b.$updateOnChange=_,b.start=_,E.session.$computeWidth=function(){return this.screenWidth=0},E.isOpen=!1,E.isTopdown=!1,E.autoSelect=!0,E.filterText="",E.isMouseOver=!1,E.data=[],E.setData=function(P,N){E.filterText=N||"",E.setValue(g.stringRepeat(`
`,P.length),-1),E.data=P||[],E.setRow(0)},E.getData=function(P){return E.data[P]},E.getRow=function(){return $.start.row},E.setRow=function(P){P=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,P)),$.start.row!=P&&(E.selection.clearSelection(),$.start.row=$.end.row=P||0,E.session._emit("changeBackMarker"),E.moveCursorTo(P||0,0),E.isOpen&&E._signal("select"))},E.on("changeSelection",function(){E.isOpen&&E.setRow(E.selection.lead.row),E.renderer.scrollCursorIntoView()}),E.hide=function(){this.container.style.display="none",E.anchorPos=null,E.anchor=null,E.isOpen&&(E.isOpen=!1,this._signal("hide"))},E.tryShow=function(P,N,z,q){if(!q&&E.isOpen&&E.anchorPos&&E.anchor&&E.anchorPos.top===P.top&&E.anchorPos.left===P.left&&E.anchor===z)return!0;var K=this.container,J=window.innerHeight,Q=window.innerWidth,U=this.renderer,re=U.$maxLines*N*1.4,Z={top:0,bottom:0,left:0},ue=J-P.top-3*this.$borderSize-N,ce=P.top-3*this.$borderSize;z||(ce<=ue||ue>=re?z="bottom":z="top"),z==="top"?(Z.bottom=P.top-this.$borderSize,Z.top=Z.bottom-re):z==="bottom"&&(Z.top=P.top+N+this.$borderSize,Z.bottom=Z.top+re);var oe=Z.top>=0&&Z.bottom<=J;if(!q&&!oe)return!1;oe?U.$maxPixelHeight=null:z==="top"?U.$maxPixelHeight=ce:U.$maxPixelHeight=ue,z==="top"?(K.style.top="",K.style.bottom=J-Z.bottom+"px",E.isTopdown=!1):(K.style.top=Z.top+"px",K.style.bottom="",E.isTopdown=!0),K.style.display="";var pe=P.left;return pe+K.offsetWidth>Q&&(pe=Q-K.offsetWidth),K.style.left=pe+"px",K.style.right="",E.isOpen||(E.isOpen=!0,this._signal("show"),I=null),E.anchorPos=P,E.anchor=z,!0},E.show=function(P,N,z){this.tryShow(P,N,z?"bottom":void 0,!0)},E.goTo=function(P){var N=this.getRow(),z=this.session.getLength()-1;switch(P){case"up":N=N<=0?z:N-1;break;case"down":N=N>=z?-1:N+1;break;case"start":N=0;break;case"end":N=z;break}this.setRow(N)},E.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},E.$imageSize=0,E.$borderSize=1,E}return F}();l.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),r.AcePopup=k,r.$singleLineEditor=C,r.getAriaId=f}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(t,r,s){var o=function(){function c(m){this.editor=m,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return c.prototype.setScreenReaderContent=function(m){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var g=this.popup.getRow(),l=this.popup.renderer.$textLayer,h=l.element.childNodes[g-l.config.firstRow];if(h){for(var d="doc-tooltip ",f=0;f<this._lines.length;f++)d+="ace-inline-screenreader-line-".concat(f," ");h.setAttribute("aria-describedby",d)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=m.split(/\r\n|\r|\n/);var u=this.createCodeBlock();this.screenReaderDiv.appendChild(u)},c.prototype.destroy=function(){this.screenReaderDiv.remove()},c.prototype.createCodeBlock=function(){var m=document.createElement("pre");m.setAttribute("id","ace-inline-screenreader");for(var u=0;u<this._lines.length;u++){var g=document.createElement("code");g.setAttribute("id","ace-inline-screenreader-line-".concat(u));var l=document.createTextNode(this._lines[u]);g.appendChild(l),m.appendChild(g)}return m},c}();r.AceInlineScreenReader=o}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(t,r,s){var o=t("../snippets").snippetManager,c=t("./inline_screenreader").AceInlineScreenReader,m=function(){function u(){this.editor=null}return u.prototype.show=function(g,l,h){if(h=h||"",g&&this.editor&&this.editor!==g&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!g||!l)return!1;this.inlineScreenReader||(this.inlineScreenReader=new c(g));var d=l.snippet?o.getDisplayTextForSnippet(g,l.snippet):l.value;return l.hideInlinePreview||!d||!d.startsWith(h)?!1:(this.editor=g,this.inlineScreenReader.setScreenReaderContent(d),d=d.slice(h.length),d===""?g.removeGhostText():g.setGhostText(d),!0)},u.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},u.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},u.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},u}();r.AceInline=m}),ace.define("ace/autocomplete/util",["require","exports","module"],function(t,r,s){r.parForEach=function(c,m,u){var g=0,l=c.length;l===0&&u();for(var h=0;h<l;h++)m(c[h],function(d,f){g++,g===l&&u(d,f)})};var o=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;r.retrievePrecedingIdentifier=function(c,m,u){u=u||o;for(var g=[],l=m-1;l>=0&&u.test(c[l]);l--)g.push(c[l]);return g.reverse().join("")},r.retrieveFollowingIdentifier=function(c,m,u){u=u||o;for(var g=[],l=m;l<c.length&&u.test(c[l]);l++)g.push(c[l]);return g},r.getCompletionPrefix=function(c){var m=c.getCursorPosition(),u=c.session.getLine(m.row),g;return c.completers.forEach((function(l){l.identifierRegexps&&l.identifierRegexps.forEach((function(h){!g&&h&&(g=this.retrievePrecedingIdentifier(u,m.column,h))}).bind(this))}).bind(this)),g||this.retrievePrecedingIdentifier(u,m.column)},r.triggerAutocomplete=function(c,u){var u=u??c.session.getPrecedingCharacter();return c.completers.some(function(g){if(g.triggerCharacters&&Array.isArray(g.triggerCharacters))return g.triggerCharacters.includes(u)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(t,r,s){var o=t("./keyboard/hash_handler").HashHandler,c=t("./autocomplete/popup").AcePopup,m=t("./autocomplete/inline").AceInline,u=t("./autocomplete/popup").getAriaId,g=t("./autocomplete/util"),l=t("./lib/lang"),h=t("./lib/dom"),d=t("./snippets").snippetManager,f=t("./config"),p=t("./lib/event"),v=t("./lib/scroll").preventParentScroll,y=function(O,L){L.completer&&L.completer.destroy()},C=function(){function O(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new o,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=l.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=l.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=l.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=l.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=l.delayedCall((function(){var L=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!L||this.editor.completers.length===0||(this.completions=new F(O.completionsForLoading),this.openPopup(this.editor,L.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(O,"completionsForLoading",{get:function(){return[{caption:f.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),O.prototype.$init=function(){return this.popup=new c(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(L){this.insertMatch(),L.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),p.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},O.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new m,this.inlineRenderer},O.prototype.getPopup=function(){return this.popup||this.$init()},O.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},O.prototype.$seen=function(L){!this.hasSeen.has(L)&&L&&L.completer&&L.completer.onSeen&&typeof L.completer.onSeen=="function"&&(L.completer.onSeen(this.editor,L),this.hasSeen.add(L))},O.prototype.$onPopupChange=function(L){if(this.inlineRenderer&&this.inlineEnabled){var E=L?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(E),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},O.prototype.$updateGhostText=function(L){var E=this.base.row,_=this.base.column,I=this.editor.getCursorPosition().column,M=this.editor.session.getLine(E).slice(_,I);this.inlineRenderer.show(this.editor,L,M)?this.$seen(L):this.inlineRenderer.hide()},O.prototype.$onPopupRender=function(){var L=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var E=this.popup.getFirstVisibleRow();E<=this.popup.getLastVisibleRow();E++){var _=this.popup.getData(E);_&&(!L||_.hideInlinePreview)&&this.$seen(_)}},O.prototype.$onPopupShow=function(L){this.$onPopupChange(L),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},O.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var L=this.editor.container.parentNode,E=[];L;)E.push(L),L.addEventListener("scroll",this.onLayoutChange,{passive:!0}),L=L.parentNode;this.$elements=E}},O.prototype.unObserveLayoutChanges=function(){var L=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(E){E.removeEventListener("scroll",L.onLayoutChange,{passive:!0})}),this.$elements=null},O.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},O.prototype.$updatePopupPosition=function(){var L=this.editor,E=L.renderer,_=E.layerConfig.lineHeight,I=E.$cursorLayer.getPixelPosition(this.base,!0);I.left-=this.popup.getTextLeftOffset();var M=L.container.getBoundingClientRect();I.top+=M.top-E.layerConfig.offset,I.left+=M.left-L.renderer.scrollLeft,I.left+=E.gutterWidth;var $={top:I.top,left:I.left};E.$ghostText&&E.$ghostTextWidget&&this.base.row===E.$ghostText.position.row&&($.top+=E.$ghostTextWidget.el.offsetHeight);var B=L.container.getBoundingClientRect().bottom-_,T=B<$.top?{top:B,left:$.left}:$;this.popup.tryShow(T,_,"bottom")||this.popup.tryShow(I,_,"top")||this.popup.show(I,_)},O.prototype.openPopup=function(L,E,_){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var I=this.popup.getRow(),M=this.popup.data[I];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:u(this.popup.getRow()),inline:this.inlineEnabled}),L.keyBinding.addKeyboardHandler(this.keyboardHandler);var $;this.stickySelection&&($=this.popup.data.indexOf(M)),(!$||$===-1)&&($=0),this.popup.setRow(this.autoSelect?$:-1),$===I&&M!==this.completions.filtered[$]&&this.$onPopupChange();var B=this.inlineRenderer&&this.inlineEnabled;if($===I&&B){var T=this.popup.getData(this.popup.getRow());this.$updateGhostText(T)}_||(this.popup.setTheme(L.getTheme()),this.popup.setFontSize(L.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},O.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},O.prototype.changeListener=function(L){var E=this.editor.selection.lead;(E.row!=this.base.row||E.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},O.prototype.blurListener=function(L){var E=document.activeElement,_=this.editor.textInput.getElement(),I=L.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(L.relatedTarget),M=this.popup&&this.popup.container;E!=_&&E.parentNode!=M&&!I&&E!=this.tooltipNode&&L.relatedTarget!=_&&this.detach()},O.prototype.mousedownListener=function(L){this.detach()},O.prototype.mousewheelListener=function(L){this.popup&&!this.popup.isMouseOver&&this.detach()},O.prototype.mouseOutListener=function(L){this.popup.isOpen&&this.$updatePopupPosition()},O.prototype.goTo=function(L){this.popup.goTo(L)},O.prototype.insertMatch=function(L,E){if(L||(L=this.popup.getData(this.popup.getRow())),!L)return!1;if(L.value==="")return this.detach();var _=this.completions,I=this.getCompletionProvider().insertMatch(this.editor,L,_.filterText,E);return this.completions==_&&this.detach(),I},O.prototype.showPopup=function(L,E){this.editor&&this.detach(),this.activated=!0,this.editor=L,L.completer!=this&&(L.completer&&L.completer.detach(),L.completer=this),L.on("changeSelection",this.changeListener),L.on("blur",this.blurListener),L.on("mousedown",this.mousedownListener),L.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,E)},O.prototype.getCompletionProvider=function(L){return this.completionProvider||(this.completionProvider=new k(L)),this.completionProvider},O.prototype.gatherCompletions=function(L,E){return this.getCompletionProvider().gatherCompletions(L,E)},O.prototype.updateCompletions=function(L,E){if(L&&this.base&&this.completions){var I=this.editor.getCursorPosition(),M=this.editor.session.getTextRange({start:this.base,end:I});if(M==this.completions.filterText)return;if(this.completions.setFilter(M),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==M&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,M,L);return}if(E&&E.matches){var I=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(I.row,I.column),this.base.$insertRight=!0,this.completions=new F(E.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",L)}var _=this.editor.getSession(),I=this.editor.getCursorPosition(),M=g.getCompletionPrefix(this.editor);this.base=_.doc.createAnchor(I.row,I.column-M.length),this.base.$insertRight=!0;var $={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:M,pos:I}).provideCompletions(this.editor,$,(function(B,T,b){var P=T.filtered,N=g.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),b){if(!P.length){var z=!this.autoShown&&this.emptyMessage;if(typeof z=="function"&&(z=this.emptyMessage(N)),z){var q=[{caption:z,value:""}];this.completions=new F(q),this.openPopup(this.editor,N,L),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(P.length==1&&P[0].value==N&&!P[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&P.length==1)return this.insertMatch(P[0])}this.completions=!b&&this.showLoadingState?new F(O.completionsForLoading.concat(P),T.filterText):T,this.openPopup(this.editor,N,L),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!b)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},O.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},O.prototype.updateDocTooltip=function(){var L=this.popup,E=this.completions.filtered,_=E&&(E[L.getHoveredRow()]||E[L.getRow()]),I=null;if(!_||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var M=this.editor.completers.length,$=0;$<M;$++){var B=this.editor.completers[$];if(B.getDocTooltip&&_.completerId===B.id){I=B.getDocTooltip(_);break}}if(!I&&typeof _!="string"&&(I=_),typeof I=="string"&&(I={docText:I}),!I||!(I.docHTML||I.docText))return this.hideDocTooltip();this.showDocTooltip(I)},O.prototype.showDocTooltip=function(L){this.tooltipNode||(this.tooltipNode=h.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",v));var E=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(E.isDark?"ace_dark ":"")+(E.cssClass||"");var _=this.tooltipNode;L.docHTML?_.innerHTML=L.docHTML:L.docText&&(_.textContent=L.docText),_.parentNode||this.popup.container.appendChild(this.tooltipNode);var I=this.popup,M=I.container.getBoundingClientRect();_.style.top=I.container.style.top,_.style.bottom=I.container.style.bottom,_.style.display="block",window.innerWidth-M.right<320?M.left<320?I.isTopdown?(_.style.top=M.bottom+"px",_.style.left=M.left+"px",_.style.right="",_.style.bottom=""):(_.style.top=I.container.offsetTop-_.offsetHeight+"px",_.style.left=M.left+"px",_.style.right="",_.style.bottom=""):(_.style.right=window.innerWidth-M.left+"px",_.style.left=""):(_.style.left=M.right+1+"px",_.style.right="")},O.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var L=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==L&&this.editor.focus(),this.tooltipNode=null,L.parentNode&&L.parentNode.removeChild(L)}},O.prototype.onTooltipClick=function(L){for(var E=L.target;E&&E!=this.tooltipNode;){if(E.nodeName=="A"&&E.href){E.rel="noreferrer",E.target="_blank";break}E=E.parentNode}},O.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var L=this.popup.container;L&&L.parentNode&&L.parentNode.removeChild(L)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",y),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},O.for=function(L){return L.completer instanceof O||(L.completer&&(L.completer.destroy(),L.completer=null),f.get("sharedPopups")?(O.$sharedInstance||(O.$sharedInstance=new O),L.completer=O.$sharedInstance):(L.completer=new O,L.once("destroy",y))),L.completer},O}();C.prototype.commands={Up:function(O){O.completer.goTo("up")},Down:function(O){O.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(O){O.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(O){O.completer.goTo("end")},Esc:function(O){O.completer.detach()},Return:function(O){return O.completer.insertMatch()},"Shift-Return":function(O){O.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(O){var L=O.completer.insertMatch();if(!L&&!O.tabstopManager)O.completer.goTo("down");else return L},Backspace:function(O){O.execCommand("backspace");var L=g.getCompletionPrefix(O);!L&&O.completer&&O.completer.detach()},PageUp:function(O){O.completer.popup.gotoPageUp()},PageDown:function(O){O.completer.popup.gotoPageDown()}},C.startCommand={name:"startAutocomplete",exec:function(O,L){var E=C.for(O);E.autoInsert=!1,E.autoSelect=!0,E.autoShown=!1,E.showPopup(O,L),E.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var k=function(){function O(L){this.initialPosition=L,this.active=!0}return O.prototype.insertByIndex=function(L,E,_){return!this.completions||!this.completions.filtered?!1:this.insertMatch(L,this.completions.filtered[E],_)},O.prototype.insertMatch=function(L,E,_){if(!E)return!1;if(L.startOperation({command:{name:"insertMatch"}}),E.completer&&E.completer.insertMatch)E.completer.insertMatch(L,E);else{if(!this.completions)return!1;var I=this.completions.filterText.length,M=0;if(E.range&&E.range.start.row===E.range.end.row&&(I-=this.initialPosition.prefix.length,I+=this.initialPosition.pos.column-E.range.start.column,M+=E.range.end.column-this.initialPosition.pos.column),I||M){var $;L.selection.getAllRanges?$=L.selection.getAllRanges():$=[L.getSelectionRange()];for(var B=0,T;T=$[B];B++)T.start.column-=I,T.end.column+=M,L.session.remove(T)}E.snippet?d.insertSnippet(L,E.snippet):this.$insertString(L,E),E.completer&&E.completer.onInsert&&typeof E.completer.onInsert=="function"&&E.completer.onInsert(L,E),E.command&&E.command==="startAutocomplete"&&L.execCommand(E.command)}return L.endOperation(),!0},O.prototype.$insertString=function(L,E){var _=E.value||E;L.execCommand("insertstring",_)},O.prototype.gatherCompletions=function(L,E){var _=L.getSession(),I=L.getCursorPosition(),M=g.getCompletionPrefix(L),$=[];this.completers=L.completers;var B=L.completers.length;return L.completers.forEach(function(T,b){T.getCompletions(L,_,I,M,function(P,N){T.hideInlinePreview&&(N=N.map(function(z){return Object.assign(z,{hideInlinePreview:T.hideInlinePreview})})),!P&&N&&($=$.concat(N)),E(null,{prefix:g.getCompletionPrefix(L),matches:$,finished:--B===0})})}),!0},O.prototype.provideCompletions=function(L,E,_){var I=(function(T){var b=T.prefix,P=T.matches;this.completions=new F(P),E.exactMatch&&(this.completions.exactMatch=!0),E.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(b),(T.finished||this.completions.filtered.length)&&_(null,this.completions,T.finished)}).bind(this),M=!0,$=null;if(this.gatherCompletions(L,(function(T,b){if(this.active){T&&(_(T,[],!0),this.detach());var P=b.prefix;if(P.indexOf(b.prefix)===0){if(M){$=b;return}I(b)}}}).bind(this)),M=!1,$){var B=$;$=null,I(B)}},O.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(L){typeof L.cancel=="function"&&L.cancel()})},O}(),F=function(){function O(L,E){this.all=L,this.filtered=L,this.filterText=E||"",this.exactMatch=!1,this.ignoreCaption=!1}return O.prototype.setFilter=function(L){if(L.length>this.filterText&&L.lastIndexOf(this.filterText,0)===0)var E=this.filtered;else var E=this.all;this.filterText=L,E=this.filterCompletions(E,this.filterText),E=E.sort(function(I,M){return M.exactMatch-I.exactMatch||M.$score-I.$score||(I.caption||I.value).localeCompare(M.caption||M.value)});var _=null;E=E.filter(function(I){var M=I.snippet||I.caption||I.value;return M===_?!1:(_=M,!0)}),this.filtered=E},O.prototype.filterCompletions=function(L,E){var _=[],I=E.toUpperCase(),M=E.toLowerCase();e:for(var $=0,B;B=L[$];$++){var T=!this.ignoreCaption&&B.caption||B.value||B.snippet;if(T){var b=-1,P=0,N=0,z,q;if(this.exactMatch){if(E!==T.substr(0,E.length))continue e}else{var K=T.toLowerCase().indexOf(M);if(K>-1)N=K;else for(var J=0;J<E.length;J++){var Q=T.indexOf(M[J],b+1),U=T.indexOf(I[J],b+1);if(z=Q>=0&&(U<0||Q<U)?Q:U,z<0)continue e;q=z-b-1,q>0&&(b===-1&&(N+=10),N+=q,P=P|1<<J),b=z}}B.matchMask=P,B.exactMatch=N?0:1,B.$score=(B.score||0)-N,_.push(B)}}return _},O}();r.Autocomplete=C,r.CompletionProvider=k,r.FilteredList=F}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(t,r,s){var o=t("../range").Range,c=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function m(g,l){var h=g.getTextRange(o.fromPoints({row:0,column:0},l));return h.split(c).length-1}function u(g,l){var h=m(g,l),d=g.getValue().split(c),f=Object.create(null),p=d[h];return d.forEach(function(v,y){if(!(!v||v===p)){var C=Math.abs(h-y),k=d.length-C;f[v]?f[v]=Math.max(k,f[v]):f[v]=k}}),f}r.getCompletions=function(g,l,h,d,f){var p=u(l,h),v=Object.keys(p);f(null,v.map(function(y){return{caption:y,value:y,score:p[y],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(t,r,s){var o=t("../snippets").snippetManager,c=t("../autocomplete").Autocomplete,m=t("../config"),u=t("../lib/lang"),g=t("../autocomplete/util"),l=t("../autocomplete/text_completer"),h={getCompletions:function(I,M,$,B,T){if(M.$mode.completer)return M.$mode.completer.getCompletions(I,M,$,B,T);var b=I.session.getState($.row),P=M.$mode.getCompletions(b,M,$,B);P=P.map(function(N){return N.completerId=h.id,N}),T(null,P)},id:"keywordCompleter"},d=function(I){var M={};return I.replace(/\${(\d+)(:(.*?))?}/g,function($,B,T,b){return M[B]=b||""}).replace(/\$(\d+?)/g,function($,B){return M[B]})},f={getCompletions:function(I,M,$,B,T){var b=[],P=M.getTokenAt($.row,$.column);P&&P.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?b.push("html-tag"):b=o.getActiveScopes(I);var N=o.snippetMap,z=[];b.forEach(function(q){for(var K=N[q]||[],J=K.length;J--;){var Q=K[J],U=Q.name||Q.tabTrigger;U&&z.push({caption:U,snippet:Q.content,meta:Q.tabTrigger&&!Q.name?Q.tabTrigger+"⇥ ":"snippet",completerId:f.id})}},this),T(null,z)},getDocTooltip:function(I){I.snippet&&!I.docHTML&&(I.docHTML=["<b>",u.escapeHTML(I.caption),"</b>","<hr></hr>",u.escapeHTML(d(I.snippet))].join(""))},id:"snippetCompleter"},p=[f,l,h];r.setCompleters=function(I){p.length=0,I&&p.push.apply(p,I)},r.addCompleter=function(I){p.push(I)},r.textCompleter=l,r.keyWordCompleter=h,r.snippetCompleter=f;var v={name:"expandSnippet",exec:function(I){return o.expandWithTab(I)},bindKey:"Tab"},y=function(I,M){C(M.session.$mode)},C=function(I){typeof I=="string"&&(I=m.$modes[I]),I&&(o.files||(o.files={}),k(I.$id,I.snippetFileId),I.modes&&I.modes.forEach(C))},k=function(I,M){!M||!I||o.files[I]||(o.files[I]={},m.loadModule(M,function($){$&&(o.files[I]=$,!$.snippets&&$.snippetText&&($.snippets=o.parseSnippetFile($.snippetText)),o.register($.snippets||[],$.scope),$.includeScopes&&(o.snippetMap[$.scope].includeScopes=$.includeScopes,$.includeScopes.forEach(function(B){C("ace/mode/"+B)})))}))},F=function(I){var M=I.editor,$=M.completer&&M.completer.activated;if(I.command.name==="backspace")$&&!g.getCompletionPrefix(M)&&M.completer.detach();else if(I.command.name==="insertstring"&&!$){O=I;var B=I.editor.$liveAutocompletionDelay;B?L.delay(B):E(I)}},O,L=u.delayedCall(function(){E(O)},0),E=function(I){var M=I.editor,$=g.getCompletionPrefix(M),B=I.args,T=g.triggerAutocomplete(M,B);if($&&$.length>=M.$liveAutocompletionThreshold||T){var b=c.for(M);b.autoShown=!0,b.showPopup(M)}},_=t("../editor").Editor;t("../config").defineOptions(_.prototype,"editor",{enableBasicAutocompletion:{set:function(I){I?(this.completers||(this.completers=Array.isArray(I)?I:p),this.commands.addCommand(c.startCommand)):this.commands.removeCommand(c.startCommand)},value:!1},enableLiveAutocompletion:{set:function(I){I?(this.completers||(this.completers=Array.isArray(I)?I:p),this.commands.on("afterExec",F)):this.commands.off("afterExec",F)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(I){I?(this.commands.addCommand(v),this.on("changeMode",y),y(null,this)):(this.commands.removeCommand(v),this.off("changeMode",y))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(t){n.exports=t})}()}(Ng)),Ng.exports}cF();iF.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.4.12/src-noconflict/");const uF=({isOpen:n,onClose:e,onSubmit:t})=>{const[r,s]=se.useState(""),[o,c]=se.useState(""),[m,u]=se.useState(!1),g=async()=>{if(!r||!o){alert("請填寫所有必填欄位！");return}u(!0);try{const h=await oF(r,o);alert(h?`✅ 教材上傳成功！ID: ${h}`:"🔥 上傳失敗，請稍後再試！"),s(""),c(""),e()}catch(h){console.error("🔥 教材上傳失敗",h),alert("🔥 上傳失敗，請稍後再試！")}finally{u(!1)}},l=()=>{s(""),c(""),e()};return n?fe.jsxs(si,{show:n,onHide:l,centered:!0,className:"modal-lg",children:[fe.jsx(si.Header,{closeButton:!0,children:fe.jsx(si.Title,{children:"新增教材"})}),fe.jsx(si.Body,{children:fe.jsxs(Xt,{children:[fe.jsxs(Xt.Group,{className:"mb-3",children:[fe.jsx(Xt.Label,{children:"教材標題："}),fe.jsx(Xt.Control,{type:"text",value:r,onChange:h=>s(h.target.value),placeholder:"輸入教材標題",required:!0})]}),fe.jsxs(Xt.Group,{className:"mb-3",children:[fe.jsx(Xt.Label,{children:"教材內容 (Markdown)："}),fe.jsx(Xt.Control,{as:"textarea",rows:10,value:o,onChange:h=>c(h.target.value),placeholder:"輸入教材內容",required:!0})]})]})}),fe.jsxs(si.Footer,{children:[fe.jsx(Si,{variant:"secondary",onClick:l,disabled:m,children:"取消"}),fe.jsx(Si,{variant:"primary",onClick:g,disabled:m,children:m?"上傳中...":"上傳教材"})]})]}):null},hF=({isOpen:n,onClose:e})=>{const[t,r]=se.useState(""),[s,o]=se.useState(""),[c,m]=se.useState(""),[u,g]=se.useState([]),[l,h]=se.useState([]),[d,f]=se.useState(!1),p=se.useRef(null),v=se.useRef([]),y=async()=>{if(!t||!s||!c||u.length===0||l.length!==u.length){alert("請填寫所有必填欄位！");return}f(!0);try{const E=await sF(t,s,c,u,l);alert(`✅ 題目上傳成功！ID: ${E}`),r(""),o(""),m(""),g([]),h([]),e()}catch(E){alert("🔥 上傳失敗，請稍後再試！"),console.error(E)}finally{f(!1)}},C=E=>{if(p.current){const _=p.current.getSession().getDocument().getAllLines().filter(I=>I.trim()!=="");h(I=>{const M=[...I],$=_.length-M.length;if($>0)for(let B=0;B<$;B++)M.splice(E.start.row,0,"");else $<0&&M.splice(E.start.row+1,-$);return M}),g(_)}},k=(E,_)=>{h(I=>{const M=[...I];return M[E]=_,M})},F=E=>{p.current&&p.current.gotoLine(E+1,0,!0)},O=async()=>{try{const E=await fetch("YOUR_API_ENDPOINT",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({label:""})}),_=await E.json();E.ok?(h(I=>[...I,_.label]),g(I=>[...I,""])):alert("新增標籤失敗")}catch(E){console.error("新增標籤失敗",E),alert("新增標籤失敗")}},L=()=>{r(""),o(""),m(""),g([]),h([]),e()};return fe.jsxs(si,{show:n,onHide:L,centered:!0,className:"modal-lg",children:[fe.jsx(si.Header,{closeButton:!0,children:fe.jsx(si.Title,{children:"新增題目"})}),fe.jsx(si.Body,{children:fe.jsxs(Xt,{children:[fe.jsxs(Xt.Group,{className:"mb-3",children:[fe.jsx(Xt.Label,{children:"題目標題："}),fe.jsx(Xt.Control,{type:"text",value:t,onChange:E=>r(E.target.value),placeholder:"輸入題目標題",required:!0})]}),fe.jsxs(Xt.Group,{className:"mb-3",children:[fe.jsx(Xt.Label,{children:"題組類型："}),fe.jsx(Xt.Control,{type:"text",value:s,onChange:E=>o(E.target.value),placeholder:"輸入題組類型",required:!0})]}),fe.jsxs(Xt.Group,{className:"mb-3",children:[fe.jsx(Xt.Label,{children:"題目內容："}),fe.jsx(Xt.Control,{as:"textarea",rows:5,value:c,onChange:E=>m(E.target.value),placeholder:"輸入題目內容",required:!0})]}),fe.jsx("div",{className:"d-flex",children:fe.jsxs("div",{className:"flex-grow-1",children:[fe.jsx(Xt.Label,{children:"正確答案："}),fe.jsxs("div",{className:"d-flex",children:[fe.jsx(nF,{mode:"python",theme:"github",onLoad:E=>{p.current=E},onChange:(E,_)=>C(_),name:"python-editor",editorProps:{$blockScrolling:!0},width:"100%",height:"300px",fontSize:20,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:4,useSoftTabs:!0}}),fe.jsx("div",{className:"ms-3",style:{width:"200px"},children:u.map((E,_)=>fe.jsx(Xt.Group,{className:"mb-3",children:fe.jsx(Xt.Control,{type:"text",value:l[_]||"",onChange:I=>k(_,I.target.value),placeholder:`輸入第 ${_+1} 行標籤`,ref:I=>v.current[_]=I,onFocus:()=>F(_),required:!0})},`${E}-${_}`))})]})]})})]})}),fe.jsxs(si.Footer,{children:[fe.jsx("div",{className:"me-auto",children:fe.jsx(Si,{variant:"primary",onClick:O,children:"新增標籤"})}),fe.jsx(Si,{variant:"secondary",onClick:L,disabled:d,children:"取消"}),fe.jsx(Si,{variant:"primary",onClick:y,disabled:d,children:d?"上傳中...":"上傳題目"})]})]})};function Uv(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let dl=Uv();function IC(n){dl=n}const gu={exec:()=>null};function un(n,e=""){let t=typeof n=="string"?n:n.source;const r={replace:(s,o)=>{let c=typeof o=="string"?o:o.source;return c=c.replace(ai.caret,"$1"),t=t.replace(s,c),r},getRegex:()=>new RegExp(t,e)};return r}const ai={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},dF=/^(?:[ \t]*(?:\n|$))+/,fF=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,pF=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ju=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,gF=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,RC=/(?:[*+-]|\d{1,9}[.)])/,MC=un(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,RC).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Hv=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,mF=/^[^\n]+/,Wv=/(?!\s*\])(?:\\.|[^\[\]\\])+/,vF=un(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Wv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),yF=un(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,RC).getRegex(),Nf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Gv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,wF=un("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Gv).replace("tag",Nf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),LC=un(Hv).replace("hr",Ju).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nf).getRegex(),bF=un(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",LC).getRegex(),Kv={blockquote:bF,code:fF,def:vF,fences:pF,heading:gF,hr:Ju,html:wF,lheading:MC,list:yF,newline:dF,paragraph:LC,table:gu,text:mF},h_=un("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ju).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nf).getRegex(),_F={...Kv,table:h_,paragraph:un(Hv).replace("hr",Ju).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",h_).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Nf).getRegex()},EF={...Kv,html:un(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Gv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:gu,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:un(Hv).replace("hr",Ju).replace("heading",` *#{1,6} *[^
]`).replace("lheading",MC).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},$C=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,SF=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,PC=/^( {2,}|\\)\n(?!\s*$)/,TF=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ff=/[\p{P}\p{S}]/u,qv=/[\s\p{P}\p{S}]/u,OC=/[^\s\p{P}\p{S}]/u,CF=un(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,qv).getRegex(),xF=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,AF=un(/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,"u").replace(/punct/g,Ff).getRegex(),kF=un("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)","gu").replace(/notPunctSpace/g,OC).replace(/punctSpace/g,qv).replace(/punct/g,Ff).getRegex(),IF=un("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,OC).replace(/punctSpace/g,qv).replace(/punct/g,Ff).getRegex(),RF=un(/\\(punct)/,"gu").replace(/punct/g,Ff).getRegex(),MF=un(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),LF=un(Gv).replace("(?:-->|$)","-->").getRegex(),$F=un("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",LF).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Xd=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,PF=un(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Xd).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),DC=un(/^!?\[(label)\]\[(ref)\]/).replace("label",Xd).replace("ref",Wv).getRegex(),NC=un(/^!?\[(ref)\](?:\[\])?/).replace("ref",Wv).getRegex(),OF=un("reflink|nolink(?!\\()","g").replace("reflink",DC).replace("nolink",NC).getRegex(),Qv={_backpedal:gu,anyPunctuation:RF,autolink:MF,blockSkip:xF,br:PC,code:SF,del:gu,emStrongLDelim:AF,emStrongRDelimAst:kF,emStrongRDelimUnd:IF,escape:$C,link:PF,nolink:NC,punctuation:CF,reflink:DC,reflinkSearch:OF,tag:$F,text:TF,url:gu},DF={...Qv,link:un(/^!?\[(label)\]\((.*?)\)/).replace("label",Xd).getRegex(),reflink:un(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Xd).getRegex()},Em={...Qv,escape:un($C).replace("])","~|])").getRegex(),url:un(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},NF={...Em,br:un(PC).replace("{2,}","*").getRegex(),text:un(Em.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},sd={normal:Kv,gfm:_F,pedantic:EF},Zc={normal:Qv,gfm:Em,breaks:NF,pedantic:DF},FF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d_=n=>FF[n];function Fo(n,e){if(e){if(ai.escapeTest.test(n))return n.replace(ai.escapeReplace,d_)}else if(ai.escapeTestNoEncode.test(n))return n.replace(ai.escapeReplaceNoEncode,d_);return n}function f_(n){try{n=encodeURI(n).replace(ai.percentDecode,"%")}catch{return null}return n}function p_(n,e){var o;const t=n.replace(ai.findPipe,(c,m,u)=>{let g=!1,l=m;for(;--l>=0&&u[l]==="\\";)g=!g;return g?"|":" |"}),r=t.split(ai.splitPipe);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!((o=r.at(-1))!=null&&o.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(ai.slashPipe,"|");return r}function Jc(n,e,t){const r=n.length;if(r===0)return"";let s=0;for(;s<r&&(n.charAt(r-s-1)===e&&!t);)s++;return n.slice(0,r-s)}function VF(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return-1}function g_(n,e,t,r,s){const o=e.href,c=e.title||null,m=n[1].replace(s.other.outputLinkReplace,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;const u={type:"link",raw:t,href:o,title:c,text:m,tokens:r.inlineTokens(m)};return r.state.inLink=!1,u}return{type:"image",raw:t,href:o,title:c,text:m}}function BF(n,e,t){const r=n.match(t.other.indentCodeCompensation);if(r===null)return e;const s=r[1];return e.split(`
`).map(o=>{const c=o.match(t.other.beginningSpace);if(c===null)return o;const[m]=c;return m.length>=s.length?o.slice(s.length):o}).join(`
`)}class Zd{constructor(e){fn(this,"options");fn(this,"rules");fn(this,"lexer");this.options=e||dl}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Jc(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],s=BF(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){const s=Jc(r,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(r=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Jc(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let r=Jc(t[0],`
`).split(`
`),s="",o="";const c=[];for(;r.length>0;){let m=!1;const u=[];let g;for(g=0;g<r.length;g++)if(this.rules.other.blockquoteStart.test(r[g]))u.push(r[g]),m=!0;else if(!m)u.push(r[g]);else break;r=r.slice(g);const l=u.join(`
`),h=l.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${l}`:l,o=o?`${o}
${h}`:h;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,c,!0),this.lexer.state.top=d,r.length===0)break;const f=c.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const p=f,v=p.raw+`
`+r.join(`
`),y=this.blockquote(v);c[c.length-1]=y,s=s.substring(0,s.length-p.raw.length)+y.raw,o=o.substring(0,o.length-p.text.length)+y.text;break}else if((f==null?void 0:f.type)==="list"){const p=f,v=p.raw+`
`+r.join(`
`),y=this.list(v);c[c.length-1]=y,s=s.substring(0,s.length-f.raw.length)+y.raw,o=o.substring(0,o.length-p.raw.length)+y.raw,r=v.substring(c.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:c,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const s=r.length>1,o={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const c=this.rules.other.listItemRegex(r);let m=!1;for(;e;){let g=!1,l="",h="";if(!(t=c.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let d=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,k=>" ".repeat(3*k.length)),f=e.split(`
`,1)[0],p=!d.trim(),v=0;if(this.options.pedantic?(v=2,h=d.trimStart()):p?v=t[1].length+1:(v=t[2].search(this.rules.other.nonSpaceChar),v=v>4?1:v,h=d.slice(v),v+=t[1].length),p&&this.rules.other.blankLine.test(f)&&(l+=f+`
`,e=e.substring(f.length+1),g=!0),!g){const k=this.rules.other.nextBulletRegex(v),F=this.rules.other.hrRegex(v),O=this.rules.other.fencesBeginRegex(v),L=this.rules.other.headingBeginRegex(v),E=this.rules.other.htmlBeginRegex(v);for(;e;){const _=e.split(`
`,1)[0];let I;if(f=_,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),I=f):I=f.replace(this.rules.other.tabCharGlobal,"    "),O.test(f)||L.test(f)||E.test(f)||k.test(f)||F.test(f))break;if(I.search(this.rules.other.nonSpaceChar)>=v||!f.trim())h+=`
`+I.slice(v);else{if(p||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||O.test(d)||L.test(d)||F.test(d))break;h+=`
`+f}!p&&!f.trim()&&(p=!0),l+=_+`
`,e=e.substring(_.length+1),d=I.slice(v)}}o.loose||(m?o.loose=!0:this.rules.other.doubleBlankLine.test(l)&&(m=!0));let y=null,C;this.options.gfm&&(y=this.rules.other.listIsTask.exec(h),y&&(C=y[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:l,task:!!y,checked:C,loose:!1,text:h,tokens:[]}),o.raw+=l}const u=o.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let g=0;g<o.items.length;g++)if(this.lexer.state.top=!1,o.items[g].tokens=this.lexer.blockTokens(o.items[g].text,[]),!o.loose){const l=o.items[g].tokens.filter(d=>d.type==="space"),h=l.length>0&&l.some(d=>this.rules.other.anyLine.test(d.raw));o.loose=h}if(o.loose)for(let g=0;g<o.items.length;g++)o.items[g].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:s,title:o}}}table(e){var m;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const r=p_(t[1]),s=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(m=t[3])!=null&&m.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],c={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const u of s)this.rules.other.tableAlignRight.test(u)?c.align.push("right"):this.rules.other.tableAlignCenter.test(u)?c.align.push("center"):this.rules.other.tableAlignLeft.test(u)?c.align.push("left"):c.align.push(null);for(let u=0;u<r.length;u++)c.header.push({text:r[u],tokens:this.lexer.inline(r[u]),header:!0,align:c.align[u]});for(const u of o)c.rows.push(p_(u,c.header.length).map((g,l)=>({text:g,tokens:this.lexer.inline(g),header:!1,align:c.align[l]})));return c}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const c=Jc(r.slice(0,-1),"\\");if((r.length-c.length)%2===0)return}else{const c=VF(t[2],"()");if(c>-1){const u=(t[0].indexOf("!")===0?5:4)+t[1].length+c;t[2]=t[2].substring(0,c),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let s=t[2],o="";if(this.options.pedantic){const c=this.rules.other.pedanticHrefTitle.exec(s);c&&(s=c[1],o=c[3])}else o=t[3]?t[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?s=s.slice(1):s=s.slice(1,-1)),g_(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[s.toLowerCase()];if(!o){const c=r[0].charAt(0);return{type:"text",raw:c,text:c}}return g_(r,o,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const c=[...s[0]].length-1;let m,u,g=c,l=0;const h=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+c);(s=h.exec(t))!=null;){if(m=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!m)continue;if(u=[...m].length,s[3]||s[4]){g+=u;continue}else if((s[5]||s[6])&&c%3&&!((c+u)%3)){l+=u;continue}if(g-=u,g>0)continue;u=Math.min(u,u+g+l);const d=[...s[0]][0].length,f=e.slice(0,c+s.index+d+u);if(Math.min(c,u)%2){const v=f.slice(1,-1);return{type:"em",raw:f,text:v,tokens:this.lexer.inlineTokens(v)}}const p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(r),o=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return s&&o&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,s;return t[2]==="@"?(r=t[1],s="mailto:"+r):(r=t[1],s=r),{type:"link",raw:t[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let s,o;if(t[2]==="@")s=t[0],o="mailto:"+s;else{let c;do c=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(c!==t[0]);s=t[0],t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}}class to{constructor(e){fn(this,"tokens");fn(this,"options");fn(this,"state");fn(this,"tokenizer");fn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||dl,this.options.tokenizer=this.options.tokenizer||new Zd,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:ai,block:sd.normal,inline:Zc.normal};this.options.pedantic?(t.block=sd.pedantic,t.inline=Zc.pedantic):this.options.gfm&&(t.block=sd.gfm,this.options.breaks?t.inline=Zc.breaks:t.inline=Zc.gfm),this.tokenizer.rules=t}static get rules(){return{block:sd,inline:Zc}}static lex(e,t){return new to(t).lex(e)}static lexInline(e,t){return new to(t).inlineTokens(e)}lex(e){e=e.replace(ai.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){var s,o,c;for(this.options.pedantic&&(e=e.replace(ai.tabCharGlobal,"    ").replace(ai.spaceLine,""));e;){let m;if((o=(s=this.options.extensions)==null?void 0:s.block)!=null&&o.some(g=>(m=g.call({lexer:this},e,t))?(e=e.substring(m.raw.length),t.push(m),!0):!1))continue;if(m=this.tokenizer.space(e)){e=e.substring(m.raw.length);const g=t.at(-1);m.raw.length===1&&g!==void 0?g.raw+=`
`:t.push(m);continue}if(m=this.tokenizer.code(e)){e=e.substring(m.raw.length);const g=t.at(-1);(g==null?void 0:g.type)==="paragraph"||(g==null?void 0:g.type)==="text"?(g.raw+=`
`+m.raw,g.text+=`
`+m.text,this.inlineQueue.at(-1).src=g.text):t.push(m);continue}if(m=this.tokenizer.fences(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.heading(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.hr(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.blockquote(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.list(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.html(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.def(e)){e=e.substring(m.raw.length);const g=t.at(-1);(g==null?void 0:g.type)==="paragraph"||(g==null?void 0:g.type)==="text"?(g.raw+=`
`+m.raw,g.text+=`
`+m.raw,this.inlineQueue.at(-1).src=g.text):this.tokens.links[m.tag]||(this.tokens.links[m.tag]={href:m.href,title:m.title});continue}if(m=this.tokenizer.table(e)){e=e.substring(m.raw.length),t.push(m);continue}if(m=this.tokenizer.lheading(e)){e=e.substring(m.raw.length),t.push(m);continue}let u=e;if((c=this.options.extensions)!=null&&c.startBlock){let g=1/0;const l=e.slice(1);let h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},l),typeof h=="number"&&h>=0&&(g=Math.min(g,h))}),g<1/0&&g>=0&&(u=e.substring(0,g+1))}if(this.state.top&&(m=this.tokenizer.paragraph(u))){const g=t.at(-1);r&&(g==null?void 0:g.type)==="paragraph"?(g.raw+=`
`+m.raw,g.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=g.text):t.push(m),r=u.length!==e.length,e=e.substring(m.raw.length);continue}if(m=this.tokenizer.text(e)){e=e.substring(m.raw.length);const g=t.at(-1);(g==null?void 0:g.type)==="text"?(g.raw+=`
`+m.raw,g.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=g.text):t.push(m);continue}if(e){const g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}else throw new Error(g)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var m,u,g;let r=e,s=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o=!1,c="";for(;e;){o||(c=""),o=!1;let l;if((u=(m=this.options.extensions)==null?void 0:m.inline)!=null&&u.some(d=>(l=d.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const d=t.at(-1);l.type==="text"&&(d==null?void 0:d.type)==="text"?(d.raw+=l.raw,d.text+=l.text):t.push(l);continue}if(l=this.tokenizer.emStrong(e,r,c)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),t.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),t.push(l);continue}let h=e;if((g=this.options.extensions)!=null&&g.startInline){let d=1/0;const f=e.slice(1);let p;this.options.extensions.startInline.forEach(v=>{p=v.call({lexer:this},f),typeof p=="number"&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(h=e.substring(0,d+1))}if(l=this.tokenizer.inlineText(h)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(c=l.raw.slice(-1)),o=!0;const d=t.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=l.raw,d.text+=l.text):t.push(l);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}}class Jd{constructor(e){fn(this,"options");fn(this,"parser");this.options=e||dl}space(e){return""}code({text:e,lang:t,escaped:r}){var c;const s=(c=(t||"").match(ai.notSpaceStart))==null?void 0:c[0],o=e.replace(ai.endingNewline,"")+`
`;return s?'<pre><code class="language-'+Fo(s)+'">'+(r?o:Fo(o,!0))+`</code></pre>
`:"<pre><code>"+(r?o:Fo(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,r=e.start;let s="";for(let m=0;m<e.items.length;m++){const u=e.items[m];s+=this.listitem(u)}const o=t?"ol":"ul",c=t&&r!==1?' start="'+r+'"':"";return"<"+o+c+`>
`+s+"</"+o+`>
`}listitem(e){var r;let t="";if(e.task){const s=this.checkbox({checked:!!e.checked});e.loose?((r=e.tokens[0])==null?void 0:r.type)==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+Fo(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):t+=s+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let o=0;o<e.header.length;o++)r+=this.tablecell(e.header[o]);t+=this.tablerow({text:r});let s="";for(let o=0;o<e.rows.length;o++){const c=e.rows[o];r="";for(let m=0;m<c.length;m++)r+=this.tablecell(c[m]);s+=this.tablerow({text:r})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Fo(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){const s=this.parser.parseInline(r),o=f_(e);if(o===null)return s;e=o;let c='<a href="'+e+'"';return t&&(c+=' title="'+Fo(t)+'"'),c+=">"+s+"</a>",c}image({href:e,title:t,text:r}){const s=f_(e);if(s===null)return Fo(r);e=s;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${Fo(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Fo(e.text)}}class Yv{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class no{constructor(e){fn(this,"options");fn(this,"renderer");fn(this,"textRenderer");this.options=e||dl,this.options.renderer=this.options.renderer||new Jd,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Yv}static parse(e,t){return new no(t).parse(e)}static parseInline(e,t){return new no(t).parseInline(e)}parse(e,t=!0){var s,o;let r="";for(let c=0;c<e.length;c++){const m=e[c];if((o=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&o[m.type]){const g=m,l=this.options.extensions.renderers[g.type].call({parser:this},g);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(g.type)){r+=l||"";continue}}const u=m;switch(u.type){case"space":{r+=this.renderer.space(u);continue}case"hr":{r+=this.renderer.hr(u);continue}case"heading":{r+=this.renderer.heading(u);continue}case"code":{r+=this.renderer.code(u);continue}case"table":{r+=this.renderer.table(u);continue}case"blockquote":{r+=this.renderer.blockquote(u);continue}case"list":{r+=this.renderer.list(u);continue}case"html":{r+=this.renderer.html(u);continue}case"paragraph":{r+=this.renderer.paragraph(u);continue}case"text":{let g=u,l=this.renderer.text(g);for(;c+1<e.length&&e[c+1].type==="text";)g=e[++c],l+=`
`+this.renderer.text(g);t?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{const g='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(g),"";throw new Error(g)}}}return r}parseInline(e,t=this.renderer){var s,o;let r="";for(let c=0;c<e.length;c++){const m=e[c];if((o=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&o[m.type]){const g=this.options.extensions.renderers[m.type].call({parser:this},m);if(g!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(m.type)){r+=g||"";continue}}const u=m;switch(u.type){case"escape":{r+=t.text(u);break}case"html":{r+=t.html(u);break}case"link":{r+=t.link(u);break}case"image":{r+=t.image(u);break}case"strong":{r+=t.strong(u);break}case"em":{r+=t.em(u);break}case"codespan":{r+=t.codespan(u);break}case"br":{r+=t.br(u);break}case"del":{r+=t.del(u);break}case"text":{r+=t.text(u);break}default:{const g='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(g),"";throw new Error(g)}}}return r}}class mu{constructor(e){fn(this,"options");fn(this,"block");this.options=e||dl}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?to.lex:to.lexInline}provideParser(){return this.block?no.parse:no.parseInline}}fn(mu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class zF{constructor(...e){fn(this,"defaults",Uv());fn(this,"options",this.setOptions);fn(this,"parse",this.parseMarkdown(!0));fn(this,"parseInline",this.parseMarkdown(!1));fn(this,"Parser",no);fn(this,"Renderer",Jd);fn(this,"TextRenderer",Yv);fn(this,"Lexer",to);fn(this,"Tokenizer",Zd);fn(this,"Hooks",mu);this.use(...e)}walkTokens(e,t){var s,o;let r=[];for(const c of e)switch(r=r.concat(t.call(this,c)),c.type){case"table":{const m=c;for(const u of m.header)r=r.concat(this.walkTokens(u.tokens,t));for(const u of m.rows)for(const g of u)r=r.concat(this.walkTokens(g.tokens,t));break}case"list":{const m=c;r=r.concat(this.walkTokens(m.items,t));break}default:{const m=c;(o=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&o[m.type]?this.defaults.extensions.childTokens[m.type].forEach(u=>{const g=m[u].flat(1/0);r=r.concat(this.walkTokens(g,t))}):m.tokens&&(r=r.concat(this.walkTokens(m.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const s={...r};if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const c=t.renderers[o.name];c?t.renderers[o.name]=function(...m){let u=o.renderer.apply(this,m);return u===!1&&(u=c.apply(this,m)),u}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const c=t[o.level];c?c.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),s.extensions=t),r.renderer){const o=this.defaults.renderer||new Jd(this.defaults);for(const c in r.renderer){if(!(c in o))throw new Error(`renderer '${c}' does not exist`);if(["options","parser"].includes(c))continue;const m=c,u=r.renderer[m],g=o[m];o[m]=(...l)=>{let h=u.apply(o,l);return h===!1&&(h=g.apply(o,l)),h||""}}s.renderer=o}if(r.tokenizer){const o=this.defaults.tokenizer||new Zd(this.defaults);for(const c in r.tokenizer){if(!(c in o))throw new Error(`tokenizer '${c}' does not exist`);if(["options","rules","lexer"].includes(c))continue;const m=c,u=r.tokenizer[m],g=o[m];o[m]=(...l)=>{let h=u.apply(o,l);return h===!1&&(h=g.apply(o,l)),h}}s.tokenizer=o}if(r.hooks){const o=this.defaults.hooks||new mu;for(const c in r.hooks){if(!(c in o))throw new Error(`hook '${c}' does not exist`);if(["options","block"].includes(c))continue;const m=c,u=r.hooks[m],g=o[m];mu.passThroughHooks.has(c)?o[m]=l=>{if(this.defaults.async)return Promise.resolve(u.call(o,l)).then(d=>g.call(o,d));const h=u.call(o,l);return g.call(o,h)}:o[m]=(...l)=>{let h=u.apply(o,l);return h===!1&&(h=g.apply(o,l)),h}}s.hooks=o}if(r.walkTokens){const o=this.defaults.walkTokens,c=r.walkTokens;s.walkTokens=function(m){let u=[];return u.push(c.call(this,m)),o&&(u=u.concat(o.call(this,m))),u}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return to.lex(e,t??this.defaults)}parser(e,t){return no.parse(e,t??this.defaults)}parseMarkdown(e){return(r,s)=>{const o={...s},c={...this.defaults,...o},m=this.onError(!!c.silent,!!c.async);if(this.defaults.async===!0&&o.async===!1)return m(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));c.hooks&&(c.hooks.options=c,c.hooks.block=e);const u=c.hooks?c.hooks.provideLexer():e?to.lex:to.lexInline,g=c.hooks?c.hooks.provideParser():e?no.parse:no.parseInline;if(c.async)return Promise.resolve(c.hooks?c.hooks.preprocess(r):r).then(l=>u(l,c)).then(l=>c.hooks?c.hooks.processAllTokens(l):l).then(l=>c.walkTokens?Promise.all(this.walkTokens(l,c.walkTokens)).then(()=>l):l).then(l=>g(l,c)).then(l=>c.hooks?c.hooks.postprocess(l):l).catch(m);try{c.hooks&&(r=c.hooks.preprocess(r));let l=u(r,c);c.hooks&&(l=c.hooks.processAllTokens(l)),c.walkTokens&&this.walkTokens(l,c.walkTokens);let h=g(l,c);return c.hooks&&(h=c.hooks.postprocess(h)),h}catch(l){return m(l)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+Fo(r.message+"",!0)+"</pre>";return t?Promise.resolve(s):s}if(t)return Promise.reject(r);throw r}}}const rl=new zF;function an(n,e){return rl.parse(n,e)}an.options=an.setOptions=function(n){return rl.setOptions(n),an.defaults=rl.defaults,IC(an.defaults),an};an.getDefaults=Uv;an.defaults=dl;an.use=function(...n){return rl.use(...n),an.defaults=rl.defaults,IC(an.defaults),an};an.walkTokens=function(n,e){return rl.walkTokens(n,e)};an.parseInline=rl.parseInline;an.Parser=no;an.parser=no.parse;an.Renderer=Jd;an.TextRenderer=Yv;an.Lexer=to;an.lexer=to.lex;an.Tokenizer=Zd;an.Hooks=mu;an.parse=an;an.options;an.setOptions;an.use;an.walkTokens;an.parseInline;no.parse;to.lex;const jF=()=>{const[n,e]=se.useState(!1),[t,r]=se.useState(!1),[s,o]=se.useState(null),{lessons:c}=se.useContext(Fu),{userInfo:m}=wc(),u=f=>{console.log("New material:",f)},g=f=>{console.log("New exercise:",f)},l=f=>{console.log("Edit lesson",f)},h=async f=>{console.log("Delete lesson",f);try{await kC("lessons",f),console.log("Lesson deleted successfully")}catch(p){console.error("Failed to delete lesson:",p)}},d=f=>{o(s===f?null:f)};return!c||c.length===0?fe.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"載入中..."}):fe.jsxs("div",{className:"min-h-screen bg-gray-50",children:[fe.jsx("h1",{children:"教材列表"}),fe.jsxs("div",{className:"mx-auto",children:[(m==null?void 0:m.role)==="admin"&&fe.jsxs("div",{className:"flex gap-2 mt-4",children:[fe.jsx(Si,{onClick:()=>e(!0),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 me-2",children:"新增教材"}),fe.jsx(Si,{onClick:()=>r(!0),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"新增題目"})]}),fe.jsx("div",{id:"data-list",className:"mt-4",children:c.map(f=>fe.jsxs("div",{className:"lesson-item bg-gray-50 rounded-lg shadow-sm mb-2",children:[fe.jsxs(PS,{className:" display-flex p-3 hover:bg-gray-100 rounded-lg",onClick:()=>{d(f.id),window.scrollTo({top:0,behavior:"smooth"})},style:{cursor:"pointer"},children:[fe.jsx($d,{children:fe.jsx("span",{children:f.title})}),fe.jsx($d,{className:"d-flex justify-content-end",children:(m==null?void 0:m.role)==="admin"&&fe.jsxs("div",{className:"flex gap-2",children:[fe.jsx(Si,{variant:"secondary",size:"sm",onClick:p=>{p.stopPropagation(),l(f.id)},children:"編輯"}),fe.jsx(Si,{variant:"danger",className:"ms-2 ",size:"sm",onClick:p=>{p.stopPropagation(),h(f.id)},children:"刪除"})]})})]}),s===f.id&&fe.jsx("div",{className:"lesson-details p-4 border-t border-gray-200",children:fe.jsx("div",{className:"prose",dangerouslySetInnerHTML:{__html:an.parse(f.content)||"No description available"}})})]},f.id))}),fe.jsx(uF,{isOpen:n,onClose:()=>e(!1),onSubmit:u}),fe.jsx(hF,{isOpen:t,onClose:()=>r(!1),onSubmit:g})]})]})},UF=()=>{const n=Sv(),{quizs:e}=se.useContext(Fu),{userInfo:t}=wc(),[r,s]=se.useState(new Set),o=(h,d)=>{n(`/exercise/${h.id}`)},c=async h=>{console.log("Delete exercise",h);try{await kC("quiz",h),console.log("Exercise deleted successfully")}catch(d){console.error("Failed to delete exercise:",d)}},m=h=>{console.log("Edit exercise",h)},u=se.useMemo(()=>[...e].sort((d,f)=>{const p=new Date(d.createdAt).getTime(),v=new Date(f.createdAt).getTime();return p-v}).reduce((d,f)=>(d[f.tag]||(d[f.tag]=[]),d[f.tag].push(f),d),{}),[e]),g=h=>{s(d=>{const f=new Set(d);return f.has(h)?f.delete(h):f.add(h),f})},l=["範例","輸入輸出","條件判斷","迴圈"];return fe.jsxs(fe.Fragment,{children:[fe.jsx("h1",{children:"題目列表"}),fe.jsx("div",{children:fe.jsx("ul",{id:"data-list",className:"list-group",children:Object.entries(u).sort(([h],[d])=>{const f=l.indexOf(h),p=l.indexOf(d);return f===-1&&p===-1?h.localeCompare(d):f===-1?1:p===-1?-1:f-p}).map(([h,d])=>fe.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-sm",children:[fe.jsxs("div",{className:"tag-container",onClick:()=>g(h),children:[fe.jsx("span",{className:"tag-title",children:h}),fe.jsx("span",{className:`tag-icon ${r.has(h)?"rotate-180":""}`,children:"▼"})]}),r.has(h)&&fe.jsx("ul",{className:"list-none p-0 m-0 border-t border-gray-200",children:d.map(f=>fe.jsx("li",{className:"p-3 hover:bg-gray-100 cursor-pointer border-b border-gray-200 last:border-b-0",children:fe.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[fe.jsx("div",{className:"flex-grow-1",onClick:()=>o(f,u[h]),style:{cursor:"pointer"},children:f.title}),(t==null?void 0:t.role)==="admin"&&fe.jsxs("div",{className:"flex gap-2",children:[fe.jsx(Si,{variant:"secondary",size:"sm",onClick:p=>{p.stopPropagation(),m(f.id)},children:"編輯"}),fe.jsx(Si,{variant:"danger",className:"ms-2 ",size:"sm",onClick:p=>{p.stopPropagation(),c(f.id)},children:"刪除"})]})]})},f.id))})]},h))})})]})},HF=()=>fe.jsxs(v2,{children:[fe.jsx(au,{path:"/",element:fe.jsx(Z2,{})}),fe.jsx(au,{path:"/exercise/:id",element:fe.jsx(qN,{})}),fe.jsx(au,{path:"/list",element:fe.jsx(jF,{})}),fe.jsx(au,{path:"/ex_list",element:fe.jsx(UF,{})})]});function WF(){return fe.jsx(MR,{children:fe.jsx(IR,{children:fe.jsxs(z2,{basename:"/Client/",children:[fe.jsx(X2,{}),fe.jsx(xP,{}),fe.jsx("div",{children:fe.jsx(HF,{})})]})})})}F1.createRoot(document.getElementById("root")).render(fe.jsx(se.StrictMode,{children:fe.jsx(WF,{})}))});export default GF();
